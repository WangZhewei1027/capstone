<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Bubble Sort Visualizer — Interactive Demo</title>
    <style>
      :root {
        --bg: #0f1724;
        --panel: #0b1220;
        --accent: #60a5fa;
        --muted: #94a3b8;
        --good: #34d399;
        --danger: #fb7185;
        --glass: rgba(255, 255, 255, 0.03);
        --card-radius: 14px;
        --gap: 8px;
        --ui-h: 44px;
      }
      * {
        box-sizing: border-box;
        font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI",
          Roboto, "Helvetica Neue", Arial;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        background: linear-gradient(180deg, #071025 0%, #07121a 60%);
        color: #e6eef8;
      }
      .app {
        max-width: 1100px;
        margin: 28px auto;
        padding: 20px;
        border-radius: var(--card-radius);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          rgba(255, 255, 255, 0.01)
        );
        box-shadow: 0 6px 30px rgba(2, 6, 23, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.03);
      }
      header {
        display: flex;
        gap: 16px;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
      }
      header h1 {
        font-size: 20px;
        margin: 0;
        letter-spacing: -0.2px;
      }
      header p {
        margin: 0;
        color: var(--muted);
        font-size: 13px;
      }
      .controls {
        display: flex;
        gap: 12px;
        align-items: center;
        flex-wrap: wrap;
      }
      .control {
        background: var(--glass);
        padding: 8px;
        border-radius: 10px;
        display: flex;
        gap: 8px;
        align-items: center;
      }
      label {
        font-size: 12px;
        color: var(--muted);
        display: block;
      }
      input[type="range"] {
        accent-color: var(--accent);
      }
      button {
        height: var(--ui-h);
        min-width: 44px;
        padding: 8px 12px;
        border-radius: 10px;
        border: 0;
        background: linear-gradient(180deg, var(--accent), #2382d9);
        color: white;
        cursor: pointer;
        font-weight: 600;
        box-shadow: 0 6px 18px rgba(32, 124, 229, 0.12);
      }
      button.secondary {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.04);
        color: var(--muted);
        font-weight: 600;
        box-shadow: none;
      }
      .stats {
        display: flex;
        gap: 12px;
        align-items: center;
        color: var(--muted);
        font-size: 13px;
      }
      main {
        display: flex;
        gap: 18px;
        margin-top: 16px;
        align-items: flex-start;
      }
      .visual {
        flex: 1;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.01),
          rgba(255, 255, 255, 0)
        );
        padding: 16px;
        border-radius: 12px;
        min-height: 360px;
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.02);
      }
      .board {
        position: relative;
        height: 320px;
        width: 100%;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.002),
          rgba(255, 255, 255, 0)
        );
        border-radius: 8px;
        margin-top: 8px;
      }
      .bar {
        position: absolute;
        bottom: 8px;
        border-radius: 6px;
        width: 32px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        transition: left 300ms cubic-bezier(0.22, 0.9, 0.24, 1),
          height 300ms cubic-bezier(0.22, 0.9, 0.24, 1), transform 200ms ease;
        box-shadow: 0 6px 16px rgba(2, 6, 23, 0.5),
          inset 0 -10px 30px rgba(0, 0, 0, 0.25);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.06),
          rgba(0, 0, 0, 0.06)
        );
        overflow: hidden;
      }
      .bar .fill {
        width: 100%;
        border-radius: 6px;
        display: block;
        transform-origin: center bottom;
        height: 100%;
        background: linear-gradient(
          180deg,
          rgba(96, 165, 250, 0.9),
          rgba(37, 99, 235, 0.9)
        );
        transition: background 200ms;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        color: rgba(255, 255, 255, 0.92);
        font-size: 11px;
        font-weight: 700;
        padding-bottom: 6px;
      }
      .bar.comparing .fill {
        background: linear-gradient(
          180deg,
          rgba(251, 113, 133, 0.95),
          rgba(236, 72, 153, 0.95)
        );
        transform: scale(1.03);
      }
      .bar.swapping .fill {
        background: linear-gradient(
          180deg,
          rgba(52, 211, 153, 0.95),
          rgba(16, 185, 129, 0.95)
        );
        transform: scale(1.05);
      }
      .legend {
        display: flex;
        gap: 8px;
        align-items: center;
        margin-top: 10px;
        color: var(--muted);
        font-size: 12px;
      }
      .chip {
        display: inline-flex;
        gap: 6px;
        align-items: center;
        padding: 6px 8px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.02);
      }
      .footer {
        margin-top: 16px;
        color: var(--muted);
        font-size: 13px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .small {
        font-size: 12px;
        color: var(--muted);
      }
      .controls-grid {
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .slider-wrap {
        width: 190px;
        padding: 6px;
      }
      .badge {
        background: rgba(255, 255, 255, 0.03);
        padding: 6px 8px;
        border-radius: 8px;
        font-weight: 700;
        color: var(--muted);
      }
      @media (max-width: 880px) {
        .controls {
          flex-direction: column;
          align-items: stretch;
        }
        header {
          flex-direction: column;
          align-items: flex-start;
          gap: 6px;
        }
      }
    </style>
  </head>
  <body>
    <div class="app" role="application" aria-label="Bubble Sort Visualizer">
      <header>
        <div>
          <h1>Bubble Sort Visualizer</h1>
          <p>
            Interactive demonstration of the Bubble Sort algorithm — compare,
            swap, step, and animate.
          </p>
        </div>
        <div class="stats" aria-hidden="false">
          <div class="badge" id="status">Idle</div>
          <div class="small">
            Comparisons: <strong id="comparisons">0</strong>
          </div>
          <div class="small">Swaps: <strong id="swaps">0</strong></div>
        </div>
      </header>
      <div class="controls" role="region" aria-label="Controls">
        <div class="control">
          <div style="min-width: 120px">
            <label for="size">Array size</label>
            <input id="size" type="range" min="6" max="48" value="18" />
          </div>
          <div class="slider-wrap">
            <label for="speed">Speed (ms)</label>
            <input id="speed" type="range" min="20" max="700" value="160" />
          </div>
        </div>

        <div class="controls-grid">
          <button
            id="generate"
            class="secondary"
            title="Generate a new random array"
          >
            Generate
          </button>
          <button id="shuffle" class="secondary" title="Shuffle current array">
            Shuffle
          </button>
          <button id="sort" title="Start sorting">Sort ▶</button>
          <button id="pause" class="secondary" title="Pause/Resume">
            Pause ⏸
          </button>
          <button id="step" class="secondary" title="Perform single step">
            Step ➜
          </button>
          <button id="reset" class="secondary" title="Reset to original array">
            Reset ⟲
          </button>
        </div>

        <div
          style="
            margin-left: auto;
            display: flex;
            gap: 12px;
            align-items: center;
          "
        >
          <div class="control">
            <label for="order">Order</label>
            <select
              id="order"
              style="
                background: transparent;
                border: 0;
                color: var(--muted);
                font-weight: 700;
              "
            >
              <option value="asc">Ascending</option>
              <option value="desc">Descending</option>
            </select>
          </div>
        </div>
      </div>

      <main>
        <section class="visual" aria-label="Sorting visualization">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
            "
          >
            <div class="legend" aria-hidden="true">
              <div class="chip">
                <span
                  style="
                    width: 12px;
                    height: 12px;
                    border-radius: 3px;
                    background: linear-gradient(
                      180deg,
                      rgba(96, 165, 250, 0.9),
                      rgba(37, 99, 235, 0.9)
                    );
                    display: inline-block;
                  "
                ></span>
                Normal
              </div>
              <div class="chip">
                <span
                  style="
                    width: 12px;
                    height: 12px;
                    border-radius: 3px;
                    background: linear-gradient(
                      180deg,
                      rgba(251, 113, 133, 0.95),
                      rgba(236, 72, 153, 0.95)
                    );
                    display: inline-block;
                  "
                ></span>
                Comparing
              </div>
              <div class="chip">
                <span
                  style="
                    width: 12px;
                    height: 12px;
                    border-radius: 3px;
                    background: linear-gradient(
                      180deg,
                      rgba(52, 211, 153, 0.95),
                      rgba(16, 185, 129, 0.95)
                    );
                    display: inline-block;
                  "
                ></span>
                Swapping
              </div>
            </div>
            <div class="small">
              Tip: use <strong>Step</strong> to walk the algorithm.
            </div>
          </div>

          <div
            class="board"
            id="board"
            aria-live="polite"
            aria-atomic="true"
          ></div>
        </section>

        <aside style="width: 300px">
          <div
            style="
              background: rgba(255, 255, 255, 0.02);
              padding: 12px;
              border-radius: 10px;
              border: 1px solid rgba(255, 255, 255, 0.02);
            "
          >
            <h3 style="margin: 0; font-size: 16px">How Bubble Sort Works</h3>
            <p style="color: var(--muted); font-size: 13px">
              Bubble sort repeatedly steps through the list, compares adjacent
              elements and swaps them if they are in the wrong order. This
              process continues until the list is sorted.
            </p>

            <h4 style="margin-top: 12px; margin-bottom: 6px; font-size: 14px">
              Controls
            </h4>
            <ul
              style="color: var(--muted); font-size: 13px; padding-left: 18px"
            >
              <li><strong>Generate</strong>: new random array</li>
              <li><strong>Shuffle</strong>: randomize current values</li>
              <li><strong>Sort</strong>: start animation</li>
              <li><strong>Pause</strong>: pause/resume</li>
              <li>
                <strong>Step</strong>: advance one comparison (use while paused)
              </li>
              <li><strong>Reset</strong>: return to initial array</li>
            </ul>

            <hr
              style="
                border: none;
                border-top: 1px solid rgba(255, 255, 255, 0.02);
                margin: 10px 0;
              "
            />

            <div
              style="
                display: flex;
                gap: 8px;
                align-items: center;
                justify-content: space-between;
              "
            >
              <div style="color: var(--muted); font-size: 13px">
                Current algorithm
              </div>
              <div style="font-weight: 800">Bubble Sort</div>
            </div>
          </div>
        </aside>
      </main>

      <div class="footer">
        <div class="small">
          Built for clarity — uses absolute positioning and smooth transitions.
        </div>
        <div class="small">© Bubble Sort Visualizer</div>
      </div>
    </div>
    <script>
      /* Bubble Sort Visualizer - Single-file interactive demo. - Features: generate/shuffle/reset, play/pause, step, speed, array size, ascending/descending. - Bars are absolutely positioned and animated via CSS transitions (left & height). */
      (() => { const board = document.getElementById('board'); const sizeInput = document.getElementById('size'); const speedInput = document.getElementById('speed'); const generateBtn = document.getElementById('generate'); const shuffleBtn = document.getElementById('shuffle'); const sortBtn = document.getElementById('sort'); const pauseBtn = document.getElementById('pause'); const stepBtn = document.getElementById('step'); const resetBtn = document.getElementById('reset'); const orderSelect = document.getElementById('order'); const comparisonsEl = document.getElementById('comparisons'); const swapsEl = document.getElementById('swaps'); const statusEl = document.getElementById('status'); let arr = []; let original = []; let bars = []; let comparisons = 0; let swaps = 0; // Sorting state let sorting = false; let paused = true; // start paused let stepRequested = false; let speed = Number(speedInput.value); let order = orderSelect.value; // 'asc' or 'desc' let size = Number(sizeInput.value); // Internal pointers for bubble sort algorithm let i = 0, j = 0; let done = false; // Visual constants const boardPadding = 16; const minBarWidth = 20; const gap = 6; function setStatus(s){ statusEl.textContent = s; } function createArray(n){ // create a shuffled array 1..n scaled to board height const a = []; for(let k=1;k<=n;k++) a.push(k); // shuffle for(let k=a.length-1;k>0;k--){ const r=Math.floor(Math.random()*(k+1)); [a[k], a[r]] = [a[r], a[k]]; } return a; } function normalizeToHeights(values, maxHeight){ const maxVal = Math.max(...values); return values.map(v => Math.round((v / maxVal) * maxHeight)); } function render(){ // clear existing bars board.innerHTML = ''; bars = []; const n = arr.length; const boardRect = board.getBoundingClientRect(); const boardWidth = board.clientWidth; const boardHeight = board.clientHeight - 16; // bottom padding // compute bar width dynamically let barWidth = Math.max(minBarWidth, Math.floor((boardWidth - (n+1)*gap) / n)); const step = barWidth + gap; // create bars const heights = normalizeToHeights(arr, boardHeight - 30); for(let idx=0; idx<n; idx++){ const val = arr[idx]; const h = heights[idx]; const bar = document.createElement('div'); bar.className = 'bar'; bar.setAttribute('data-index', idx); bar.setAttribute('data-value', val); bar.style.width = barWidth + 'px'; bar.style.left = (gap + idx * step) + 'px'; bar.style.height = (h + 6) + 'px'; // gives a small visual base bar.setAttribute('aria-label', 'Array element ' + idx + ' value ' + val); const fill = document.createElement('span'); fill.className = 'fill'; fill.style.height = '100%'; fill.textContent = val; bar.appendChild(fill); board.appendChild(bar); bars.push(bar); } // ensure CSS transitions look smooth requestAnimationFrame(() => { bars.forEach(b => b.style.transitionDuration = Math.max(80, speed) + 'ms'); }); } function updateBarsPositions() { const n = arr.length; const boardWidth = board.clientWidth; let barWidth = Math.max(minBarWidth, Math.floor((boardWidth - (n+1)*gap) / n)); const step = barWidth + gap; const heights = normalizeToHeights(arr, board.clientHeight - 30); for(let idx=0; idx<n; idx++){ const bar = bars[idx]; if(!bar) continue; bar.style.left = (gap + idx * step) + 'px'; bar.style.width = barWidth + 'px'; bar.style.height = (heights[idx] + 6) + 'px'; bar.dataset.index = idx; bar.dataset.value = arr[idx]; bar.querySelector('.fill').textContent = arr[idx]; } } function swapInArray(a, x, y){ const t = a[x]; a[x] = a[y]; a[y] = t; } function markComparing(k){ clearMarks(); if(bars[k]) bars[k].classList.add('comparing'); if(bars[k+1]) bars[k+1].classList.add('comparing'); } function markSwapping(k){ clearMarks(); if(bars[k]) bars[k].classList.add('swapping'); if(bars[k+1]) bars[k+1].classList.add('swapping'); } function clearMarks(){ bars.forEach(b => { b.classList.remove('comparing'); b.classList.remove('swapping'); b.style.transform = ''; }); } function sleep(ms){ return new Promise(res => setTimeout(res, ms)); } // Wait for either unpause or single-step request function waitWhilePaused(){ return new Promise(res => { if(!paused) return res(); const interval = setInterval(() => { if(stepRequested){ stepRequested = false; paused = true; // remain paused after step clearInterval(interval); return res('step'); } if(!paused){ clearInterval(interval); return res(); } }, 20); }); } async function bubbleSortAnimated(){ comparisons = 0; swaps = 0; updateStats(); const n = arr.length; i = 0; j = 0; done = false; setStatus('Sorting'); sorting = true; paused = false; for(i = 0; i < n - 1; i++){ let swapped = false; for(j = 0; j < n - i - 1; j++){ // comparison markComparing(j); comparisons++; updateStats(); const waitResult = await waitWhilePaused(); // allow tiny pause to show comparison await sleep(Math.max(20, speed / 2)); // determine order let needSwap = false; if(order === 'asc') needSwap = arr[j] > arr[j+1]; else needSwap = arr[j] < arr[j+1]; if(needSwap){ markSwapping(j); swaps++; updateStats(); // visually swap by swapping values then updating positions // animate: move left positions of the two bars // We will swap entries in arr and then update rendered positions which will animate via CSS left transitions swapInArray(arr, j, j+1); // rearrange bars array to maintain DOM references in index order // swap the bars in the DOM logically to keep bars array in sync with indices const bj = bars[j], bj1 = bars[j+1]; bars[j] = bj1; bars[j+1] = bj; // update positions & heights (this will animate) updateBarsPositions(); swapped = true; // wait for animation to finish (approx speed) await sleep(Math.max(40, speed)); } else { // small pause so the user can see the comparison await sleep(Math.max(20, speed / 3)); } clearMarks(); // If user requested a step, we pause after this comparison/swap if(waitResult === 'step'){ setStatus('Paused (step)'); paused = true; } if(paused && !stepRequested){ // if paused due to button, wait till resumed await waitWhilePaused(); } } if(!swapped){ // array is sorted break; } } // final clean up clearMarks(); sorting = false; paused = true; setStatus('Sorted'); highlightSorted(); } function highlightSorted(){ // small visual to mark sorted bars bars.forEach((b, idx) => { b.classList.add('swapping'); setTimeout(()=> b.classList.remove('swapping'), 300 + idx*10); }); } function updateStats(){ comparisonsEl.textContent = comparisons; swapsEl.textContent = swaps; } // Public controls handlers function generateNew(){ size = Number(sizeInput.value); arr = createArray(size); original = arr.slice(); comparisons = 0; swaps = 0; setStatus('Array generated'); render(); updateStats(); } function shuffleArray(){ for(let k=arr.length-1;k>0;k--){ const r=Math.floor(Math.random()*(k+1)); [arr[k], arr[r]] = [arr[r], arr[k]]; } original = arr.slice(); comparisons = 0; swaps = 0; setStatus('Array shuffled'); render(); updateStats(); } function resetArray(){ arr = original.slice(); comparisons = 0; swaps = 0; setStatus('Reset'); render(); updateStats(); sorting = false; paused = true; } // UI event wiring generateBtn.addEventListener('click', () => { generateNew(); }); shuffleBtn.addEventListener('click', () => { shuffleArray(); }); resetBtn.addEventListener('click', () => { resetArray(); }); sortBtn.addEventListener('click', async () => { if(sorting){ // already sorting; ignore return; } // if paused on initial, start sorting if(!sorting){ paused = false; stepRequested = false; await bubbleSortAnimated(); } }); pauseBtn.addEventListener('click', () => { if(!sorting){ // nothing to pause; toggle paused for step mode paused = !paused; setStatus(paused ? 'Paused' : 'Ready to sort'); return; } paused = !paused; setStatus(paused ? 'Paused' : 'Resuming'); }); stepBtn.addEventListener('click', () => { if(!sorting){ // start sorting but immediately pause and then request a step paused = true; stepRequested = true; // kick off sorting loop if not running if(!sorting){ bubbleSortAnimated(); } return; } // when sorting, ask for a single step stepRequested = true; paused = true; // will remain paused after step }); sizeInput.addEventListener('input', () => { size = Number(sizeInput.value); // auto-generate new when size changes generateNew(); }); speedInput.addEventListener('input', () => { speed = Number(speedInput.value); // tweak transition durations bars.forEach(b => b.style.transitionDuration = Math.max(50, speed) + 'ms'); }); orderSelect.addEventListener('change', () => { order = orderSelect.value; }); // Resize handler so bars reorder nicely on window resize let resizeTimer; window.addEventListener('resize', () => { clearTimeout(resizeTimer); resizeTimer = setTimeout(() => { if(arr && arr.length) updateBarsPositions(); }, 120); }); // Initial seed generateNew(); // Accessibility: keyboard shortcuts window.addEventListener('keydown', (e) => { if(e.key === ' ' && (document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA')) { // space toggles pause/resume e.preventDefault(); paused = !paused; setStatus(paused ? 'Paused' : 'Resuming'); } else if(e.key === 's' || e.key === 'S'){ // 's' starts sort if(!sorting) bubbleSortAnimated(); } else if(e.key === 'k' || e.key === 'K'){ // step stepRequested = true; paused = true; if(!sorting) bubbleSortAnimated(); } }); // Expose for console debugging (optional) window._bs = { get arr(){ return arr; }, setSpeed(v){ speedInput.value = v; speed = v; }, generate: generateNew, shuffle: shuffleArray, reset: resetArray, sort: () => bubbleSortAnimated() }; })();
    </script>
  </body>
</html>
