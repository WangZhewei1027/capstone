{
  "topic": "Interactive Queue Visualizer (FIFO)",
  "description": "Models the interactive states and transitions for a Queue visualizer UI that supports enqueue, dequeue, peek, clear, random fill, auto-enqueue, and capacity changes with animations and logging.",
  "states": [
    {
      "name": "idle",
      "onEnter": "renderSlots",
      "onExit": "noop",
      "on": {
        "INIT": "idle",
        "ENQUEUE_CLICK": "enqueueing",
        "ENTER_KEY": "enqueueing",
        "ENQUEUE_FAILED_EMPTY": "idle",
        "ENQUEUE_FAILED_FULL": "idle",
        "DEQUEUE_CLICK": "dequeueing",
        "DEQUEUE_FAILED_EMPTY": "idle",
        "PEEK_CLICK": "peeking",
        "PEEK_FAILED_EMPTY": "idle",
        "CLEAR_CLICK": "clearing",
        "FILL_RANDOM_CLICK": "fillingRandom",
        "AUTO_TOGGLE_ON": "autoRunning",
        "AUTO_TOGGLE_OFF": "idle",
        "CAPACITY_CHANGE": "idle"
      }
    },
    {
      "name": "enqueueing",
      "onEnter": "startEnqueueAnimation",
      "onExit": "finalizeEnqueue",
      "on": {
        "ENQUEUE_ANIMATION_END": "idle",
        "ENQUEUE_FAILED_FULL": "idle",
        "ENQUEUE_ABORT": "idle"
      }
    },
    {
      "name": "dequeueing",
      "onEnter": "startDequeueAnimation",
      "onExit": "finalizeDequeue",
      "on": {
        "DEQUEUE_ANIMATION_END": "idle",
        "DEQUEUE_FAILED_EMPTY": "idle"
      }
    },
    {
      "name": "peeking",
      "onEnter": "flashHeadAndLog",
      "onExit": "noop",
      "on": {
        "PEEK_ANIMATION_END": "idle",
        "PEEK_FAILED_EMPTY": "idle"
      }
    },
    {
      "name": "clearing",
      "onEnter": "startClearAnimation",
      "onExit": "finalizeClear",
      "on": {
        "CLEAR_ANIMATION_END": "idle"
      }
    },
    {
      "name": "fillingRandom",
      "onEnter": "clearThenEnqueueSequence",
      "onExit": "noop",
      "on": {
        "FILL_RANDOM_STEP_COMPLETE": "fillingRandom",
        "FILL_RANDOM_FINISHED": "idle",
        "FILL_RANDOM_ABORT": "idle"
      }
    },
    {
      "name": "autoRunning",
      "onEnter": "startAutoInterval",
      "onExit": "stopAutoInterval",
      "on": {
        "AUTO_STEP": "enqueueing",
        "AUTO_STOP": "idle",
        "AUTO_TOGGLE_OFF": "idle",
        "AUTO_STOPPED_FULL": "idle",
        "ENQUEUE_FAILED_FULL": "autoRunning"
      }
    }
  ],
  "events": [
    "INIT",
    "ENQUEUE_CLICK",
    "ENTER_KEY",
    "ENQUEUE_ANIMATION_END",
    "ENQUEUE_FAILED_EMPTY",
    "ENQUEUE_FAILED_FULL",
    "ENQUEUE_ABORT",
    "DEQUEUE_CLICK",
    "DEQUEUE_ANIMATION_END",
    "DEQUEUE_FAILED_EMPTY",
    "PEEK_CLICK",
    "PEEK_ANIMATION_END",
    "PEEK_FAILED_EMPTY",
    "CLEAR_CLICK",
    "CLEAR_ANIMATION_END",
    "FILL_RANDOM_CLICK",
    "FILL_RANDOM_STEP_COMPLETE",
    "FILL_RANDOM_FINISHED",
    "FILL_RANDOM_ABORT",
    "AUTO_TOGGLE_ON",
    "AUTO_TOGGLE_OFF",
    "AUTO_STEP",
    "AUTO_STOP",
    "AUTO_STOPPED_FULL",
    "CAPACITY_CHANGE"
  ],
  "notes": "States represent interactive modes in the UI. onEnter/onExit names map to the functions/actions in the code (e.g. startEnqueueAnimation creates the floating element and pushes a value after ANIM ms; finalizeEnqueue updates slot badges and logging). Events include both user-triggered actions (button clicks, Enter key) and internal lifecycle events (animation end, auto-step, capacity change). Error conditions (empty input, full queue) are modeled as explicit failed events that return to idle while producing log/error actions. Auto-running is modeled as a distinct state that repeatedly issues AUTO_STEP events which transition into enqueueing; when auto stops (manual toggle or queue full) it returns to idle. Rendering and controls enabling/disabling are performed on idle onEnter (renderSlots/updateSummary/updateIndices)."
}