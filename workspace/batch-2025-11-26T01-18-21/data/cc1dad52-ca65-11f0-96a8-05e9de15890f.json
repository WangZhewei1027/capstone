{
  "id": "cc1dad52-ca65-11f0-96a8-05e9de15890f",
  "timestamp": "2025-11-26T01:20:27.770Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Selection Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Selection Sort Visualizer</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --panel:#0b1220;\n      --accent:#4f46e5;\n      --muted:#94a3b8;\n      --good:#10b981;\n      --bad:#ef4444;\n      --bar:#60a5fa;\n      --bar-min:#f59e0b;\n      --bar-compare:#ef4444;\n      --bar-sorted:#34d399;\n      --text:#e6eef8;\n      --shadow: rgba(2,6,23,0.6);\n    }\n    *{box-sizing:border-box;font-family:Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;}\n    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#061029 120%);color:var(--text);}\n    .app{max-width:1100px;margin:24px auto;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;box-shadow:0 6px 30px var(--shadow);}\n    header{display:flex;align-items:center;gap:12px;margin-bottom:12px;}\n    header h1{font-size:20px;margin:0;}\n    .controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-bottom:12px;}\n    .controls > *{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px;border-radius:8px;color:var(--text);}\n    .controls button{cursor:pointer;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));}\n    .controls button:active{transform:translateY(1px);}\n    .controls .seg{display:inline-flex;gap:8px;align-items:center;}\n    .row{display:flex;gap:12px;}\n    .left{flex:1;min-width:320px;}\n    .right{width:420px;}\n    .vis{background:linear-gradient(135deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));height:320px;border-radius:10px;padding:12px;display:flex;align-items:flex-end;gap:6px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);}\n    .bar{flex:1;margin:0 3px;background:var(--bar);border-radius:6px;display:flex;align-items:flex-end;justify-content:center;color:#021129;font-weight:600;transition:height 250ms ease, background-color 150ms ease, transform 180ms ease;}\n    .bar span{font-size:12px;padding:6px 4px;color:var(--text);text-shadow: 0 1px 0 rgba(0,0,0,0.2);}\n    .bar.compare{background:var(--bar-compare);transform:translateY(-6px) scale(1.03);z-index:2;}\n    .bar.min{background:var(--bar-min);transform:translateY(-6px) scale(1.04);z-index:3;}\n    .bar.iidx{box-shadow:0 0 0 3px rgba(79,70,229,0.06) inset;}\n    .bar.swap{background:linear-gradient(90deg,var(--good), #60a5fa);transform:translateY(-6px) scale(1.05);}\n    .bar.sorted{background:var(--bar-sorted);transform:translateY(-2px);}\n    .stats{margin-top:10px;display:flex;gap:14px;align-items:center;color:var(--muted);font-size:13px;}\n    .stats b{color:var(--text);}\n    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);color:var(--muted);}\n    .pseudo{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;background:rgba(0,0,0,0.04);padding:8px;border-radius:8px;white-space:pre;line-height:1.5;margin-top:8px;font-size:13px;}\n    .pseudo .line{display:block;padding:4px 6px;border-radius:6px;}\n    .pseudo .active{background:linear-gradient(90deg, rgba(79,70,229,0.12), rgba(79,70,229,0.06));color:var(--text);}\n    .small{font-size:13px;color:var(--muted);}\n    .controls input[type=range]{width:160px;}\n    .footer{display:flex;justify-content:space-between;align-items:center;margin-top:12px;color:var(--muted);font-size:13px;}\n    .legend{display:flex;gap:8px;align-items:center;}\n    .legend .item{display:flex;align-items:center;gap:6px;font-size:13px;}\n    .swatch{width:12px;height:12px;border-radius:3px;}\n    .code-panel{max-height:320px;overflow:auto;}\n    @media (max-width:880px){\n      .row{flex-direction:column;}\n      .right{width:100%;}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"app\" role=\"application\" aria-label=\"Selection sort visualizer\">\n    <header>\n      <h1>Selection Sort Visualizer</h1>\n      <div class=\"small\">Interactive step-by-step demonstration</div>\n    </header>\n\n    <div class=\"controls\">\n      <div class=\"seg\">\n        <label class=\"small\" for=\"size\">Array size</label>\n        <input id=\"size\" type=\"range\" min=\"4\" max=\"60\" value=\"20\" />\n        <span id=\"sizeVal\" class=\"small\">20</span>\n      </div>\n\n      <div class=\"seg\">\n        <label class=\"small\">Order</label>\n        <select id=\"order\" title=\"Choose ascending or descending\">\n          <option value=\"asc\">Ascending</option>\n          <option value=\"desc\">Descending</option>\n        </select>\n      </div>\n\n      <button id=\"randomBtn\" title=\"Generate new random array\">Randomize</button>\n      <button id=\"startBtn\" title=\"Play\">Play ▶</button>\n      <button id=\"pauseBtn\" title=\"Pause\" disabled>Pause ❚❚</button>\n      <button id=\"stepF\" title=\"Step forward\">Step ▶</button>\n      <button id=\"stepB\" title=\"Step back\">Step ◀</button>\n      <button id=\"resetBtn\" title=\"Reset to initial\">Reset ⟲</button>\n\n      <div class=\"seg\">\n        <label class=\"small\" for=\"delay\">Delay (ms)</label>\n        <input id=\"delay\" type=\"range\" min=\"50\" max=\"1200\" value=\"350\" />\n        <span id=\"delayVal\" class=\"small\">350ms</span>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"left\">\n        <div class=\"vis panel\" id=\"vis\" aria-live=\"polite\" aria-label=\"Array visualization\"></div>\n\n        <div class=\"stats\">\n          <div>Step: <b id=\"stepCounter\">0</b>/<span id=\"maxStep\">0</span></div>\n          <div>Comparisons: <b id=\"compCount\">0</b></div>\n          <div>Swaps: <b id=\"swapCount\">0</b></div>\n          <div id=\"message\" style=\"margin-left:auto;\" class=\"small\"></div>\n        </div>\n      </div>\n\n      <div class=\"right\">\n        <div class=\"panel code-panel\" style=\"margin-bottom:12px;\">\n          <div style=\"display:flex;justify-content:space-between;align-items:center;\">\n            <strong>Selection Sort (pseudocode)</strong>\n            <div class=\"small\">Complexity: O(n²)</div>\n          </div>\n          <pre class=\"pseudo\" id=\"pseudocode\" aria-hidden=\"false\">\n<span class=\"line\" data-line=\"1\">for i = 0 to n-2            // select position</span>\n<span class=\"line\" data-line=\"2\">    minIndex = i</span>\n<span class=\"line\" data-line=\"3\">    for j = i+1 to n-1      // find smallest/largest in remainder</span>\n<span class=\"line\" data-line=\"4\">        if A[j] < A[minIndex]    // (or > for descending)</span>\n<span class=\"line\" data-line=\"5\">            minIndex = j</span>\n<span class=\"line\" data-line=\"6\">    if minIndex != i</span>\n<span class=\"line\" data-line=\"7\">        swap A[i] and A[minIndex]</span>\n          </pre>\n        </div>\n\n        <div class=\"panel\">\n          <div style=\"display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;\">\n            <strong>Controls / Info</strong>\n            <div class=\"small\">Click bars to edit value</div>\n          </div>\n          <div class=\"small\" id=\"explain\">\n            Selection sort repeatedly selects the minimum (or maximum) element from the unsorted portion and swaps it into position.\n          </div>\n\n          <div style=\"margin-top:10px;\">\n            <div class=\"legend\">\n              <div class=\"item\"><div class=\"swatch\" style=\"background:var(--bar)\"></div> Unsorted</div>\n              <div class=\"item\"><div class=\"swatch\" style=\"background:var(--bar-min)\"></div> Current min</div>\n              <div class=\"item\"><div class=\"swatch\" style=\"background:var(--bar-compare)\"></div> Comparing</div>\n              <div class=\"item\"><div class=\"swatch\" style=\"background:var(--bar-sorted)\"></div> Sorted</div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n    <div class=\"footer\">\n      <div class=\"small\">You can change array size, order, delay, and step through the algorithm.</div>\n      <div class=\"small\">© Selection Sort Demo</div>\n    </div>\n  </div>\n\n  <script>\n    // Selection Sort Visualizer\n    (function(){\n      const vis = document.getElementById('vis');\n      const sizeInput = document.getElementById('size');\n      const sizeVal = document.getElementById('sizeVal');\n      const randomBtn = document.getElementById('randomBtn');\n      const startBtn = document.getElementById('startBtn');\n      const pauseBtn = document.getElementById('pauseBtn');\n      const stepF = document.getElementById('stepF');\n      const stepB = document.getElementById('stepB');\n      const resetBtn = document.getElementById('resetBtn');\n      const delayInput = document.getElementById('delay');\n      const delayVal = document.getElementById('delayVal');\n      const orderSel = document.getElementById('order');\n\n      const stepCounter = document.getElementById('stepCounter');\n      const maxStep = document.getElementById('maxStep');\n      const compCount = document.getElementById('compCount');\n      const swapCount = document.getElementById('swapCount');\n      const message = document.getElementById('message');\n      const pseudocode = document.getElementById('pseudocode');\n\n      let array = [];\n      let initialArray = [];\n      let snapshots = [];\n      let current = 0;\n      let playing = false;\n      let timer = null;\n\n      function randArray(n){\n        const arr = [];\n        for(let i=0;i<n;i++){\n          arr.push(Math.floor(Math.random()*90)+10); // values 10..99\n        }\n        return arr;\n      }\n\n      function renderArray(arrState){\n        // arrState: {arr, i, j, minIndex, comparingIdx, swapped, sortedIndices}\n        vis.innerHTML = '';\n        const arr = arrState.arr;\n        const max = Math.max(...arr, 100);\n        const n = arr.length;\n        arr.forEach((v, idx) => {\n          const bar = document.createElement('div');\n          bar.className = 'bar';\n          bar.style.height = Math.max(12, (v / max) * 100) + '%';\n          bar.title = String(v);\n          const span = document.createElement('span');\n          span.textContent = v;\n          bar.appendChild(span);\n\n          // classes\n          if (arrState.sortedIndices && arrState.sortedIndices.has(idx)) bar.classList.add('sorted');\n          if (arrState.i === idx) bar.classList.add('iidx');\n          if (arrState.minIndex === idx) bar.classList.add('min');\n          if (arrState.comparingIdx === idx) bar.classList.add('compare');\n          if (arrState.swapped && arrState.swapped.includes(idx)) bar.classList.add('swap');\n\n          // click to edit value\n          bar.style.cursor = 'pointer';\n          bar.addEventListener('click', () => {\n            const val = prompt('Enter new value (integer):', String(v));\n            if (val === null) return;\n            const num = parseInt(val, 10);\n            if (!isFinite(num)) return alert('Invalid number');\n            array[idx] = num;\n            initialArray = array.slice();\n            rebuildSnapshots();\n            applySnapshot(0);\n          });\n\n          vis.appendChild(bar);\n        });\n      }\n\n      function highlightLine(line){\n        const lines = pseudocode.querySelectorAll('.line');\n        lines.forEach(el => {\n          if (Number(el.dataset.line) === line) el.classList.add('active'); else el.classList.remove('active');\n        });\n      }\n\n      function generateSnapshots(arrOrig, ascending){\n        const arr = arrOrig.slice();\n        const n = arr.length;\n        const snaps = [];\n        let comparisons = 0;\n        let swaps = 0;\n        const sortedIndices = new Set();\n\n        const pushSnap = (opts={}) => {\n          snaps.push({\n            arr: arr.slice(),\n            i: opts.i != null ? opts.i : null,\n            j: opts.j != null ? opts.j : null,\n            minIndex: opts.minIndex != null ? opts.minIndex : null,\n            comparingIdx: opts.comparingIdx != null ? opts.comparingIdx : null,\n            swapped: opts.swapped ? opts.swapped.slice() : null,\n            sortedIndices: new Set(sortedIndices),\n            comparisons,\n            swaps,\n            msg: opts.msg || '',\n            line: opts.line || 0\n          });\n        };\n\n        // initial\n        pushSnap({msg: 'Initial array', line: 0});\n\n        for (let i = 0; i < n-1; i++){\n          let minIndex = i;\n          pushSnap({i, minIndex, msg: `Select position ${i}`, line: 1});\n          pushSnap({i, minIndex, msg: `Assume index ${i} is current min`, line:2});\n\n          for (let j = i+1; j < n; j++){\n            // compare\n            comparisons++;\n            pushSnap({i, j, minIndex, comparingIdx: j, msg: `Compare A[${j}] with A[${minIndex}]`, line:3});\n            pushSnap({i, j, minIndex, comparingIdx: j, msg: `Comparison`, line:4});\n\n            const isBetter = ascending ? (arr[j] < arr[minIndex]) : (arr[j] > arr[minIndex]);\n            if (isBetter){\n              minIndex = j;\n              pushSnap({i, j, minIndex, comparingIdx: j, msg: `New min at index ${j}`, line:5});\n            }\n          }\n\n          // after inner loop\n          if (minIndex !== i){\n            // swap\n            swaps++;\n            pushSnap({i, minIndex, swapped: [i, minIndex], msg:`Swap A[${i}] and A[${minIndex}]`, line:6});\n            // perform swap\n            const tmp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = tmp;\n            pushSnap({arr: arr.slice(), i, minIndex, swapped: [i,minIndex], msg:`After swap`, line:7});\n          } else {\n            pushSnap({i, minIndex, msg:`No swap needed for position ${i}`, line:6});\n          }\n\n          sortedIndices.add(i);\n          pushSnap({i:null, minIndex:null, msg:`Position ${i} fixed`, line:1});\n        }\n\n        // final mark\n        sortedIndices.add(n-1);\n        pushSnap({arr: arr.slice(), msg:`Array sorted`, line:0, sortedIndices: new Set(sortedIndices)});\n        // ensure comparisons/swaps counters on last snapshot\n        snaps.forEach(s => { s.comparisons = comparisons; s.swaps = swaps; });\n\n        return snaps;\n      }\n\n      function rebuildSnapshots(){\n        snapshots = generateSnapshots(initialArray, orderSel.value === 'asc');\n        current = 0;\n        stepCounter.textContent = 0;\n        maxStep.textContent = snapshots.length - 1;\n        compCount.textContent = snapshots[0].comparisons || 0;\n        swapCount.textContent = snapshots[0].swaps || 0;\n      }\n\n      function applySnapshot(idx){\n        if (idx < 0) idx = 0;\n        if (idx >= snapshots.length) idx = snapshots.length - 1;\n        current = idx;\n        const s = snapshots[current];\n        renderArray(s);\n        stepCounter.textContent = current;\n        maxStep.textContent = snapshots.length - 1;\n        compCount.textContent = s.comparisons;\n        swapCount.textContent = s.swaps;\n        message.textContent = s.msg || '';\n        highlightLine(s.line || 0);\n\n        // disable/enable controls logically\n        pauseBtn.disabled = !playing;\n        startBtn.disabled = playing;\n      }\n\n      function play(){\n        if (playing) return;\n        playing = true;\n        startBtn.disabled = true;\n        pauseBtn.disabled = false;\n        const delay = Number(delayInput.value) || 300;\n\n        timer = setInterval(() => {\n          if (current < snapshots.length - 1){\n            applySnapshot(current + 1);\n          } else {\n            stop();\n          }\n        }, delay);\n      }\n\n      function stop(){\n        playing = false;\n        startBtn.disabled = false;\n        pauseBtn.disabled = true;\n        if (timer){ clearInterval(timer); timer = null; }\n      }\n\n      // Event bindings\n      sizeInput.addEventListener('input', () => {\n        sizeVal.textContent = sizeInput.value;\n      });\n\n      sizeInput.addEventListener('change', () => {\n        array = randArray(Number(sizeInput.value));\n        initialArray = array.slice();\n        rebuildSnapshots();\n        applySnapshot(0);\n      });\n\n      randomBtn.addEventListener('click', () => {\n        array = randArray(Number(sizeInput.value));\n        initialArray = array.slice();\n        rebuildSnapshots();\n        applySnapshot(0);\n      });\n\n      orderSel.addEventListener('change', () => {\n        rebuildSnapshots();\n        applySnapshot(0);\n      });\n\n      delayInput.addEventListener('input', () => {\n        delayVal.textContent = delayInput.value + 'ms';\n        if (playing){\n          stop(); play();\n        }\n      });\n\n      startBtn.addEventListener('click', () => {\n        play();\n      });\n\n      pauseBtn.addEventListener('click', () => {\n        stop();\n      });\n\n      stepF.addEventListener('click', () => {\n        stop();\n        applySnapshot(current + 1);\n      });\n\n      stepB.addEventListener('click', () => {\n        stop();\n        applySnapshot(current - 1);\n      });\n\n      resetBtn.addEventListener('click', () => {\n        stop();\n        initialArray = array.slice();\n        rebuildSnapshots();\n        applySnapshot(0);\n      });\n\n      // initialize\n      array = randArray(Number(sizeInput.value));\n      initialArray = array.slice();\n      rebuildSnapshots();\n      applySnapshot(0);\n\n      // keyboard shortcuts\n      window.addEventListener('keydown', (e) => {\n        if (e.key === ' ') { e.preventDefault(); if (playing) stop(); else play(); }\n        if (e.key === 'ArrowRight') { e.preventDefault(); stepF.click(); }\n        if (e.key === 'ArrowLeft') { e.preventDefault(); stepB.click(); }\n        if (e.key === 'r') randomBtn.click();\n      });\n\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Selection Sort"
    }
  ],
  "topic": "Selection Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}