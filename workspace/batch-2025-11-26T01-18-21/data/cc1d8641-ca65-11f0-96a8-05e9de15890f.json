{
  "id": "cc1d8641-ca65-11f0-96a8-05e9de15890f",
  "timestamp": "2025-11-26T01:21:44.555Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Adjacency List",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Adjacency List — Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --panel:#0b1220;\n      --accent:#60a5fa;\n      --muted:#94a3b8;\n      --glass: rgba(255,255,255,0.03);\n    }\n    html,body{\n      height:100%;\n      margin:0;\n      font-family: Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n      background: linear-gradient(180deg,#071026 0%, #081226 100%);\n      color: #e6eef8;\n      -webkit-font-smoothing:antialiased;\n      -moz-osx-font-smoothing:grayscale;\n    }\n    .wrap{\n      max-width:1100px;\n      margin:24px auto;\n      display:grid;\n      grid-template-columns: 380px 1fr;\n      gap:18px;\n      padding:18px;\n    }\n    .panel{\n      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));\n      border: 1px solid rgba(255,255,255,0.04);\n      padding:14px;\n      border-radius:10px;\n      box-shadow: 0 6px 20px rgba(2,6,23,0.6);\n    }\n    h1{ margin:4px 0 8px 0; font-size:18px; }\n    p.lead{ margin:0 0 12px 0; color:var(--muted); font-size:13px; line-height:1.3}\n    .controls{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px }\n    button, .toggle {\n      background:transparent;\n      border:1px solid rgba(255,255,255,0.06);\n      color:var(--muted);\n      padding:8px 10px;\n      border-radius:8px;\n      cursor:pointer;\n      font-size:13px;\n    }\n    button.primary{\n      background:linear-gradient(90deg,var(--accent),#3b82f6);\n      border: none;\n      color:white;\n      box-shadow: 0 6px 18px rgba(59,130,246,0.15);\n    }\n    .small{ padding:6px 8px; font-size:12px }\n    label.inline{ display:flex; gap:8px; align-items:center; font-size:13px; color:var(--muted) }\n    input[type=\"checkbox\"]{ transform:scale(1.05); }\n    .side-info{ font-size:13px; color:var(--muted); margin-top:8px }\n    .svg-wrap{\n      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));\n      border:1px solid rgba(255,255,255,0.04);\n      border-radius:10px;\n      height:560px;\n      overflow:hidden;\n      position:relative;\n    }\n    svg{ width:100%; height:100%; display:block; background:transparent; cursor:crosshair; }\n    .adj-list{\n      margin-top:12px;\n      background:var(--glass);\n      border-radius:8px;\n      padding:10px;\n      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, \"Roboto Mono\", monospace;\n      font-size:13px;\n      color:#e6eef8;\n      max-height:220px;\n      overflow:auto;\n      border:1px solid rgba(255,255,255,0.03);\n    }\n    .row{ display:flex; gap:8px; margin-bottom:8px; align-items:center; }\n    .muted{ color:var(--muted); font-size:12px }\n    .legend{ display:flex; gap:8px; align-items:center; margin-top:8px }\n    .bubble{ width:14px; height:14px; border-radius:7px; display:inline-block; }\n    .node-b{ background: #60a5fa }\n    .edge-b{ background: rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.03) }\n    .footer-note{ font-size:12px; color:var(--muted); margin-top:10px }\n    .help{ font-size:13px; color:var(--muted); margin-top:8px }\n    .controls .active{ box-shadow: inset 0 -2px 0 rgba(0,0,0,0.15); border-radius:8px; border-color: rgba(255,255,255,0.08); color:white; }\n    .selected{ stroke:#fff; stroke-width:2px; }\n    .node-label{ pointer-events:none; user-select:none; font-size:13px; fill:#e6eef8 }\n    .edge-label{ font-size:12px; fill:#e6eef8; pointer-events:none }\n    .btn-danger{ background:linear-gradient(90deg,#ef4444,#f97316); border:none; color:white }\n    .small-input{ padding:6px 8px; border-radius:6px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--muted); font-size:13px }\n    pre.adj-text{ margin:0; white-space:pre-wrap; word-break:break-word; color:#dbeafe; }\n    .top-controls{ display:flex; gap:8px; align-items:center; justify-content:space-between }\n    .right-top{ display:flex; gap:8px; align-items:center }\n    .note{ font-size:12px; color:var(--muted) }\n    .link-like{ color:#93c5fd; cursor:pointer; text-decoration:underline; font-size:13px }\n  </style>\n</head>\n<body>\n  <div class=\"wrap\">\n    <div class=\"panel\" style=\"min-height:560px;\">\n      <h1>Adjacency List — Interactive Demo</h1>\n      <p class=\"lead\">An adjacency list represents a graph by storing for each node a list of its adjacent neighbors. This demo lets you build a graph visually and see the adjacency list update live.</p>\n\n      <div class=\"row top-controls\">\n        <div style=\"display:flex; gap:8px; align-items:center;\">\n          <label class=\"inline\"><input id=\"directed\" type=\"checkbox\"> Directed</label>\n          <label class=\"inline\"><input id=\"weighted\" type=\"checkbox\"> Weighted</label>\n        </div>\n        <div class=\"right-top\">\n          <button id=\"modeAddEdge\" class=\"small\">Add Edge (click nodes)</button>\n          <button id=\"clearBtn\" class=\"small\">Clear</button>\n        </div>\n      </div>\n\n      <div class=\"controls\" style=\"margin-top:10px;\">\n        <button id=\"sampleBtn\">Load Sample Graph</button>\n        <button id=\"autoLayout\" class=\"small\">Auto Layout</button>\n        <button id=\"exportBtn\" class=\"small\">Export JSON</button>\n        <button id=\"importBtn\" class=\"small\">Import JSON</button>\n      </div>\n\n      <div class=\"help\">\n        How to use:\n        <ul style=\"margin:6px 0 0 18px; color:var(--muted)\">\n          <li>Click empty space in the right panel to add a node.</li>\n          <li>Click \"Add Edge\" then click two nodes to connect them. Hold \"Weighted\" to enter a weight.</li>\n          <li>Drag nodes to reposition. Click a node to select it and remove with \"Delete Selected\".</li>\n        </ul>\n      </div>\n\n      <div style=\"display:flex; gap:8px; margin-top:12px;\">\n        <button id=\"deleteSelected\" class=\"small\">Delete Selected</button>\n        <button id=\"deleteEdge\" class=\"small\">Delete Selected Edge</button>\n        <div style=\"flex:1\"></div>\n        <div class=\"muted\">Nodes: <span id=\"nodeCount\">0</span> | Edges: <span id=\"edgeCount\">0</span></div>\n      </div>\n\n      <div class=\"adj-list\" id=\"adjContainer\" aria-live=\"polite\" style=\"margin-top:12px;\">\n        <strong style=\"display:block; margin-bottom:8px;\">Adjacency List (live)</strong>\n        <pre class=\"adj-text\" id=\"adjText\">(empty)</pre>\n      </div>\n\n      <div class=\"legend\">\n        <span class=\"bubble node-b\"></span><span class=\"muted\">Node</span>\n        <span class=\"bubble edge-b\" style=\"width:36px;height:10px;border-radius:6px\"></span><span class=\"muted\">Edge</span>\n      </div>\n\n      <div class=\"footer-note\">Click \"Export JSON\" to copy the graph as JSON. \"Import JSON\" lets you paste back a saved graph.</div>\n    </div>\n\n    <div class=\"svg-wrap panel\">\n      <svg id=\"svgCanvas\" viewBox=\"0 0 1000 700\" preserveAspectRatio=\"xMidYMid meet\" tabindex=\"0\">\n        <defs>\n          <marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"10\" refY=\"5\" orient=\"auto\" markerUnits=\"strokeWidth\">\n            <path d=\"M0,0 L10,5 L0,10 z\" fill=\"#dbeafe\" />\n          </marker>\n          <marker id=\"arrow-dark\" markerWidth=\"10\" markerHeight=\"10\" refX=\"10\" refY=\"5\" orient=\"auto\" markerUnits=\"strokeWidth\">\n            <path d=\"M0,0 L10,5 L0,10 z\" fill=\"#1f2937\" />\n          </marker>\n        </defs>\n        <!-- edges and nodes will be created dynamically -->\n      </svg>\n    </div>\n  </div>\n\n  <script>\n    // Simple interactive graph with adjacency list display\n    (function(){\n      const svg = document.getElementById('svgCanvas');\n      const adjText = document.getElementById('adjText');\n      const nodeCountEl = document.getElementById('nodeCount');\n      const edgeCountEl = document.getElementById('edgeCount');\n      const directedCheckbox = document.getElementById('directed');\n      const weightedCheckbox = document.getElementById('weighted');\n      const modeAddEdgeBtn = document.getElementById('modeAddEdge');\n      const clearBtn = document.getElementById('clearBtn');\n      const sampleBtn = document.getElementById('sampleBtn');\n      const autoLayoutBtn = document.getElementById('autoLayout');\n      const exportBtn = document.getElementById('exportBtn');\n      const importBtn = document.getElementById('importBtn');\n      const deleteSelectedBtn = document.getElementById('deleteSelected');\n      const deleteEdgeBtn = document.getElementById('deleteEdge');\n\n      let graph = {\n        nodes: [], // {id, label, x, y}\n        edges: []  // {id, from, to, weight}\n      };\n\n      let state = {\n        nextNodeId: 1,\n        nextEdgeId: 1,\n        modeAddEdge: false,\n        selectedNodeId: null,\n        selectedEdgeId: null,\n        edgeFrom: null,\n        dragging: null,\n        dragOffset: {x:0,y:0}\n      };\n\n      // Helpers to create SVG elements\n      function svgEl(tag, attrs){\n        const el = document.createElementNS('http://www.w3.org/2000/svg', tag);\n        for(const k in attrs) el.setAttribute(k, attrs[k]);\n        return el;\n      }\n\n      // Render functions\n      function render(){\n        while(svg.lastChild && svg.lastChild.tagName !== 'defs') { svg.removeChild(svg.lastChild); } \n        // Remove existing children except defs (keep defs at top)\n        // Actually remove everything after defs\n        const defs = svg.querySelector('defs');\n        // Clear but keep defs\n        Array.from(svg.querySelectorAll(':scope > *')).forEach(node => {\n          if(node !== defs) svg.removeChild(node);\n        });\n\n        // Draw edges\n        graph.edges.forEach(edge => {\n          const fromNode = graph.nodes.find(n => n.id === edge.from);\n          const toNode = graph.nodes.find(n => n.id === edge.to);\n          if(!fromNode || !toNode) return;\n          const line = svgEl('line', {\n            x1: fromNode.x, y1: fromNode.y, x2: toNode.x, y2: toNode.y,\n            stroke: 'rgba(255,255,255,0.12)', 'stroke-width': 2, 'stroke-linecap': 'round',\n            'data-edge-id': edge.id,\n            pointerEvents: 'stroke'\n          });\n          // arrow for directed\n          if(directedCheckbox.checked){\n            line.setAttribute('marker-end', 'url(#arrow)');\n          }\n          if(state.selectedEdgeId === edge.id){\n            line.setAttribute('stroke', '#93c5fd');\n            line.setAttribute('stroke-width', 3);\n          }\n          svg.appendChild(line);\n\n          // Edge label (weight) - placed at midpoint slightly offset\n          if(edge.weight !== undefined && edge.weight !== null){\n            const mx = (fromNode.x + toNode.x)/2;\n            const my = (fromNode.y + toNode.y)/2;\n            const label = svgEl('text', { x: mx + 8, y: my - 6, 'class':'edge-label' });\n            label.textContent = edge.weight;\n            svg.appendChild(label);\n          }\n\n          // Add transparent thick line for easier clicking\n          const hit = svgEl('line', {\n            x1: fromNode.x, y1: fromNode.y, x2: toNode.x, y2: toNode.y,\n            stroke: 'transparent', 'stroke-width': 12, 'data-edge-id': edge.id\n          });\n          hit.addEventListener('click', (e)=> {\n            e.stopPropagation();\n            selectEdge(edge.id);\n          });\n          svg.appendChild(hit);\n        });\n\n        // Draw nodes (circles + labels)\n        graph.nodes.forEach(node => {\n          const g = svgEl('g', {'data-node-id': node.id, cursor:'pointer'});\n          const circle = svgEl('circle', {\n            cx: node.x, cy: node.y, r: 20, fill:'#60a5fa', stroke:'rgba(255,255,255,0.06)', 'stroke-width':1\n          });\n          if(state.selectedNodeId === node.id){\n            circle.setAttribute('stroke','#fff');\n            circle.setAttribute('stroke-width','2');\n          }\n          g.appendChild(circle);\n          const text = svgEl('text', { x: node.x, y: node.y+5, 'text-anchor':'middle', 'class':'node-label' });\n          text.textContent = node.label;\n          g.appendChild(text);\n          // Event handlers: click to select or to build edge, drag to move\n          g.addEventListener('mousedown', (e)=>{\n            e.stopPropagation();\n            if(state.modeAddEdge){\n              if(state.edgeFrom === null){\n                state.edgeFrom = node.id;\n                highlightNode(node.id, true);\n              } else if(state.edgeFrom === node.id){\n                // clicking same node cancels\n                state.edgeFrom = null;\n                highlightNode(node.id, false);\n              } else {\n                // create edge from edgeFrom -> node.id\n                const fromId = state.edgeFrom;\n                const toId = node.id;\n                createEdge(fromId, toId);\n                highlightNode(state.edgeFrom, false);\n                state.edgeFrom = null;\n              }\n            } else {\n              // start dragging\n              state.dragging = node.id;\n              const pt = getMousePos(e);\n              const n = node;\n              state.dragOffset.x = n.x - pt.x;\n              state.dragOffset.y = n.y - pt.y;\n            }\n          });\n          g.addEventListener('click', (e)=>{\n            e.stopPropagation();\n            if(!state.modeAddEdge) selectNode(node.id);\n          });\n          svg.appendChild(g);\n        });\n\n        nodeCountEl.textContent = graph.nodes.length;\n        edgeCountEl.textContent = graph.edges.length;\n        renderAdjList();\n      }\n\n      function highlightNode(nodeId, on){\n        // temporary highlight during edge creation\n        const nodeGroup = svg.querySelector('[data-node-id=\"'+nodeId+'\"]');\n        if(!nodeGroup) return;\n        const circle = nodeGroup.querySelector('circle');\n        if(on){\n          circle.setAttribute('stroke','#fde68a');\n          circle.setAttribute('stroke-width','2');\n        } else {\n          circle.setAttribute('stroke','rgba(255,255,255,0.06)');\n          circle.setAttribute('stroke-width','1');\n        }\n      }\n\n      function renderAdjList(){\n        // Build adjacency list based on directed flag\n        const directed = directedCheckbox.checked;\n        const adj = {};\n        graph.nodes.forEach(n => adj[n.id] = []);\n        graph.edges.forEach(e => {\n          const entry = { to: e.to, weight: e.weight };\n          adj[e.from].push(entry);\n          if(!directed){\n            // undirected: add reverse\n            adj[e.to].push({ to: e.from, weight: e.weight });\n          }\n        });\n        // Produce pretty text\n        const lines = [];\n        graph.nodes.forEach(n => {\n          const entries = adj[n.id].map(en => {\n            const label = graph.nodes.find(x=>x.id===en.to)?.label || en.to;\n            return en.weight !== undefined && en.weight !== null ? `${label}(${en.to}, w=${en.weight})` : `${label}(${en.to})`;\n          });\n          lines.push(`${n.label} (${n.id}): [ ${entries.join(', ')} ]`);\n        });\n        adjText.textContent = lines.length ? lines.join('\\n') : '(empty)';\n      }\n\n      // Interactions\n      svg.addEventListener('click', (e)=>{\n        // click on background -> add node\n        if(state.modeAddEdge){\n          // if in edge mode clicking empty cancels any in-progress edge selection\n          if(state.edgeFrom !== null){\n            highlightNode(state.edgeFrom, false);\n            state.edgeFrom = null;\n          }\n          return;\n        }\n        const pt = getMousePos(e);\n        addNodeAt(pt.x, pt.y);\n      });\n\n      window.addEventListener('mousemove', (e)=>{\n        if(state.dragging !== null){\n          const pt = getMousePos(e);\n          const node = graph.nodes.find(n => n.id === state.dragging);\n          if(node){\n            node.x = Math.max(30, Math.min(970, pt.x + state.dragOffset.x));\n            node.y = Math.max(30, Math.min(670, pt.y + state.dragOffset.y));\n            render();\n          }\n        }\n      });\n\n      window.addEventListener('mouseup', (e)=>{\n        state.dragging = null;\n      });\n\n      function getMousePos(evt){\n        const rect = svg.getBoundingClientRect();\n        // Map to viewBox coordinates (svg viewBox is 0 0 1000 700)\n        const viewBoxWidth = 1000, viewBoxHeight = 700;\n        const x = (evt.clientX - rect.left) * (viewBoxWidth / rect.width);\n        const y = (evt.clientY - rect.top) * (viewBoxHeight / rect.height);\n        return { x,y };\n      }\n\n      function addNodeAt(x,y,label){\n        const id = state.nextNodeId++;\n        const lab = label || ('N'+id);\n        graph.nodes.push({ id, label: lab, x, y });\n        render();\n      }\n\n      function createEdge(from, to, weight){\n        // Prevent duplicate exact edge (for directed). For undirected, keep single pair existence.\n        const exists = graph.edges.some(e => {\n          if(directedCheckbox.checked){\n            return e.from === from && e.to === to;\n          } else {\n            return (e.from === from && e.to === to) || (e.from === to && e.to === from);\n          }\n        });\n        if(exists){\n          alert('Edge already exists between those nodes.');\n          return;\n        }\n        let w = null;\n        if(weight !== undefined){\n          w = weight;\n        } else if(weightedCheckbox.checked){\n          const val = prompt('Enter weight (number or text):', '1');\n          if(val === null) return; // cancel\n          w = isNaN(Number(val)) ? val : Number(val);\n        }\n        const edge = { id: state.nextEdgeId++, from, to, weight: w };\n        graph.edges.push(edge);\n        render();\n      }\n\n      function selectNode(id){\n        state.selectedNodeId = (state.selectedNodeId === id) ? null : id;\n        state.selectedEdgeId = null;\n        render();\n      }\n\n      function selectEdge(id){\n        state.selectedEdgeId = (state.selectedEdgeId === id) ? null : id;\n        state.selectedNodeId = null;\n        render();\n      }\n\n      deleteSelectedBtn.addEventListener('click', ()=>{\n        if(state.selectedNodeId === null){\n          alert('No node selected.');\n          return;\n        }\n        // remove node and edges touching it\n        const nid = state.selectedNodeId;\n        graph.nodes = graph.nodes.filter(n => n.id !== nid);\n        graph.edges = graph.edges.filter(e => e.from !== nid && e.to !== nid);\n        state.selectedNodeId = null;\n        render();\n      });\n\n      deleteEdgeBtn.addEventListener('click', ()=>{\n        if(state.selectedEdgeId === null){\n          alert('No edge selected.');\n          return;\n        }\n        const eid = state.selectedEdgeId;\n        graph.edges = graph.edges.filter(e => e.id !== eid);\n        state.selectedEdgeId = null;\n        render();\n      });\n\n      modeAddEdgeBtn.addEventListener('click', ()=>{\n        state.modeAddEdge = !state.modeAddEdge;\n        modeAddEdgeBtn.classList.toggle('active', state.modeAddEdge);\n        if(!state.modeAddEdge){\n          if(state.edgeFrom !== null){\n            highlightNode(state.edgeFrom, false);\n            state.edgeFrom = null;\n          }\n        }\n      });\n\n      clearBtn.addEventListener('click', ()=>{\n        if(!confirm('Clear the entire graph?')) return;\n        graph.nodes = [];\n        graph.edges = [];\n        state.nextNodeId = 1;\n        state.nextEdgeId = 1;\n        state.selectedNodeId = null;\n        state.selectedEdgeId = null;\n        state.edgeFrom = null;\n        render();\n      });\n\n      directedCheckbox.addEventListener('change', render);\n      weightedCheckbox.addEventListener('change', ()=>{/* nothing special */});\n\n      sampleBtn.addEventListener('click', ()=>{\n        // small sample graph\n        graph = { nodes: [], edges: [] };\n        state.nextNodeId = 1;\n        state.nextEdgeId = 1;\n        addNodeAt(200,110,'A'); addNodeAt(380,90,'B'); addNodeAt(540,160,'C');\n        addNodeAt(300,280,'D'); addNodeAt(520,300,'E');\n        // add edges\n        createEdge(1,2); createEdge(2,3); createEdge(1,4); createEdge(4,5); createEdge(3,5);\n      });\n\n      autoLayoutBtn.addEventListener('click', ()=>{\n        // Simple circular layout\n        const n = graph.nodes.length;\n        if(n===0) return;\n        const cx = 500, cy = 350, r = Math.min(260, n*25);\n        graph.nodes.forEach((node,i)=> {\n          const a = (i / n) * Math.PI * 2;\n          node.x = cx + Math.cos(a) * r;\n          node.y = cy + Math.sin(a) * r;\n        });\n        render();\n      });\n\n      exportBtn.addEventListener('click', ()=>{\n        const json = JSON.stringify(graph, null, 2);\n        // copy to clipboard\n        navigator.clipboard?.writeText(json).then(()=> {\n          alert('Graph JSON copied to clipboard.');\n        }).catch(()=> {\n          // fallback\n          prompt('Copy this JSON', json);\n        });\n      });\n\n      importBtn.addEventListener('click', ()=>{\n        const txt = prompt('Paste graph JSON (nodes & edges arrays):');\n        if(!txt) return;\n        try{\n          const obj = JSON.parse(txt);\n          if(!Array.isArray(obj.nodes) || !Array.isArray(obj.edges)) throw new Error('Invalid format');\n          graph = { nodes: obj.nodes.map(n=>({...n})), edges: obj.edges.map(e=>({...e})) };\n          // set next ids\n          state.nextNodeId = (graph.nodes.reduce((m,n)=>Math.max(m,n.id),0) || 0) + 1;\n          state.nextEdgeId = (graph.edges.reduce((m,e)=>Math.max(m,e.id),0) || 0) + 1;\n          render();\n        }catch(err){\n          alert('Failed to import JSON: ' + err.message);\n        }\n      });\n\n      // Keyboard support: Delete key to remove selected node/edge\n      window.addEventListener('keydown', (e)=>{\n        if(e.key === 'Delete' || e.key === 'Backspace'){\n          if(state.selectedNodeId !== null){\n            deleteSelectedBtn.click();\n          }else if(state.selectedEdgeId !== null){\n            deleteEdgeBtn.click();\n          }\n        }\n        if(e.key === 'e' || e.key === 'E'){\n          // toggle edge mode\n          modeAddEdgeBtn.click();\n        }\n      });\n\n      // Small utilities: click on adjacency list line selects node\n      adjText.addEventListener('click', (e)=>{\n        // find closest label like \"N3 (3):\"\n        // Not necessary to implement heavy parsing; but we can detect digits\n        const sel = window.getSelection().toString();\n        if(!sel) return;\n        const m = sel.match(/\\((\\d+)\\)/);\n        if(m){\n          const id = Number(m[1]);\n          selectNode(id);\n        }\n      });\n\n      // Initialize\n      render();\n\n      // Make sure viewBox is correct size\n      svg.setAttribute('viewBox','0 0 1000 700');\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Adjacency List"
    }
  ],
  "topic": "Adjacency List",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}