<!DOCTYPE html>
Here's a detailed design for an interactive module on the bubble sort algorithm using HTML, CSS, and JavaScript. The design includes a concept title, learning objectives, interaction design, and layout description. 

### Interactive HTML Page Design for Bubble Sort

#### Concept Title: 
**Visualizing Bubble Sort**

#### Learning Objective:
After interacting with this module, users will understand the bubble sort algorithm's mechanics and see how it progressively arranges an unsorted list of numbers into sorted order through visual animations. 

---

#### Interaction Design:
1. **Start Button**: When users click the "Start Sorting" button, the unsorted array will animate as it sorts using the bubble sort algorithm. Each comparison and swap will be visually indicated with animations.
   
2. **Reset Button**: Clicking the "Reset" button will reset the array to its original unsorted state, allowing users to visualize the sorting process from the beginning.

3. **Dynamic Array Generation**: Users can click the "Generate New Array" button to create a new unsorted array with random numbers. This feature encourages repeated interaction.

4. **Visual Feedback**: 
   - Each number in the array will be represented by a vertical bar. 
   - When numbers are compared, the bars will momentarily change color. 
   - Swapped bars will animate their heights to provide a clear visual of the swap.
   - An incrementing counter will display the number of iterations that have taken place during the sort process.

---

#### Layout Description:
- **Viewport Dimensions**: The module will be responsive to different screen sizes, ensuring usability on both desktop and mobile devices.
- **Safe Area Margins**: 24 px margins will keep the content away from the edges.
- **Element Spacing**: A minimum spacing of 16 px will ensure clarity between buttons and visual elements.

**Layout Structure**: 
```html
<div class="container">
    <h1 class="title">Visualizing Bubble Sort</h1>
    <p class="objective">Watch how the bubble sort algorithm sorts an array step-by-step!</p>
    
    <div class="array-container" id="arrayContainer"></div>
    
    <div class="controls">
        <button id="generateButton">Generate New Array</button>
        <button id="startButton">Start Sorting</button>
        <button id="resetButton">Reset</button>
    </div>
    
    <p class="iteration-counter">Iterations: <span id="counter">0</span></p>
</div>
```

#### CSS Styling:
```css
body {
    font-family: Arial, sans-serif;
    background-color: #f0f4f8;
    margin: 0;
}
.container {
    margin: 24px;
    text-align: center;
}
.title {
    font-size: 24px;
    color: #333;
}
.objective {
    font-size: 18px;
}
.array-container {
    margin: 16px 0;
    display: flex;
    justify-content: center;
}
.bar {
    width: 20px;
    margin: 0 5px;
    background-color: #4CAF50;
}
.controls {
    margin: 16px 0;
}
button {
    padding: 10px 15px;
    margin: 0 8px;
    border: none;
    border-radius: 5px;
    background-color: #007BFF;
    color: white;
    cursor: pointer;
}
button:hover {
    background-color: #0056b3;
}
.iteration-counter {
    font-size: 16px;
    color: #555;
}
```

#### JavaScript Functionality:
```javascript
let array = [];
const arrayContainer = document.getElementById('arrayContainer');
const startButton = document.getElementById('startButton');
const resetButton = document.getElementById('resetButton');
const generateButton = document.getElementById('generateButton');
const counterDisplay = document.getElementById('counter');

function generateArray(size = 10) {
    array = Array.from({length: size}, () => Math.floor(Math.random() * 100));
    renderArray();
}

function renderArray() {
    arrayContainer.innerHTML = '';
    array.forEach(num => {
        const bar = document.createElement('div');
        bar.style.height = `${num * 3}px`;
        bar.className = 'bar';
        arrayContainer.appendChild(bar);
    });
}

async function bubbleSort() {
    let iterations = 0;
    const len = array.length;
    
    for(let i = 0; i < len; i++) {
        for(let j = 0; j < len - 1; j++) {
            iterations++;
            updateCounter(iterations);
            if (array[j] > array[j + 1]) {
                [array[j], array[j + 1]] = [array[j + 1], array[j]]; // Swap
                renderArray();
                await new Promise(resolve => setTimeout(resolve, 500)); // Animation delay
            }
        }
    }
}

function updateCounter(count) {
    counterDisplay.innerText = count;
}

generateButton.addEventListener('click', () => generateArray());
startButton.addEventListener('click', () => bubbleSort());
resetButton.addEventListener('click', () => renderArray());

// Initialize page
generateArray();
```

### Final Note
This design combines a clear explanation of the bubble sort algorithm with interactive visualizations, making it engaging and educational for users. The use of animations and dynamic updates reinforces the concept, helping users to grasp the algorithmic process of bubble sort effectively. The design maintains good accessibility and responsiveness, ensuring a broad usability spectrum.

  <script id="fsm" type="application/json">
    {
  "topic": "Interactive Application",
  "description": "Finite state machine for visualizing the bubble sort algorithm through interactive animations.",
  "states": [
    {
      "name": "idle",
      "onEnter": "generateArray",
      "onExit": null,
      "on": {
        "GENERATE_NEW_ARRAY": "array_generated",
        "START_SORTING": "sorting",
        "RESET": "array_reset"
      }
    },
    {
      "name": "array_generated",
      "onEnter": "renderArray",
      "onExit": null,
      "on": {
        "START_SORTING": "sorting",
        "RESET": "array_reset"
      }
    },
    {
      "name": "sorting",
      "onEnter": "bubbleSort",
      "onExit": null,
      "on": {
        "RESET": "array_reset",
        "SORT_COMPLETE": "done"
      }
    },
    {
      "name": "array_reset",
      "onEnter": "generateArray",
      "onExit": null,
      "on": {
        "GENERATE_NEW_ARRAY": "array_generated",
        "START_SORTING": "sorting"
      }
    },
    {
      "name": "done",
      "onEnter": null,
      "onExit": null,
      "on": {
        "GENERATE_NEW_ARRAY": "array_generated",
        "RESET": "array_reset"
      }
    }
  ],
  "events": [
    "GENERATE_NEW_ARRAY",
    "START_SORTING",
    "RESET",
    "SORT_COMPLETE"
  ],
  "notes": "The FSM captures the states of the bubble sort visualization, including idle state, array generation, sorting process, reset functionality, and completion of sorting."
}
  </script>
</body>
</html>