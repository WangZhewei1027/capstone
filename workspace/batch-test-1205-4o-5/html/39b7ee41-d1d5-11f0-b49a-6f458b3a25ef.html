<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radix Sort Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
            padding: 20px;
        }
        #sort-btn {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        #array {
            margin: 20px 0;
            font-size: 20px;
        }
        .bar {
            display: inline-block;
            margin: 0 2px;
            background-color: #4CAF50;
            transition: height 0.5s;
        }
    </style>
</head>
<body>

<h1>Radix Sort Visualization</h1>
<div id="array"></div>
<button id="sort-btn">Sort Array</button>

<script>
    const arrayLength = 10;
    let array = [];

    // Generate random array
    function generateArray() {
        array = [];
        for (let i = 0; i < arrayLength; i++) {
            array.push(Math.floor(Math.random() * 100));
        }
        displayArray();
    }

    // Display array as bars
    function displayArray() {
        const arrayDiv = document.getElementById("array");
        arrayDiv.innerHTML = "";
        array.forEach(value => {
            const bar = document.createElement("div");
            bar.classList.add("bar");
            bar.style.height = value * 2 + "px"; // Scale height
            bar.style.width = "20px";
            arrayDiv.appendChild(bar);
        });
    }

    // Get maximum value in array
    function getMax(arr) {
        return Math.max(...arr);
    }

    // Counting sort based on digit represented by exp
    function countingSort(arr, exp) {
        const output = new Array(arr.length);
        const count = new Array(10).fill(0);

        // Store count of occurrences in count[]
        for (let i = 0; i < arr.length; i++) {
            count[Math.floor((arr[i] / exp) % 10)]++;
        }

        // Change count[i] so that count[i] now contains actual position of this digit in output[]
        for (let i = 1; i < 10; i++) {
            count[i] += count[i - 1];
        }

        // Build the output array
        for (let i = arr.length - 1; i >= 0; i--) {
            output[count[Math.floor((arr[i] / exp) % 10)] - 1] = arr[i];
            count[Math.floor((arr[i] / exp) % 10)]--;
        }

        // Copy the output array to arr, so that arr now contains sorted numbers
        for (let i = 0; i < arr.length; i++) {
            arr[i] = output[i];
        }
    }

    // Main function that implements Radix Sort
    function radixSort(arr) {
        const max = getMax(arr);

        // Do counting sort for every digit
        for (let exp = 1; Math.floor(max / exp) > 0; exp *= 10) {
            countingSort(arr, exp);
            displayArray(); // Update the display after sorting each digit
        }
    }

    // Sort button click event
    document.getElementById("sort-btn").addEventListener("click", () => {
        radixSort(array);
    });

    // Generate the initial array
    generateArray();
</script>

</body>
</html>