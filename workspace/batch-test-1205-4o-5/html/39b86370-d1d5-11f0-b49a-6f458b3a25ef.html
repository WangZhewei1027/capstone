<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floyd-Warshall Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        table {
            border-collapse: collapse;
            margin: 20px auto;
        }
        table, th, td {
            border: 1px solid black;
            padding: 10px;
        }
        th {
            background-color: #f2f2f2;
        }
        #resultTable {
            display: none;
        }
    </style>
</head>
<body>

<h1>Floyd-Warshall Algorithm Visualization</h1>
<p>Enter the adjacency matrix (use 'Infinity' for no connection):</p>
<textarea id="matrixInput" rows="10" cols="30">0 3 Infinity 7
Infinity 0 1 2
Infinity Infinity 0 3
4 Infinity Infinity 0</textarea>
<br>
<button onclick="runFloydWarshall()">Run Floyd-Warshall Algorithm</button>
<br>
<h2>Resulting Shortest Path Matrix:</h2>
<table id="resultTable"></table>

<script>
    function parseInput(input) {
        return input.split('\n').map(row => 
            row.split(' ').map(num => num === 'Infinity' ? Infinity : Number(num))
        );
    }

    function floydWarshall(graph) {
        const V = graph.length;
        // Initialize the distance matrix
        let dist = [...Array(V)].map((_, i) => [...graph[i]]);
        
        for (let k = 0; k < V; k++) {
            for (let i = 0; i < V; i++) {
                for (let j = 0; j < V; j++) {
                    if (dist[i][k] === Infinity || dist[k][j] === Infinity) continue;
                    dist[i][j] = Math.min(dist[i][j], dist[i][k] + dist[k][j]);
                }
            }
        }
        return dist;
    }

    function displayResult(matrix) {
        const table = document.getElementById('resultTable');
        table.innerHTML = ''; // Clear previous result
        let headerRow = '<tr><th></th>';
        for (let i = 0; i < matrix.length; i++) {
            headerRow += `<th>${i}</th>`;
        }
        headerRow += '</tr>';
        table.innerHTML += headerRow;

        for (let i = 0; i < matrix.length; i++) {
            let row = `<tr><th>${i}</th>`;
            for (let j = 0; j < matrix.length; j++) {
                row += `<td>${matrix[i][j] === Infinity ? 'âˆž' : matrix[i][j]}</td>`;
            }
            row += '</tr>';
            table.innerHTML += row;
        }
        table.style.display = 'table';
    }

    function runFloydWarshall() {
        const input = document.getElementById('matrixInput').value;
        const graph = parseInput(input);
        const result = floydWarshall(graph);
        displayResult(result);
    }
</script>

</body>
</html>