<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huffman Coding Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #inputText {
            width: 100%;
            height: 50px;
        }
        #result {
            margin-top: 20px;
            white-space: pre-wrap;
        }
        .node {
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>Huffman Coding Visualizer</h1>
<textarea id="inputText" placeholder="Enter text here..."></textarea><br/>
<button onclick="generateHuffman()">Generate Huffman Codes</button>

<h2>Huffman Codes:</h2>
<div id="result"></div>

<script>
    class Node {
        constructor(char, freq) {
            this.char = char;
            this.freq = freq;
            this.left = null;
            this.right = null;
        }
    }

    function buildHuffmanTree(freqMap) {
        const nodes = Object.entries(freqMap).map(([char, freq]) => new Node(char, freq));
        nodes.sort((a, b) => a.freq - b.freq);

        while (nodes.length > 1) {
            const left = nodes.shift();
            const right = nodes.shift();
            const merged = new Node(null, left.freq + right.freq);
            merged.left = left;
            merged.right = right;
            nodes.push(merged);
            nodes.sort((a, b) => a.freq - b.freq);
        }

        return nodes[0]; // Root of the tree
    }

    function generateCodes(node, code = '', codes = {}) {
        if (!node) return;
        if (node.char) {
            codes[node.char] = code;
        }
        generateCodes(node.left, code + '0', codes);
        generateCodes(node.right, code + '1', codes);
        return codes;
    }

    function generateHuffman() {
        const text = document.getElementById('inputText').value;
        const freqMap = {};

        // Build frequency map
        for (const char of text) {
            freqMap[char] = (freqMap[char] || 0) + 1;
        }

        // Build Huffman Tree
        const huffmanTree = buildHuffmanTree(freqMap);

        // Generate Huffman Codes
        const huffmanCodes = generateCodes(huffmanTree);

        // Display result
        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = JSON.stringify(huffmanCodes, null, 2);  // Format the output
    }
</script>

</body>
</html>