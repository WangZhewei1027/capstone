<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kruskal's Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        #graph {
            border: 1px solid #ccc;
            height: 400px;
            margin: 20px 0;
            position: relative;
        }
        .edge {
            position: absolute;
            background-color: blue;
            opacity: 0.6;
        }
        .highlight {
            background-color: red;
            opacity: 1;
        }
        #controls {
            margin: 10px 0;
        }
    </style>
</head>
<body>

<h1>Kruskal's Algorithm Visualization</h1>
<div id="graph"></div>
<div id="controls">
    <button onclick="runKruskal()">Run Kruskal's Algorithm</button>
</div>
<pre id="output"></pre>

<script>
const edges = [
    { start: { x: 50, y: 50 }, end: { x: 200, y: 100 }, weight: 10 },
    { start: { x: 200, y: 100 }, end: { x: 100, y: 200 }, weight: 15 },
    { start: { x: 50, y: 50 }, end: { x: 150, y: 50 }, weight: 5 },
    { start: { x: 150, y: 50 }, end: { x: 200, y: 100 }, weight: 20 },
    { start: { x: 100, y: 200 }, end: { x: 220, y: 150 }, weight: 25 },
    { start: { x: 150, y: 50 }, end: { x: 250, y: 200 }, weight: 30 },
];

function setupGraph() {
    const graph = document.getElementById('graph');
    edges.forEach((edge, index) => {
        const edgeDiv = document.createElement('div');
        edgeDiv.classList.add('edge');
        edgeDiv.style.width = '2px';
        edgeDiv.style.height = (edge.weight * 2) + 'px';
        edgeDiv.style.transform = `rotate(${Math.atan2(edge.end.y - edge.start.y, edge.end.x - edge.start.x) * 180 / Math.PI}deg)`;
        edgeDiv.style.left = edge.start.x + 'px';
        edgeDiv.style.top = edge.start.y + 'px';
        edgeDiv.dataset.weight = edge.weight;
        edgeDiv.dataset.index = index;
        graph.appendChild(edgeDiv);
    });
}

function find(parent, i) {
    if (parent[i] === -1) {
        return i;
    }
    return find(parent, parent[i]);
}

function union(parent, x, y) {
    const xset = find(parent, x);
    const yset = find(parent, y);
    parent[xset] = yset;
}

function runKruskal() {
    const output = document.getElementById('output');
    const result = [];
    const parent = Array(edges.length).fill(-1);

    // Sort edges by weight
    const sortedEdges = edges.slice().sort((a, b) => a.weight - b.weight);

    for (let edge of sortedEdges) {
        const startIndex = edges.indexOf(edge);
        const endIndex = edges.indexOf(edge);
        
        const x = find(parent, startIndex);
        const y = find(parent, endIndex);
        
        if (x !== y) {
            result.push(edge);
            union(parent, x, y);
            const edgeDivs = document.querySelectorAll('.edge');
            edgeDivs[startIndex].classList.add('highlight');
            output.innerHTML += `Selected edge: (${edge.start.x}, ${edge.start.y}) to (${edge.end.x}, ${edge.end.y}) with weight: ${edge.weight}\n`;
        }
    }
}

setupGraph();
</script>
</body>
</html>