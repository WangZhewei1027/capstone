{
  "id": "d79c5281-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:43:59.715Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Adjacency Matrix",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Adjacency Matrix Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f0f4f8;\n  }\n  h1 {\n    text-align: center;\n    color: #333;\n  }\n  #graph-input {\n    max-width: 500px;\n    margin: 0 auto 1rem auto;\n    padding: 1rem;\n    background: white;\n    border-radius: 5px;\n    box-shadow: 0 0 10px rgb(0 0 0 / 0.1);\n  }\n  label {\n    font-weight: bold;\n  }\n  textarea {\n    width: 100%;\n    min-height: 100px;\n    font-family: monospace;\n    font-size: 14px;\n    margin-bottom: 0.5rem;\n    resize: vertical;\n    padding: 0.5rem;\n  }\n  button {\n    display: block;\n    width: 100%;\n    padding: 0.5rem;\n    font-size: 16px;\n    background: #007bff;\n    border: none;\n    color: white;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n  button:hover {\n    background: #0056b3;\n  }\n  #output {\n    max-width: 700px;\n    margin: 2rem auto;\n    text-align: center;\n  }\n  table {\n    margin: 0 auto;\n    border-collapse: collapse;\n    background: white;\n    box-shadow: 0 0 10px rgb(0 0 0 / 0.1);\n  }\n  th, td {\n    border: 1px solid #888;\n    padding: 6px 10px;\n    text-align: center;\n    min-width: 30px;\n  }\n  th {\n    background-color: #1976d2;\n    color: white;\n  }\n  caption {\n    caption-side: bottom;\n    margin-top: 0.5rem;\n    font-style: italic;\n    color: #555;\n  }\n  #error-message {\n    color: red;\n    font-weight: bold;\n    margin-top: 1rem;\n  }\n</style>\n</head>\n<body>\n<h1>Adjacency Matrix Visualization</h1>\n\n<div id=\"graph-input\">\n  <label for=\"edges\">Enter edges of the graph:</label>\n  <p style=\"font-size: 0.9rem; color: #555; margin-top: 0;\">Input format: One edge per line with nodes separated by a space or comma.<br>\n  Example:<br>\n  A B<br>\n  A C<br>\n  B C<br>\n  C D</p>\n  <textarea id=\"edges\" placeholder=\"Example edges:&#10A B&#10A C&#10B C&#10C D\"></textarea>\n  <button id=\"generate-btn\">Generate Adjacency Matrix</button>\n  <div id=\"error-message\"></div>\n</div>\n\n<div id=\"output\"></div>\n\n<script>\n(() => {\n  const edgesInput = document.getElementById(\"edges\");\n  const generateBtn = document.getElementById(\"generate-btn\");\n  const outputDiv = document.getElementById(\"output\");\n  const errorDiv = document.getElementById(\"error-message\");\n\n  /**\n   * Parses text input to extract edges.\n   * Accepts lines like: \"A B\" or \"A,B\" or \"A   B\"\n   * Returns list of edges as pairs of nodes (strings).\n   */\n  function parseEdges(text) {\n    const lines = text.split(\"\\n\");\n    const edges = [];\n    for (let line of lines) {\n      line = line.trim();\n      if (line === \"\") continue;\n      // split by space or comma, filter empty parts\n      const parts = line.split(/[\\s,]+/).filter(p => p !== \"\");\n      if (parts.length !== 2) {\n        throw new Error(`Invalid edge format: \"${line}\". Each line must contain exactly two nodes.`);\n      }\n      edges.push([parts[0], parts[1]]);\n    }\n    return edges;\n  }\n\n  /**\n   * Creates an adjacency matrix from edges.\n   * Returns object: { matrix: 2D array, nodes: array of node labels }\n   * Assumes undirected graph.\n   */\n  function createAdjacencyMatrix(edges) {\n    // Collect unique nodes\n    const nodeSet = new Set();\n    for (const [a,b] of edges) {\n      nodeSet.add(a);\n      nodeSet.add(b);\n    }\n    const nodes = Array.from(nodeSet).sort((a,b) =>\n      a.toString().localeCompare(b.toString(), undefined, {numeric: true})\n    );\n    const n = nodes.length;\n    // Create index map for nodes\n    const nodeIndex = {};\n    nodes.forEach((node, i) => nodeIndex[node] = i);\n    // Initialize matrix with zeros\n    const matrix = Array.from({length: n}, () => Array(n).fill(0));\n    // Fill matrix\n    for (const [a,b] of edges) {\n      const i = nodeIndex[a];\n      const j = nodeIndex[b];\n      matrix[i][j] = 1;\n      matrix[j][i] = 1; // undirected\n    }\n    return {matrix, nodes};\n  }\n\n  /**\n   * Render adjacency matrix as an HTML table.\n   */\n  function renderMatrix(matrix, nodes) {\n    const n = nodes.length;\n    const table = document.createElement(\"table\");\n\n    // Header row\n    const headerRow = document.createElement(\"tr\");\n    const topLeftCell = document.createElement(\"th\");\n    topLeftCell.textContent = \"\";\n    headerRow.appendChild(topLeftCell);\n    for (let node of nodes) {\n      const th = document.createElement(\"th\");\n      th.textContent = node;\n      headerRow.appendChild(th);\n    }\n    table.appendChild(headerRow);\n\n    // Rows\n    for (let i = 0; i < n; i++) {\n      const row = document.createElement(\"tr\");\n      const rowHeader = document.createElement(\"th\");\n      rowHeader.textContent = nodes[i];\n      row.appendChild(rowHeader);\n\n      for (let j = 0; j < n; j++) {\n        const td = document.createElement(\"td\");\n        td.textContent = matrix[i][j];\n        row.appendChild(td);\n      }\n      table.appendChild(row);\n    }\n    return table;\n  }\n\n  /**\n   * Main function to handle generation.\n   */\n  function generate() {\n    errorDiv.textContent = \"\";\n    outputDiv.innerHTML = \"\";\n    const input = edgesInput.value.trim();\n    if (input === \"\") {\n      errorDiv.textContent = \"Please enter at least one edge.\";\n      return;\n    }\n\n    try {\n      const edges = parseEdges(input);\n      const {matrix, nodes} = createAdjacencyMatrix(edges);\n      const table = renderMatrix(matrix, nodes);\n      outputDiv.appendChild(table);\n\n      // Additional info caption\n      const caption = document.createElement(\"caption\");\n      caption.textContent = \"Adjacency Matrix (1 indicates an edge between nodes, 0 otherwise)\";\n      table.appendChild(caption);\n\n    } catch (err) {\n      errorDiv.textContent = err.message;\n    }\n  }\n\n  generateBtn.addEventListener(\"click\", generate);\n\n  // Pre-fill example edges for demonstration\n  edgesInput.value = `A B\nA C\nB C\nC D`;\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Adjacency Matrix"
    }
  ],
  "topic": "Adjacency Matrix",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}