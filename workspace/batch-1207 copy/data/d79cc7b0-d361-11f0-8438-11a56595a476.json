{
  "id": "d79cc7b0-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:44:03.647Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Merge Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Merge Sort Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 25px;\n    background: #f0f4f8;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n    color: #2c3e50;\n  }\n  #input-area {\n    max-width: 600px;\n    margin: 0 auto 20px auto;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n    justify-content: center;\n  }\n  #array-input {\n    flex: 1 1 300px;\n    padding: 8px;\n    font-size: 1rem;\n  }\n  button {\n    padding: 8px 15px;\n    font-size: 1rem;\n    cursor:pointer;\n    border: none;\n    border-radius: 4px;\n    background-color: #2980b9;\n    color: white;\n    transition: background-color 0.3s ease;\n  }\n  button:disabled {\n    background-color: #7fb3d5;\n    cursor: default;\n  }\n  button:hover:not(:disabled) {\n    background-color: #1b4f72;\n  }\n  #steps {\n    max-width: 700px;\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 2px 15px rgb(0 0 0 / 0.1);\n    margin: 0 auto;\n    padding: 20px;\n    overflow-wrap: break-word;\n  }\n  .step {\n    background: #ecf0f1;\n    padding: 8px 12px;\n    border-radius: 5px;\n    margin-bottom: 10px;\n    font-family: 'Courier New', Courier, monospace;\n    white-space: pre-wrap;\n  }\n  .highlight {\n    background-color: #d4efdf;\n    border-left: 4px solid #27ae60;\n    padding-left: 8px;\n  }\n  #final-result {\n    font-weight: bold;\n    font-size: 1.2rem;\n    text-align: center;\n    margin-top: 15px;\n    color: #27ae60;\n  }\n  small {\n    display: block;\n    margin-top: 15px;\n    color: #666;\n  }\n</style>\n</head>\n<body>\n<h1>Merge Sort Visualization & Demo</h1>\n<div id=\"input-area\">\n  <input\n    type=\"text\"\n    id=\"array-input\"\n    placeholder=\"Enter numbers separated by commas, e.g. 5,3,8,4,2\"\n    aria-label=\"Input array\"\n  />\n  <button id=\"sort-button\">Sort</button>\n</div>\n<div id=\"steps\" aria-live=\"polite\" aria-atomic=\"true\">Enter an array above and click \"Sort\" to see merge sort steps.</div>\n<small>Note: You can input any sequence of integers separated by commas or spaces.</small>\n\n<script>\n(function() {\n  const input = document.getElementById('array-input');\n  const sortBtn = document.getElementById('sort-button');\n  const stepsDiv = document.getElementById('steps');\n\n  // Parse user input string into array of integers or null if invalid\n  function parseInput(str) {\n    // Accept commas, spaces, or both as separators:\n    const parts = str.trim().split(/[\\s,]+/);\n    const numbers = [];\n    for(let p of parts){\n      if(p === '') continue;\n      const num = Number(p);\n      if(Number.isNaN(num)) return null;\n      numbers.push(num);\n    }\n    return numbers;\n  }\n\n  // Merge function that merges two sorted arrays into one sorted array\n  // Extra parameter 'steps' collects textual steps for demonstration\n  function merge(left, right, steps) {\n    let merged = [];\n    let i = 0, j = 0;\n    steps.push(`Merging:\\n  left:  [${left.join(', ')}]\\n  right: [${right.join(', ')}]`);\n    while(i < left.length && j < right.length) {\n      if(left[i] <= right[j]){\n        merged.push(left[i]);\n        i++;\n      } else {\n        merged.push(right[j]);\n        j++;\n      }\n    }\n    // Append remaining items\n    while(i < left.length) {\n      merged.push(left[i]);\n      i++;\n    }\n    while(j < right.length) {\n      merged.push(right[j]);\n      j++;\n    }\n\n    steps.push(`Result after merge: [${merged.join(', ')}]\\n`);\n    return merged;\n  }\n\n  // Recursive merge sort function\n  // Returns sorted array and pushes textual steps into steps array\n  function mergeSort(arr, steps, depth = 0) {\n    const indent = '  '.repeat(depth);\n    if(arr.length <= 1){\n      steps.push(`${indent}Array of length 1 or less, considered sorted: [${arr.join(', ')}]\\n`);\n      return arr;\n    }\n    const mid = Math.floor(arr.length / 2);\n    steps.push(`${indent}Splitting array: [${arr.join(', ')}] into:`);\n    const leftPart = arr.slice(0, mid);\n    const rightPart = arr.slice(mid);\n    steps.push(`${indent}  left:  [${leftPart.join(', ')}]`);\n    steps.push(`${indent}  right: [${rightPart.join(', ')}]\\n`);\n\n    const leftSorted = mergeSort(leftPart, steps, depth + 1);\n    const rightSorted = mergeSort(rightPart, steps, depth + 1);\n    const merged = merge(leftSorted, rightSorted, steps);\n    return merged;\n  }\n\n  // Render steps nicely in stepsDiv\n  function renderSteps(arr, sortedArr, steps) {\n    stepsDiv.innerHTML = '';\n    for(let s of steps){\n      const stepElem = document.createElement('div');\n      stepElem.className = 'step';\n      // Use <pre> formatting style by using white-space: pre-wrap, showing new lines\n      stepElem.textContent = s;\n      stepsDiv.appendChild(stepElem);\n    }\n    const finalElem = document.createElement('div');\n    finalElem.id = 'final-result';\n    finalElem.textContent = `Final sorted array: [${sortedArr.join(', ')}]`;\n    stepsDiv.appendChild(finalElem);\n  }\n\n  sortBtn.addEventListener('click', () => {\n    const rawInput = input.value;\n    const arr = parseInput(rawInput);\n    if(arr === null || arr.length === 0){\n      stepsDiv.textContent = 'Invalid input. Please enter a sequence of numbers separated by commas or spaces.';\n      return;\n    }\n\n    sortBtn.disabled = true;\n    input.disabled = true;\n    stepsDiv.textContent = 'Sorting... Please wait.';\n\n    // Use slight delay to show \"Sorting...\" message before computing\n    setTimeout(() => {\n      const steps = [];\n      const sortedArr = mergeSort(arr, steps);\n      renderSteps(arr, sortedArr, steps);\n      sortBtn.disabled = false;\n      input.disabled = false;\n    }, 50);\n  });\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Merge Sort"
    }
  ],
  "topic": "Merge Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}