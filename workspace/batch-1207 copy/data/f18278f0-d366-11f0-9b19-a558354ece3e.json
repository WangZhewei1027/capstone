{
  "id": "f18278f0-d366-11f0-9b19-a558354ece3e",
  "timestamp": "2025-12-07T12:22:08.781Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Linear Regression",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Linear Regression Visualizer</title>\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            max-width: 1000px;\n            margin: 0 auto;\n            background-color: white;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 0 10px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .controls {\n            margin: 20px 0;\n            padding: 15px;\n            background-color: #f8f9fa;\n            border-radius: 5px;\n        }\n        .chart-container {\n            position: relative;\n            height: 400px;\n            margin: 20px 0;\n        }\n        .results {\n            margin-top: 20px;\n            padding: 15px;\n            background-color: #e8f5e8;\n            border-radius: 5px;\n            font-family: monospace;\n        }\n        button {\n            background-color: #4CAF50;\n            color: white;\n            padding: 10px 15px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            margin: 5px;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        .data-points {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 10px;\n            margin: 10px 0;\n        }\n        .point-input {\n            display: flex;\n            gap: 5px;\n        }\n        input[type=\"number\"] {\n            width: 60px;\n            padding: 5px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Linear Regression Visualizer</h1>\n        \n        <div class=\"controls\">\n            <h3>Data Points</h3>\n            <div id=\"pointContainer\" class=\"data-points\">\n                <div class=\"point-input\">\n                    <input type=\"number\" class=\"x-input\" placeholder=\"X\" value=\"1\">\n                    <input type=\"number\" class=\"y-input\" placeholder=\"Y\" value=\"2\">\n                    <button onclick=\"removePoint(this)\">×</button>\n                </div>\n                <div class=\"point-input\">\n                    <input type=\"number\" class=\"x-input\" placeholder=\"X\" value=\"2\">\n                    <input type=\"number\" class=\"y-input\" placeholder=\"Y\" value=\"4\">\n                    <button onclick=\"removePoint(this)\">×</button>\n                </div>\n                <div class=\"point-input\">\n                    <input type=\"number\" class=\"x-input\" placeholder=\"X\" value=\"3\">\n                    <input type=\"number\" class=\"y-input\" placeholder=\"Y\" value=\"6\">\n                    <button onclick=\"removePoint(this)\">×</button>\n                </div>\n            </div>\n            <button onclick=\"addPoint()\">Add Point</button>\n            <button onclick=\"calculateRegression()\">Calculate Regression</button>\n            <button onclick=\"generateRandomData()\">Generate Random Data</button>\n            <button onclick=\"clearAll()\">Clear All</button>\n        </div>\n\n        <div class=\"chart-container\">\n            <canvas id=\"regressionChart\"></canvas>\n        </div>\n\n        <div id=\"results\" class=\"results\" style=\"display: none;\">\n            <h3>Regression Results</h3>\n            <div id=\"equation\"></div>\n            <div id=\"stats\"></div>\n        </div>\n\n        <div class=\"explanation\">\n            <h3>What is Linear Regression?</h3>\n            <p>Linear regression is a statistical method used to model the relationship between a dependent variable (Y) and one or more independent variables (X). It finds the line of best fit through the data points by minimizing the sum of squared errors.</p>\n            <p><strong>Formula:</strong> Y = mX + b</p>\n            <p>Where:\n                <ul>\n                    <li>m = slope of the line</li>\n                    <li>b = y-intercept</li>\n                </ul>\n            </p>\n        </div>\n    </div>\n\n    <script>\n        let chart = null;\n        let dataPoints = [];\n\n        // Initialize chart\n        function initChart() {\n            const ctx = document.getElementById('regressionChart').getContext('2d');\n            chart = new Chart(ctx, {\n                type: 'scatter',\n                data: {\n                    datasets: [{\n                        label: 'Data Points',\n                        data: [],\n                        backgroundColor: 'rgba(54, 162, 235, 0.8)',\n                        pointRadius: 8\n                    }, {\n                        label: 'Regression Line',\n                        data: [],\n                        type: 'line',\n                        borderColor: 'rgba(255, 99, 132, 1)',\n                        borderWidth: 2,\n                        pointRadius: 0,\n                        fill: false,\n                        showLine: true\n                    }]\n                },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    scales: {\n                        x: {\n                            type: 'linear',\n                            position: 'bottom',\n                            title: {\n                                display: true,\n                                text: 'X values'\n                            }\n                        },\n                        y: {\n                            title: {\n                                display: true,\n                                text: 'Y values'\n                            }\n                        }\n                    }\n                }\n            });\n            updateChartData();\n        }\n\n        // Update chart with current data points\n        function updateChartData() {\n            dataPoints = getDataPoints();\n            chart.data.datasets[0].data = dataPoints;\n            chart.update();\n        }\n\n        // Get data points from input fields\n        function getDataPoints() {\n            const points = [];\n            const pointInputs = document.querySelectorAll('.point-input');\n            \n            pointInputs.forEach(input => {\n                const xInput = input.querySelector('.x-input');\n                const yInput = input.querySelector('.y-input');\n                \n                if (xInput.value && yInput.value) {\n                    points.push({\n                        x: parseFloat(xInput.value),\n                        y: parseFloat(yInput.value)\n                    });\n                }\n            });\n            \n            return points;\n        }\n\n        // Calculate linear regression\n        function calculateRegression() {\n            const points = getDataPoints();\n            \n            if (points.length < 2) {\n                alert('Please add at least 2 data points');\n                return;\n            }\n\n            // Calculate means\n            const n = points.length;\n            const xSum = points.reduce((sum, point) => sum + point.x, 0);\n            const ySum = points.reduce((sum, point) => sum + point.y, 0);\n            const xMean = xSum / n;\n            const yMean = ySum / n;\n\n            // Calculate slope (m) and intercept (b)\n            let numerator = 0;\n            let denominator = 0;\n\n            points.forEach(point => {\n                numerator += (point.x - xMean) * (point.y - yMean);\n                denominator += (point.x - xMean) * (point.x - xMean);\n            });\n\n            const m = numerator / denominator;\n            const b = yMean - m * xMean;\n\n            // Calculate R-squared\n            let ssTotal = 0;\n            let ssResidual = 0;\n\n            points.forEach(point => {\n                const yPredicted = m * point.x + b;\n                ssTotal += Math.pow(point.y - yMean, 2);\n                ssResidual += Math.pow(point.y - yPredicted, 2);\n            });\n\n            const rSquared = 1 - (ssResidual / ssTotal);\n\n            // Update regression line\n            const minX = Math.min(...points.map(p => p.x));\n            const maxX = Math.max(...points.map(p => p.x));\n            \n            const lineData = [\n                { x: minX, y: m * minX + b },\n                { x: maxX, y: m * maxX + b }\n            ];\n\n            chart.data.datasets[1].data = lineData;\n            chart.update();\n\n            // Display results\n            document.getElementById('results').style.display = 'block';\n            document.getElementById('equation').innerHTML = \n                `<strong>Regression Equation:</strong> Y = ${m.toFixed(4)}X + ${b.toFixed(4)}`;\n            document.getElementById('stats').innerHTML = \n                `<strong>R-squared:</strong> ${rSquared.toFixed(4)}<br>\n                 <strong>Slope (m):</strong> ${m.toFixed(4)}<br>\n                 <strong>Intercept (b):</strong> ${b.toFixed(4)}<br>\n                 <strong>Number of points:</strong> ${n}`;\n        }\n\n        // Add new data point input\n        function addPoint() {\n            const container = document.getElementById('pointContainer');\n            const newPoint = document.createElement('div');\n            newPoint.className = 'point-input';\n            newPoint.innerHTML = `\n                <input type=\"number\" class=\"x-input\" placeholder=\"X\">\n                <input type=\"number\" class=\"y-input\" placeholder=\"Y\">\n                <button onclick=\"removePoint(this)\">×</button>\n            `;\n            container.appendChild(newPoint);\n        }\n\n        // Remove data point input\n        function removePoint(button) {\n            if (document.querySelectorAll('.point-input').length > 1) {\n                button.parentElement.remove();\n                updateChartData();\n            }\n        }\n\n        // Generate random data points\n        function generateRandomData() {\n            const container = document.getElementById('pointContainer');\n            container.innerHTML = '';\n            \n            for (let i = 0; i < 10; i++) {\n                const x = (Math.random() * 10).toFixed(2);\n                const y = (parseFloat(x) * 2 + Math.random() * 4 - 2).toFixed(2);\n                \n                const pointDiv = document.createElement('div');\n                pointDiv.className = 'point-input';\n                pointDiv.innerHTML = `\n                    <input type=\"number\" class=\"x-input\" placeholder=\"X\" value=\"${x}\">\n                    <input type=\"number\" class=\"y-input\" placeholder=\"Y\" value=\"${y}\">\n                    <button onclick=\"removePoint(this)\">×</button>\n                `;\n                container.appendChild(pointDiv);\n            }\n            updateChartData();\n        }\n\n        // Clear all data points\n        function clearAll() {\n            const container = document.getElementById('pointContainer');\n            container.innerHTML = '';\n            addPoint(); // Add one empty point\n            chart.data.datasets[1].data = [];\n            chart.update();\n            document.getElementById('results').style.display = 'none';\n        }\n\n        // Initialize when page loads\n        window.onload = function() {\n            initChart();\n            updateChartData();\n        };\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Linear Regression"
    }
  ],
  "topic": "Linear Regression",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}