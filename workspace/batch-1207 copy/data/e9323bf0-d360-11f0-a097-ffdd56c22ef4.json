{
  "id": "e9323bf0-d360-11f0-a097-ffdd56c22ef4",
  "timestamp": "2025-12-07T11:38:53.642Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Queue",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Queue Demonstration</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --panel:#0b1220;\n      --muted:#9aa6b2;\n      --accent:#4f46e5;\n      --accent-2:#06b6d4;\n      --good:#10b981;\n      --bad:#ef4444;\n      font-family: Inter, Roboto, system-ui, -apple-system, \"Segoe UI\", \"Helvetica Neue\", Arial;\n      color-scheme: dark;\n    }\n    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071025 0%, #051026 60%, #071029 100%);color:#e6eef6}\n    .wrap{\n      max-width:1100px;margin:28px auto;padding:22px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow: 0 6px 30px rgba(2,6,23,0.6);\n      border: 1px solid rgba(255,255,255,0.03);\n    }\n    h1{margin:0 0 6px;font-size:22px}\n    p.lead{margin:0 0 18px;color:var(--muted);font-size:13px}\n    .controls{\n      display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:18px;\n    }\n    .panel{\n      background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.01));\n      padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);display:flex;gap:12px;align-items:center;\n    }\n    input[type=\"number\"], input[type=\"text\"], select{\n      padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;width:160px;\n    }\n    button{\n      background:linear-gradient(180deg,var(--accent),#3b34c8);color:white;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600;\n      box-shadow:0 8px 18px rgba(79,70,229,0.12);\n    }\n    button.secondary{\n      background:transparent;color:var(--accent);border:1px solid rgba(79,70,229,0.12);box-shadow:none;font-weight:600;\n    }\n    button.warn{background:linear-gradient(180deg,var(--bad),#d33);box-shadow:none}\n    .main{\n      display:flex;gap:18px;align-items:flex-start;\n    }\n    .left{\n      flex:1;\n      min-width:420px;\n      padding:16px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));\n      border:1px solid rgba(255,255,255,0.02);\n    }\n    .right{\n      width:360px;min-width:280px;padding:16px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));\n      border:1px solid rgba(255,255,255,0.02);\n    }\n    .visual{\n      margin-top:8px;padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.008), rgba(255,255,255,0.005));\n      min-height:160px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;\n    }\n    .queue-row{\n      display:flex;gap:10px;align-items:center;transition:all 360ms ease;\n    }\n    .slot{\n      width:72px;height:56px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));\n      border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:15px;\n      color:#eaf2ff;position:relative;box-shadow: 0 6px 12px rgba(2,6,23,0.45);\n    }\n    .slot.empty{color:var(--muted);font-weight:600;font-size:13px;opacity:0.7}\n    .pointer{\n      position:absolute;top:-18px;padding:6px 8px;border-radius:8px;background:rgba(7,15,30,0.9);font-size:12px;color:var(--accent-2);border:1px solid rgba(6,182,212,0.12);box-shadow:0 6px 16px rgba(6,182,212,0.03);\n    }\n    .annotations{display:flex;gap:8px;align-items:center;margin-top:10px;flex-wrap:wrap}\n    .badge{padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.02);color:var(--muted);font-size:13px;border:1px solid rgba(255,255,255,0.02)}\n    .log{height:200px;overflow:auto;padding:10px;border-radius:8px;background:rgba(255,255,255,0.015);border:1px dashed rgba(255,255,255,0.02);font-family:monospace;font-size:13px;color:#d8eef7}\n    .stats{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}\n    .stat{padding:10px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.006), rgba(255,255,255,0.004));min-width:84px;text-align:center}\n    .stat .n{font-weight:800;font-size:18px}\n    .row-actions{display:flex;gap:8px;align-items:center}\n    .small{padding:6px 8px;border-radius:8px;font-size:13px}\n    .muted{color:var(--muted);font-size:13px}\n    .codebox{background:rgba(0,0,0,0.16);padding:10px;border-radius:8px;font-family:monospace;font-size:13px;color:#dff3ff;border:1px solid rgba(255,255,255,0.02)}\n    .flex-col{display:flex;flex-direction:column;gap:8px}\n    .controls .panel .hint{font-size:12px;color:var(--muted)}\n    .center{display:flex;align-items:center;justify-content:center}\n    /* animations */\n    .fade-in{animation:fadeIn 360ms ease both}\n    @keyframes fadeIn{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:none}}\n    .slide-from-right{animation:slideRight 420ms cubic-bezier(.2,.9,.3,1) both}\n    @keyframes slideRight{from{transform:translateX(18px) scale(.98);opacity:0}to{transform:none;opacity:1}}\n    .pulse{animation:pulse 800ms ease}\n    @keyframes pulse{0%{box-shadow:0 6px 18px rgba(79,70,229,0.0)}50%{box-shadow:0 12px 28px rgba(79,70,229,0.12)}100%{box-shadow:0 6px 18px rgba(79,70,229,0.0)}}\n    .hint-small{font-size:12px;color:var(--muted)}\n    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}\n    /* responsive */\n    @media (max-width:920px){\n      .main{flex-direction:column}\n      .right{width:100%}\n      .left{min-width:auto}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"wrap\">\n    <h1>Queue — Interactive demo</h1>\n    <p class=\"lead\">Explore the queue data structure. Enqueue, dequeue, peek and visualize both a dynamic (array-based) queue and a fixed-size circular queue with indices.</p>\n\n    <div class=\"controls\">\n      <div class=\"panel\">\n        <div style=\"display:flex;flex-direction:column\">\n          <label class=\"hint-small\">Implementation</label>\n          <select id=\"implSelect\" title=\"Choose queue implementation\">\n            <option value=\"dynamic\">Dynamic array queue</option>\n            <option value=\"circular\">Fixed-size circular queue</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"panel\">\n        <div style=\"display:flex;align-items:center;gap:8px\">\n          <input id=\"valueInput\" type=\"text\" placeholder=\"Value to enqueue (string/number)\">\n          <button id=\"enqueueBtn\">Enqueue</button>\n          <button id=\"dequeueBtn\" class=\"secondary\">Dequeue</button>\n          <button id=\"peekBtn\" class=\"secondary\">Peek</button>\n        </div>\n      </div>\n\n      <div class=\"panel\">\n        <div style=\"display:flex;align-items:center;gap:8px\">\n          <label class=\"hint-small\">Capacity (for circular)</label>\n          <input id=\"capInput\" type=\"number\" min=\"2\" max=\"20\" value=\"7\" style=\"width:84px\">\n          <button id=\"resetBtn\" class=\"secondary\">Reset</button>\n        </div>\n      </div>\n\n      <div class=\"panel\">\n        <div style=\"display:flex;align-items:center;gap:8px\">\n          <button id=\"fillBtn\" class=\"secondary small\">Fill random</button>\n          <button id=\"clearBtn\" class=\"warn small\">Clear</button>\n        </div>\n      </div>\n\n      <div class=\"panel\">\n        <div style=\"display:flex;align-items:center;gap:8px\">\n          <button id=\"autoplayBtn\" class=\"small secondary\">Auto-run</button>\n          <label class=\"hint-small\">Speed</label>\n          <input id=\"speedRange\" type=\"range\" min=\"200\" max=\"2000\" value=\"900\">\n        </div>\n      </div>\n    </div>\n\n    <div class=\"main\">\n      <div class=\"left\">\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\n          <div class=\"muted\">Visual representation</div>\n          <div class=\"muted\">Animations highlight source of change</div>\n        </div>\n\n        <div class=\"visual\" id=\"visualArea\" aria-live=\"polite\">\n          <!-- dynamic content -->\n        </div>\n\n        <div class=\"annotations\">\n          <div class=\"badge\">Front pointer: <span id=\"frontIdx\">-</span></div>\n          <div class=\"badge\">Rear pointer: <span id=\"rearIdx\">-</span></div>\n          <div class=\"badge\">Size: <span id=\"sizeVal\">0</span></div>\n          <div class=\"badge\">Empty: <span id=\"emptyVal\">true</span></div>\n        </div>\n\n        <div style=\"margin-top:12px;display:flex;gap:12px;align-items:center\">\n          <div class=\"stat\"><div class=\"muted\">Operations</div><div class=\"n\" id=\"opCount\">0</div></div>\n          <div class=\"stat\"><div class=\"muted\">Last op</div><div id=\"lastOp\" class=\"muted\">-</div></div>\n        </div>\n\n        <div style=\"margin-top:12px\">\n          <div class=\"muted\">Pseudo-code (highlights operation)</div>\n          <div class=\"codebox\" id=\"pseudo\" style=\"min-height:84px\">\n            <!-- pseudo lines -->\n          </div>\n        </div>\n      </div>\n\n      <div class=\"right\">\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\n          <div class=\"muted\">Log</div>\n          <div class=\"muted hint-small\">Recent events</div>\n        </div>\n        <div class=\"log\" id=\"logArea\"></div>\n\n        <div style=\"margin-top:12px\">\n          <div class=\"muted\">Underlying structure (array view)</div>\n          <div class=\"visual\" id=\"arrayView\" style=\"min-height:120px;padding:10px\"></div>\n        </div>\n\n        <div style=\"margin-top:12px\">\n          <div class=\"muted\">Implementation details</div>\n          <div class=\"codebox\" id=\"implNote\" style=\"margin-top:6px\">\n            Dynamic array: push/pop from end with shift on dequeue (simple).\n            Circular queue: fixed array with front/rear indices and modulo arithmetic.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <footer>\n      Try enqueuing values, dequeuing, peek, toggling implementations, and toggling autoplay.\n    </footer>\n  </div>\n\n  <script>\n    // Queue demo script\n    (function(){\n      // DOM refs\n      const implSelect = document.getElementById('implSelect');\n      const valueInput = document.getElementById('valueInput');\n      const enqueueBtn = document.getElementById('enqueueBtn');\n      const dequeueBtn = document.getElementById('dequeueBtn');\n      const peekBtn = document.getElementById('peekBtn');\n      const resetBtn = document.getElementById('resetBtn');\n      const fillBtn = document.getElementById('fillBtn');\n      const clearBtn = document.getElementById('clearBtn');\n      const autoplayBtn = document.getElementById('autoplayBtn');\n      const speedRange = document.getElementById('speedRange');\n      const capInput = document.getElementById('capInput');\n\n      const visualArea = document.getElementById('visualArea');\n      const arrayView = document.getElementById('arrayView');\n      const frontIdx = document.getElementById('frontIdx');\n      const rearIdx = document.getElementById('rearIdx');\n      const sizeVal = document.getElementById('sizeVal');\n      const emptyVal = document.getElementById('emptyVal');\n      const opCount = document.getElementById('opCount');\n      const lastOp = document.getElementById('lastOp');\n      const logArea = document.getElementById('logArea');\n      const pseudo = document.getElementById('pseudo');\n\n      let operationCounter = 0;\n      let autoplay = false;\n      let autoplayTimer = null;\n      let impl = 'dynamic';\n      let speed = parseInt(speedRange.value,10);\n\n      // Two implementations:\n      class DynamicQueue {\n        constructor(){\n          this.arr = [];\n        }\n        enqueue(x){\n          this.arr.push(x);\n        }\n        dequeue(){\n          return this.arr.length? this.arr.shift() : undefined;\n        }\n        peek(){\n          return this.arr.length? this.arr[0] : undefined;\n        }\n        size(){ return this.arr.length }\n        isEmpty(){ return this.arr.length===0 }\n        clear(){ this.arr = [] }\n        toArray(){ return this.arr.slice() }\n      }\n\n      class CircularQueue {\n        constructor(capacity){\n          this.cap = Math.max(2, capacity|0);\n          this.arr = new Array(this.cap).fill(null);\n          this.front = 0;\n          this.rear = 0;\n          this.count = 0;\n        }\n        enqueue(x){\n          if(this.count === this.cap) return false; // full\n          this.arr[this.rear] = x;\n          this.rear = (this.rear+1) % this.cap;\n          this.count++;\n          return true;\n        }\n        dequeue(){\n          if(this.count===0) return undefined;\n          const v = this.arr[this.front];\n          this.arr[this.front] = null;\n          this.front = (this.front+1) % this.cap;\n          this.count--;\n          return v;\n        }\n        peek(){ return this.count? this.arr[this.front] : undefined }\n        size(){ return this.count }\n        isEmpty(){ return this.count===0 }\n        clear(){\n          this.arr = new Array(this.cap).fill(null);\n          this.front = this.rear = this.count = 0;\n        }\n        toArray(){\n          // shows logical order from front to rear\n          const out = [];\n          for(let i=0;i<this.count;i++){\n            out.push(this.arr[(this.front+i)%this.cap]);\n          }\n          return out;\n        }\n      }\n\n      // Current queue instance\n      let q = new DynamicQueue();\n      function resetQueue(){\n        impl = implSelect.value;\n        if(impl==='dynamic'){\n          q = new DynamicQueue();\n        } else {\n          const cap = Math.max(2, parseInt(capInput.value||7,10) || 7);\n          q = new CircularQueue(cap);\n        }\n        operationCounter = 0;\n        updateAll();\n        log(\"Reset queue (\" + (impl==='dynamic' ? \"dynamic array\" : \"circular capacity=\"+q.cap) + \")\");\n      }\n\n      // Logging\n      function log(s){\n        const time = new Date().toLocaleTimeString();\n        const node = document.createElement('div');\n        node.textContent = `[${time}] ${s}`;\n        logArea.insertBefore(node, logArea.firstChild);\n      }\n\n      // Visual helpers\n      function clearVisual(){\n        visualArea.innerHTML = '';\n        arrayView.innerHTML = '';\n      }\n\n      function updateAll(highlight){\n        // highlight: {type:'enqueue'|'dequeue'|'peek', value, idx}\n        clearVisual();\n        // Visual row (logical left->right: front ... rear)\n        const row = document.createElement('div');\n        row.className = 'queue-row';\n        const logical = q.toArray ? q.toArray() : [];\n        // If using dynamic, q.toArray() exists. For completeness.\n        // For circular, toArray returns logical order.\n        const display = logical;\n        if(display.length === 0){\n          const emptySlot = document.createElement('div');\n          emptySlot.className = 'slot empty fade-in';\n          emptySlot.textContent = 'empty';\n          row.appendChild(emptySlot);\n        } else {\n          display.forEach((v,i) => {\n            const s = document.createElement('div');\n            s.className = 'slot fade-in';\n            s.textContent = String(v);\n            // apply highlight\n            if(highlight && highlight.type==='enqueue' && highlight.value!==undefined && highlight.value === v && highlight.once){\n              s.classList.add('pulse');\n              // ensure 'once' only pulses first match\n              highlight.once = false;\n            }\n            if(highlight && highlight.type==='dequeue' && highlight.idx===i){\n              s.style.boxShadow = '0 10px 30px rgba(239,68,68,0.12)';\n              s.classList.add('slide-from-right');\n            }\n            row.appendChild(s);\n          });\n        }\n        visualArea.appendChild(row);\n\n        // pointers for circular show indices. For dynamic, show front=0, rear=size-1\n        if(impl === 'dynamic'){\n          frontIdx.textContent = q.size()? 0 : '-';\n          rearIdx.textContent = q.size()? (q.size()-1) : '-';\n          // arrayView: show raw array underlying (dynamic JS array)\n          const arr = q.toArray();\n          drawArrayView(arr, {logical: true});\n        } else {\n          // circular\n          frontIdx.textContent = q.count? q.front : '-';\n          rearIdx.textContent = q.count? ((q.rear - 1 + q.cap) % q.cap) : '-';\n          drawArrayView(q.arr, {logical:false, cap:q.cap, front:q.front, rear:q.rear, count:q.count});\n        }\n\n        sizeVal.textContent = q.size? q.size() : '-';\n        emptyVal.textContent = q.isEmpty? q.isEmpty() : '-';\n        opCount.textContent = operationCounter;\n      }\n\n      function drawArrayView(arr, opts){\n        // arr: array to display (either logical or fixed array)\n        arrayView.innerHTML = '';\n        const row = document.createElement('div');\n        row.className = 'queue-row';\n        arr.forEach((v,i)=>{\n          const s = document.createElement('div');\n          s.className = 'slot';\n          if(v === null || v === undefined) { s.classList.add('empty'); s.textContent = 'empty'; }\n          else s.textContent = String(v);\n          s.style.minWidth = '56px';\n          row.appendChild(s);\n        });\n        arrayView.appendChild(row);\n\n        if(!opts.logical){\n          // show indices bar\n          const indexRow = document.createElement('div');\n          indexRow.style.display='flex';\n          indexRow.style.gap='10px';\n          indexRow.style.marginTop='8px';\n          arr.forEach((v,i)=>{\n            const idx = document.createElement('div');\n            idx.className='hint-small';\n            idx.style.width='72px';\n            idx.style.textAlign='center';\n            idx.textContent = i;\n            indexRow.appendChild(idx);\n          });\n          arrayView.appendChild(indexRow);\n\n          // pointers markers\n          // create pointer badges for front and rear positions\n          const pointerFront = document.createElement('div');\n          pointerFront.className='pointer';\n          pointerFront.style.left = computePointerLeft(opts.front);\n          pointerFront.textContent = 'front ('+opts.front+')';\n          arrayView.appendChild(pointerFront);\n\n          const r = (opts.rear - 1 + opts.cap) % opts.cap;\n          const pointerRear = document.createElement('div');\n          pointerRear.className='pointer';\n          pointerRear.style.left = computePointerLeft(r);\n          pointerRear.style.top = 'auto';\n          pointerRear.style.bottom = '-18px';\n          pointerRear.textContent = 'rear (' + r + ')';\n          arrayView.appendChild(pointerRear);\n\n          function computePointerLeft(idx){\n            // approximate position inside arrayView:\n            const slotW = 72;\n            const gap = 10;\n            const left = 10 + idx * (slotW + gap);\n            return left + 'px';\n          }\n        } else {\n          // logical dynamic: show simple label\n          const msg = document.createElement('div');\n          msg.className='hint-small';\n          msg.style.marginTop='8px';\n          msg.textContent = 'Logical order (front -> rear)';\n          arrayView.appendChild(msg);\n        }\n      }\n\n      // Pseudo-code display helper\n      function setPseudoFor(op){\n        const lines = {\n          enqueue_dynamic: [\n            'function enqueue(x):',\n            '    arr.push(x)       // O(1) amortized',\n            '    // rear moves to end'\n          ],\n          dequeue_dynamic: [\n            'function dequeue():',\n            '    if arr.length == 0: return undefined',\n            '    return arr.shift()  // O(n) due to shift'\n          ],\n          enqueue_circular: [\n            'function enqueue(x):',\n            '    if count == capacity: return false   // full',\n            '    arr[rear] = x',\n            '    rear = (rear + 1) % capacity',\n            '    count += 1'\n          ],\n          dequeue_circular: [\n            'function dequeue():',\n            '    if count == 0: return undefined',\n            '    v = arr[front]',\n            '    arr[front] = null',\n            '    front = (front + 1) % capacity',\n            '    count -= 1',\n            '    return v'\n          ],\n          peek: [\n            'function peek():',\n            '    if size == 0: return undefined',\n            '    return element at front'\n          ]\n        };\n        pseudo.innerHTML = lines[op].map((l,i)=>'<div style=\"padding:2px 0\">'+escapeHtml(l)+'</div>').join('');\n      }\n\n      function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }\n\n      // Operations\n      function doEnqueue(val){\n        if(val === '') { alert('Please enter a value to enqueue'); return; }\n        if(impl === 'dynamic'){\n          setPseudoFor('enqueue_dynamic');\n          q.enqueue(val);\n          operationCounter++;\n          lastOp.textContent = 'enqueue ' + val;\n          log('Enqueued \"'+val+'\" (dynamic)');\n          updateAll({type:'enqueue', value:val, once:true});\n        } else {\n          setPseudoFor('enqueue_circular');\n          const ok = q.enqueue(val);\n          if(!ok){\n            // show full\n            log('Enqueue failed: queue is full (capacity='+q.cap+')');\n            flashMessage('Queue is full — cannot enqueue', true);\n          } else {\n            operationCounter++;\n            lastOp.textContent = 'enqueue ' + val;\n            log('Enqueued \"'+val+'\" (circular)');\n            updateAll({type:'enqueue', value:val, once:true});\n          }\n        }\n      }\n\n      function doDequeue(){\n        setPseudoFor(impl==='dynamic' ? 'dequeue_dynamic' : 'dequeue_circular');\n        const v = q.dequeue();\n        operationCounter++;\n        lastOp.textContent = 'dequeue';\n        if(v === undefined){\n          log('Dequeue: queue empty');\n          flashMessage('Queue empty', true);\n        } else {\n          log('Dequeued \"'+v+'\"');\n        }\n        updateAll({type:'dequeue', idx:0});\n      }\n\n      function doPeek(){\n        setPseudoFor('peek');\n        const v = q.peek();\n        operationCounter++;\n        lastOp.textContent = 'peek';\n        if(v === undefined){ log('Peek: empty'); flashMessage('Queue empty', true); }\n        else { log('Peek -> \"'+v+'\"'); flashMessage('Peek -> ' + String(v)); }\n        updateAll();\n      }\n\n      // UI extras\n      function flashMessage(txt, isError){\n        // show temporary log-like message top-right\n        const node = document.createElement('div');\n        node.textContent = txt;\n        node.style.position = 'fixed';\n        node.style.right = '20px';\n        node.style.top = '20px';\n        node.style.padding = '10px 12px';\n        node.style.borderRadius = '8px';\n        node.style.fontWeight = '700';\n        node.style.background = isError ? 'rgba(239,68,68,0.12)' : 'rgba(6,182,212,0.06)';\n        node.style.border = isError ? '1px solid rgba(239,68,68,0.18)' : '1px solid rgba(6,182,212,0.12)';\n        node.style.color = isError ? '#ffdfe0' : '#cff7ff';\n        document.body.appendChild(node);\n        setTimeout(()=>{ node.style.transition='all 360ms'; node.style.opacity='0'; node.style.transform='translateY(-6px)'; setTimeout(()=>node.remove(),360); }, 900);\n      }\n\n      // Fill random\n      function fillRandom(){\n        const sample = ['A','B','C','1','2','3','X','Y','Z','α','β','7'];\n        const n = impl==='dynamic' ? (Math.floor(Math.random()*6)+1) : Math.min(q.cap, Math.floor(Math.random()* (q.cap-1) ) + 1);\n        for(let i=0;i<n;i++){\n          const val = sample[Math.floor(Math.random()*sample.length)] + (Math.random()<0.4? Math.floor(Math.random()*90):'');\n          if(impl==='dynamic') q.enqueue(val);\n          else {\n            if(!q.enqueue(val)) break;\n          }\n        }\n        operationCounter += n;\n        log('Filled with '+n+' random values');\n        updateAll();\n      }\n\n      // Clear\n      function clearQ(){\n        if(q.clear) q.clear();\n        else { // fallback\n          while(!q.isEmpty()) q.dequeue();\n        }\n        operationCounter++;\n        log('Cleared queue');\n        updateAll();\n      }\n\n      // Reset handler\n      resetBtn.addEventListener('click', ()=>{\n        resetQueue();\n      });\n\n      // Implementation switch\n      implSelect.addEventListener('change', ()=>{\n        resetQueue();\n      });\n\n      // Buttons\n      enqueueBtn.addEventListener('click', ()=>{ const v = valueInput.value.trim(); doEnqueue(v); valueInput.value=''; });\n      dequeueBtn.addEventListener('click', doDequeue);\n      peekBtn.addEventListener('click', doPeek);\n      fillBtn.addEventListener('click', fillRandom);\n      clearBtn.addEventListener('click', clearQ);\n\n      // autoplay behavior: randomly enqueue/dequeue\n      autoplayBtn.addEventListener('click', ()=>{\n        autoplay = !autoplay;\n        autoplayBtn.textContent = autoplay? 'Stop' : 'Auto-run';\n        autoplayBtn.classList.toggle('secondary', !autoplay);\n        autoplayBtn.classList.toggle('warn', autoplay);\n        if(autoplay) startAutoplay(); else stopAutoplay();\n      });\n\n      speedRange.addEventListener('input', ()=>{\n        speed = parseInt(speedRange.value,10);\n        if(autoplay) {\n          stopAutoplay();\n          startAutoplay();\n        }\n      });\n\n      capInput.addEventListener('change', ()=>{\n        // change cap only affects when switching to circular or reset\n        if(implSelect.value==='circular') resetQueue();\n      });\n\n      // keyboard convenience\n      valueInput.addEventListener('keydown', (e)=>{\n        if(e.key === 'Enter'){ enqueueBtn.click(); }\n      });\n\n      function startAutoplay(){\n        if(autoplayTimer) clearInterval(autoplayTimer);\n        autoplayTimer = setInterval(()=>{\n          // random action: enqueue or dequeue (biased)\n          const choose = Math.random();\n          if(choose < 0.55){\n            // enqueue\n            const sample = ['A','B','C','1','2','3','X','Y','Z','α','β','7'];\n            const val = sample[Math.floor(Math.random()*sample.length)] + (Math.random()<0.5? Math.floor(Math.random()*50):'');\n            doEnqueue(val);\n          } else {\n            doDequeue();\n          }\n        }, Math.max(120, speed));\n      }\n      function stopAutoplay(){ if(autoplayTimer) clearInterval(autoplayTimer); autoplayTimer = null; }\n\n      // initial setup\n      resetQueue();\n\n      // expose to window for debugging (optional)\n      window._queueDemo = {resetQueue, doEnqueue, doDequeue, doPeek, q};\n\n      // Small accessibility: update aria-live label for visual area\n      const observer = new MutationObserver(()=>{ visualArea.setAttribute('aria-label','Queue visual updated, size '+(q.size? q.size():0)); });\n      observer.observe(visualArea, {childList:true, subtree:true});\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Queue"
    }
  ],
  "topic": "Queue",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}