{
  "id": "d79ca0a1-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:44:06.214Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Selection Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Selection Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f0f0f0;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n  }\n  #arrayContainer {\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    height: 200px;\n    margin: 20px auto;\n    max-width: 600px;\n    gap: 4px;\n  }\n  .bar {\n    background-color: steelblue;\n    width: 30px;\n    transition: background-color 0.3s, height 0.3s;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    color: white;\n    font-weight: bold;\n    border-radius: 3px 3px 0 0;\n  }\n  .bar.selected {\n    background-color: #e67e22;\n  }\n  .bar.min {\n    background-color: #27ae60;\n  }\n  .bar.swapping {\n    background-color: #c0392b;\n  }\n  #controls {\n    text-align: center;\n    margin-bottom: 20px;\n  }\n  button, input[type=\"number\"] {\n    font-size: 16px;\n    padding: 6px 12px;\n    margin: 0 5px;\n  }\n  #info {\n    max-width: 600px;\n    margin: 0 auto;\n    font-size: 1.1em;\n    background: white;\n    padding: 15px;\n    border-radius: 6px;\n    box-shadow: 0 0 8px #ccc;\n    line-height: 1.4;\n  }\n</style>\n</head>\n<body>\n<h1>Selection Sort Visualization</h1>\n<div id=\"controls\">\n  <label for=\"arraySize\">Array Size: </label>\n  <input type=\"number\" id=\"arraySize\" min=\"5\" max=\"30\" value=\"10\" />\n  <button id=\"generateBtn\">Generate Array</button>\n  <button id=\"startBtn\">Start Sorting</button>\n</div>\n<div id=\"arrayContainer\"></div>\n<div id=\"info\">\n  <p><strong>Selection Sort</strong> is an in-place comparison sorting algorithm. It divides the input list into two parts: a sorted sublist of items which is built up from left to right at the front (left) of the list and a sublist of the remaining unsorted items. Initially, the sorted sublist is empty and the unsorted sublist is the entire input list. The algorithm proceeds by finding the smallest element in the unsorted sublist, swapping it with the leftmost unsorted element (putting it in sorted order), and moving the sublist boundaries one element to the right.</p>\n  <p>This visualization shows the process step-by-step.</p>\n</div>\n\n<script>\n  const arrayContainer = document.getElementById('arrayContainer');\n  const generateBtn = document.getElementById('generateBtn');\n  const startBtn = document.getElementById('startBtn');\n  const arraySizeInput = document.getElementById('arraySize');\n\n  let array = [];\n  let actions = []; // holds the steps of sorting for visualization\n  let sorting = false;\n\n  function generateArray(size) {\n    array = [];\n    for (let i = 0; i < size; i++) {\n      array.push(Math.floor(Math.random() * 90) + 10); // values between 10 and 99\n    }\n    renderArray(array);\n    actions = [];\n    sorting = false;\n    startBtn.disabled = false;\n  }\n\n  function renderArray(arr, highlightIndices = {}, swapIndices = []) {\n    // highlightIndices: {selected: idx, min: idx}\n    // swapIndices: [idx1, idx2]\n    arrayContainer.innerHTML = '';\n    const maxVal = Math.max(...arr);\n    arr.forEach((val, idx) => {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      bar.style.height = (val / maxVal) * 180 + 20 + 'px';\n      bar.textContent = val;\n      if (highlightIndices.selected === idx) {\n        bar.classList.add('selected');\n      }\n      if (highlightIndices.min === idx) {\n        bar.classList.add('min');\n      }\n      if (swapIndices.includes(idx)) {\n        bar.classList.add('swapping');\n      }\n      arrayContainer.appendChild(bar);\n    });\n  }\n\n  function selectionSort(arr) {\n    const steps = [];\n    let a = arr.slice();\n    let n = a.length;\n    for (let i = 0; i < n - 1; i++) {\n      let minIdx = i;\n      // Highlight the current \"starting\" index\n      steps.push({ arr: a.slice(), selected: i, min: minIdx, swap: [] });\n      for (let j = i + 1; j < n; j++) {\n        // Highlight the element being compared\n        steps.push({ arr: a.slice(), selected: j, min: minIdx, swap: [] });\n        if (a[j] < a[minIdx]) {\n          minIdx = j;\n          // Highlight the new min\n          steps.push({ arr: a.slice(), selected: j, min: minIdx, swap: [] });\n        }\n      }\n      if (minIdx !== i) {\n        // Indicate swap\n        let newArr = a.slice();\n        [newArr[i], newArr[minIdx]] = [newArr[minIdx], newArr[i]];\n        steps.push({ arr: a.slice(), selected: i, min: minIdx, swap: [i, minIdx] });\n        a = newArr;\n        steps.push({ arr: a.slice(), selected: i+1, min: null, swap: [] });\n      } else {\n        // No swap needed just move on\n        steps.push({ arr: a.slice(), selected: i+1, min: null, swap: [] });\n      }\n    }\n    // Final sorted state\n    steps.push({ arr: a.slice(), selected: null, min: null, swap: [] });\n    return steps;\n  }\n\n  async function animateSorting(steps) {\n    sorting = true;\n    startBtn.disabled = true;\n    generateBtn.disabled = true;\n    arraySizeInput.disabled = true;\n    for (const step of steps) {\n      renderArray(step.arr, { selected: step.selected, min: step.min }, step.swap);\n      await new Promise((r) => setTimeout(r, 600));\n    }\n    sorting = false;\n    startBtn.disabled = false;\n    generateBtn.disabled = false;\n    arraySizeInput.disabled = false;\n  }\n\n  generateBtn.addEventListener('click', () => {\n    if (sorting) return;\n    const size = parseInt(arraySizeInput.value);\n    if (isNaN(size) || size < 5 || size > 30) {\n      alert('Please enter a size between 5 and 30');\n      return;\n    }\n    generateArray(size);\n  });\n\n  startBtn.addEventListener('click', () => {\n    if (sorting) return;\n    if (array.length === 0) {\n      alert('Generate an array first.');\n      return;\n    }\n    actions = selectionSort(array);\n    animateSorting(actions);\n  });\n\n  window.onload = () => {\n    generateArray(parseInt(arraySizeInput.value));\n  };\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Selection Sort"
    }
  ],
  "topic": "Selection Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}