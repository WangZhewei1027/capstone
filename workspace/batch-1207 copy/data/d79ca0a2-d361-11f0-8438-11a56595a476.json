{
  "id": "d79ca0a2-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:43:47.795Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Insertion Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Insertion Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 30px;\n    background: #f5f5f5;\n    text-align: center;\n  }\n  h1 {\n    color: #333;\n  }\n  #arrayContainer {\n    margin: 40px auto;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    height: 250px;\n    width: 90vw;\n    max-width: 600px;\n    border-bottom: 2px solid #444;\n    position: relative;\n  }\n  .bar {\n    margin: 0 2px;\n    background-color: #6495ed;\n    width: 20px;\n    border-radius: 4px 4px 0 0;\n    transition: background-color 0.3s;\n    position: relative;\n  }\n  .bar span {\n    position: absolute;\n    top: -22px;\n    width: 100%;\n    font-size: 12px;\n    color: #222;\n    user-select: none;\n  }\n  .bar.current {\n    background-color: #ff6f61;\n  }\n  .bar.compared {\n    background-color: #f9a825;\n  }\n  .bar.sorted {\n    background-color: #4caf50;\n  }\n  #controls {\n    margin-bottom: 20px;\n  }\n  input[type=\"text\"] {\n    width: 260px;\n    padding: 6px 8px;\n    font-size: 16px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n  }\n  button {\n    margin-left: 12px;\n    padding: 8px 15px;\n    font-size: 16px;\n    border-radius: 4px;\n    border: none;\n    background-color: #6495ed;\n    color: white;\n    cursor: pointer;\n    transition: background-color 0.25s;\n  }\n  button:hover:not(:disabled) {\n    background-color: #4169e1;\n  }\n  button:disabled {\n    background-color: #ccc;\n    cursor: default;\n  }\n  #info {\n    max-width: 600px;\n    margin: 10px auto 0 auto;\n    font-size: 14px;\n    color: #555;\n    line-height: 1.4;\n  }\n</style>\n</head>\n<body>\n  <h1>Insertion Sort Visualization</h1>\n  <div id=\"controls\">\n    <input id=\"inputArray\" type=\"text\" placeholder=\"Enter numbers separated by commas (e.g. 5,3,8,6,2)\" />\n    <button id=\"startButton\">Start Sorting</button>\n  </div>\n  <div id=\"arrayContainer\"></div>\n  <div id=\"info\">\n    <p><b>Instructions:</b> Enter a list of numbers separated by commas and click \"Start Sorting\". Watch the step-by-step insertion sort process.</p>\n  </div>\n\n<script>\n  const inputArray = document.getElementById('inputArray');\n  const startButton = document.getElementById('startButton');\n  const arrayContainer = document.getElementById('arrayContainer');\n\n  let array = [];\n  let bars = [];\n\n  // Clear previous visualization\n  function clearBars() {\n    arrayContainer.innerHTML = '';\n    bars = [];\n  }\n\n  // Draw array bars\n  function drawArray(arr, currentIndex = -1, comparedIndex = -1, sortedUpto = -1) {\n    clearBars();\n    const maxVal = Math.max(...arr);\n    arr.forEach((value, i) => {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      // Height proportional to value\n      const heightPercent = (value / maxVal) * 100;\n      bar.style.height = 150 + heightPercent * 1.0 + 'px';\n      // Show value above bar\n      const label = document.createElement('span');\n      label.textContent = value;\n      bar.appendChild(label);\n\n      // Color bars based on state\n      if (i === currentIndex) {\n        bar.classList.add('current');\n      } else if (i === comparedIndex) {\n        bar.classList.add('compared');\n      } else if (i <= sortedUpto) {\n        bar.classList.add('sorted');\n      }\n      arrayContainer.appendChild(bar);\n      bars.push(bar);\n    });\n  }\n\n  // Delay helper\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n\n  // Insertion Sort with visualization\n  async function insertionSortVisual(arr) {\n    startButton.disabled = true;\n    inputArray.disabled = true;\n\n    drawArray(arr, 0, -1, -1);\n    await sleep(800);\n\n    for (let i = 1; i < arr.length; i++) {\n      let key = arr[i];\n      let j = i - 1;\n\n      drawArray(arr, i, j, i - 1);\n      await sleep(600);\n\n      while (j >= 0 && arr[j] > key) {\n        drawArray(arr, i, j, i - 1);\n        await sleep(500);\n\n        arr[j + 1] = arr[j];\n        j--;\n\n        drawArray(arr, j + 1, j, i - 1);\n        await sleep(600);\n      }\n      arr[j + 1] = key;\n\n      drawArray(arr, j + 1, -1, i);\n      await sleep(700);\n    }\n    drawArray(arr, -1, -1, arr.length - 1);\n\n    startButton.disabled = false;\n    inputArray.disabled = false;\n  }\n\n  startButton.addEventListener('click', () => {\n    const input = inputArray.value.trim();\n\n    if (!input) {\n      alert('Please enter a list of numbers separated by commas.');\n      return;\n    }\n\n    // Parse input into an integer array\n    const parsedArray = input.split(',')\n      .map(item => item.trim())\n      .filter(item => item !== '')\n      .map(Number);\n\n    if (parsedArray.some(isNaN)) {\n      alert('Please make sure all inputs are valid numbers.');\n      return;\n    }\n    if (parsedArray.length < 2) {\n      alert('Please enter at least two numbers to sort.');\n      return;\n    }\n\n    array = parsedArray;\n    insertionSortVisual(array.slice());\n  });\n\n  // Initial example array\n  function setExampleArray() {\n    const example = [5, 3, 8, 6, 2, 7, 4, 1];\n    inputArray.value = example.join(', ');\n  }\n  setExampleArray();\n\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Insertion Sort"
    }
  ],
  "topic": "Insertion Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}