{
  "id": "7b3c83d0-d360-11f0-b42e-71f0e7238799",
  "timestamp": "2025-12-07T11:34:13.791Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "Huffman Coding",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Huffman Coding Demo</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            padding: 20px;\n            max-width: 600px;\n            margin: auto;\n        }\n        #output {\n            margin-top: 20px;\n            white-space: pre-wrap;\n        }\n        .button {\n            margin-top: 10px;\n        }\n    </style>\n</head>\n<body>\n    <h1>Huffman Coding Demo</h1>\n    <label for=\"inputText\">Enter text to encode:</label><br>\n    <textarea id=\"inputText\" rows=\"4\" cols=\"50\"></textarea><br>\n    <button class=\"button\" onclick=\"huffmanEncode()\">Encode</button>\n    <div id=\"output\"></div>\n\n    <script>\n        class Node {\n            constructor(value, frequency) {\n                this.value = value;\n                this.frequency = frequency;\n                this.left = null;\n                this.right = null;\n            }\n        }\n\n        class MinHeap {\n            constructor() {\n                this.nodes = [];\n            }\n\n            insert(node) {\n                this.nodes.push(node);\n                this.bubbleUp();\n            }\n\n            bubbleUp() {\n                let index = this.nodes.length - 1;\n                while (index > 0) {\n                    const parentIndex = Math.floor((index - 1) / 2);\n                    if (this.nodes[index].frequency >= this.nodes[parentIndex].frequency) break;\n                    [this.nodes[index], this.nodes[parentIndex]] = [this.nodes[parentIndex], this.nodes[index]];\n                    index = parentIndex;\n                }\n            }\n\n            remove() {\n                const root = this.nodes[0];\n                const end = this.nodes.pop();\n                if (this.nodes.length > 0) {\n                    this.nodes[0] = end;\n                    this.bubbleDown();\n                }\n                return root;\n            }\n\n            bubbleDown() {\n                let index = 0;\n                const length = this.nodes.length;\n                const element = this.nodes[0];\n\n                while (true) {\n                    let leftChildIndex = 2 * index + 1;\n                    let rightChildIndex = 2 * index + 2;\n                    let leftChild, rightChild;\n                    let swap = null;\n\n                    if (leftChildIndex < length) {\n                        leftChild = this.nodes[leftChildIndex];\n                        if (leftChild.frequency < element.frequency) {\n                            swap = leftChildIndex;\n                        }\n                    }\n\n                    if (rightChildIndex < length) {\n                        rightChild = this.nodes[rightChildIndex];\n                        if (\n                            (swap === null && rightChild.frequency < element.frequency) ||\n                            (swap !== null && rightChild.frequency < leftChild.frequency)\n                        ) {\n                            swap = rightChildIndex;\n                        }\n                    }\n\n                    if (swap === null) break;\n                    this.nodes[index] = this.nodes[swap];\n                    this.nodes[swap] = element;\n                    index = swap;\n                }\n            }\n\n            isEmpty() {\n                return this.nodes.length === 0;\n            }\n        }\n\n        function huffmanEncode() {\n            const text = document.getElementById(\"inputText\").value.trim();\n            const frequencyMap = {};\n\n            // Count frequency of each character\n            for (const char of text) {\n                frequencyMap[char] = (frequencyMap[char] || 0) + 1;\n            }\n\n            const minHeap = new MinHeap();\n\n            // Build initial heap\n            for (const [char, freq] of Object.entries(frequencyMap)) {\n                minHeap.insert(new Node(char, freq));\n            }\n\n            // Build Huffman tree\n            while (minHeap.nodes.length > 1) {\n                const left = minHeap.remove();\n                const right = minHeap.remove();\n                const merged = new Node(null, left.frequency + right.frequency);\n                merged.left = left;\n                merged.right = right;\n                minHeap.insert(merged);\n            }\n\n            const root = minHeap.remove();\n            const huffmanCodes = {};\n            generateCodes(root, '', huffmanCodes);\n\n            // Output results\n            let output = 'Huffman Codes:\\n';\n            for (const [char, code] of Object.entries(huffmanCodes)) {\n                output += `${char}: ${code}\\n`;\n            }\n            document.getElementById(\"output\").textContent = output;\n        }\n\n        function generateCodes(node, code, codes) {\n            if (node == null) return;\n            if (node.value !== null) {\n                codes[node.value] = code;\n            }\n            generateCodes(node.left, code + '0', codes);\n            generateCodes(node.right, code + '1', codes);\n        }\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Huffman Coding"
    }
  ],
  "topic": "Huffman Coding",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}