{
  "id": "f18203c2-d366-11f0-9b19-a558354ece3e",
  "timestamp": "2025-12-07T12:22:17.437Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Knapsack Problem",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Knapsack Problem Demonstration</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            margin: 0;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            display: grid;\n            grid-template-columns: 1fr 2fr;\n            gap: 20px;\n        }\n        .panel {\n            background-color: white;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            padding: 20px;\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n            grid-column: 1 / -1;\n        }\n        h2 {\n            color: #444;\n            border-bottom: 1px solid #eee;\n            padding-bottom: 10px;\n        }\n        label {\n            display: block;\n            margin: 10px 0 5px;\n            font-weight: bold;\n        }\n        input, button {\n            padding: 8px 12px;\n            margin: 5px 0;\n            border-radius: 4px;\n            border: 1px solid #ddd;\n        }\n        button {\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            cursor: pointer;\n            transition: background-color 0.3s;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 15px 0;\n        }\n        th, td {\n            border: 1px solid #ddd;\n            padding: 8px;\n            text-align: center;\n        }\n        th {\n            background-color: #f2f2f2;\n        }\n        .item {\n            display: flex;\n            align-items: center;\n            margin-bottom: 10px;\n            padding: 10px;\n            background-color: #f9f9f9;\n            border-radius: 4px;\n        }\n        .item-info {\n            flex: 1;\n        }\n        .knapsack {\n            border: 2px dashed #666;\n            min-height: 200px;\n            padding: 15px;\n            margin-top: 15px;\n            border-radius: 8px;\n        }\n        .selected-item {\n            background-color: #dff0d8;\n            margin: 5px;\n            padding: 8px;\n            border-radius: 4px;\n            display: flex;\n            justify-content: space-between;\n        }\n        .stats {\n            background-color: #f0f8ff;\n            padding: 10px;\n            border-radius: 4px;\n            margin-top: 10px;\n        }\n        #iterationTable {\n            overflow-x: auto;\n        }\n        @media (max-width: 768px) {\n            .container {\n                grid-template-columns: 1fr;\n            }\n        }\n    </style>\n</head>\n<body>\n    <h1>Knapsack Problem Demonstration</h1>\n    \n    <div class=\"container\">\n        <div class=\"panel\">\n            <h2>Knapsack Configuration</h2>\n            <label for=\"capacity\">Knapsack Capacity:</label>\n            <input type=\"number\" id=\"capacity\" value=\"15\" min=\"1\" max=\"100\">\n            \n            <h3>Add Items</h3>\n            <label for=\"itemName\">Item Name:</label>\n            <input type=\"text\" id=\"itemName\" placeholder=\"Enter item name\">\n            \n            <label for=\"itemWeight\">Weight:</label>\n            <input type=\"number\" id=\"itemWeight\" placeholder=\"Weight\" min=\"1\" max=\"100\">\n            \n            <label for=\"itemValue\">Value:</label>\n            <input type=\"number\" id=\"itemValue\" placeholder=\"Value\" min=\"1\" max=\"100\">\n            \n            <button id=\"addItem\">Add Item</button>\n            \n            <div id=\"itemList\">\n                <h3>Items</h3>\n                <!-- Items will be added here dynamically -->\n            </div>\n            \n            <button id=\"solve\">Solve Knapsack Problem</button>\n            <button id=\"reset\">Reset</button>\n        </div>\n        \n        <div class=\"panel\">\n            <h2>Solution</h2>\n            <div id=\"knapsackResult\">\n                <div class=\"knapsack\" id=\"knapsackContainer\">\n                    <p>Knapsack is empty. Click \"Solve\" to see the solution.</p>\n                </div>\n                <div class=\"stats\" id=\"stats\">\n                    <!-- Stats will be displayed here -->\n                </div>\n            </div>\n            \n            <h2>Algorithm Visualization</h2>\n            <div id=\"iterationTable\">\n                <!-- Dynamic table will be inserted here -->\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // Initialize items array\n        let items = [];\n        \n        // DOM elements\n        const capacityInput = document.getElementById('capacity');\n        const itemNameInput = document.getElementById('itemName');\n        const itemWeightInput = document.getElementById('itemWeight');\n        const itemValueInput = document.getElementById('itemValue');\n        const addItemBtn = document.getElementById('addItem');\n        const solveBtn = document.getElementById('solve');\n        const resetBtn = document.getElementById('reset');\n        const itemListDiv = document.getElementById('itemList');\n        const knapsackContainer = document.getElementById('knapsackContainer');\n        const statsDiv = document.getElementById('stats');\n        const iterationTableDiv = document.getElementById('iterationTable');\n        \n        // Add item to the list\n        addItemBtn.addEventListener('click', function() {\n            const name = itemNameInput.value.trim();\n            const weight = parseInt(itemWeightInput.value);\n            const value = parseInt(itemValueInput.value);\n            \n            if (!name || isNaN(weight) || isNaN(value) || weight <= 0 || value <= 0) {\n                alert('Please enter valid item name, weight, and value');\n                return;\n            }\n            \n            const item = {\n                name: name,\n                weight: weight,\n                value: value\n            };\n            \n            items.push(item);\n            updateItemList();\n            \n            // Clear input fields\n            itemNameInput.value = '';\n            itemWeightInput.value = '';\n            itemValueInput.value = '';\n        });\n        \n        // Update the item list display\n        function updateItemList() {\n            itemListDiv.innerHTML = '<h3>Items</h3>';\n            \n            if (items.length === 0) {\n                itemListDiv.innerHTML += '<p>No items added yet.</p>';\n                return;\n            }\n            \n            items.forEach((item, index) => {\n                const itemElement = document.createElement('div');\n                itemElement.className = 'item';\n                itemElement.innerHTML = `\n                    <div class=\"item-info\">\n                        <strong>${item.name}</strong> (Weight: ${item.weight}, Value: ${item.value})\n                    </div>\n                    <button class=\"remove-item\" data-index=\"${index}\">Remove</button>\n                `;\n                itemListDiv.appendChild(itemElement);\n            });\n            \n            // Add event listeners to remove buttons\n            const removeButtons = document.querySelectorAll('.remove-item');\n            removeButtons.forEach(button => {\n                button.addEventListener('click', function() {\n                    const index = parseInt(this.getAttribute('data-index'));\n                    items.splice(index, 1);\n                    updateItemList();\n                });\n            });\n        }\n        \n        // Solve the knapsack problem\n        solveBtn.addEventListener('click', function() {\n            if (items.length === 0) {\n                alert('Please add at least one item');\n                return;\n            }\n            \n            const capacity = parseInt(capacityInput.value);\n            if (isNaN(capacity) || capacity <= 0) {\n                alert('Please enter a valid capacity');\n                return;\n            }\n            \n            const solution = knapsack(items, capacity);\n            displaySolution(solution);\n            displayIterations(solution.iterations, items, capacity);\n        });\n        \n        // Reset everything\n        resetBtn.addEventListener('click', function() {\n            items = [];\n            capacityInput.value = '15';\n            itemNameInput.value = '';\n            itemWeightInput.value = '';\n            itemValueInput.value = '';\n            updateItemList();\n            knapsackContainer.innerHTML = '<p>Knapsack is empty. Click \"Solve\" to see the solution.</p>';\n            statsDiv.innerHTML = '';\n            iterationTableDiv.innerHTML = '';\n        });\n        \n        // Knapsack algorithm implementation\n        function knapsack(items, capacity) {\n            iterations = [];\n            \n            // Create DP table\n            const n = items.length;\n            const dp = Array(n + 1).fill().map(() => Array(capacity + 1).fill(0));\n            const keep = Array(n + 1).fill().map(() => Array(capacity + 1).fill(false));\n            \n            // Fill the DP table\n            for (let i = 1; i <= n; i++) {\n                const currentItem = items[i-1];\n                \n                for (let w = 1; w <= capacity; w++) {\n                    // Record iteration state\n                    let iteration = {\n                        itemIndex: i,\n                        weight: w,\n                        weightAvailable: w,\n                        currentItemValue: currentItem.value,\n                        skipValue: dp[i-1][w],\n                        takeValue: (w >= currentItem.weight) ? dp[i-1][w - currentItem.weight] + currentItem.value : 0,\n                        bestValue: 0\n                    };\n                    \n                    if (w >= currentItem.weight) {\n                        const takeValue = dp[i-1][w - currentItem.weight] + currentItem.value;\n                        const skipValue = dp[i-1][w];\n                        \n                        if (takeValue > skipValue) {\n                            dp[i][w] = takeValue;\n                            keep[i][w] = true;\n                            iteration.bestValue = takeValue;\n                            iteration.decision = 'Take';\n                        } else {\n                            dp[i][w] = skipValue;\n                            keep[i][w] = false;\n                            iteration.bestValue = skipValue;\n                            iteration.decision = 'Skip';\n                        }\n                    } else {\n                        dp[i][w] = dp[i-1][w];\n                        keep[i][w] = false;\n                        iteration.bestValue = dp[i-1][w];\n                        iteration.decision = 'Skip';\n                    }\n                    \n                    iterations.push(iteration);\n                }\n            }\n            \n            // Find the items to include\n            let remainingWeight = capacity;\n            const selectedItems = [];\n            \n            for (let i = n; i > 0; i--) {\n                if (keep[i][remainingWeight]) {\n                    selectedItems.push(items[i-1]);\n                    remainingWeight -= items[i-1].weight;\n                }\n            }\n            \n            return {\n                maxValue: dp[n][capacity],\n                selectedItems: selectedItems,\n                iterations: iterations,\n                dpTable: dp\n            };\n        }\n        \n        // Display the solution\n        function displaySolution(solution) {\n            knapsackContainer.innerHTML = '<h3>Selected Items:</h3>';\n            \n            if (solution.selectedItems.length === 0) {\n                knapsackContainer.innerHTML += '<p>No items were selected.</p>';\n            } else {\n                solution.selectedItems.forEach(item => {\n                    const itemElement = document.createElement('div');\n                    itemElement.className = 'selected-item';\n                    itemElement.innerHTML = `\n                        <span>${item.name}</span>\n                        <span>Weight: ${item.weight}, Value: ${item.value}</span>\n                    `;\n                    knapsackContainer.appendChild(itemElement);\n                });\n            }\n            \n            statsDiv.innerHTML = `\n                <p><strong>Total Value:</strong> ${solution.maxValue}</p>\n                <p><strong>Total Weight:</strong> ${solution.selectedItems.reduce((sum, item) => sum + item.weight, 0)} / ${capacityInput.value}</p>\n                <p><strong>Items Selected:</strong> ${solution.selectedItems.length} out of ${items.length}</p>\n            `;\n        }\n        \n        // Display the DP table iterations\n        function displayIterations(iterations, items, capacity) {\n            iterationTableDiv.innerHTML = `\n                <h3>Dynamic Programming Table Iterations</h3>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Item</th>\n                            <th>Weight Limit</th>\n                            <th>Skip Value</th>\n                            <th>Take Value (*)</th>\n                            <th>Best Value</th>\n                            <th>Decision</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${iterations.map(iteration => `\n                            <tr>\n                                <td>${items[iteration.itemIndex-1]?.name || 'N/A'}</td>\n                                <td>${iteration.weight}</td>\n                                <td>${iteration.skipValue}</td>\n                                <td>${iteration.takeValue}</td>\n                                <td>${iteration.bestValue}</td>\n                                <td>${iteration.decision}</td>\n                            </tr>\n                        `).join('')}\n                    </tbody>\n                </table>\n            `;\n        }\n        \n        // Initialize with some demo items\n        function initializeDemoItems() {\n            items = [\n                { name: 'Camera', weight: 4, value: 10 },\n                { name: 'Laptop', weight: 6, value: 15 },\n                { name: 'Book', weight: 3, value: 7 },\n                { name: 'Water', weight: 2, value: 5 },\n                { name: 'Snacks', weight: 1, value: 3 }\n            ];\n            updateItemList();\n        }\n        \n        // Initialize the page\n        window.onload = initializeDemoItems;\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Knapsack Problem"
    }
  ],
  "topic": "Knapsack Problem",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}