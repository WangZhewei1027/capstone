{
  "id": "d79d63f0-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:44:29.037Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Floyd-Warshall Algorithm",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>Floyd-Warshall Algorithm Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 20px;\n            background: #f5f7fa;\n        }\n        h1 {\n            text-align: center;\n        }\n        .container {\n            max-width: 900px;\n            margin: 0 auto;\n            background: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px #ccc;\n        }\n        label {\n            font-weight: bold;\n            display: block;\n            margin-top: 15px;\n        }\n        textarea {\n            width: 100%;\n            height: 120px;\n            font-family: monospace;\n            font-size: 14px;\n            margin-top: 5px;\n            resize: vertical;\n            border-radius: 5px;\n            border: 1px solid #ccc;\n            padding: 8px;\n        }\n        button {\n            margin-top: 15px;\n            font-size: 16px;\n            padding: 10px 18px;\n            background-color: #009578;\n            border: none;\n            border-radius: 5px;\n            color: white;\n            cursor: pointer;\n            transition: 0.3s ease;\n        }\n        button:hover {\n            background-color: #007a5e;\n        }\n        table {\n            margin: 15px 0;\n            border-collapse: collapse;\n            width: 100%;\n            max-width: 100%;\n        }\n        th, td {\n            border: 1px solid #999;\n            padding: 8px 12px;\n            text-align: center;\n            font-family: monospace;\n            user-select: none;\n        }\n        th {\n            background-color: #eeeeee;\n        }\n        .output-section {\n            margin-top: 25px;\n        }\n        .step-title {\n            font-weight: bold;\n            margin-top: 20px;\n            margin-bottom: 5px;\n            font-size: 18px;\n            color: #314a6d;\n        }\n        .note {\n            background: #e3f2fd;\n            border-left: 5px solid #1976d2;\n            padding: 10px 15px;\n            margin-top: 10px;\n            font-style: italic;\n            color: #0d47a1;\n            border-radius: 4px;\n        }\n        .error {\n            background: #ffebee;\n            border-left: 5px solid #d32f2f;\n            color: #b71c1c;\n            padding: 10px 15px;\n            margin-top: 10px;\n            border-radius: 4px;\n        }\n        small.tip {\n            display: block;\n            margin-top: 5px;\n            color: #555;\n            font-style: italic;\n        }\n        #steps {\n            max-height: 350px;\n            overflow-y: auto;\n            border: 1px solid #ccc;\n            background: #fafafa;\n            padding: 10px;\n            border-radius: 5px;\n            font-family: monospace;\n            white-space: pre-wrap;\n            user-select: none;\n        }\n        @media (max-width: 600px) {\n            textarea {\n                height: 150px;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Floyd-Warshall Algorithm Demo</h1>\n        <label for=\"graphInput\">Enter Weighted Directed Graph Adjacency Matrix (use Infinity or \"INF\" for no edge):</label>\n        <textarea id=\"graphInput\" aria-label=\"Input adjacency matrix\">\n0 3 INF 7\n8 0 2 INF\n5 INF 0 1\n2 INF INF 0\n        </textarea>\n        <small class=\"tip\">Example: A 4-node graph matrix.<br>Rows represent source nodes, columns destination nodes.</small>\n        <button id=\"runBtn\" aria-label=\"Run Floyd-Warshall Algorithm\">Run Floyd-Warshall</button>\n        <div id=\"errorMsg\" class=\"error\" style=\"display:none;\"></div>\n\n        <section class=\"output-section\" id=\"outputSection\" aria-live=\"polite\" aria-relevant=\"additions\">\n            <div class=\"step-title\">Initial Distance Matrix:</div>\n            <div id=\"initialMatrix\"></div>\n\n            <div class=\"step-title\">Algorithm Steps:</div>\n            <div id=\"steps\"></div>\n\n            <div class=\"step-title\">Final Shortest Distance Matrix:</div>\n            <div id=\"finalMatrix\"></div>\n\n            <div class=\"note\">Note: '∞' indicates no path between nodes.</div>\n        </section>\n    </div>\n\n    <script>\n        (() => {\n            const INF = Infinity;\n            const inputArea = document.getElementById('graphInput');\n            const runBtn = document.getElementById('runBtn');\n            const initialMatrixDiv = document.getElementById('initialMatrix');\n            const finalMatrixDiv = document.getElementById('finalMatrix');\n            const stepsDiv = document.getElementById('steps');\n            const outputSection = document.getElementById('outputSection');\n            const errorDiv = document.getElementById('errorMsg');\n\n            function parseMatrix(text) {\n                // Parses the input text into a 2D matrix of numbers or Infinity\n                const lines = text.trim().split('\\n').filter(line => line.trim() !== '');\n                const matrix = [];\n\n                for (let r=0; r<lines.length; r++) {\n                    const values = lines[r].trim().split(/\\s+/);\n                    if (r>0 && values.length !== matrix[0].length) {\n                        throw new Error(`Row ${r+1} length (${values.length}) does not match first row length (${matrix[0].length}).`);\n                    }\n                    matrix.push(values.map(v => {\n                        const valStr = v.trim().toUpperCase();\n                        if (valStr === 'INF' || valStr === 'INFINITY' || valStr === '∞') return INF;\n                        const num = Number(valStr);\n                        if (isNaN(num)) throw new Error(`Invalid number \"${v}\" detected.`);\n                        if(num < 0) throw new Error('Negative weights not allowed in Floyd-Warshall in this demo.');\n                        return num;\n                    }));\n                }\n                // Check square matrix\n                if (!matrix.every(row => row.length === matrix.length)) {\n                    throw new Error(`Input matrix must be square. You have ${matrix.length} rows and varying column lengths.`);\n                }\n                return matrix;\n            }\n\n            function matrixToHTML(matrix) {\n                const n = matrix.length;\n                const tbl = document.createElement('table');\n                const thead = document.createElement('thead');\n                const tbody = document.createElement('tbody');\n\n                // Header row\n                const headerRow = document.createElement('tr');\n                headerRow.appendChild(document.createElement('th')); // empty corner cell\n                for(let i=0; i<n; i++) {\n                    const th = document.createElement('th');\n                    th.textContent = `V${i}`;\n                    headerRow.appendChild(th);\n                }\n                thead.appendChild(headerRow);\n\n                // Body rows\n                for(let i=0; i<n; i++) {\n                    const tr = document.createElement('tr');\n                    const rowHeader = document.createElement('th');\n                    rowHeader.textContent = `V${i}`;\n                    tr.appendChild(rowHeader);\n                    for(let j=0; j<n; j++) {\n                        const td = document.createElement('td');\n                        const val = matrix[i][j];\n                        td.textContent = val === INF ? '∞' : val;\n                        tr.appendChild(td);\n                    }\n                    tbody.appendChild(tr);\n                }\n\n                tbl.appendChild(thead);\n                tbl.appendChild(tbody);\n                return tbl;\n            }\n\n            function cloneMatrix(m) {\n                return m.map(row => row.slice());\n            }\n\n            function floydWarshall(matrix, callbackStep) {\n                const n = matrix.length;\n                // dist initialized as copy of input matrix\n                let dist = cloneMatrix(matrix);\n\n                // Floyd-Warshall main loops\n                for(let k=0; k<n; k++) {\n                    callbackStep && callbackStep(`Considering intermediate vertex V${k}`);\n                    for(let i=0; i<n; i++) {\n                        for(let j=0; j<n; j++) {\n                            if(dist[i][k] !== INF && dist[k][j] !== INF) {\n                                const newDist = dist[i][k] + dist[k][j];\n                                if(newDist < dist[i][j]) {\n                                    const oldDist = dist[i][j];\n                                    dist[i][j] = newDist;\n                                    callbackStep && callbackStep(`Updated dist[V${i}][V${j}]: ${oldDist === INF ? '∞' : oldDist} → ${newDist} (via V${k})`);\n                                }\n                            }\n                        }\n                    }\n                }\n                return dist;\n            }\n\n            function runAlgorithm() {\n                // Clear previous outputs & errors\n                errorDiv.style.display = 'none';\n                initialMatrixDiv.innerHTML = '';\n                finalMatrixDiv.innerHTML = '';\n                stepsDiv.textContent = '';\n                outputSection.style.display = 'block';\n\n                let matrix;\n                try {\n                    matrix = parseMatrix(inputArea.value);\n                } catch(e) {\n                    errorDiv.textContent = e.message;\n                    errorDiv.style.display = 'block';\n                    outputSection.style.display = 'none';\n                    return;\n                }\n                // Display initial matrix\n                initialMatrixDiv.appendChild(matrixToHTML(matrix));\n\n                // Capture steps\n                const steps = [];\n                function stepCollector(msg) {\n                    steps.push(msg);\n                    // Scroll latest step into view\n                    stepsDiv.textContent = steps.join('\\n');\n                    stepsDiv.scrollTop = stepsDiv.scrollHeight;\n                }\n\n                // Execute Floyd-Warshall\n                const finalDist = floydWarshall(matrix, stepCollector);\n\n                // Display final matrix\n                finalMatrixDiv.appendChild(matrixToHTML(finalDist));\n            }\n\n            runBtn.addEventListener('click', runAlgorithm);\n\n            // Run initially on page load\n            window.onload = () => {\n                runAlgorithm();\n            }\n        })();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Floyd-Warshall Algorithm"
    }
  ],
  "topic": "Floyd-Warshall Algorithm",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}