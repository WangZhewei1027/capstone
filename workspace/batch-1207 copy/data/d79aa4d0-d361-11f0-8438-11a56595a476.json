{
  "id": "d79aa4d0-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:45:04.285Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Array",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>JavaScript Array Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 40px;\n    max-width: 700px;\n  }\n  input, button {\n    font-size: 1rem;\n    padding: 0.5em;\n    margin-right: 0.5em;\n  }\n  #arrayDisplay {\n    margin-top: 1em;\n    padding: 1em;\n    background: #f8f8f8;\n    border: 1px solid #ddd;\n    white-space: pre-wrap;\n  }\n  .section {\n    margin-bottom: 2em;\n  }\n</style>\n</head>\n<body>\n  <h1>JavaScript Array Demonstration</h1>\n  <p>An array is an ordered list of values. This demo shows common array operations.</p>\n\n  <div class=\"section\">\n    <h2>Current Array:</h2>\n    <div id=\"arrayDisplay\">[]</div>\n  </div>\n\n  <div class=\"section\">\n    <h2>Operations:</h2>\n\n    <div>\n      <input type=\"text\" id=\"elementInput\" placeholder=\"Enter value (string or number)\" />\n      <button id=\"addEndBtn\">Add to End (push)</button>\n      <button id=\"addStartBtn\">Add to Start (unshift)</button>\n      <button id=\"removeEndBtn\">Remove Last (pop)</button>\n      <button id=\"removeStartBtn\">Remove First (shift)</button>\n    </div>\n\n    <div style=\"margin-top:1em;\">\n      <input type=\"number\" id=\"spliceIndex\" placeholder=\"Index\" style=\"width:80px\" />\n      <input type=\"number\" id=\"spliceDeleteCount\" placeholder=\"Delete Count\" style=\"width:100px\" />\n      <input type=\"text\" id=\"spliceInsertValue\" placeholder=\"Insert value (opt)\" />\n      <button id=\"spliceBtn\">Splice</button>\n    </div>\n\n    <div style=\"margin-top:1em;\">\n      <button id=\"reverseBtn\">Reverse Array</button>\n      <button id=\"sortBtn\">Sort Array</button>\n      <button id=\"clearBtn\" style=\"background:#f44336; color:white;\">Clear Array</button>\n    </div>\n\n    <div style=\"margin-top:1em;\">\n      <button id=\"mapBtn\">Map: add \" (mapped)\" to strings, +1 to numbers</button>\n      <button id=\"filterBtn\">Filter: Keep only numbers</button>\n      <button id=\"reduceBtn\">Reduce: Sum of numbers</button>\n    </div>\n  </div>\n\n  <script>\n    (() => {\n      let arr = [];\n\n      const arrayDisplay = document.getElementById(\"arrayDisplay\");\n      const elementInput = document.getElementById(\"elementInput\");\n      const addEndBtn = document.getElementById(\"addEndBtn\");\n      const addStartBtn = document.getElementById(\"addStartBtn\");\n      const removeEndBtn = document.getElementById(\"removeEndBtn\");\n      const removeStartBtn = document.getElementById(\"removeStartBtn\");\n      const spliceIndex = document.getElementById(\"spliceIndex\");\n      const spliceDeleteCount = document.getElementById(\"spliceDeleteCount\");\n      const spliceInsertValue = document.getElementById(\"spliceInsertValue\");\n      const spliceBtn = document.getElementById(\"spliceBtn\");\n      const reverseBtn = document.getElementById(\"reverseBtn\");\n      const sortBtn = document.getElementById(\"sortBtn\");\n      const clearBtn = document.getElementById(\"clearBtn\");\n      const mapBtn = document.getElementById(\"mapBtn\");\n      const filterBtn = document.getElementById(\"filterBtn\");\n      const reduceBtn = document.getElementById(\"reduceBtn\");\n\n      function updateDisplay(msg = \"\") {\n        arrayDisplay.textContent = JSON.stringify(arr, null, 2);\n        if (msg) {\n          arrayDisplay.textContent += \"\\n\\n\" + msg;\n        }\n      }\n\n      // Helper to parse input value into number or string\n      function parseValue(val) {\n        if(val === \"\") return null;\n        // Try parse as number\n        if (!isNaN(val)) {\n          return val.includes('.') ? parseFloat(val) : parseInt(val, 10);\n        }\n        return val;\n      }\n\n      addEndBtn.addEventListener(\"click\", () => {\n        const val = parseValue(elementInput.value);\n        if(val === null) {\n          alert(\"Please enter a valid value.\");\n          return;\n        }\n        arr.push(val);\n        updateDisplay(`Added to end: ${JSON.stringify(val)}`);\n        elementInput.value = \"\";\n      });\n\n      addStartBtn.addEventListener(\"click\", () => {\n        const val = parseValue(elementInput.value);\n        if(val === null) {\n          alert(\"Please enter a valid value.\");\n          return;\n        }\n        arr.unshift(val);\n        updateDisplay(`Added to start: ${JSON.stringify(val)}`);\n        elementInput.value = \"\";\n      });\n\n      removeEndBtn.addEventListener(\"click\", () => {\n        if(arr.length === 0) {\n          alert(\"Array is empty.\");\n          return;\n        }\n        const val = arr.pop();\n        updateDisplay(`Removed from end (pop): ${JSON.stringify(val)}`);\n      });\n\n      removeStartBtn.addEventListener(\"click\", () => {\n        if(arr.length === 0) {\n          alert(\"Array is empty.\");\n          return;\n        }\n        const val = arr.shift();\n        updateDisplay(`Removed from start (shift): ${JSON.stringify(val)}`);\n      });\n\n      spliceBtn.addEventListener(\"click\", () => {\n        const index = parseInt(spliceIndex.value, 10);\n        const deleteCount = parseInt(spliceDeleteCount.value, 10);\n        let insertValRaw = spliceInsertValue.value.trim();\n        if (isNaN(index) || isNaN(deleteCount) || index < 0 || deleteCount < 0) {\n          alert(\"Please enter valid non-negative numbers for index and delete count.\");\n          return;\n        }\n        let insertVal = insertValRaw === \"\" ? [] : [parseValue(insertValRaw)];\n        const removed = arr.splice(index, deleteCount, ...insertVal);\n        updateDisplay(`Splice at index ${index}, deleted ${deleteCount} element(s): removed ${JSON.stringify(removed)}; inserted ${JSON.stringify(insertVal)}`);\n        spliceIndex.value = \"\";\n        spliceDeleteCount.value = \"\";\n        spliceInsertValue.value = \"\";\n      });\n\n      reverseBtn.addEventListener(\"click\", () => {\n        arr.reverse();\n        updateDisplay(\"Array reversed\");\n      });\n\n      sortBtn.addEventListener(\"click\", () => {\n        // Sort converting all to string for consistent order\n        arr.sort((a, b) => {\n          const aStr = String(a);\n          const bStr = String(b);\n          if (aStr < bStr) return -1;\n          if (aStr > bStr) return 1;\n          return 0;\n        });\n        updateDisplay(\"Array sorted (string order)\");\n      });\n\n      clearBtn.addEventListener(\"click\", () => {\n        arr = [];\n        updateDisplay(\"Array cleared\");\n      });\n\n      mapBtn.addEventListener(\"click\", () => {\n        arr = arr.map(el => {\n          if (typeof el === \"number\") return el + 1;\n          if (typeof el === \"string\") return el + \" (mapped)\";\n          return el;\n        });\n        updateDisplay(\"Array mapped: numbers incremented by 1, strings appended with ' (mapped)'\");\n      });\n\n      filterBtn.addEventListener(\"click\", () => {\n        arr = arr.filter(el => typeof el === \"number\");\n        updateDisplay(\"Array filtered: only numbers kept\");\n      });\n\n      reduceBtn.addEventListener(\"click\", () => {\n        const sum = arr.reduce((acc, cur) => {\n          if (typeof cur === \"number\") return acc + cur;\n          return acc;\n        }, 0);\n        updateDisplay(`Reduce: Sum of numbers = ${sum}`);\n      });\n\n      updateDisplay();\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Array"
    }
  ],
  "topic": "Array",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}