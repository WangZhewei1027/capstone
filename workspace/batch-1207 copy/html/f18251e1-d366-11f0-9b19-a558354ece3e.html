<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sliding Window Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .array-display {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            position: relative;
            height: 100px;
        }
        .array-element {
            width: 60px;
            height: 60px;
            margin: 0 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #4CAF50;
            color: white;
            font-weight: bold;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        .sliding-window {
            position: absolute;
            border: 3px solid #ff6b6b;
            border-radius: 5px;
            transition: all 0.5s ease;
            pointer-events: none;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        button {
            background-color: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #1976D2;
        }
        input {
            padding: 8px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            width: 80px;
        }
        .info {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .current-values {
            font-weight: bold;
            color: #2196F3;
        }
        .code-example {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            overflow-x: auto;
        }
        select {
            padding: 8px;
            margin: 5px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Sliding Window Algorithm Visualization</h1>
    
    <div class="container">
        <div class="info">
            <p>The sliding window technique is an algorithm design pattern used to efficiently solve problems 
               involving arrays or strings by maintaining a "window" that slides through the data structure.</p>
            <p><strong>Current window:</strong> <span id="currentWindow">[ ]</span></p>
            <p><strong>Current algorithm:</strong> <span id="currentResult">-</span></p>
        </div>

        <div class="controls">
            <label>Window Size: </label>
            <input type="number" id="windowSize" value="3" min="1" max="10">
            <label>Algorithm: </label>
            <select id="algorithm">
                <option value="maxSum">Maximum Sum of Subarray</optionvalue="max">
                <option value="longestSubstring">Longest Substring without Repeating Characters</option>
                <option value="average">Moving Average</option>
            </select>
            <button onclick="resetArray()">Reset Array</button>
            <button onclick="slideWindow()">Slide Window</button>
            <button onclick="autoSlide()">Auto Slide</button>
            <button onclick="stopAutoSlide()">Stop</button>
        </div>

        <div class="array-display" id="arrayContainer"></div>

        <div class="code-example">
            <h3>JavaScript Implementation:</h3>
            <pre><code>
function slidingWindowMaxSum(arr, k) {
    let maxSum = 0;
    let windowSum = 0;
    
    // Calculate sum of first window
    for (let i = 0; i &lt; k; i++) {
        windowSum += arr[i];
    }
    maxSum = windowSum;
    
    // Slide the window
    for (let i = k; i &lt; arr.length; i++) {
        windowSum = windowSum - arr[i - k] + arr[i];
        maxSum = Math.max(maxSum, windowSum);
    }
    
    return maxSum;
}
            </code></pre>
        </div>
    </div>

    <script>
        let array = [2, 1, 5, 1, 3, 2];
        let currentWindowStart = 0;
        let autoSlideInterval = null;
        
        function initializeArray() {
            const container = document.getElementById('arrayContainer');
            container.innerHTML = '';
            
            array.forEach((value, index) => {
                const element = document.createElement('div');
                element.className = 'array-element';
                element.textContent = value;
                element.id = `element-${index}`;
                container.appendChild(element);
            });
            
            updateSlidingWindow();
            updateResult();
        }
        
        function updateSlidingWindow() {
            let existingWindow = document.querySelector('.sliding-window');
            if (existingWindow) {
                existingWindow.remove();
            }
            
            const windowSize = parseInt(document.getElementById('windowSize').value);
            if (windowSize > array.length) return;
            
            const container = document.getElementById('arrayContainer');
            const firstElement = document.getElementById('element-0');
            const windowElement = document.createElement('div');
            windowElement.className = 'sliding-window';
            
            const elementWidth = 70; // 60px width + 10px margin
            const left = currentWindowStart * elementWidth;
            const width = windowSize * elementWidth;
            
            windowElement.style.left = `${left}px`;
            windowElement.style.width = `${width}px`;
            windowElement.style.height = '70px';
            
            container.appendChild(windowElement);
            
            // Highlight elements in window
            for (let i = 0; i < array.length; i++) {
                const element = document.getElementById(`element-${i}`);
                if (i >= currentWindowStart && i < currentWindowStart + windowSize) {
                    element.style.backgroundColor = '#ff6b6b';
                } else {
                    element.style.backgroundColor = '#4CAF50';
                }
            }
            
            updateCurrentWindowDisplay();
        }
        
        function updateCurrentWindowDisplay() {
            const windowSize = parseInt(document.getElementById('windowSize').value);
            const windowArray = array.slice(currentWindowStart, currentWindowStart + windowSize);
            document.getElementById('currentWindow').textContent = `[${windowArray.join(', ')}]`;
        }
        
        function updateResult() {
            const algorithm = document.getElementById('algorithm').value;
            const windowSize = parseInt(document.getElementById('windowSize').value);
            const windowArray = array.slice(currentWindowStart, currentWindowStart + windowSize);
            let result;
            
            switch (algorithm) {
                case 'maxSum':
                    result = windowArray.reduce((sum, num) => sum + num, 0);
                    document.getElementById('currentResult').textContent = `Sum: ${result}`;
                    break;
                case 'longestSubstring':
                    const uniqueChars = new Set(windowArray.map(String));
                    result = uniqueChars.size;
                    document.getElementById('currentResult').textContent = `Unique characters: ${result}`;
                    break;
                case 'average':
                    const sum = windowArray.reduce((sum, num) => sum + num, 0);
                    result = (sum / windowSize).toFixed(2);
                    document.getElementById('currentResult').textContent = `Average: ${result}`;
                    break;
            }
        }
        
        function slideWindow() {
            const windowSize = parseInt(document.getElementById('windowSize').value);
            if (currentWindowStart + windowSize < array.length) {
                currentWindowStart++;
                updateSlidingWindow();
                updateResult();
            }
        }
        
        function autoSlide() {
            stopAutoSlide();
            autoSlideInterval = setInterval(() => {
                const windowSize = parseInt(document.getElementById('windowSize').value);
                if (currentWindowStart + windowSize >= array.length) {
                    currentWindowStart = 0;
                } else {
                    currentWindowStart++;
                }
                updateSlidingWindow();
                updateResult();
            }, 1000);
        }
        
        function stopAutoSlide() {
            if (autoSlideInterval) {
                clearInterval(autoSlideInterval);
                autoSlideInterval = null;
            }
        }
        
        function resetArray() {
            stopAutoSlide();
            currentWindowStart = 0;
            // Generate new random array
            array = Array.from({length: 8}, () => Math.floor(Math.random() * 10) + 1);
            initializeArray();
        }
        
        // Event listeners
        document.getElementById('windowSize').addEventListener('change', function() {
            currentWindowStart = 0;
            updateSlidingWindow();
            updateResult();
        });
        
        document.getElementById('algorithm').addEventListener('change', updateResult);
        
        // Initialize
        window.onload = initializeArray;
    </script>
</body>
</html>