{
  "meta": {
    "concept": "Longest Common Subsequence (LCS) Visualizer",
    "topic": "Dynamic Programming",
    "educational_goal": "To visualize the process of finding the longest common subsequence between two strings.",
    "expected_interactions": [
      "Compute LCS",
      "Animate Fill",
      "Step",
      "Backtrack",
      "Play/Pause",
      "Previous Step",
      "Next Step",
      "Reset"
    ]
  },
  "states": [
    {
      "id": "S0_Ready",
      "label": "Ready",
      "type": "initial",
      "entry_actions": [
        "initFromInputs()",
        "renderStrings()"
      ],
      "exit_actions": [],
      "evidence": [
        "statusText.textContent = 'Ready. Click Compute LCS to start.'"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Computing",
      "label": "Computing LCS",
      "type": "processing",
      "entry_actions": [
        "computeDP()",
        "buildTable()",
        "renderFullTableHighlight()"
      ],
      "exit_actions": [],
      "evidence": [
        "computeBtn.addEventListener('click', ...)",
        "statusText.textContent = `DP computed. ${steps.length} steps generated.`;"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Animating",
      "label": "Animating",
      "type": "processing",
      "entry_actions": [
        "animateFill()"
      ],
      "exit_actions": [
        "stopPlaying()"
      ],
      "evidence": [
        "animateBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Animating...';"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Step",
      "label": "Stepping",
      "type": "processing",
      "entry_actions": [
        "renderStep(curStep)"
      ],
      "exit_actions": [],
      "evidence": [
        "stepBtn.addEventListener('click', ...)",
        "statusText.textContent = `Step ${k+1} / ${steps.length} — filling cell (${cur.i},${cur.j}) value=${cur.value} ${cur.match? '(match)':''}`;"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Backtracking",
      "label": "Backtracking",
      "type": "processing",
      "entry_actions": [
        "doBacktrack()"
      ],
      "exit_actions": [],
      "evidence": [
        "backtrackBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Backtrack complete.';"
      ],
      "confidence": 1
    },
    {
      "id": "S5_Playing",
      "label": "Playing",
      "type": "processing",
      "entry_actions": [
        "animateFill()"
      ],
      "exit_actions": [
        "stopPlaying()"
      ],
      "evidence": [
        "playPause.addEventListener('click', ...)",
        "statusText.textContent = 'Animation complete.';"
      ],
      "confidence": 1
    },
    {
      "id": "S6_Reset",
      "label": "Reset",
      "type": "resetting",
      "entry_actions": [
        "resetState()",
        "renderStrings()"
      ],
      "exit_actions": [],
      "evidence": [
        "resetBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Reset.';"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "ComputeLCS_Click",
      "event_type": "click",
      "description": "User clicks Compute LCS button.",
      "trigger_selectors": [
        "#computeBtn"
      ],
      "evidence": [
        "computeBtn.addEventListener('click', ...)",
        "statusText.textContent = 'One or both strings are empty.';"
      ],
      "confidence": 1
    },
    {
      "id": "AnimateFill_Click",
      "event_type": "click",
      "description": "User clicks Animate Fill button.",
      "trigger_selectors": [
        "#animateBtn"
      ],
      "evidence": [
        "animateBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Compute DP first.';"
      ],
      "confidence": 1
    },
    {
      "id": "Step_Click",
      "event_type": "click",
      "description": "User clicks Step button.",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ...)",
        "statusText.textContent = `Step ${k+1} / ${steps.length} — filling cell (${cur.i},${cur.j}) value=${cur.value} ${cur.match? '(match)':''}`;"
      ],
      "confidence": 1
    },
    {
      "id": "Backtrack_Click",
      "event_type": "click",
      "description": "User clicks Backtrack button.",
      "trigger_selectors": [
        "#backtrackBtn"
      ],
      "evidence": [
        "backtrackBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Backtrack complete.';"
      ],
      "confidence": 1
    },
    {
      "id": "PlayPause_Click",
      "event_type": "click",
      "description": "User clicks Play/Pause button.",
      "trigger_selectors": [
        "#playPause"
      ],
      "evidence": [
        "playPause.addEventListener('click', ...)",
        "statusText.textContent = 'Paused.';"
      ],
      "confidence": 1
    },
    {
      "id": "PrevStep_Click",
      "event_type": "click",
      "description": "User clicks Previous Step button.",
      "trigger_selectors": [
        "#prevStep"
      ],
      "evidence": [
        "prevStep.addEventListener('click', ...)",
        "statusText.textContent = 'Paused.';"
      ],
      "confidence": 1
    },
    {
      "id": "NextStep_Click",
      "event_type": "click",
      "description": "User clicks Next Step button.",
      "trigger_selectors": [
        "#nextStep"
      ],
      "evidence": [
        "nextStep.addEventListener('click', ...)",
        "statusText.textContent = 'Paused.';"
      ],
      "confidence": 1
    },
    {
      "id": "Reset_Click",
      "event_type": "click",
      "description": "User clicks Reset button.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Reset.';"
      ],
      "confidence": 1
    },
    {
      "id": "ShowVals_Change",
      "event_type": "change",
      "description": "User toggles Show values checkbox.",
      "trigger_selectors": [
        "#showVals"
      ],
      "evidence": [
        "showVals.addEventListener('change', ...)",
        "buildTable();"
      ],
      "confidence": 1
    },
    {
      "id": "ShowArrows_Change",
      "event_type": "change",
      "description": "User toggles Show arrows checkbox.",
      "trigger_selectors": [
        "#showArrows"
      ],
      "evidence": [
        "showArrows.addEventListener('change', ...)",
        "buildTable();"
      ],
      "confidence": 1
    },
    {
      "id": "AutoHighlight_Change",
      "event_type": "change",
      "description": "User toggles Highlight subsequence in strings checkbox.",
      "trigger_selectors": [
        "#autoHighlight"
      ],
      "evidence": [
        "autoHighlight.addEventListener('change', ...)",
        "displayA.querySelectorAll('.char').forEach((el,i)=>{ el.classList.toggle('match', false); });"
      ],
      "confidence": 1
    },
    {
      "id": "InputA_Enter",
      "event_type": "keydown",
      "description": "User presses Enter in String A input.",
      "trigger_selectors": [
        "#strA"
      ],
      "evidence": [
        "strAInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') computeBtn.click(); });"
      ],
      "confidence": 1
    },
    {
      "id": "InputB_Enter",
      "event_type": "keydown",
      "description": "User presses Enter in String B input.",
      "trigger_selectors": [
        "#strB"
      ],
      "evidence": [
        "strBInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') computeBtn.click(); });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Ready",
      "to": "S1_Computing",
      "event": "ComputeLCS_Click",
      "actions": [],
      "expected_observables": [
        "DP table is built",
        "LCS length is displayed"
      ],
      "evidence": [
        "computeBtn.addEventListener('click', ...)",
        "statusText.textContent = 'One or both strings are empty.';"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Computing",
      "to": "S2_Animating",
      "event": "AnimateFill_Click",
      "actions": [],
      "expected_observables": [
        "Animation of filling cells starts"
      ],
      "evidence": [
        "animateBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Compute DP first.';"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Computing",
      "to": "S3_Step",
      "event": "Step_Click",
      "actions": [],
      "expected_observables": [
        "Step is rendered"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ...)",
        "statusText.textContent = `Step ${k+1} / ${steps.length} — filling cell (${cur.i},${cur.j}) value=${cur.value} ${cur.match? '(match)':''}`;"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Computing",
      "to": "S4_Backtracking",
      "event": "Backtrack_Click",
      "actions": [],
      "expected_observables": [
        "Backtrack path is highlighted"
      ],
      "evidence": [
        "backtrackBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Backtrack complete.';"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Animating",
      "to": "S5_Playing",
      "event": "PlayPause_Click",
      "actions": [],
      "expected_observables": [
        "Animation is paused or resumed"
      ],
      "evidence": [
        "playPause.addEventListener('click', ...)",
        "statusText.textContent = 'Paused.';"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Step",
      "to": "S4_Backtracking",
      "event": "Backtrack_Click",
      "actions": [],
      "expected_observables": [
        "Backtrack path is highlighted"
      ],
      "evidence": [
        "backtrackBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Backtrack complete.';"
      ],
      "confidence": 1
    },
    {
      "from": "S5_Playing",
      "to": "S2_Animating",
      "event": "PlayPause_Click",
      "actions": [],
      "expected_observables": [
        "Animation is paused"
      ],
      "evidence": [
        "playPause.addEventListener('click', ...)",
        "statusText.textContent = 'Paused.';"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Computing",
      "to": "S6_Reset",
      "event": "Reset_Click",
      "actions": [],
      "expected_observables": [
        "State is reset"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Reset.';"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S6_Reset",
      "event": "Reset_Click",
      "actions": [],
      "expected_observables": [
        "State is reset"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ...)",
        "statusText.textContent = 'Reset.';"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#strA",
      "text": "ABCBDAB",
      "attributes": {
        "type": "text",
        "value": "ABCBDAB"
      },
      "evidence": [
        "<input id=\"strA\" type=\"text\" value=\"ABCBDAB\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#strB",
      "text": "BDCABA",
      "attributes": {
        "type": "text",
        "value": "BDCABA"
      },
      "evidence": [
        "<input id=\"strB\" type=\"text\" value=\"BDCABA\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#computeBtn",
      "text": "Compute LCS",
      "attributes": {},
      "evidence": [
        "<button id=\"computeBtn\">Compute LCS</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#animateBtn",
      "text": "Animate Fill",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"animateBtn\" class=\"ghost\">Animate Fill</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "Step",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"stepBtn\" class=\"ghost\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#backtrackBtn",
      "text": "Backtrack",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"backtrackBtn\" class=\"ghost\">Backtrack</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#playPause",
      "text": "Play",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"playPause\" class=\"ghost\">Play</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#prevStep",
      "text": "Prev",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"prevStep\" class=\"ghost\">Prev</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#nextStep",
      "text": "Next",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"nextStep\" class=\"ghost\">Next</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"resetBtn\" class=\"ghost\">Reset</button>"
      ]
    },
    {
      "type": "checkbox",
      "selector": "#showVals",
      "text": "Show values",
      "attributes": {
        "type": "checkbox",
        "checked": true
      },
      "evidence": [
        "<input id=\"showVals\" type=\"checkbox\" checked />"
      ]
    },
    {
      "type": "checkbox",
      "selector": "#showArrows",
      "text": "Show arrows",
      "attributes": {
        "type": "checkbox"
      },
      "evidence": [
        "<input id=\"showArrows\" type=\"checkbox\" />"
      ]
    },
    {
      "type": "checkbox",
      "selector": "#autoHighlight",
      "text": "Highlight subsequence in strings",
      "attributes": {
        "type": "checkbox",
        "checked": true
      },
      "evidence": [
        "<input id=\"autoHighlight\" type=\"checkbox\" checked />"
      ]
    },
    {
      "type": "range",
      "selector": "#speedRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "50",
        "max": "1200",
        "value": "220"
      },
      "evidence": [
        "<input id=\"speedRange\" type=\"range\" min=\"50\" max=\"1200\" value=\"220\" />"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-10T00:00:00Z",
    "detected_components_count": 13,
    "detected_components": [
      {
        "type": "input",
        "selector": "#strA",
        "text": "ABCBDAB",
        "attributes": {
          "type": "text",
          "value": "ABCBDAB"
        }
      },
      {
        "type": "input",
        "selector": "#strB",
        "text": "BDCABA",
        "attributes": {
          "type": "text",
          "value": "BDCABA"
        }
      },
      {
        "type": "button",
        "selector": "#computeBtn",
        "text": "Compute LCS",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#animateBtn",
        "text": "Animate Fill",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#stepBtn",
        "text": "Step",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#backtrackBtn",
        "text": "Backtrack",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#playPause",
        "text": "Play",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#prevStep",
        "text": "Prev",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#nextStep",
        "text": "Next",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Reset",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "checkbox",
        "selector": "#showVals",
        "text": "Show values",
        "attributes": {
          "type": "checkbox",
          "checked": true
        }
      },
      {
        "type": "checkbox",
        "selector": "#showArrows",
        "text": "Show arrows",
        "attributes": {
          "type": "checkbox"
        }
      },
      {
        "type": "checkbox",
        "selector": "#autoHighlight",
        "text": "Highlight subsequence in strings",
        "attributes": {
          "type": "checkbox",
          "checked": true
        }
      },
      {
        "type": "range",
        "selector": "#speedRange",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "50",
          "max": "1200",
          "value": "220"
        }
      }
    ],
    "detected_event_handlers_count": 13,
    "detected_event_handlers": [
      "computeBtn.addEventListener('click', ...)",
      "animateBtn.addEventListener('click', ...)",
      "stepBtn.addEventListener('click', ...)",
      "backtrackBtn.addEventListener('click', ...)",
      "playPause.addEventListener('click', ...)",
      "prevStep.addEventListener('click', ...)",
      "nextStep.addEventListener('click', ...)",
      "resetBtn.addEventListener('click', ...)",
      "showVals.addEventListener('change', ...)",
      "showArrows.addEventListener('change', ...)",
      "autoHighlight.addEventListener('change', ...)",
      "strAInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') computeBtn.click(); });",
      "strBInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') computeBtn.click(); });"
    ],
    "extracted_states_count": 7,
    "extracted_transitions_count": 9,
    "extraction_confidence": 1,
    "notes": [
      "All interactive elements were identified.",
      "All event handlers were captured.",
      "State transitions are based on user interactions.",
      "Confidence in extraction is high due to comprehensive inline scripts.",
      "No external scripts were referenced."
    ]
  }
}