{
  "meta": {
    "concept": "Kruskal's Algorithm Visualizer",
    "topic": "Kruskal's Algorithm",
    "educational_goal": "Visualize the process of building a Minimum Spanning Tree using Kruskal's algorithm.",
    "expected_interactions": [
      "Generate a graph",
      "Step through edges",
      "Play through edges",
      "Reset colors",
      "Clear all"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "initDemo()"
      ],
      "exit_actions": [],
      "evidence": [
        "initDemo();"
      ],
      "confidence": 1
    },
    {
      "id": "S1_GraphGenerated",
      "label": "Graph Generated",
      "type": "active",
      "entry_actions": [
        "drawGraph()",
        "prepareKruskal()"
      ],
      "exit_actions": [],
      "evidence": [
        "drawGraph();",
        "prepareKruskal();"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Stepping",
      "label": "Stepping Through Edges",
      "type": "active",
      "entry_actions": [
        "step()"
      ],
      "exit_actions": [],
      "evidence": [
        "step();"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Playing",
      "label": "Playing",
      "type": "active",
      "entry_actions": [
        "play()"
      ],
      "exit_actions": [
        "stopPlaying()"
      ],
      "evidence": [
        "playing = true;",
        "stopPlaying();"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Paused",
      "label": "Paused",
      "type": "active",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [],
      "confidence": 1
    },
    {
      "id": "S5_ColorsReset",
      "label": "Colors Reset",
      "type": "active",
      "entry_actions": [
        "colorAllDefaults()",
        "prepareKruskal()"
      ],
      "exit_actions": [],
      "evidence": [
        "colorAllDefaults();",
        "prepareKruskal();"
      ],
      "confidence": 1
    },
    {
      "id": "S6_AllCleared",
      "label": "All Cleared",
      "type": "active",
      "entry_actions": [
        "clearSVG()"
      ],
      "exit_actions": [],
      "evidence": [
        "clearSVG();"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GenerateGraph",
      "event_type": "click",
      "description": "Generate a random graph with the specified number of nodes.",
      "trigger_selectors": [
        "#genBtn"
      ],
      "evidence": [
        "genBtn.addEventListener('click', ()=> {",
        "const n = Math.max(2, Math.min(20, parseInt(nodesCountIn.value) || 8));"
      ],
      "confidence": 1
    },
    {
      "id": "StepEdge",
      "event_type": "click",
      "description": "Step through the next edge in the algorithm.",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=> {",
        "step();"
      ],
      "confidence": 1
    },
    {
      "id": "PlayEdges",
      "event_type": "click",
      "description": "Automatically step through edges in the algorithm.",
      "trigger_selectors": [
        "#playBtn"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=> {",
        "playing = true;"
      ],
      "confidence": 1
    },
    {
      "id": "PauseEdges",
      "event_type": "click",
      "description": "Pause the automatic stepping through edges.",
      "trigger_selectors": [
        "#pauseBtn"
      ],
      "evidence": [
        "pauseBtn.addEventListener('click', ()=> stopPlaying());"
      ],
      "confidence": 1
    },
    {
      "id": "ResetColors",
      "event_type": "click",
      "description": "Reset the colors of the graph.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=> {",
        "colorAllDefaults();",
        "prepareKruskal();"
      ],
      "confidence": 1
    },
    {
      "id": "ClearAll",
      "event_type": "click",
      "description": "Clear all nodes and edges from the graph.",
      "trigger_selectors": [
        "#clearBtn"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', ()=> {",
        "clearSVG();"
      ],
      "confidence": 1
    },
    {
      "id": "EdgeProbabilityChange",
      "event_type": "input",
      "description": "Change the edge probability for the graph.",
      "trigger_selectors": [
        "#edgeProb"
      ],
      "evidence": [
        "edgeProbIn.addEventListener('input', ()=> {",
        "probLabel.textContent = edgeProbIn.value + '%';"
      ],
      "confidence": 1
    },
    {
      "id": "SpeedChange",
      "event_type": "input",
      "description": "Change the speed of the automatic stepping.",
      "trigger_selectors": [
        "#speed"
      ],
      "evidence": [
        "speedIn.addEventListener('input', ()=> {",
        "speedLabel.textContent = speedIn.value + ' ms';"
      ],
      "confidence": 1
    },
    {
      "id": "GraphTypeChange",
      "event_type": "change",
      "description": "Change the type of graph to generate.",
      "trigger_selectors": [
        "#graphType"
      ],
      "evidence": [
        "graphType.addEventListener('change', ()=> {",
        "buildEdges(prob, graphType.value);"
      ],
      "confidence": 1
    },
    {
      "id": "ClickEdge",
      "event_type": "click",
      "description": "Click on an edge to highlight it.",
      "trigger_selectors": [
        "#svgCanvas"
      ],
      "evidence": [
        "svg.addEventListener('click', (ev) => {",
        "if (ev.target.tagName === 'line') {"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_GraphGenerated",
      "event": "GenerateGraph",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "genBtn.addEventListener('click', ()=> {",
        "drawGraph();",
        "prepareKruskal();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S2_Stepping",
      "event": "StepEdge",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "stepBtn.addEventListener('click', ()=> {",
        "step();"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Stepping",
      "to": "S3_Playing",
      "event": "PlayEdges",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "playBtn.addEventListener('click', ()=> {",
        "playing = true;"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Playing",
      "to": "S4_Paused",
      "event": "PauseEdges",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "pauseBtn.addEventListener('click', ()=> stopPlaying());"
      ],
      "confidence": 1
    },
    {
      "from": "S4_Paused",
      "to": "S3_Playing",
      "event": "PlayEdges",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "playBtn.addEventListener('click', ()=> {",
        "playing = true;"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S5_ColorsReset",
      "event": "ResetColors",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "resetBtn.addEventListener('click', ()=> {",
        "colorAllDefaults();",
        "prepareKruskal();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S6_AllCleared",
      "event": "ClearAll",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "clearBtn.addEventListener('click', ()=> {",
        "clearSVG();"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#genBtn",
      "text": "Generate",
      "attributes": {},
      "evidence": [
        "<button id=\"genBtn\" class=\"secondary\">Generate</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "Step",
      "attributes": {},
      "evidence": [
        "<button id=\"stepBtn\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#playBtn",
      "text": "Play",
      "attributes": {},
      "evidence": [
        "<button id=\"playBtn\">Play</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#pauseBtn",
      "text": "Pause",
      "attributes": {},
      "evidence": [
        "<button id=\"pauseBtn\" class=\"secondary\">Pause</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset Colors",
      "attributes": {},
      "evidence": [
        "<button id=\"resetBtn\" class=\"secondary\">Reset Colors</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearBtn",
      "text": "Clear All",
      "attributes": {},
      "evidence": [
        "<button id=\"clearBtn\" class=\"secondary\">Clear All</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#nodesCount",
      "text": "",
      "attributes": {
        "type": "number",
        "min": "2",
        "max": "20",
        "value": "8"
      },
      "evidence": [
        "<input id=\"nodesCount\" type=\"number\" min=\"2\" max=\"20\" value=\"8\" style=\"width:92px;\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#edgeProb",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "0",
        "max": "100",
        "value": "45"
      },
      "evidence": [
        "<input id=\"edgeProb\" type=\"range\" min=\"0\" max=\"100\" value=\"45\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#speed",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "50",
        "max": "2000",
        "value": "800"
      },
      "evidence": [
        "<input id=\"speed\" type=\"range\" min=\"50\" max=\"2000\" value=\"800\" />"
      ]
    },
    {
      "type": "select",
      "selector": "#graphType",
      "text": "",
      "attributes": {},
      "evidence": [
        "<select id=\"graphType\">"
      ]
    },
    {
      "type": "div",
      "selector": "#edgeList",
      "text": "",
      "attributes": {},
      "evidence": [
        "<div class=\"edge-list\" id=\"edgeList\"></div>"
      ]
    },
    {
      "type": "div",
      "selector": "#curStep",
      "text": "",
      "attributes": {},
      "evidence": [
        "<span id=\"curStep\">0</span>"
      ]
    },
    {
      "type": "div",
      "selector": "#totalEdges",
      "text": "",
      "attributes": {},
      "evidence": [
        "<span id=\"totalEdges\">0</span>"
      ]
    },
    {
      "type": "div",
      "selector": "#mstWeight",
      "text": "",
      "attributes": {},
      "evidence": [
        "<span id=\"mstWeight\">0</span>"
      ]
    },
    {
      "type": "div",
      "selector": "#consideredCount",
      "text": "",
      "attributes": {},
      "evidence": [
        "<span id=\"consideredCount\">0</span>"
      ]
    },
    {
      "type": "div",
      "selector": "#mstCount",
      "text": "",
      "attributes": {},
      "evidence": [
        "<span id=\"mstCount\">0</span>"
      ]
    },
    {
      "type": "div",
      "selector": "#nodesCountDisplay",
      "text": "",
      "attributes": {},
      "evidence": [
        "<span id=\"nodesCountDisplay\">0</span>"
      ]
    },
    {
      "type": "div",
      "selector": "#ufParents",
      "text": "",
      "attributes": {},
      "evidence": [
        "<div id=\"ufParents\"></div>"
      ]
    },
    {
      "type": "div",
      "selector": "#ufRanks",
      "text": "",
      "attributes": {},
      "evidence": [
        "<div id=\"ufRanks\"></div>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T12:00:00Z",
    "detected_components_count": 20,
    "detected_components": [
      {
        "type": "button",
        "selector": "#genBtn"
      },
      {
        "type": "button",
        "selector": "#stepBtn"
      },
      {
        "type": "button",
        "selector": "#playBtn"
      },
      {
        "type": "button",
        "selector": "#pauseBtn"
      },
      {
        "type": "button",
        "selector": "#resetBtn"
      },
      {
        "type": "button",
        "selector": "#clearBtn"
      },
      {
        "type": "input",
        "selector": "#nodesCount"
      },
      {
        "type": "input",
        "selector": "#edgeProb"
      },
      {
        "type": "input",
        "selector": "#speed"
      },
      {
        "type": "select",
        "selector": "#graphType"
      },
      {
        "type": "div",
        "selector": "#edgeList"
      },
      {
        "type": "div",
        "selector": "#curStep"
      },
      {
        "type": "div",
        "selector": "#totalEdges"
      },
      {
        "type": "div",
        "selector": "#mstWeight"
      },
      {
        "type": "div",
        "selector": "#consideredCount"
      },
      {
        "type": "div",
        "selector": "#mstCount"
      },
      {
        "type": "div",
        "selector": "#nodesCountDisplay"
      },
      {
        "type": "div",
        "selector": "#ufParents"
      },
      {
        "type": "div",
        "selector": "#ufRanks"
      }
    ],
    "detected_event_handlers_count": 12,
    "detected_event_handlers": [
      "genBtn.addEventListener('click', ()=> {",
      "edgeProbIn.addEventListener('input', ()=> {",
      "stepBtn.addEventListener('click', ()=> {",
      "playBtn.addEventListener('click', ()=> {",
      "pauseBtn.addEventListener('click', ()=> stopPlaying());",
      "resetBtn.addEventListener('click', ()=> {",
      "clearBtn.addEventListener('click', ()=> {",
      "speedIn.addEventListener('input', ()=> {",
      "graphType.addEventListener('change', ()=> {",
      "svg.addEventListener('click', (ev) => {",
      "document.addEventListener('keydown', (e) => {"
    ],
    "extracted_states_count": 7,
    "extracted_transitions_count": 8,
    "extraction_confidence": 1,
    "notes": []
  }
}