{
  "meta": {
    "concept": "Merge Sort Visualizer",
    "topic": "Sorting Algorithms",
    "educational_goal": "To visualize and understand the Merge Sort algorithm through interactive controls.",
    "expected_interactions": [
      "Randomize array",
      "Reverse array",
      "Apply custom input",
      "Start sorting",
      "Step through sorting",
      "Pause sorting",
      "Reset sorting"
    ]
  },
  "states": [
    {
      "id": "S0_Ready",
      "label": "Ready",
      "type": "initial",
      "entry_actions": [
        "updateStatus('Ready')"
      ],
      "exit_actions": [],
      "evidence": [
        "statusEl.textContent = 'Ready';"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Playing",
      "label": "Playing",
      "type": "active",
      "entry_actions": [
        "updateStatus('Playing')"
      ],
      "exit_actions": [
        "updateStatus('Paused')"
      ],
      "evidence": [
        "state.playing = true;",
        "updateStatus('Playing');"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Paused",
      "label": "Paused",
      "type": "active",
      "entry_actions": [
        "updateStatus('Paused')"
      ],
      "exit_actions": [],
      "evidence": [
        "state.playing = false;",
        "updateStatus('Paused');"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Reset",
      "label": "Reset",
      "type": "active",
      "entry_actions": [
        "updateStatus('Reset')"
      ],
      "exit_actions": [],
      "evidence": [
        "updateStatus('Reset');"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "RANDOMIZE_CLICK",
      "event_type": "click",
      "description": "Randomize the array",
      "trigger_selectors": [
        "#randomBtn"
      ],
      "evidence": [
        "randomBtn.addEventListener('click', ()=>{ generateRandom(state.size); drawArray(); });"
      ],
      "confidence": 1
    },
    {
      "id": "REVERSE_CLICK",
      "event_type": "click",
      "description": "Reverse the array",
      "trigger_selectors": [
        "#reverseBtn"
      ],
      "evidence": [
        "reverseBtn.addEventListener('click', ()=>{ state.array.reverse(); drawArray(); });"
      ],
      "confidence": 1
    },
    {
      "id": "APPLY_INPUT_CLICK",
      "event_type": "click",
      "description": "Apply custom input to the array",
      "trigger_selectors": [
        "#applyInput"
      ],
      "evidence": [
        "applyInput.addEventListener('click', applyCustomInput);"
      ],
      "confidence": 1
    },
    {
      "id": "START_CLICK",
      "event_type": "click",
      "description": "Start the sorting process",
      "trigger_selectors": [
        "#startBtn"
      ],
      "evidence": [
        "startBtn.addEventListener('click', startPlayback);"
      ],
      "confidence": 1
    },
    {
      "id": "STEP_CLICK",
      "event_type": "click",
      "description": "Step through the sorting process",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', stepOnce);"
      ],
      "confidence": 1
    },
    {
      "id": "PAUSE_CLICK",
      "event_type": "click",
      "description": "Pause the sorting process",
      "trigger_selectors": [
        "#pauseBtn"
      ],
      "evidence": [
        "pauseBtn.addEventListener('click', pausePlayback);"
      ],
      "confidence": 1
    },
    {
      "id": "RESET_CLICK",
      "event_type": "click",
      "description": "Reset the sorting process",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', resetPlayback);"
      ],
      "confidence": 1
    },
    {
      "id": "MODE_CHANGE",
      "event_type": "change",
      "description": "Change the sorting mode",
      "trigger_selectors": [
        "#modeSelect"
      ],
      "evidence": [
        "modeSelect.addEventListener('change', ()=>{ state.mode = modeSelect.value; renderCode(); });"
      ],
      "confidence": 1
    },
    {
      "id": "SIZE_CHANGE",
      "event_type": "input",
      "description": "Change the size of the array",
      "trigger_selectors": [
        "#sizeRange"
      ],
      "evidence": [
        "sizeRange.addEventListener('input', ()=>{ state.size = parseInt(sizeRange.value); sizeLabel.textContent = state.size; });"
      ],
      "confidence": 1
    },
    {
      "id": "SPEED_CHANGE",
      "event_type": "input",
      "description": "Change the speed of playback",
      "trigger_selectors": [
        "#speedRange"
      ],
      "evidence": [
        "speedRange.addEventListener('input', ()=>{ state.speed = parseInt(speedRange.value); });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Ready",
      "to": "S1_Playing",
      "event": "START_CLICK",
      "actions": [
        "prepareOps()"
      ],
      "expected_observables": [
        "updateStatus('Playing')"
      ],
      "evidence": [
        "if(state.playing) return;",
        "state.playing = true;",
        "updateStatus('Playing');"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Playing",
      "to": "S2_Paused",
      "event": "PAUSE_CLICK",
      "actions": [],
      "expected_observables": [
        "updateStatus('Paused')"
      ],
      "evidence": [
        "state.playing = false;",
        "updateStatus('Paused');"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Paused",
      "to": "S1_Playing",
      "event": "START_CLICK",
      "actions": [],
      "expected_observables": [
        "updateStatus('Playing')"
      ],
      "evidence": [
        "if(state.playing) return;",
        "state.playing = true;",
        "updateStatus('Playing');"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Playing",
      "to": "S3_Reset",
      "event": "RESET_CLICK",
      "actions": [
        "resetPlayback()"
      ],
      "expected_observables": [
        "updateStatus('Reset')"
      ],
      "evidence": [
        "resetPlayback();",
        "updateStatus('Reset');"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Paused",
      "to": "S3_Reset",
      "event": "RESET_CLICK",
      "actions": [
        "resetPlayback()"
      ],
      "expected_observables": [
        "updateStatus('Reset')"
      ],
      "evidence": [
        "resetPlayback();",
        "updateStatus('Reset');"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Reset",
      "to": "S0_Ready",
      "event": "RANDOMIZE_CLICK",
      "actions": [
        "generateRandom(state.size); drawArray();"
      ],
      "expected_observables": [
        "updateStatus('Array randomized')"
      ],
      "evidence": [
        "randomBtn.addEventListener('click', ()=>{ generateRandom(state.size); drawArray(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Reset",
      "to": "S0_Ready",
      "event": "REVERSE_CLICK",
      "actions": [
        "state.array.reverse(); drawArray();"
      ],
      "expected_observables": [
        "updateStatus('Array randomized')"
      ],
      "evidence": [
        "reverseBtn.addEventListener('click', ()=>{ state.array.reverse(); drawArray(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Reset",
      "to": "S0_Ready",
      "event": "APPLY_INPUT_CLICK",
      "actions": [
        "applyCustomInput()"
      ],
      "expected_observables": [
        "updateStatus('Custom array applied')"
      ],
      "evidence": [
        "applyInput.addEventListener('click', applyCustomInput);"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#randomBtn",
      "text": "Randomize",
      "attributes": {},
      "evidence": [
        "<button class=\"btn\" id=\"randomBtn\">Randomize</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#reverseBtn",
      "text": "Reverse",
      "attributes": {},
      "evidence": [
        "<button class=\"btn secondary\" id=\"reverseBtn\">Reverse</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#applyInput",
      "text": "Apply",
      "attributes": {},
      "evidence": [
        "<button class=\"btn\" id=\"applyInput\">Apply</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#startBtn",
      "text": "Start",
      "attributes": {},
      "evidence": [
        "<button class=\"btn\" id=\"startBtn\">Start</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "Step",
      "attributes": {},
      "evidence": [
        "<button class=\"btn secondary\" id=\"stepBtn\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#pauseBtn",
      "text": "Pause",
      "attributes": {},
      "evidence": [
        "<button class=\"btn secondary\" id=\"pauseBtn\">Pause</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {},
      "evidence": [
        "<button class=\"btn secondary\" id=\"resetBtn\">Reset</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#sizeRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "5",
        "max": "120",
        "value": "30"
      },
      "evidence": [
        "<input id=\"sizeRange\" type=\"range\" min=\"5\" max=\"120\" value=\"30\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#speedRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "10",
        "max": "1000",
        "value": "200"
      },
      "evidence": [
        "<input id=\"speedRange\" type=\"range\" min=\"10\" max=\"1000\" value=\"200\" />"
      ]
    },
    {
      "type": "select",
      "selector": "#modeSelect",
      "text": "",
      "attributes": {
        "title": "Choose merge sort variant"
      },
      "evidence": [
        "<select id=\"modeSelect\" class=\"mode-select\" title=\"Choose merge sort variant\">"
      ]
    },
    {
      "type": "textarea",
      "selector": "#customInput",
      "text": "",
      "attributes": {
        "placeholder": "Enter comma-separated numbers (e.g. 5,3,9,1)"
      },
      "evidence": [
        "<textarea id=\"customInput\" placeholder=\"Enter comma-separated numbers (e.g. 5,3,9,1)\"></textarea>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-01T00:00:00Z",
    "detected_components_count": 10,
    "detected_components": [
      {
        "type": "button",
        "selector": "#randomBtn"
      },
      {
        "type": "button",
        "selector": "#reverseBtn"
      },
      {
        "type": "button",
        "selector": "#applyInput"
      },
      {
        "type": "button",
        "selector": "#startBtn"
      },
      {
        "type": "button",
        "selector": "#stepBtn"
      },
      {
        "type": "button",
        "selector": "#pauseBtn"
      },
      {
        "type": "button",
        "selector": "#resetBtn"
      },
      {
        "type": "input",
        "selector": "#sizeRange"
      },
      {
        "type": "input",
        "selector": "#speedRange"
      },
      {
        "type": "select",
        "selector": "#modeSelect"
      },
      {
        "type": "textarea",
        "selector": "#customInput"
      }
    ],
    "detected_event_handlers_count": 10,
    "detected_event_handlers": [
      "sizeRange.addEventListener('input', ()=>{ state.size = parseInt(sizeRange.value); sizeLabel.textContent = state.size; });",
      "sizeRange.addEventListener('change', ()=>{ generateRandom(state.size); drawArray(); });",
      "randomBtn.addEventListener('click', ()=>{ generateRandom(state.size); drawArray(); });",
      "reverseBtn.addEventListener('click', ()=>{ state.array.reverse(); drawArray(); });",
      "applyInput.addEventListener('click', applyCustomInput);",
      "clearInput.addEventListener('click', ()=>{ customInput.value = ''; });",
      "startBtn.addEventListener('click', startPlayback);",
      "stepBtn.addEventListener('click', stepOnce);",
      "pauseBtn.addEventListener('click', pausePlayback);",
      "resetBtn.addEventListener('click', resetPlayback);"
    ],
    "extracted_states_count": 4,
    "extracted_transitions_count": 8,
    "extraction_confidence": 1,
    "notes": []
  }
}