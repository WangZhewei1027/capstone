<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linear Search Demonstration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    background: #f9f9f9;
  }
  h1 {
    color: #333;
  }
  label, button {
    font-size: 1rem;
  }
  input[type="text"] {
    font-size: 1rem;
    padding: 0.3em;
    width: 200px;
  }
  button {
    padding: 0.4em 1em;
    margin-left: 0.5em;
    cursor: pointer;
  }
  .array-container {
    margin: 1rem 0;
    font-size: 1.1rem;
  }
  .result {
    margin-top: 1rem;
    font-weight: bold;
    font-size: 1.2rem;
  }
  .steps {
    margin-top: 1rem;
    background: #fff;
    border: 1px solid #ccc;
    max-height: 200px;
    overflow-y: auto;
    padding: 0.5rem;
    font-family: monospace;
    white-space: pre-wrap;
  }
  .highlight {
    background-color: #ffff99;
  }
</style>
</head>
<body>

<h1>Linear Search Demonstration</h1>

<p>Given an array, linear search looks for a target value by checking each element in sequence until the target is found or the array ends.</p>

<div class="array-container" id="array-container"></div>

<label for="target-input">Enter target to search:</label>
<input type="text" id="target-input" aria-label="Target value to search" />
<button id="search-btn">Search</button>

<div class="result" id="result"></div>
<div class="steps" id="steps" aria-live="polite"></div>

<script>
  // Example array to search in
  const arr = [34, 7, 23, 32, 5, 62, 32, 21];

  const arrayContainer = document.getElementById('array-container');
  const targetInput = document.getElementById('target-input');
  const searchBtn = document.getElementById('search-btn');
  const resultDiv = document.getElementById('result');
  const stepsDiv = document.getElementById('steps');

  // Display the array
  function displayArray(highlightIndex = -1) {
    // Clear container
    arrayContainer.innerHTML = '';

    arr.forEach((val, i) => {
      const span = document.createElement('span');
      span.textContent = val;
      span.style.padding = '0.2em 0.5em';
      span.style.border = '1px solid #ccc';
      span.style.marginRight = '0.3em';
      span.style.borderRadius = '4px';
      span.style.display = 'inline-block';
      span.style.minWidth = '30px';
      span.style.textAlign = 'center';

      if(i === highlightIndex){
        span.classList.add('highlight');
      }
      arrayContainer.appendChild(span);
    });
  }

  // Linear search function with step-by-step explanation
  async function linearSearch(array, target) {
    resultDiv.textContent = '';
    stepsDiv.textContent = '';
    displayArray();

    for(let i = 0; i < array.length; i++) {
      // Highlight current index
      displayArray(i);
      stepsDiv.textContent += `Checking index ${i}: value ${array[i]}...\n`;

      // Pause to simulate step by step
      await sleep(1000);

      if(array[i] == target) {
        stepsDiv.textContent += `Found target ${target} at index ${i}.\n`;
        resultDiv.textContent = `Result: Target ${target} found at index ${i}.`;
        return i; 
      } else {
        stepsDiv.textContent += `Value ${array[i]} is not target. Continue searching...\n`;
      }
    }

    stepsDiv.textContent += `Target ${target} not found in the array.\n`;
    resultDiv.textContent = `Result: Target ${target} not found in the array.`;
    displayArray(-1);
    return -1;
  }

  // Utility sleep function to delay steps for demonstration
  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  searchBtn.addEventListener('click', () => {
    const target = targetInput.value.trim();
    if(target === '') {
      alert('Please enter a target value to search for.');
      return;
    }
    // Clear previous results and start search
    linearSearch(arr, target);
  });

  // Initial display
  displayArray();
</script>

</body>
</html>