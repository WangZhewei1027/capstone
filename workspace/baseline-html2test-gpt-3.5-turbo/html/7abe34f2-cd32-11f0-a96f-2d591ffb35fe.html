<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Queue Demonstration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 600px;
    margin: 2rem auto;
    padding: 1rem;
    background: #f0f4f8;
  }
  h1 {
    text-align: center;
    color: #0366d6;
  }
  .queue-container {
    margin-top: 1.5rem;
    border: 2px solid #0366d6;
    border-radius: 6px;
    padding: 1rem;
    background: #ffffff;
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
  }
  .queue-element {
    min-width: 40px;
    padding: 0.5rem 1rem;
    margin-right: 0.5rem;
    background: #58a6ff;
    color: white;
    font-weight: bold;
    text-align: center;
    border-radius: 4px;
    user-select: none;
    position: relative;
  }
  .queue-element:first-child::after {
    content: "front";
    position: absolute;
    top: -1.2rem;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.75rem;
    color: #0366d6;
    font-weight: normal;
  }
  .queue-element:last-child::before {
    content: "rear";
    position: absolute;
    bottom: -1.2rem;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.75rem;
    color: #0366d6;
    font-weight: normal;
  }
  form {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
    justify-content: center;
  }
  input[type="text"] {
    padding: 0.5rem;
    font-size: 1rem;
    width: 150px;
    border: 2px solid #0366d6;
    border-radius: 4px;
  }
  button {
    cursor: pointer;
    font-size: 1rem;
    padding: 0.5rem 1rem;
    background: #0366d6;
    border: none;
    color: white;
    border-radius: 4px;
    transition: background 0.25s ease;
  }
  button:hover:not(:disabled) {
    background: #024a9f;
  }
  button:disabled {
    background: #a0aec0;
    cursor: not-allowed;
  }
  #message {
    text-align: center;
    font-weight: bold;
    color: #d73a49;
    min-height: 1.2rem;
  }
  #info {
    margin-top: 1rem;
    font-size: 0.9rem;
    color: #555555;
  }
  @media (max-width: 400px) {
    form {
      flex-direction: column;
      align-items: center;
    }
    input[type="text"] {
      width: 100%;
    }
    button {
      width: 100%;
    }
  }
</style>
</head>
<body>

<h1>Queue Demonstration</h1>

<form id="queue-form">
  <input type="text" id="enqueue-input" placeholder="Enter element" autocomplete="off" />
  <button type="submit" id="enqueue-btn">Enqueue</button>
  <button type="button" id="dequeue-btn">Dequeue</button>
</form>

<div class="queue-container" id="queue-container" aria-label="Queue elements" role="list" tabindex="0">
  <!-- Queue elements will appear here -->
</div>

<p id="message" aria-live="polite"></p>

<div id="info">
  <p><strong>Queue Operations:</strong></p>
  <ul>
    <li><strong>Enqueue:</strong> Add an element to the rear (end) of the queue.</li>
    <li><strong>Dequeue:</strong> Remove the element from the front (start) of the queue.</li>
    <li>Queue follows <em>First-In-First-Out (FIFO)</em> principle.</li>
  </ul>
</div>

<script>
  (function() {
    // The queue array simulates the queue data structure
    const queue = [];

    // References to DOM elements
    const enqueueInput = document.getElementById('enqueue-input');
    const enqueueBtn = document.getElementById('enqueue-btn');
    const dequeueBtn = document.getElementById('dequeue-btn');
    const queueContainer = document.getElementById('queue-container');
    const messageEl = document.getElementById('message');
    const queueForm = document.getElementById('queue-form');

    // Max length for demonstration purpose (optional)
    const MAX_QUEUE_SIZE = 20;

    // Function to render the queue elements visually
    function renderQueue() {
      queueContainer.innerHTML = '';
      if (queue.length === 0) {
        queueContainer.textContent = 'Queue is empty.';
        return;
      }
      queue.forEach((element, index) => {
        const el = document.createElement('div');
        el.className = 'queue-element';
        el.setAttribute('role', 'listitem');
        el.textContent = element;
        queueContainer.appendChild(el);
      });
    }

    // Function to show messages to user
    function showMessage(text, color = '#d73a49') {
      messageEl.textContent = text;
      messageEl.style.color = color;
    }

    // Enqueue handler
    function enqueue(element) {
      if (queue.length >= MAX_QUEUE_SIZE) {
        showMessage(`Queue is full (max size ${MAX_QUEUE_SIZE}). Dequeue an element first.`);
        return false;
      }
      queue.push(element);
      showMessage(`Enqueued "${element}"`, '#28a745');
      renderQueue();
      return true;
    }

    // Dequeue handler
    function dequeue() {
      if (queue.length === 0) {
        showMessage('Queue is empty. Nothing to dequeue.');
        return null;
      }
      const removed = queue.shift();
      showMessage(`Dequeued "${removed}"`, '#d73a49');
      renderQueue();
      return removed;
    }

    // Event listeners
    queueForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const value = enqueueInput.value.trim();
      if (value === '') {
        showMessage('Please enter a non-empty element.');
        return;
      }
      if (enqueue(value)) {
        enqueueInput.value = '';
        enqueueInput.focus();
      }
    });

    dequeueBtn.addEventListener('click', function() {
      dequeue();
      enqueueInput.focus();
    });

    // Initial render
    renderQueue();

  })();
</script>

</body>
</html>