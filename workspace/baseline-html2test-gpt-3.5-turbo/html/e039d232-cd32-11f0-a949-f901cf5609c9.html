<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Queue Demonstration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2em;
    background: #f9f9f9;
  }
  h1 {
    text-align: center;
  }
  #queue-container {
    margin: 1em auto;
    max-width: 500px;
    min-height: 60px;
    border: 2px solid #007bff;
    border-radius: 6px;
    background: white;
    display: flex;
    padding: 10px;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: start;
    align-items: center;
  }
  .queue-element {
    background: #007bff;
    color: white;
    padding: 8px 12px;
    border-radius: 4px;
    font-weight: bold;
    min-width: 30px;
    text-align: center;
    user-select: none;
  }
  #controls {
    max-width: 500px;
    margin: 1em auto;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }
  input[type="text"] {
    flex: 1 1 150px;
    padding: 8px 10px;
    font-size: 1rem;
    border: 1.5px solid #007bff;
    border-radius: 4px;
  }
  button {
    padding: 9px 16px;
    font-size: 1rem;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    color: white;
    background-color: #007bff;
    transition: background-color 0.2s ease;
  }
  button:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
  }
  button:hover:not(:disabled) {
    background-color: #0056b3;
  }
  #message {
    max-width: 500px;
    margin: 0.5em auto;
    color: #d9534f;
    min-height: 1.2em;
    text-align: center;
    font-weight: bold;
  }
  #explanation {
    max-width: 500px;
    margin: 2em auto;
    background: #e9ecef;
    border-radius: 6px;
    padding: 1em 1.5em;
    font-size: 0.95rem;
    line-height: 1.4;
    border-left: 5px solid #007bff;
  }
</style>
</head>
<body>
  <h1>Queue Data Structure Demo</h1>
  <div id="queue-container" aria-label="Queue visualization" role="list"></div>
  <div id="controls">
    <input type="text" id="enqueue-input" placeholder="Enter value to enqueue" aria-label="Input value to enqueue" />
    <button id="enqueue-btn" aria-label="Enqueue value">Enqueue</button>
    <button id="dequeue-btn" aria-label="Dequeue value">Dequeue</button>
    <button id="peek-btn" aria-label="Peek front value">Peek</button>
    <button id="clear-btn" aria-label="Clear queue">Clear</button>
  </div>
  <div id="message" aria-live="polite"></div>
  <div id="explanation">
    <h2>What is a Queue?</h2>
    <p>A <strong>queue</strong> is a linear data structure that follows the <em>First-In-First-Out (FIFO)</em> principle. This means elements are added (enqueued) at the <em>rear</em> (end) and removed (dequeued) from the <em>front</em> (beginning).</p>
    <p>Operations demonstrated here:</p>
    <ul>
      <li><strong>Enqueue:</strong> Add a new element to the rear of the queue.</li>
      <li><strong>Dequeue:</strong> Remove the element at the front of the queue.</li>
      <li><strong>Peek:</strong> View the front element without removing it.</li>
      <li><strong>Clear:</strong> Remove all elements from the queue.</li>
    </ul>
    <p>Queues are commonly used in scheduling, buffering, and breadth-first search algorithms.</p>
  </div>

<script>
  // Simple queue class using array
  class Queue {
    constructor() {
      this.items = [];
    }
    enqueue(element) {
      this.items.push(element);
    }
    dequeue() {
      return this.items.shift();
    }
    peek() {
      return this.items[0];
    }
    isEmpty() {
      return this.items.length === 0;
    }
    clear() {
      this.items = [];
    }
    size() {
      return this.items.length;
    }
    getItems() {
      return this.items.slice();
    }
  }

  const queue = new Queue();

  const queueContainer = document.getElementById("queue-container");
  const enqueueInput = document.getElementById("enqueue-input");
  const enqueueBtn = document.getElementById("enqueue-btn");
  const dequeueBtn = document.getElementById("dequeue-btn");
  const peekBtn = document.getElementById("peek-btn");
  const clearBtn = document.getElementById("clear-btn");
  const message = document.getElementById("message");

  // Update the visual representation of the queue
  function updateQueueDisplay() {
    queueContainer.innerHTML = "";
    const items = queue.getItems();
    if (items.length === 0) {
      const emptyLabel = document.createElement("div");
      emptyLabel.textContent = "Queue is empty";
      emptyLabel.style.color = "#666";
      emptyLabel.style.fontStyle = "italic";
      queueContainer.appendChild(emptyLabel);
    } else {
      items.forEach((item, index) => {
        const elem = document.createElement("div");
        elem.className = "queue-element";
        elem.textContent = item;
        elem.setAttribute("role", "listitem");
        if(index === 0) {
          elem.title = "Front";
          elem.style.border = "2px solid #28a745"; // highlight front element border
          elem.style.backgroundColor = "#28a745";
          elem.style.color = "white";
        }
        queueContainer.appendChild(elem);
      });
    }
  }

  function setMessage(text, isError = false) {
    message.textContent = text;
    message.style.color = isError ? "#d9534f" : "#28a745";
  }

  enqueueBtn.addEventListener("click", () => {
    const val = enqueueInput.value.trim();
    if (val === "") {
      setMessage("Please enter a value to enqueue.", true);
      return;
    }
    queue.enqueue(val);
    enqueueInput.value = "";
    setMessage(`Enqueued "${val}"`);
    updateQueueDisplay();
    enqueueInput.focus();
  });

  dequeueBtn.addEventListener("click", () => {
    if (queue.isEmpty()) {
      setMessage("Queue is empty. Cannot dequeue.", true);
      return;
    }
    const removed = queue.dequeue();
    setMessage(`Dequeued "${removed}"`);
    updateQueueDisplay();
  });

  peekBtn.addEventListener("click", () => {
    if (queue.isEmpty()) {
      setMessage("Queue is empty. Nothing to peek.", true);
      return;
    }
    const front = queue.peek();
    setMessage(`Front element is: "${front}"`);
  });

  clearBtn.addEventListener("click", () => {
    if (queue.isEmpty()) {
      setMessage("Queue is already empty.");
      return;
    }
    queue.clear();
    setMessage("Queue cleared.");
    updateQueueDisplay();
  });

  // Allow pressing Enter in input to enqueue
  enqueueInput.addEventListener("keydown", e => {
    if(e.key === "Enter") {
      enqueueBtn.click();
    }
  });

  // Initial display
  updateQueueDisplay();
</script>
</body>
</html>