<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hash Map Demo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    background: #f4f6f8;
  }
  h1 {
    color: #333;
  }
  #hashMapContainer {
    background: white;
    padding: 1rem 1.5rem;
    border-radius: 6px;
    box-shadow: 0 4px 8px rgb(0 0 0 / 0.1);
    max-width: 600px;
  }
  label {
    display: block;
    margin-top: 1rem;
    font-weight: bold;
  }
  input[type="text"] {
    padding: 0.4rem 0.6rem;
    font-size: 1rem;
    width: 100%;
    box-sizing: border-box;
  }
  button {
    margin-top: 1rem;
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    cursor: pointer;
    border: none;
    border-radius: 4px;
    background: #007bcc;
    color: white;
  }
  button:hover {
    background: #005ea3;
  }
  table {
    width: 100%;
    margin-top: 1.5rem;
    border-collapse: collapse;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 0.5rem 0.75rem;
    text-align: left;
  }
  th {
    background: #007bcc;
    color: white;
  }
  #message {
    margin-top: 1rem;
    font-style: italic;
  }
</style>
</head>
<body>
  <h1>Hash Map (JavaScript Map) Demo</h1>
  <div id="hashMapContainer">
    <label for="keyInput">Key:</label>
    <input type="text" id="keyInput" placeholder="Enter key (string)" />

    <label for="valueInput">Value:</label>
    <input type="text" id="valueInput" placeholder="Enter value (string)" />

    <button id="addBtn">Add / Update Entry</button>
    <button id="deleteBtn">Delete Entry by Key</button>
    <button id="getBtn">Get Value by Key</button>
    <button id="clearBtn" style="background: #b02a37;">Clear Map</button>

    <div id="message"></div>

    <table id="hashMapTable" aria-label="Hash Map Contents">
      <thead>
        <tr><th>Key</th><th>Value</th></tr>
      </thead>
      <tbody>
        <!-- Entries will go here -->
      </tbody>
    </table>
  </div>


<script>
  // We will use JavaScript's built-in Map as a hash map.
  // It allows any type of keys, but we'll use strings here.

  const map = new Map();

  const keyInput = document.getElementById('keyInput');
  const valueInput = document.getElementById('valueInput');
  const addBtn = document.getElementById('addBtn');
  const deleteBtn = document.getElementById('deleteBtn');
  const getBtn = document.getElementById('getBtn');
  const clearBtn = document.getElementById('clearBtn');
  const messageDiv = document.getElementById('message');
  const tableBody = document.querySelector('#hashMapTable tbody');

  function renderMap() {
    tableBody.innerHTML = '';
    if (map.size === 0) {
      const tr = document.createElement('tr');
      const td = document.createElement('td');
      td.colSpan = 2;
      td.style.textAlign = 'center';
      td.style.fontStyle = 'italic';
      td.textContent = '(Map is empty)';
      tr.appendChild(td);
      tableBody.appendChild(tr);
      return;
    }
    for (const [key, value] of map.entries()) {
      const tr = document.createElement('tr');
      const tdKey = document.createElement('td');
      const tdValue = document.createElement('td');
      tdKey.textContent = key;
      tdValue.textContent = value;

      tr.appendChild(tdKey);
      tr.appendChild(tdValue);
      tableBody.appendChild(tr);
    }
  }

  function setMessage(msg, isError = false) {
    messageDiv.textContent = msg;
    messageDiv.style.color = isError ? '#b02a37' : '#005a00';
  }

  addBtn.addEventListener('click', () => {
    const key = keyInput.value.trim();
    const value = valueInput.value.trim();
    if (!key) {
      setMessage('Please enter a non-empty key.', true);
      return;
    }
    if (!value) {
      setMessage('Please enter a value.', true);
      return;
    }
    const exists = map.has(key);
    map.set(key, value);
    renderMap();
    setMessage(`${exists ? 'Updated' : 'Added'} entry with key "${key}".`);
  });

  deleteBtn.addEventListener('click', () => {
    const key = keyInput.value.trim();
    if (!key) {
      setMessage('Please enter the key to delete.', true);
      return;
    }
    if (map.delete(key)) {
      renderMap();
      setMessage(`Deleted entry with key "${key}".`);
    } else {
      setMessage(`No entry found with key "${key}".`, true);
    }
  });

  getBtn.addEventListener('click', () => {
    const key = keyInput.value.trim();
    if (!key) {
      setMessage('Please enter the key to get value for.', true);
      return;
    }
    if (map.has(key)) {
      const value = map.get(key);
      setMessage(`Value for key "${key}": ${value}`);
      valueInput.value = value;
    } else {
      setMessage(`No entry found with key "${key}".`, true);
      valueInput.value = '';
    }
  });

  clearBtn.addEventListener('click', () => {
    if (map.size === 0) {
      setMessage('Map is already empty.', true);
      return;
    }
    if(confirm('Are you sure you want to clear the entire map?')) {
      map.clear();
      renderMap();
      setMessage('Map cleared.');
      valueInput.value = '';
      keyInput.value = '';
    }
  });

  // Initialize the table on page load
  renderMap();
</script>
</body>
</html>