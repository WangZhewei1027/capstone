<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Stack Data Structure Demo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 30px;
    background: #f9f9f9;
    color: #333;
  }
  h1 {
    text-align:center;
    color: #2c3e50;
  }
  #stack-container {
    margin: 20px auto;
    max-width: 300px;
    border: 2px solid #2980b9;
    border-radius: 6px;
    background: white;
    padding: 20px;
  }
  #stack {
    border: 1px solid #2980b9;
    min-height: 120px;
    max-height: 240px;
    overflow-y: auto;
    margin-bottom: 15px;
    background: #ecf0f1;
    border-radius: 4px;
    display: flex;
    flex-direction: column-reverse;
    padding: 10px;
  }
  .stack-element {
    background: #3498db;
    color: white;
    padding: 8px 12px;
    margin: 6px 0;
    border-radius: 4px;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 2px 5px rgba(52,152,219,.7);
  }
  #controls {
    display: flex;
    justify-content: space-between;
    gap: 10px;
  }
  input[type="text"] {
    flex-grow: 1;
    padding: 8px 10px;
    font-size: 1em;
    border: 1.5px solid #2980b9;
    border-radius: 4px;
  }
  button {
    background: #2980b9;
    border: none;
    color: white;
    padding: 8px 14px;
    font-size: 1em;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  button:hover:not(:disabled) {
    background: #1c5980;
  }
  button:disabled {
    background: #95a5a6;
    cursor: not-allowed;
  }
  #message {
    margin-top: 15px;
    min-height: 22px;
    font-weight: bold;
    color: #c0392b;
    text-align: center;
  }
  #message.success {
    color: #27ae60;
  }
</style>
</head>
<body>
<h1>Stack Data Structure Demo</h1>
<div id="stack-container" aria-label="Stack control panel">
  <div id="stack" aria-live="polite" aria-label="Stack elements" role="list">
    <!-- Stack elements appear here -->
  </div>
  <div id="controls">
    <input id="inputValue" type="text" aria-label="Value to push" placeholder="Enter value to push" />
    <button id="pushBtn" aria-label="Push onto stack">Push</button>
    <button id="popBtn" aria-label="Pop from stack">Pop</button>
  </div>
  <div id="message" aria-live="assertive"></div>
</div>

<script>
  (() => {
    const stack = [];
    const stackEl = document.getElementById('stack');
    const input = document.getElementById('inputValue');
    const pushBtn = document.getElementById('pushBtn');
    const popBtn = document.getElementById('popBtn');
    const messageEl = document.getElementById('message');

    // Maximum stack size for demo
    const MAX_STACK_SIZE = 15;

    // Render the stack elements
    function renderStack() {
      stackEl.innerHTML = '';
      if (stack.length === 0) {
        stackEl.innerHTML = '<div style="color:#7f8c8d; text-align:center; padding:10px;">Stack is empty</div>';
        popBtn.disabled = true;
      } else {
        popBtn.disabled = false;
        for(let i = stack.length - 1; i >= 0; i--) {
          const elem = document.createElement('div');
          elem.className = 'stack-element';
          elem.setAttribute('role', 'listitem');
          elem.textContent = stack[i];
          if (i === stack.length - 1) {
            elem.style.border = '2px solid #27ae60'; // Highlight top element
            elem.textContent += ' (Top)';
          }
          stackEl.appendChild(elem);
        }
      }
      pushBtn.disabled = stack.length >= MAX_STACK_SIZE;
      if (stack.length >= MAX_STACK_SIZE) {
        showMessage('Stack overflow! Cannot push more elements.', false);
      } else {
        clearMessage();
      }
    }

    // Show message (success or error)
    function showMessage(text, isSuccess) {
      messageEl.textContent = text;
      messageEl.className = isSuccess ? 'success' : '';
    }

    function clearMessage() {
      messageEl.textContent = '';
      messageEl.className = '';
    }

    // Push operation
    function push() {
      const val = input.value.trim();
      if (val === '') {
        showMessage('Please enter a value to push.', false);
        return;
      }
      if (stack.length >= MAX_STACK_SIZE) {
        showMessage('Stack overflow! Cannot push more elements.', false);
        return;
      }
      stack.push(val);
      input.value = '';
      input.focus();
      renderStack();
      showMessage(`Pushed "${val}" onto the stack.`, true);
    }

    // Pop operation
    function pop() {
      if (stack.length === 0) {
        showMessage('Stack underflow! No elements to pop.', false);
        return;
      }
      const popped = stack.pop();
      renderStack();
      showMessage(`Popped "${popped}" from the stack.`, true);
    }

    pushBtn.addEventListener('click', push);
    popBtn.addEventListener('click', pop);
    input.addEventListener('keyup', e => {
      if(e.key === 'Enter') push();
    });

    // Initialize
    renderStack();
  })();
</script>
</body>
</html>