{
  "id": "e03a205e-cd32-11f0-a949-f901cf5609c9",
  "timestamp": "2025-11-29T14:52:27.038Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Radix Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Radix Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f5f5f5;\n  }\n  h1 {\n    text-align: center;\n  }\n  #inputSection {\n    max-width: 600px;\n    margin: 0 auto 1.5em;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5em;\n    align-items: center;\n    justify-content: center;\n  }\n  label {\n    flex: 1 0 140px;\n    font-weight: bold;\n  }\n  input[type=\"text\"] {\n    flex: 3 0 250px;\n    font-size: 1em;\n    padding: 0.3em;\n  }\n  button {\n    padding: 0.5em 1em;\n    font-size: 1em;\n    cursor: pointer;\n    border-radius: 4px;\n    border: none;\n    background: #007bff;\n    color: white;\n    transition: background 0.3s ease;\n  }\n  button:hover:not(:disabled) {\n    background: #0056b3;\n  }\n  button:disabled {\n    opacity: 0.6;\n    cursor: default;\n  }\n  #arrayDisplay {\n    max-width: 800px;\n    margin: 0 auto 1em;\n    text-align: center;\n    font-family: monospace;\n    font-size: 1.25em;\n    word-wrap: break-word;\n  }\n  #steps {\n    max-width: 900px;\n    margin: 0 auto;\n    background: white;\n    border-radius: 8px;\n    padding: 1em;\n    box-shadow: 0 2px 6px rgb(0 0 0 / 0.2);\n  }\n  .step {\n    margin-bottom: 1em;\n    border-bottom: 1px solid #ddd;\n    padding-bottom: 0.8em;\n  }\n  .step:last-child {\n    border-bottom: none;\n  }\n  .step h3 {\n    margin: 0 0 0.4em 0;\n    font-size: 1.15em;\n    color: #333;\n  }\n  .buckets {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n  }\n  .bucket {\n    flex: 1 0 40px;\n    background: #e0e7ff;\n    border-radius: 6px;\n    padding: 6px 4px;\n    text-align: center;\n    min-width: 40px;\n  }\n  .bucket h4 {\n    margin: 0 0 0.2em 0;\n    font-weight: bold;\n    color: #3b49df;\n  }\n  .bucketNumbers {\n    font-family: monospace;\n    font-size: 1em;\n    min-height: 18px;\n  }\n  #legend {\n    max-width: 900px;\n    margin: 2em auto 0;\n    font-size: 0.9em;\n    color: #555;\n  }\n  #footer {\n    margin-top: 4em;\n    text-align: center;\n    font-size: 0.8em;\n    color: #999;\n  }\n  @media(max-width: 500px) {\n    #inputSection {\n      flex-direction: column;\n      align-items: stretch;\n    }\n    label, input[type=\"text\"], button {\n      flex: none;\n      width: 100%;\n    }\n    .buckets {\n      gap: 6px;\n    }\n    .bucket {\n      flex: 1 0 30px;\n      min-width: 30px;\n      font-size: 0.9em;\n      padding: 6px 2px;\n    }\n  }\n</style>\n</head>\n<body>\n<h1>Radix Sort Demonstration</h1>\n<section id=\"inputSection\" aria-label=\"Input and controls for Radix Sort demo\">\n  <label for=\"numberInput\">Enter positive integers (comma separated):</label>\n  <input type=\"text\" id=\"numberInput\" placeholder=\"e.g. 170,45,75,90,802,24,2,66\" aria-describedby=\"errorMsg\" />\n  <button id=\"sortBtn\">Start Radix Sort</button>\n</section>\n<div id=\"errorMsg\" role=\"alert\" style=\"color:#b00020; text-align:center; min-height:1.2em;\"></div>\n<section id=\"arrayDisplay\" aria-live=\"polite\" aria-atomic=\"true\"></section>\n<section id=\"steps\" aria-live=\"polite\" aria-atomic=\"true\"></section>\n\n<div id=\"legend\">\n  <strong>Note:</strong> This visualization shows each pass of Radix Sort by sorting numbers digit by digit,\n  starting from the least significant digit (units place) to the most significant digit.<br />\n  Each step shows the buckets created for that digit, and the resulting array after collecting numbers from buckets.\n</div>\n\n<div id=\"footer\">\n  &copy; 2024 Radix Sort Demo by ChatGPT\n</div>\n\n<script>\n(() => {\n  const input = document.getElementById('numberInput');\n  const btn = document.getElementById('sortBtn');\n  const stepsContainer = document.getElementById('steps');\n  const arrayDisplay = document.getElementById('arrayDisplay');\n  const errorMsg = document.getElementById('errorMsg');\n\n  // Utility functions\n  function isValidNumberArray(arr) {\n    return arr.every(n => Number.isInteger(n) && n >= 0);\n  }\n\n  function parseInput(str) {\n    if (!str.trim()) return [];\n    return str.split(',')\n      .map(s => s.trim())\n      .filter(s => s.length > 0)\n      .map(s => Number(s));\n  }\n\n  function displayArray(arr) {\n    arrayDisplay.textContent = 'Current array: [' + arr.join(', ') + ']';\n  }\n\n  function createBucketDivs(buckets) {\n    const container = document.createElement('div');\n    container.className = 'buckets';\n    for(let i = 0; i < buckets.length; i++) {\n      const b = document.createElement('div');\n      b.className = 'bucket';\n      b.setAttribute('aria-label', `Bucket ${i}`);\n      const title = document.createElement('h4');\n      title.textContent = i;\n      const nums = document.createElement('div');\n      nums.className = 'bucketNumbers';\n      nums.textContent = buckets[i].length > 0 ? buckets[i].join(', ') : 'â€”';\n      b.appendChild(title);\n      b.appendChild(nums);\n      container.appendChild(b);\n    }\n    return container;\n  }\n\n  // Radix Sort implementation with step callbacks\n  async function radixSortDemo(arr, stepCallback) {\n    if (arr.length <= 1) {\n      // No sorting needed\n      await stepCallback(arr.slice(), 0, [[]]);\n      return arr.slice();\n    }\n\n    let maxNumber = Math.max(...arr);\n    let maxDigits = 0;\n    while(maxNumber > 0) {\n      maxDigits++;\n      maxNumber = Math.floor(maxNumber / 10);\n    }\n    let result = arr.slice();\n\n    for(let digitPos = 0; digitPos < maxDigits; digitPos++) {\n      const buckets = Array.from({length:10}, () => []);\n      const divisor = Math.pow(10, digitPos);\n\n      for(const num of result) {\n        const digit = Math.floor(num / divisor) % 10;\n        buckets[digit].push(num);\n      }\n      await stepCallback(result.slice(), digitPos + 1, buckets);\n      result = buckets.flat();\n    }\n    await stepCallback(result.slice(), maxDigits, [[]], true); // final sorted stage\n    return result;\n  }\n\n  // Disable/Enable UI function\n  function setUIEnabled(enabled) {\n    input.disabled = !enabled;\n    btn.disabled = !enabled;\n  }\n\n  // Main event logic\n  btn.addEventListener('click', async () => {\n    errorMsg.textContent = '';\n    stepsContainer.innerHTML = '';\n    arrayDisplay.textContent = '';\n\n    // Parse and validate input\n    const numbers = parseInput(input.value);\n    if (numbers.length === 0) {\n      errorMsg.textContent = 'Please enter at least one number.';\n      return;\n    }\n    if (!isValidNumberArray(numbers)) {\n      errorMsg.textContent = 'All values must be non-negative integers.';\n      return;\n    }\n    if (numbers.some(n => n > 99999999)) {\n      errorMsg.textContent = 'Numbers should be less than 100 million for this demo.';\n      return;\n    }\n\n    setUIEnabled(false);\n    displayArray(numbers);\n\n    // Define a delay between steps in ms\n    const stepDelay = 1200;\n\n    async function onStep(arr, pass, buckets, final = false) {\n      const stepDiv = document.createElement('div');\n      stepDiv.className = 'step';\n      stepDiv.setAttribute('aria-live', 'polite');\n\n      if(final) {\n        stepDiv.innerHTML = `<h3>Sorted array after all ${pass} passes:</h3>`;\n        stepDiv.appendChild(document.createTextNode('[' + arr.join(', ') + ']'));\n      } else {\n        stepDiv.innerHTML = `<h3>Pass ${pass} (sorting by digit at position ${pass} from right):</h3>`;\n        stepDiv.appendChild(createBucketDivs(buckets));\n        const resultLine = document.createElement('p');\n        resultLine.innerHTML = `<strong>Array after collecting buckets:</strong> [${arr.join(', ')}]`;\n        stepDiv.appendChild(resultLine);\n      }\n      stepsContainer.appendChild(stepDiv);\n      // Scroll to latest step smoothly\n      stepDiv.scrollIntoView({behavior:'smooth', block:'center'});\n\n      displayArray(arr);\n      await new Promise(res => setTimeout(res, stepDelay));\n    }\n\n    // Perform the radix sort with visualization\n    const sorted = await radixSortDemo(numbers, onStep);\n\n    setUIEnabled(true);\n  });\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Radix Sort"
    }
  ],
  "topic": "Radix Sort",
  "hasFSM": false,
  "hasTest": true
}