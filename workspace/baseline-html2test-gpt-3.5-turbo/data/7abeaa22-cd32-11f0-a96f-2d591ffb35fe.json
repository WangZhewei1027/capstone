{
  "id": "7abeaa22-cd32-11f0-a96f-2d591ffb35fe",
  "timestamp": "2025-11-29T14:49:41.879Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Selection Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Selection Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f0f0f0;\n  }\n  h1 {\n    text-align: center;\n  }\n  #array-container {\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    margin: 20px 0;\n    height: 300px;\n    gap: 5px;\n  }\n  .bar {\n    background-color: steelblue;\n    width: 30px;\n    text-align: center;\n    color: white;\n    font-size: 14px;\n    border-radius: 3px 3px 0 0;\n    user-select: none;\n    position: relative;\n  }\n  .bar.selected {\n    background-color: orange;\n  }\n  .bar.min {\n    background-color: crimson;\n  }\n  .bar.sorted {\n    background-color: seagreen;\n  }\n  #controls {\n    text-align: center;\n    margin-top: 10px;\n  }\n  button, input[type=number] {\n    font-size: 16px;\n    margin: 5px;\n    padding: 8px 12px;\n  }\n  label {\n    font-weight: bold;\n  }\n  #speed-label {\n    margin-left: 15px;\n    font-weight: normal;\n  }\n  #log {\n    height: 120px;\n    overflow-y: auto;\n    background: #fff;\n    border: 1px solid #ccc;\n    padding: 10px;\n    font-family: monospace;\n    font-size: 14px;\n    margin-top: 20px;\n    max-width: 700px;\n    margin-left: auto;\n    margin-right: auto;\n    border-radius: 5px;\n    white-space: pre-wrap;\n  }\n</style>\n</head>\n<body>\n<h1>Selection Sort Visualization</h1>\n\n<div id=\"array-container\"></div>\n\n<div id=\"controls\">\n  <label for=\"array-size\">Array Size:</label>\n  <input type=\"number\" id=\"array-size\" min=\"5\" max=\"30\" value=\"10\" />\n  <button id=\"generate\">Generate New Array</button>\n  <button id=\"sort\">Start Sorting</button>\n  <label for=\"speed\">Speed:</label>\n  <input type=\"range\" id=\"speed\" min=\"100\" max=\"2000\" value=\"500\" step=\"100\" />\n  <span id=\"speed-label\">500 ms</span>\n</div>\n\n<div id=\"log\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n\n<script>\n(() => {\n  const container = document.getElementById('array-container');\n  const generateBtn = document.getElementById('generate');\n  const sortBtn = document.getElementById('sort');\n  const arraySizeInput = document.getElementById('array-size');\n  const speedInput = document.getElementById('speed');\n  const speedLabel = document.getElementById('speed-label');\n  const logDiv = document.getElementById('log');\n\n  let array = [];\n  let bars = [];\n  let sorting = false;\n  let delay = +speedInput.value;\n\n  function log(message) {\n    logDiv.textContent += message + '\\n';\n    logDiv.scrollTop = logDiv.scrollHeight;\n  }\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  function generateArray(size) {\n    array = [];\n    for(let i = 0; i < size; i++) {\n      array.push(Math.floor(Math.random() * 100) + 5);\n    }\n  }\n\n  function renderArray() {\n    container.innerHTML = '';\n    bars = [];\n    const maxVal = Math.max(...array);\n    for(let val of array) {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      bar.style.height = ((val / maxVal) * 100) + '%';\n      bar.textContent = val;\n      container.appendChild(bar);\n      bars.push(bar);\n    }\n  }\n\n  async function selectionSort() {\n    sorting = true;\n    log('Start Selection Sort');\n    const n = array.length;\n\n    for(let i = 0; i < n - 1; i++) {\n      // Mark current index i as selected\n      bars[i].classList.add('selected');\n      let minIndex = i;\n      bars[minIndex].classList.add('min');\n      log(`Selecting index ${i} as current minimum (${array[minIndex]})`);\n\n      for(let j = i + 1; j < n; j++) {\n        // Highlight the bar being compared\n        bars[j].classList.add('selected');\n        log(`Comparing index ${j} (${array[j]}) with current minimum index ${minIndex} (${array[minIndex]})`);\n        await sleep(delay);\n\n        if(array[j] < array[minIndex]) {\n          // Unmark old min\n          bars[minIndex].classList.remove('min');\n          minIndex = j;\n          bars[minIndex].classList.add('min');\n          log(`New minimum found at index ${minIndex} (${array[minIndex]})`);\n        }\n        bars[j].classList.remove('selected');\n      }\n\n      if(minIndex !== i) {\n        log(`Swapping index ${i} (${array[i]}) and minimum index ${minIndex} (${array[minIndex]})`);\n        // Swap values\n        [array[i], array[minIndex]] = [array[minIndex], array[i]];\n        renderArray();\n\n        // Re-add highlights because we re-rendered bars\n        for(let k = 0; k < bars.length; k++) {\n          bars[k].classList.remove('selected', 'min', 'sorted');\n        }\n        bars[i].classList.add('sorted');\n      } else {\n        log(`No swap needed for index ${i}, already minimum`);\n        bars[minIndex].classList.remove('min');\n        bars[i].classList.add('sorted');\n      }\n\n      bars[i].classList.remove('selected');\n      await sleep(delay);\n    }\n    // Mark last element as sorted\n    bars[n-1].classList.add('sorted');\n    log('Array is sorted');\n    sorting = false;\n  }\n\n  function disableControls(state) {\n    generateBtn.disabled = state;\n    sortBtn.disabled = state;\n    arraySizeInput.disabled = state;\n  }\n\n  generateBtn.addEventListener('click', () => {\n    if(sorting) return;\n    const size = +arraySizeInput.value;\n    if(isNaN(size) || size < 5 || size > 30) {\n      alert('Please enter an array size between 5 and 30.');\n      return;\n    }\n    generateArray(size);\n    renderArray();\n    logDiv.textContent = '';\n  });\n\n  sortBtn.addEventListener('click', async () => {\n    if(sorting) return;\n    disableControls(true);\n    await selectionSort();\n    disableControls(false);\n  });\n\n  speedInput.addEventListener('input', () => {\n    delay = +speedInput.value;\n    speedLabel.textContent = delay + ' ms';\n  });\n\n  // On page load, generate default array\n  generateArray(+arraySizeInput.value);\n  renderArray();\n\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Selection Sort"
    }
  ],
  "topic": "Selection Sort",
  "hasFSM": false,
  "hasTest": true
}