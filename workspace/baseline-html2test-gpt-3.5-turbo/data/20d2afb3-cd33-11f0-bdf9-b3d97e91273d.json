{
  "id": "20d2afb3-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:53:58.737Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Selection Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n  <title>Selection Sort Demonstration</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 20px;\n      background: #f0f0f0;\n      color: #333;\n    }\n    h1 {\n      text-align: center;\n    }\n    #arrayInput {\n      width: 100%;\n      max-width: 400px;\n      font-size: 1.2em;\n      padding: 8px;\n      margin: 10px 0;\n    }\n    #startBtn {\n      padding: 10px 20px;\n      font-size: 1em;\n      cursor: pointer;\n      background-color: #007BFF;\n      border: none;\n      color: white;\n      border-radius: 4px;\n      margin-bottom: 20px;\n    }\n    #startBtn:disabled {\n      background-color: #6c757d;\n      cursor: not-allowed;\n    }\n    #arrayContainer {\n      display: flex;\n      justify-content: center;\n      gap: 8px;\n      flex-wrap: wrap;\n      max-width: 800px;\n      margin: 0 auto 20px auto;\n      min-height: 60px;\n    }\n    .array-bar {\n      background-color: #6c757d;\n      color: white;\n      text-align: center;\n      border-radius: 4px;\n      font-weight: bold;\n      user-select: none;\n      transition: background-color 0.3s, transform 0.3s;\n      display: flex;\n      align-items: flex-end;\n      justify-content: center;\n      position: relative;\n      font-size: 14px;\n    }\n    /* Height relative to value */\n    /* We'll set height inline per value */\n    .current-min {\n      background-color: #d9534f !important;\n    }\n    .current-i {\n      background-color: #0275d8 !important;\n    }\n    .current-j {\n      background-color: #5bc0de !important;\n    }\n    .swapping {\n      background-color: #f0ad4e !important;\n      transform: scale(1.2);\n      z-index: 10;\n    }\n    #explanation {\n      max-width: 800px;\n      margin: 0 auto;\n      background: white;\n      border-radius: 8px;\n      padding: 15px 20px;\n      box-shadow: 0 0 15px rgba(0,0,0,0.1);\n      font-size: 1.1em;\n      min-height: 60px;\n    }\n    footer {\n      margin-top: 30px;\n      text-align: center;\n      font-size: 0.9em;\n      color: #666;\n    }\n  </style>\n</head>\n<body>\n  <h1>Selection Sort Visualization</h1>\n  <p>Enter a list of numbers separated by commas (e.g. 5,3,8,6,2)</p>\n  <input type=\"text\" id=\"arrayInput\" value=\"64,25,12,22,11\" aria-label=\"Array input\" />\n  <br />\n  <button id=\"startBtn\">Start Sorting</button>\n\n  <div id=\"arrayContainer\" aria-live=\"polite\" aria-atomic=\"true\" aria-label=\"Array visualization\"></div>\n\n  <div id=\"explanation\" aria-live=\"polite\"></div>\n\n  <footer>\n    &copy; 2024 Selection Sort Demo\n  </footer>\n\n<script>\n  (function () {\n    const arrayInput = document.getElementById(\"arrayInput\");\n    const startBtn = document.getElementById(\"startBtn\");\n    const arrayContainer = document.getElementById(\"arrayContainer\");\n    const explanation = document.getElementById(\"explanation\");\n\n    let array = [];\n    let bars = [];\n    const BAR_WIDTH = 40;\n    const BAR_MAX_HEIGHT = 200; // px\n\n    // Helpers\n    function createBars(arr) {\n      arrayContainer.innerHTML = \"\";\n      bars = [];\n      const maxVal = Math.max(...arr,1);\n      for (let i = 0; i < arr.length; i++) {\n        const val = arr[i];\n        const bar = document.createElement(\"div\");\n        bar.classList.add(\"array-bar\");\n        bar.style.height = `${(val / maxVal) * BAR_MAX_HEIGHT + 20}px`;\n        bar.style.width = `${BAR_WIDTH}px`;\n        bar.textContent = val;\n        bar.setAttribute(\"data-index\", i);\n        arrayContainer.appendChild(bar);\n        bars.push(bar);\n      }\n    }\n\n    function sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    function setExplanation(text) {\n      explanation.textContent = text;\n    }\n\n    function clearHighlights() {\n      bars.forEach(bar => {\n        bar.classList.remove(\"current-i\", \"current-j\", \"current-min\", \"swapping\");\n      });\n    }\n\n    async function selectionSortVisual(arr) {\n      // Disable UI buttons\n      startBtn.disabled = true;\n      arrayInput.disabled = true;\n\n      const n = arr.length;\n      for (let i = 0; i < n - 1; i++) {\n        let min_idx = i;\n        clearHighlights();\n        bars[i].classList.add(\"current-i\");\n        setExplanation(`Select position ${i} as current minimum temporarily.`);\n        await sleep(1000);\n\n        for (let j = i + 1; j < n; j++) {\n          clearHighlights();\n          bars[i].classList.add(\"current-i\");\n          bars[min_idx].classList.add(\"current-min\");\n          bars[j].classList.add(\"current-j\");\n          setExplanation(`Comparing element at index ${j} (${arr[j]}) with current minimum at index ${min_idx} (${arr[min_idx]}).`);\n\n          await sleep(1000);\n          if (arr[j] < arr[min_idx]) {\n            bars[min_idx].classList.remove(\"current-min\");\n            min_idx = j;\n            bars[min_idx].classList.add(\"current-min\");\n            setExplanation(`Found new minimum value ${arr[min_idx]} at index ${min_idx}.`);\n            await sleep(1000);\n          }\n        }\n\n        if (min_idx !== i) {\n          // Swap\n          setExplanation(`Swapping element at index ${i} (${arr[i]}) with new minimum at index ${min_idx} (${arr[min_idx]}).`);\n          bars[i].classList.add(\"swapping\");\n          bars[min_idx].classList.add(\"swapping\");\n          await sleep(1000);\n\n          // Swap in array\n          [arr[i], arr[min_idx]] = [arr[min_idx], arr[i]];\n          updateBars(arr);\n\n          await sleep(1000);\n          bars[i].classList.remove(\"swapping\");\n          bars[min_idx].classList.remove(\"swapping\");\n        } else {\n          setExplanation(`No swap needed since element at index ${i} is already minimum.`);\n          await sleep(1000);\n        }\n      }\n      clearHighlights();\n      setExplanation(\"Array is sorted!\");\n      startBtn.disabled = false;\n      arrayInput.disabled = false;\n    }\n\n    // Update bar heights and labels after swap/change\n    function updateBars(arr) {\n      const maxVal = Math.max(...arr,1);\n      for (let i = 0; i < bars.length; i++) {\n        bars[i].style.height = `${(arr[i] / maxVal) * BAR_MAX_HEIGHT + 20}px`;\n        bars[i].textContent = arr[i];\n      }\n    }\n\n    function validateAndParseInput(text) {\n      const parts = text.split(\",\");\n      const nums = [];\n      for (let p of parts) {\n        const trimmed = p.trim();\n        if(trimmed === '') continue;\n        if (isNaN(trimmed)) return null;\n        nums.push(Number(trimmed));\n      }\n      return nums.length ? nums : null;\n    }\n\n    startBtn.addEventListener(\"click\", () => {\n      const inputText = arrayInput.value;\n      const parsed = validateAndParseInput(inputText);\n      if (!parsed) {\n        alert(\"Please enter a valid list of numbers separated by commas.\");\n        return;\n      }\n      array = parsed;\n      createBars(array);\n      selectionSortVisual(array);\n    });\n\n    // Initial render\n    array = [64, 25, 12, 22, 11];\n    createBars(array);\n    setExplanation(\"Click 'Start Sorting' to begin the selection sort visualization.\");\n  })();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Selection Sort"
    }
  ],
  "topic": "Selection Sort",
  "hasFSM": false,
  "hasTest": true
}