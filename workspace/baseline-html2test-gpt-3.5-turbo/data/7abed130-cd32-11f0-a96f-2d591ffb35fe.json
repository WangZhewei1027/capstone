{
  "id": "7abed130-cd32-11f0-a96f-2d591ffb35fe",
  "timestamp": "2025-11-29T14:49:39.222Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Longest Common Subsequence",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Longest Common Subsequence (LCS) Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    max-width: 700px;\n  }\n  h1 {\n    text-align: center;\n  }\n  label {\n    display: block;\n    margin: 1rem 0 0.5rem;\n    font-weight: bold;\n  }\n  input[type=\"text\"] {\n    width: 100%;\n    padding: 0.4rem;\n    font-size: 1.1rem;\n  }\n  button {\n    margin-top: 1.2rem;\n    padding: 0.6rem 1.2rem;\n    font-size: 1.1rem;\n    cursor: pointer;\n  }\n  #result {\n    margin-top: 1.5rem;\n    background: #f0f0f0;\n    padding: 1rem;\n    border-radius: 6px;\n    white-space: pre-wrap;\n    font-family: monospace;\n  }\n  table {\n    border-collapse: collapse;\n    margin-top: 1rem;\n    width: 100%;\n    overflow-x: auto;\n  }\n  td, th {\n    border: 1px solid #aaa;\n    padding: 4px 8px;\n    text-align: center;\n    font-family: monospace;\n  }\n  .highlight {\n    background-color: #ffd54f;\n  }\n  .lcs-char {\n    color: #2e7d32;\n    font-weight: bold;\n  }\n  footer {\n    margin-top: 3rem;\n    font-size: 0.9rem;\n    color: #555;\n    text-align: center;\n  }\n  .helptext {\n    font-size: 0.9rem;\n    color: #666;\n    margin-top: 0.3rem;\n  }\n</style>\n</head>\n<body>\n<h1>Longest Common Subsequence (LCS) Calculator</h1>\n\n<label for=\"str1\">First String:</label>\n<input type=\"text\" id=\"str1\" placeholder=\"Enter first string...\" spellcheck=\"false\" />\n\n<label for=\"str2\">Second String:</label>\n<input type=\"text\" id=\"str2\" placeholder=\"Enter second string...\" spellcheck=\"false\" />\n\n<button id=\"calculateBtn\">Calculate LCS</button>\n\n<div id=\"result\"></div>\n\n<footer>\n  &copy; 2024 â€” LCS Demo by ChatGPT\n</footer>\n\n<script>\n  // Compute the Length and DP table for LCS of s1 and s2\n  function computeLCS(s1, s2) {\n    const m = s1.length, n = s2.length;\n    // DP table: dp[i][j] = length of LCS of s1[0..i-1] and s2[0..j-1]\n    const dp = Array.from({length: m+1}, () => Array(n+1).fill(0));\n\n    for(let i = 1; i <= m; i++) {\n      for(let j = 1; j <= n; j++) {\n        if(s1[i-1] === s2[j-1]) {\n          dp[i][j] = dp[i-1][j-1] + 1;\n        } else {\n          dp[i][j] = Math.max(dp[i-1][j], dp[i][j-1]);\n        }\n      }\n    }\n    return dp;\n  }\n\n  // Reconstruct one LCS from dp table\n  function reconstructLCS(dp, s1, s2) {\n    let i = s1.length;\n    let j = s2.length;\n    let lcs = [];\n    while(i > 0 && j > 0) {\n      if(s1[i-1] === s2[j-1]) {\n        lcs.push(s1[i-1]);\n        i--;\n        j--;\n      } else if(dp[i-1][j] > dp[i][j-1]) {\n        i--;\n      } else {\n        j--;\n      }\n    }\n    return lcs.reverse().join('');\n  }\n\n  // Display the DP table as a HTML table, highlighting directions used in the LCS path\n  function renderDPTable(dp, s1, s2, lcs) {\n    const m = s1.length;\n    const n = s2.length;\n    const table = document.createElement('table');\n    const thead = document.createElement('thead');\n    const tbody = document.createElement('tbody');\n\n    // Header row (top-left empty + chars of s2)\n    const headerRow = document.createElement('tr');\n    headerRow.appendChild(document.createElement('th')); // empty corner \n    headerRow.appendChild(document.createElement('th')); // empty corner for s1 row chars\n    for(let j = 0; j < n; j++) {\n      const th = document.createElement('th');\n      th.textContent = s2[j];\n      headerRow.appendChild(th);\n    }\n    thead.appendChild(headerRow);\n\n    // First row empty (for i=0)\n    const emptyRow = document.createElement('tr');\n    emptyRow.appendChild(document.createElement('th')); // for row chars of s1\n    emptyRow.appendChild(document.createElement('th'));\n    for(let j = 0; j <= n; j++) {\n      const td = document.createElement('td');\n      td.textContent = dp[0][j];\n      emptyRow.appendChild(td);\n    }\n    tbody.appendChild(emptyRow);\n\n    // We will highlight the path of backtracking (LCS path)\n    // Compute the path set\n    let pathSet = new Set();\n    // Backtrack to get path cells (i,j)\n    let i = m, j = n;\n    while(i > 0 && j > 0) {\n      pathSet.add(`${i},${j}`);\n      if(s1[i-1] === s2[j-1]) {\n        i--; j--;\n      } else if(dp[i-1][j] > dp[i][j-1]) {\n        i--;\n      } else {\n        j--;\n      }\n    }\n\n    // Rows for i=1 to m\n    for(let i = 1; i <= m; i++) {\n      const tr = document.createElement('tr');\n      // s1 char column\n      const th1 = document.createElement('th');\n      th1.textContent = s1[i-1];\n      tr.appendChild(th1);\n      // empty left header (alignment)\n      const th2 = document.createElement('th');\n      th2.textContent = '';\n      tr.appendChild(th2);\n      // values dp[i][j], j=0..n\n      for(let j = 0; j <= n; j++) {\n        const td = document.createElement('td');\n        td.textContent = dp[i][j];\n        if(pathSet.has(`${i},${j}`)) {\n          td.classList.add('highlight');\n        }\n        tr.appendChild(td);\n      }\n      tbody.appendChild(tr);\n    }\n\n    table.appendChild(thead);\n    table.appendChild(tbody);\n    return table;\n  }\n\n  // Highlight LCS characters within the original strings output\n  function highlightLCSInStrings(s1, s2, lcs) {\n    function markLCS(s, lcs) {\n      let res = '';\n      let lcsIdx = 0;\n      for(let i=0; i<s.length; i++) {\n        if(lcsIdx < lcs.length && s[i] === lcs[lcsIdx]) {\n          res += `<span class=\"lcs-char\">${s[i]}</span>`;\n          lcsIdx++;\n        } else {\n          res += s[i];\n        }\n      }\n      return res;\n    }\n    return {\n      s1: markLCS(s1, lcs),\n      s2: markLCS(s2, lcs)\n    };\n  }\n\n  document.getElementById('calculateBtn').addEventListener('click', () => {\n    const s1 = document.getElementById('str1').value;\n    const s2 = document.getElementById('str2').value;\n    const resultDiv = document.getElementById('result');\n    resultDiv.innerHTML = '';\n\n    if(s1.length === 0 || s2.length === 0) {\n      resultDiv.textContent = 'Please enter both strings.';\n      return;\n    }\n\n    // Compute DP table\n    const dp = computeLCS(s1, s2);\n    // Reconstruct LCS string\n    const lcs = reconstructLCS(dp, s1, s2);\n\n    // Highlight LCS characters in original strings\n    const highlighted = highlightLCSInStrings(s1, s2, lcs);\n\n    // Display results\n    let html = '';\n    html += `<strong>Length of LCS:</strong> ${lcs.length}\\n\\n`;\n    html += `<strong>LCS:</strong> ${lcs.length > 0 ? lcs : '(none)'}\\n\\n`;\n    html += `<strong>First String:</strong> <br>${highlighted.s1}\\n\\n`;\n    html += `<strong>Second String:</strong> <br>${highlighted.s2}\\n\\n`;\n    resultDiv.innerHTML = html;\n\n    // Render the DP table with highlight path\n    const table = renderDPTable(dp, s1, s2, lcs);\n    resultDiv.appendChild(document.createElement('hr'));\n    const tableTitle = document.createElement('p');\n    tableTitle.innerHTML = '<em>DP Table showing lengths of LCS substrings. Highlighted cells show the path for one LCS.</em>';\n    resultDiv.appendChild(tableTitle);\n    resultDiv.appendChild(table);\n  });\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Longest Common Subsequence"
    }
  ],
  "topic": "Longest Common Subsequence",
  "hasFSM": false,
  "hasTest": true
}