{
  "id": "7abeaa20-cd32-11f0-a96f-2d591ffb35fe",
  "timestamp": "2025-11-29T14:49:43.154Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Priority Queue",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Priority Queue Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    max-width: 600px;\n  }\n  h1 {\n    text-align: center;\n  }\n  label {\n    display: block;\n    margin-top: 1rem;\n  }\n  input[type=\"text\"], input[type=\"number\"] {\n    padding: 0.4rem;\n    font-size: 1rem;\n    width: 100%;\n    box-sizing: border-box;\n    margin-top: 0.3rem;\n  }\n  button {\n    margin-top: 1rem;\n    padding: 0.6rem 1.2rem;\n    font-size: 1rem;\n    cursor: pointer;\n  }\n  .queue-display {\n    margin-top: 2rem;\n    border: 1px solid #ddd;\n    padding: 1rem;\n    background: #f9f9f9;\n    min-height: 60px;\n  }\n  .queue-item {\n    display: inline-block;\n    background: #007bfd;\n    color: white;\n    padding: 0.4rem 0.8rem;\n    margin: 0 0.3rem 0.3rem 0;\n    border-radius: 4px;\n  }\n  .queue-item.low {\n    background: #57a757;\n  }\n  .queue-item.medium {\n    background: #f0ad4e;\n  }\n  .queue-item.high {\n    background: #d9534f;\n  }\n  .log {\n    margin-top: 2rem;\n    border: 1px solid #ccc;\n    background: #fff;\n    padding: 1rem;\n    height: 150px;\n    overflow-y: auto;\n    font-family: monospace;\n    font-size: 0.9rem;\n  }\n</style>\n</head>\n<body>\n<h1>Priority Queue Demo</h1>\n<form id=\"enqueueForm\">\n  <label for=\"value\">Value (string):</label>\n  <input type=\"text\" id=\"value\" name=\"value\" required placeholder=\"Enter item value\" />\n  \n  <label for=\"priority\">Priority (integer, lower = higher priority):</label>\n  <input type=\"number\" id=\"priority\" name=\"priority\" required min=\"0\" value=\"0\" />\n  \n  <button type=\"submit\">Enqueue</button>\n</form>\n\n<button id=\"dequeueBtn\" style=\"margin-top:1rem;\">Dequeue</button>\n\n<h2>Queue contents (from highest to lowest priority):</h2>\n<div class=\"queue-display\" id=\"queueDisplay\">Queue is empty</div>\n\n<h2>Action Log:</h2>\n<div class=\"log\" id=\"log\"></div>\n\n<script>\nclass PriorityQueue {\n  constructor() {\n    this._elements = [];\n  }\n  \n  enqueue(value, priority) {\n    const element = {value, priority};\n    // Insert keeping priority order (lower priority value first)\n    if (this.isEmpty()) {\n      this._elements.push(element);\n    } else {\n      // Find correct spot to insert\n      let added = false;\n      for (let i = 0; i < this._elements.length; i++) {\n        if (priority < this._elements[i].priority) {\n          this._elements.splice(i, 0, element);\n          added = true;\n          break;\n        }\n      }\n      if (!added) this._elements.push(element);\n    }\n  }\n\n  dequeue() {\n    if(this.isEmpty()) return null;\n    return this._elements.shift();\n  }\n\n  peek() {\n    if(this.isEmpty()) return null;\n    return this._elements[0];\n  }\n\n  isEmpty() {\n    return this._elements.length === 0;\n  }\n\n  size() {\n    return this._elements.length;\n  }\n\n  toArray() {\n    // Return copy to avoid external mutation\n    return this._elements.slice();\n  }\n}\n\nconst pq = new PriorityQueue();\nconst enqueueForm = document.getElementById('enqueueForm');\nconst dequeueBtn = document.getElementById('dequeueBtn');\nconst queueDisplay = document.getElementById('queueDisplay');\nconst log = document.getElementById('log');\n\nfunction priorityLabel(priority) {\n  // Return a label class for visual color coding\n  if(priority <= 1) return 'high';\n  if(priority <= 4) return 'medium';\n  return 'low';\n}\n\nfunction renderQueue() {\n  const items = pq.toArray();\n  if (items.length === 0) {\n    queueDisplay.textContent = 'Queue is empty';\n    return;\n  }\n  queueDisplay.innerHTML = '';\n  items.forEach(el => {\n    const div = document.createElement('span');\n    div.textContent = `${el.value} (p:${el.priority})`;\n    div.className = `queue-item ${priorityLabel(el.priority)}`;\n    queueDisplay.appendChild(div);\n  });\n}\n\nfunction logAction(text) {\n  const now = new Date();\n  const time = now.toLocaleTimeString();\n  log.textContent = `[${time}] ${text}\\n` + log.textContent;\n}\n\nenqueueForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const value = enqueueForm.value.value.trim();\n  const priority = parseInt(enqueueForm.priority.value, 10);\n  if(value === '' || isNaN(priority)) {\n    alert('Please provide valid value and priority.');\n    return;\n  }\n  pq.enqueue(value, priority);\n  renderQueue();\n  logAction(`Enqueued \"${value}\" with priority ${priority}.`);\n  enqueueForm.reset();\n  enqueueForm.priority.value = 0;\n  enqueueForm.value.focus();\n});\n\ndequeueBtn.addEventListener('click', () => {\n  if(pq.isEmpty()) {\n    alert('Queue is empty! Nothing to dequeue.');\n    return;\n  }\n  const removed = pq.dequeue();\n  renderQueue();\n  logAction(`Dequeued \"${removed.value}\" with priority ${removed.priority}.`);\n});\n\nrenderQueue();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Priority Queue"
    }
  ],
  "topic": "Priority Queue",
  "hasFSM": false,
  "hasTest": true
}