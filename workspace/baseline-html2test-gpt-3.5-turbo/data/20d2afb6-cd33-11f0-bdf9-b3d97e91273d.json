{
  "id": "20d2afb6-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:10.917Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Quick Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Quick Sort Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f5f5f5;\n  }\n  h1 {\n    text-align: center;\n  }\n  #input-area {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 1rem;\n  }\n  #arrayInput {\n    width: 300px;\n    font-size: 1rem;\n    padding: 0.5rem;\n  }\n  button {\n    font-size: 1rem;\n    margin-left: 0.5rem;\n    padding: 0.5rem 1rem;\n    cursor: pointer;\n  }\n  #arrayDisplay, #stepsDisplay {\n    max-width: 600px;\n    margin: 1rem auto;\n    background: white;\n    border-radius: 5px;\n    padding: 1rem;\n    box-shadow: 0 0 6px rgba(0,0,0,0.1);\n  }\n  #arrayDisplay {\n    display: flex;\n    justify-content: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    margin-bottom: 2rem;\n  }\n  .array-item {\n    width: 30px;\n    height: 30px;\n    background: #2196F3;\n    color: white;\n    line-height: 30px;\n    text-align: center;\n    border-radius: 4px;\n    font-weight: bold;\n    transition: all 0.3s ease;\n  }\n  .pivot {\n    background: #FF5722 !important;\n  }\n  .comparing {\n    background: #FFEB3B !important;\n    color: black;\n  }\n  .swapped {\n    background: #4CAF50 !important;\n  }\n  #stepsDisplay {\n    font-family: monospace;\n    white-space: pre-wrap;\n    height: 200px;\n    overflow-y: auto;\n  }\n  #speedControl {\n    margin: 0 auto 1rem auto;\n    max-width: 600px;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n  label {\n    font-weight: bold;\n  }\n</style>\n</head>\n<body>\n<h1>Quick Sort Visualization</h1>\n<div id=\"input-area\">\n  <input id=\"arrayInput\" type=\"text\" placeholder=\"Enter numbers separated by commas\" />\n  <button id=\"startSort\">Start Sorting</button>\n</div>\n<div id=\"speedControl\">\n  <label for=\"speedRange\">Animation Speed:</label>\n  <input type=\"range\" id=\"speedRange\" min=\"50\" max=\"2000\" value=\"500\" />\n  <span id=\"speedValue\">500 ms</span>\n</div>\n<div id=\"arrayDisplay\"></div>\n<div id=\"stepsDisplay\"></div>\n\n<script>\n  const arrayInput = document.getElementById('arrayInput');\n  const startSortBtn = document.getElementById('startSort');\n  const arrayDisplay = document.getElementById('arrayDisplay');\n  const stepsDisplay = document.getElementById('stepsDisplay');\n  const speedRange = document.getElementById('speedRange');\n  const speedValue = document.getElementById('speedValue');\n\n  speedRange.addEventListener('input', () => {\n    speedValue.textContent = speedRange.value + ' ms';\n  });\n\n  function renderArray(arr, highlight = {}) {\n    // highlight can contain indices for pivot, comparing, swapped\n    arrayDisplay.innerHTML = '';\n    arr.forEach((val, i) => {\n      const div = document.createElement('div');\n      div.classList.add('array-item');\n      if (highlight.pivot === i) div.classList.add('pivot');\n      if (highlight.comparing && highlight.comparing.includes(i)) div.classList.add('comparing');\n      if (highlight.swapped && highlight.swapped.includes(i)) div.classList.add('swapped');\n      div.textContent = val;\n      arrayDisplay.appendChild(div);\n    });\n  }\n\n  function delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  function logStep(msg) {\n    stepsDisplay.textContent += msg + '\\n';\n    stepsDisplay.scrollTop = stepsDisplay.scrollHeight;\n  }\n\n  // The Quick Sort algorithm will be implemented with asynchronous steps for visualization.\n  async function quickSort(arr, left, right) {\n    if (left < right) {\n      logStep(`Calling partition on subarray indices [${left}, ${right}]`);\n      const pivotIndex = await partition(arr, left, right);\n      logStep(`Partition complete, pivot positioned at index ${pivotIndex}\\n`);\n      \n      await quickSort(arr, left, pivotIndex - 1);\n      await quickSort(arr, pivotIndex + 1, right);\n    }\n  }\n\n  async function partition(arr, left, right) {\n    // Choose pivot - We use the rightmost element as pivot.\n    const pivotValue = arr[right];\n    let i = left - 1;\n    \n    logStep(`Pivot chosen: arr[${right}] = ${pivotValue}`);\n    renderArray(arr, {pivot: right});\n    await delay(speedRange.value);\n\n    for (let j = left; j < right; j++) {\n      logStep(`Comparing arr[${j}] = ${arr[j]} with pivot ${pivotValue}`);\n      renderArray(arr, {pivot: right, comparing:[j]});\n      await delay(speedRange.value);\n\n      if (arr[j] <= pivotValue) {\n        i++;\n        if (i !== j) {\n          logStep(`Swapping arr[${i}] = ${arr[i]} and arr[${j}] = ${arr[j]}`);\n          [arr[i], arr[j]] = [arr[j], arr[i]];\n          renderArray(arr, {pivot: right, swapped: [i,j]});\n          await delay(speedRange.value);\n        }\n      }\n    }\n    // Place pivot in correct position\n    if (i+1 !== right) {\n      logStep(`Swapping pivot arr[${right}] = ${arr[right]} with arr[${i+1}] = ${arr[i+1]}`);\n      [arr[i+1], arr[right]] = [arr[right], arr[i+1]];\n      renderArray(arr, {pivot: i+1, swapped: [i+1, right]});\n      await delay(speedRange.value);\n    }\n    return i + 1;\n  }\n\n  startSortBtn.addEventListener('click', async () => {\n    let inputStr = arrayInput.value.trim();\n    if (!inputStr) {\n      alert('Please enter some numbers separated by commas.');\n      return;\n    }\n    let arr = inputStr.split(',').map(s => s.trim()).filter(s => s !== '').map(Number);\n    if (arr.some(isNaN)) {\n      alert('Please enter valid numbers only.');\n      return;\n    }\n\n    stepsDisplay.textContent = '';\n    renderArray(arr);\n    logStep(`Initial array: [${arr.join(', ')}]\\n`);\n  \n    startSortBtn.disabled = true;\n    arrayInput.disabled = true;\n\n    await quickSort(arr, 0, arr.length - 1);\n\n    logStep(`Sorting complete! Final sorted array: [${arr.join(', ')}]`);\n    renderArray(arr);\n\n    startSortBtn.disabled = false;\n    arrayInput.disabled = false;\n  });\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Quick Sort"
    }
  ],
  "topic": "Quick Sort",
  "hasFSM": false,
  "hasTest": true
}