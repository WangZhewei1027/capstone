{
  "id": "7abeaa23-cd32-11f0-a96f-2d591ffb35fe",
  "timestamp": "2025-11-29T14:49:24.673Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Insertion Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Insertion Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2em;\n    background: #f0f2f5;\n  }\n  h1 {\n    text-align: center;\n    color: #333;\n  }\n  #controls {\n    max-width: 600px;\n    margin: 1.5em auto;\n    text-align: center;\n  }\n  input[type=\"text\"] {\n    width: 300px;\n    padding: 0.4em;\n    font-size: 1em;\n    border: 1px solid #aaa;\n    border-radius: 3px;\n  }\n  button {\n    margin-left: 1em;\n    padding: 0.5em 1.2em;\n    font-size: 1em;\n    border: none;\n    background-color: #007bff;\n    color: white;\n    border-radius: 3px;\n    cursor: pointer;\n    transition: background-color 0.3s;\n  }\n  button:disabled {\n    background-color: #a1c8ff;\n    cursor: not-allowed;\n  }\n  button:hover:not(:disabled) {\n    background-color: #0056b3;\n  }\n  #array-container {\n    max-width: 700px;\n    min-height: 100px;\n    margin: 2em auto;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    gap: 5px;\n    border: 1px solid #ddd;\n    background: white;\n    padding: 1em;\n    border-radius: 5px;\n  }\n  .bar {\n    background-color: #3498db;\n    color: white;\n    width: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    font-size: 0.85em;\n    border-radius: 3px 3px 0 0;\n    position: relative;\n    transition: all 0.3s ease;\n  }\n  .bar.highlight {\n    background-color: #e74c3c;\n  }\n  .bar.compared {\n    background-color: #f39c12;\n  }\n  .bar.insertion {\n    background-color: #2ecc71;\n  }\n  .bar-label {\n    position: absolute;\n    top: -20px;\n    width: 100%;\n    text-align: center;\n    font-weight: bold;\n    color: #555;\n    user-select:none;\n  }\n  #info {\n    max-width: 700px;\n    margin: 0 auto;\n    text-align: center;\n    color: #444;\n  }\n  #speed-label {\n    margin-left: 1em;\n    font-size: 0.9em;\n    color: #555;\n  }\n  #speed {\n    vertical-align: middle;\n  }\n</style>\n</head>\n<body>\n\n<h1>Insertion Sort Visualization</h1>\n<div id=\"controls\">\n  <input id=\"input-array\" type=\"text\" placeholder=\"Enter numbers separated by commas (e.g. 5,3,8,6)\" />\n  <button id=\"start-btn\">Start Sorting</button>\n  <label id=\"speed-label\">Speed:\n    <input type=\"range\" id=\"speed\" min=\"50\" max=\"1500\" value=\"500\" step=\"50\" />\n  </label>\n</div>\n\n<div id=\"array-container\"></div>\n\n<div id=\"info\">\n  <p><strong>Instructions:</strong> Enter a list of integers separated by commas and press \"Start Sorting\". Watch the algorithm insert elements into their correct position step by step.</p>\n</div>\n\n<script>\n  const inputArray = document.getElementById('input-array');\n  const startBtn = document.getElementById('start-btn');\n  const arrayContainer = document.getElementById('array-container');\n  const speedInput = document.getElementById('speed');\n\n  let array = [];\n  let bars = [];\n  let delay = 500;\n\n  speedInput.addEventListener('input', () => {\n    delay = Number(speedInput.value);\n  });\n\n  function createBars(arr) {\n    arrayContainer.innerHTML = '';\n    bars = [];\n    const maxVal = Math.max(...arr);\n    for (let i = 0; i < arr.length; i++) {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      bar.style.height = `${(arr[i] / maxVal) * 100 + 20}px`;\n      bar.textContent = arr[i];\n      arrayContainer.appendChild(bar);\n      bars.push(bar);\n    }\n  }\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async function insertionSort(arr) {\n    startBtn.disabled = true;\n    inputArray.disabled = true;\n    speedInput.disabled = true;\n\n    const n = arr.length;\n    for (let i = 1; i < n; i++) {\n      let key = arr[i];\n      let j = i - 1;\n\n      // Highlight the key bar\n      bars[i].classList.add('insertion');\n\n      await sleep(delay);\n\n      while (j >= 0 && arr[j] > key) {\n        // Highlight the bar being compared\n        bars[j].classList.add('compared');\n        bars[j+1].classList.add('highlight');\n\n        await sleep(delay);\n\n        arr[j + 1] = arr[j];\n        bars[j + 1].style.height = bars[j].style.height;\n        bars[j + 1].textContent = arr[j];\n        \n        // Remove previous highlights\n        bars[j].classList.remove('compared');\n        bars[j+1].classList.remove('highlight');\n\n        j = j - 1;\n      }\n      arr[j + 1] = key;\n      bars[j + 1].style.height = `${(key / Math.max(...arr)) * 100 + 20}px`;\n      bars[j + 1].textContent = key;\n\n      // Move highlight from old position to new position\n      for(let k=0; k < bars.length; k++){\n        bars[k].classList.remove('insertion');\n      }\n      bars[j + 1].classList.add('insertion');\n\n      await sleep(delay);\n\n      bars[j + 1].classList.remove('insertion');\n    }\n\n    // Final colors to indicate sorted array\n    for(let bar of bars){\n      bar.classList.add('insertion');\n      await sleep(30);\n    }\n\n    startBtn.disabled = false;\n    inputArray.disabled = false;\n    speedInput.disabled = false;\n  }\n\n  startBtn.addEventListener('click', () => {\n    const input = inputArray.value.trim();\n    if (!input) {\n      alert('Please enter some numbers separated by commas.');\n      return;\n    }\n    let tempArr = input.split(',').map(x => x.trim());\n    if (tempArr.some(x => isNaN(Number(x)) || x === '')) {\n      alert('Please enter only valid numbers separated by commas.');\n      return;\n    }\n    array = tempArr.map(Number);\n    createBars(array);\n    insertionSort(array);\n  });\n\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Insertion Sort"
    }
  ],
  "topic": "Insertion Sort",
  "hasFSM": false,
  "hasTest": true
}