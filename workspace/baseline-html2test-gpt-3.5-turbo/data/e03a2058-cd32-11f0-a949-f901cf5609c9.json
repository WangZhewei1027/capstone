{
  "id": "e03a2058-cd32-11f0-a949-f901cf5609c9",
  "timestamp": "2025-11-29T14:52:25.980Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Selection Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n  <title>Selection Sort Demo</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 20px;\n      background: #f5f5f5;\n      color: #333;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n    h1 {\n      margin-bottom: 0.2em;\n      color: #444;\n    }\n    #arrayContainer {\n      margin: 20px 0;\n      display: flex;\n      gap: 8px;\n      justify-content: center;\n      flex-wrap: wrap;\n      max-width: 600px;\n    }\n    .bar {\n      background-color: #69a3ff;\n      height: 40px;\n      width: 40px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      color: white;\n      font-weight: bold;\n      border-radius: 4px;\n      user-select: none;\n      transition: background-color 0.3s ease;\n      position: relative;\n    }\n    .bar.current {\n      background-color: #efa530;\n    }\n    .bar.min {\n      background-color: #e84545;\n    }\n    .bar.sorted {\n      background-color: #62c370;\n    }\n    #controls {\n      margin-bottom: 15px;\n    }\n    button, input[type=number] {\n      font-size: 1rem;\n      padding: 8px 12px;\n      margin: 0 5px 10px 0;\n    }\n    #speedLabel {\n      margin-left: 8px;\n      font-size: 0.9rem;\n      vertical-align: middle;\n    }\n    #explanation {\n      max-width: 620px;\n      background: white;\n      padding: 15px 20px;\n      border-radius: 8px;\n      box-shadow: 0 4px 10px rgba(0,0,0,0.1);\n      line-height: 1.5;\n    }\n    a {\n      color: #2673e6;\n      text-decoration: none;\n    }\n  </style>\n</head>\n<body>\n  <h1>Selection Sort Visualization</h1>\n  <div id=\"controls\">\n    <label for=\"arraySize\">Array size:</label>\n    <input type=\"number\" id=\"arraySize\" min=\"5\" max=\"50\" value=\"15\" />\n    <button id=\"generateBtn\">Generate New Array</button>\n    <button id=\"sortBtn\">Start Selection Sort</button>\n    <label for=\"speedRange\">Speed:</label>\n    <input type=\"range\" id=\"speedRange\" min=\"100\" max=\"2000\" step=\"100\" value=\"500\" />\n    <span id=\"speedLabel\">500 ms</span>\n  </div>\n  <div id=\"arrayContainer\"></div>\n  <div id=\"explanation\">\n    <h2>What is Selection Sort?</h2>\n    <p>\n      Selection sort is a simple comparison-based sorting algorithm.\n      It works by repeatedly selecting the minimum element from the unsorted portion of the array and swapping it with the first unsorted element.\n    </p>\n    <ol>\n      <li>Start from the first element, consider it as the minimum.</li>\n      <li>Check the rest of the array to find a smaller element.</li>\n      <li>If found, update the minimum index.</li>\n      <li>After checking the entire unsorted portion, swap the minimum element with the current element.</li>\n      <li>Move to the next element and repeat until the array is sorted.</li>\n    </ol>\n    <p>This visualization highlights:</p>\n    <ul>\n      <li><span style=\"background:#efa530;color:white;padding:2px 6px;border-radius:3px;\">Orange</span> bar: current element being considered.</li>\n      <li><span style=\"background:#e84545;color:white;padding:2px 6px;border-radius:3px;\">Red</span> bar: current minimum in the unsorted portion.</li>\n      <li><span style=\"background:#62c370;color:white;padding:2px 6px;border-radius:3px;\">Green</span> bars: already correctly placed sorted elements.</li>\n    </ul>\n    <p>Learn more on <a href=\"https://en.wikipedia.org/wiki/Selection_sort\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia</a>.</p>\n  </div>\n\n  <script>\n    const arrayContainer = document.getElementById('arrayContainer');\n    const generateBtn = document.getElementById('generateBtn');\n    const sortBtn = document.getElementById('sortBtn');\n    const arraySizeInput = document.getElementById('arraySize');\n    const speedRange = document.getElementById('speedRange');\n    const speedLabel = document.getElementById('speedLabel');\n\n    let array = [];\n    let bars = [];\n    let sorting = false;\n\n    function generateRandomArray(size) {\n      const arr = [];\n      for (let i = 0; i < size; i++) {\n        arr.push(Math.floor(Math.random() * 100) + 1); // Values from 1 to 100\n      }\n      return arr;\n    }\n\n    function renderArray(arr) {\n      arrayContainer.innerHTML = '';\n      bars = [];\n      arr.forEach(value => {\n        const bar = document.createElement('div');\n        bar.classList.add('bar');\n        bar.style.height = `${value * 3}px`; // Scale height for better visuals\n        bar.textContent = value;\n        arrayContainer.appendChild(bar);\n        bars.push(bar);\n      });\n    }\n\n    function sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    async function selectionSort(arr) {\n      sorting = true;\n      const n = arr.length;\n\n      for(let i = 0; i < n - 1; i++){\n        let minIdx = i;\n        updateColors(i, minIdx, n);\n\n        for(let j = i + 1; j < n; j++){\n          updateColors(i, minIdx, n, j);\n          await sleep(speedRange.value);\n\n          if(arr[j] < arr[minIdx]){\n            minIdx = j;\n            updateColors(i, minIdx, n, j);\n            await sleep(speedRange.value);\n          }\n        }\n\n        if(minIdx !== i){\n          // Swap in array\n          [arr[i], arr[minIdx]] = [arr[minIdx], arr[i]];\n\n          // Swap in DOM text and height\n          bars[i].style.height = `${arr[i] * 3}px`;\n          bars[i].textContent = arr[i];\n          bars[minIdx].style.height = `${arr[minIdx] * 3}px`;\n          bars[minIdx].textContent = arr[minIdx];\n        }\n\n        updateColors(i+1, i+1, n);\n        await sleep(speedRange.value);\n      }\n\n      // Mark last element as sorted\n      updateColors(n, -1, n);\n\n      sorting = false;\n    }\n\n    function updateColors(current, minIdx, total, checking = -1){\n      // Reset all colors first\n      for(let k=0; k < total; k++){\n        bars[k].classList.remove('current', 'min', 'sorted');\n        if(k < current){\n          bars[k].classList.add('sorted');\n        }\n      }\n      if(current < total)\n        bars[current].classList.add('current');\n      if(minIdx >= 0 && minIdx < total)\n        bars[minIdx].classList.add('min');\n      if(checking >= 0 && checking < total && checking !== current && checking !== minIdx)\n        bars[checking].style.backgroundColor = '#f0b28a'; // lighter orange to show checking\n      // Remove checking style from others not part of current/min\n      for(let k = 0; k < total; k++){\n        if(k !== checking && k !== minIdx && k !== current && k >= current){\n          bars[k].style.backgroundColor = '#69a3ff';\n        }\n      }\n    }\n\n    generateBtn.addEventListener('click', () => {\n      if(sorting) return;\n      const size = parseInt(arraySizeInput.value);\n      if(size < 5 || size > 50){\n        alert(\"Please enter array size between 5 and 50.\");\n        return;\n      }\n      array = generateRandomArray(size);\n      renderArray(array);\n    });\n\n    sortBtn.addEventListener('click', async () => {\n      if(sorting) return;\n      if(array.length === 0){\n        alert(\"Generate an array first!\");\n        return;\n      }\n      sortBtn.disabled = true;\n      generateBtn.disabled = true;\n      arraySizeInput.disabled = true;\n      speedRange.disabled = true;\n      await selectionSort(array);\n      sortBtn.disabled = false;\n      generateBtn.disabled = false;\n      arraySizeInput.disabled = false;\n      speedRange.disabled = false;\n    });\n\n    speedRange.addEventListener('input', () => {\n      speedLabel.textContent = speedRange.value + \" ms\";\n    });\n\n    // Initialize on load\n    window.onload = () => {\n      array = generateRandomArray(parseInt(arraySizeInput.value));\n      renderArray(array);\n    };\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Selection Sort"
    }
  ],
  "topic": "Selection Sort",
  "hasFSM": false,
  "hasTest": true
}