{
  "id": "e03a2050-cd32-11f0-a949-f901cf5609c9",
  "timestamp": "2025-11-29T14:52:21.600Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Heap (Min/Max)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Heap (Min/Max) Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f5f5f5;\n    color: #222;\n  }\n  h1 {\n    text-align: center;\n  }\n  section {\n    background: white;\n    padding: 1rem 2rem 2rem 2rem;\n    margin-bottom: 2rem;\n    border-radius: 8px;\n    box-shadow: 0 0 10px rgba(0,0,0,0.1);\n  }\n  label {\n    display: block;\n    margin-top: 1rem;\n  }\n  input[type=\"number\"], select {\n    padding: 0.3rem;\n    font-size: 1rem;\n    width: 120px;\n  }\n  button {\n    margin-top: 1rem;\n    padding: 0.5rem 1rem;\n    font-size: 1rem;\n    cursor: pointer;\n  }\n  pre {\n    background: #eee;\n    padding: 1rem;\n    border-radius: 6px;\n    overflow-x: auto;\n    max-height: 200px;\n  }\n  .heap-array {\n    font-weight: bold;\n  }\n</style>\n</head>\n<body>\n<h1>Heap (Min/Max) Demo</h1>\n\n<section id=\"heap-section\">\n  <label for=\"heap-type\">Choose Heap Type:</label>\n  <select id=\"heap-type\">\n    <option value=\"min\">Min Heap</option>\n    <option value=\"max\">Max Heap</option>\n  </select>\n\n  <label for=\"insert-value\">Value to Insert:</label>\n  <input type=\"number\" id=\"insert-value\" />\n\n  <button id=\"insert-btn\">Insert</button>\n  <button id=\"extract-btn\">Extract Root</button>\n  <button id=\"peek-btn\">Peek Root</button>\n  <button id=\"clear-btn\">Clear Heap</button>\n\n  <h3>Heap Array:</h3>\n  <pre id=\"heap-array\" class=\"heap-array\">[]</pre>\n\n  <h3>Output:</h3>\n  <pre id=\"output\"></pre>\n</section>\n\n<script>\n  // Generic Heap class, parameterized by comparator\n  class Heap {\n    constructor(comparator) {\n      this.data = [];\n      this.compare = comparator;\n    }\n\n    // Helper methods\n    parentIndex(idx) {\n      return Math.floor((idx - 1) / 2);\n    }\n    leftChildIndex(idx) {\n      return idx * 2 + 1;\n    }\n    rightChildIndex(idx) {\n      return idx * 2 + 2;\n    }\n\n    siftUp(idx) {\n      let parent = this.parentIndex(idx);\n      while (idx > 0 && this.compare(this.data[idx], this.data[parent])) {\n        [this.data[idx], this.data[parent]] = [this.data[parent], this.data[idx]];\n        idx = parent;\n        parent = this.parentIndex(idx);\n      }\n    }\n\n    siftDown(idx) {\n      let left = this.leftChildIndex(idx);\n      let right = this.rightChildIndex(idx);\n      let candidate = idx;\n\n      if (left < this.data.length && this.compare(this.data[left], this.data[candidate])) {\n        candidate = left;\n      }\n      if (right < this.data.length && this.compare(this.data[right], this.data[candidate])) {\n        candidate = right;\n      }\n      if (candidate !== idx) {\n        [this.data[idx], this.data[candidate]] = [this.data[candidate], this.data[idx]];\n        this.siftDown(candidate);\n      }\n    }\n\n    insert(value) {\n      this.data.push(value);\n      this.siftUp(this.data.length - 1);\n    }\n\n    extractRoot() {\n      if (this.data.length === 0) return null;\n      const root = this.data[0];\n      const last = this.data.pop();\n      if (this.data.length > 0) {\n        this.data[0] = last;\n        this.siftDown(0);\n      }\n      return root;\n    }\n\n    peekRoot() {\n      if (this.data.length === 0) return null;\n      return this.data[0];\n    }\n\n    clear() {\n      this.data = [];\n    }\n  }\n\n\n  // DOM elements\n  const heapTypeSelect = document.getElementById('heap-type');\n  const insertValueInput = document.getElementById('insert-value');\n  const insertBtn = document.getElementById('insert-btn');\n  const extractBtn = document.getElementById('extract-btn');\n  const peekBtn = document.getElementById('peek-btn');\n  const clearBtn = document.getElementById('clear-btn');\n  const heapArrayPre = document.getElementById('heap-array');\n  const outputPre = document.getElementById('output');\n\n  // Initialize heap with default comparator (min heap)\n  let heap = new Heap((a, b) => a < b);\n\n  // Update heap comparator on heap type change\n  function updateHeapType() {\n    const type = heapTypeSelect.value;\n    if (type === 'min') {\n      heap = new Heap((a, b) => a < b);\n      logOutput('Switched to Min Heap');\n    } else {\n      heap = new Heap((a, b) => a > b);\n      logOutput('Switched to Max Heap');\n    }\n    updateHeapDisplay();\n  }\n\n  function updateHeapDisplay() {\n    heapArrayPre.textContent = JSON.stringify(heap.data);\n  }\n\n  function logOutput(message) {\n    outputPre.textContent = message;\n  }\n\n  insertBtn.addEventListener('click', () => {\n    const val = Number(insertValueInput.value);\n    if (isNaN(val)) {\n      logOutput('Please enter a valid number to insert.');\n      return;\n    }\n    heap.insert(val);\n    logOutput(`Inserted value: ${val}`);\n    updateHeapDisplay();\n    insertValueInput.value = '';\n    insertValueInput.focus();\n  });\n\n  extractBtn.addEventListener('click', () => {\n    const extracted = heap.extractRoot();\n    if (extracted === null) {\n      logOutput('Heap is empty. Nothing to extract.');\n    } else {\n      logOutput(`Extracted root: ${extracted}`);\n      updateHeapDisplay();\n    }\n  });\n\n  peekBtn.addEventListener('click', () => {\n    const peeked = heap.peekRoot();\n    if (peeked === null) {\n      logOutput('Heap is empty.');\n    } else {\n      logOutput(`Root (peek): ${peeked}`);\n    }\n  });\n\n  clearBtn.addEventListener('click', () => {\n    heap.clear();\n    logOutput('Heap cleared.');\n    updateHeapDisplay();\n  });\n\n  heapTypeSelect.addEventListener('change', updateHeapType);\n\n  // Initialize display\n  updateHeapType();\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Heap (Min/Max)"
    }
  ],
  "topic": "Heap (Min/Max)",
  "hasFSM": false,
  "hasTest": true
}