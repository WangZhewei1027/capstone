{
  "id": "e03a6e71-cd32-11f0-a949-f901cf5609c9",
  "timestamp": "2025-11-29T14:52:32.980Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Sliding Window",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Sliding Window Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f0f0f0;\n  }\n  h1 {\n    text-align: center;\n  }\n  #arrayContainer {\n    display: flex;\n    justify-content: center;\n    margin: 20px 0;\n    flex-wrap: wrap;\n    user-select: none;\n  }\n  .array-item {\n    width: 40px;\n    height: 40px;\n    margin: 4px;\n    background: white;\n    border: 2px solid #ccc;\n    border-radius: 6px;\n    line-height: 40px;\n    text-align: center;\n    font-weight: bold;\n    transition: border-color 0.3s, background-color 0.3s;\n    box-sizing: border-box;\n  }\n  .in-window {\n    border-color: #007bff;\n    background-color: #cce5ff;\n  }\n  .window-left {\n    border-top-left-radius: 20px;\n    border-bottom-left-radius: 20px;\n  }\n  .window-right {\n    border-top-right-radius: 20px;\n    border-bottom-right-radius: 20px;\n  }\n  #controls {\n    max-width: 600px;\n    margin: 0 auto 30px auto;\n    padding: 15px;\n    background: white;\n    border-radius: 12px;\n    box-shadow: 0 0 10px rgba(0,0,0,0.1);\n  }\n  input[type=\"text\"], input[type=\"number\"] {\n    padding: 7px 10px;\n    margin-right: 10px;\n    font-size: 16px;\n    width: 150px;\n    border-radius: 6px;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n  }\n  button {\n    padding: 8px 14px;\n    font-size: 16px;\n    border: none;\n    border-radius: 6px;\n    background-color: #007bff;\n    color: white;\n    cursor: pointer;\n    transition: background-color 0.25s ease;\n  }\n  button:hover:not(:disabled) {\n    background-color: #0056b3;\n  }\n  button:disabled {\n    background-color: #aaa;\n    cursor: not-allowed;\n  }\n  #sumOutput {\n    text-align: center;\n    font-size: 18px;\n    margin-top: 20px;\n  }\n  #slideControls {\n    margin-top: 20px;\n    text-align: center;\n  }\n  #slideControls button {\n    margin: 0 10px;\n    width: 80px;\n  }\n  #description {\n    max-width: 700px;\n    margin: 0 auto 20px auto;\n    font-size: 16px;\n    color: #222;\n    line-height: 1.5;\n  }\n  #speedLabel {\n    display: inline-block;\n    margin-right: 10px;\n    font-weight: 600;\n  }\n  #speedControl {\n    vertical-align: middle;\n  }\n  #windowSum {\n    font-weight: bold;\n    color: #007bff;\n  }\n</style>\n</head>\n<body>\n<h1>Sliding Window Technique Visualization</h1>\n<div id=\"description\">\n  The sliding window technique is useful for problems involving arrays or strings where you want to consider a subset (window) of elements — often contiguous — and move this window across the array to calculate something, e.g., sums, averages, max/min values. Here we demonstrate it with an integer array and a fixed window size to find the sum of elements in the window as it slides from left to right.\n</div>\n\n<div id=\"controls\">\n  <label>\n    Array (comma separated):\n    <input type=\"text\" id=\"inputArray\" placeholder=\"e.g. 1,3,-2,8,5,7,6\" value=\"1,3,-2,8,5,7,6\" />\n  </label>\n  <label>\n    Window Size:\n    <input type=\"number\" id=\"inputWindowSize\" min=\"1\" value=\"3\" />\n  </label>\n  <button id=\"btnInitialize\">Initialize</button>\n  <div style=\"margin-top:15px;\">\n    <span id=\"speedLabel\">Animation Speed:</span>\n    <input type=\"range\" id=\"speedControl\" min=\"200\" max=\"2000\" step=\"100\" value=\"800\" />\n    <span id=\"speedDisplay\">0.8s</span>\n  </div>\n</div>\n\n<div id=\"arrayContainer\"></div>\n\n<div id=\"slideControls\">\n  <button id=\"btnPrev\" disabled>&lt; Prev</button>\n  <button id=\"btnNext\" disabled>Next &gt;</button>\n  <button id=\"btnPlay\">Play ▶</button>\n  <button id=\"btnPause\" disabled>Pause ❚❚</button>\n</div>\n\n<div id=\"sumOutput\">Current window sum: <span id=\"windowSum\">0</span></div>\n\n<script>\n(() => {\n  const inputArrayEl = document.getElementById('inputArray');\n  const inputWindowSizeEl = document.getElementById('inputWindowSize');\n  const btnInitialize = document.getElementById('btnInitialize');\n  const arrayContainer = document.getElementById('arrayContainer');\n  const btnPrev = document.getElementById('btnPrev');\n  const btnNext = document.getElementById('btnNext');\n  const btnPlay = document.getElementById('btnPlay');\n  const btnPause = document.getElementById('btnPause');\n  const windowSumEl = document.getElementById('windowSum');\n  const speedControl = document.getElementById('speedControl');\n  const speedDisplay = document.getElementById('speedDisplay');\n\n  let array = [];\n  let windowSize = 1;\n  let currentIndex = 0; // index of window start\n  let intervalId = null;\n  let animationSpeed = Number(speedControl.value);\n\n  function parseArrayInput(str) {\n    // Parse string like \"1,3,-2, 8,5,7,6\"\n    const parts = str.split(',').map(s => s.trim());\n    const nums = [];\n    for (let p of parts) {\n      if (p === '') continue;\n      const n = Number(p);\n      if (Number.isNaN(n)) return null;\n      nums.push(n);\n    }\n    return nums.length ? nums : null;\n  }\n\n  function clearArrayDisplay() {\n    arrayContainer.innerHTML = '';\n  }\n\n  function createArrayElements(arr) {\n    clearArrayDisplay();\n    for (let i = 0; i < arr.length; i++) {\n      const div = document.createElement('div');\n      div.className = 'array-item';\n      div.textContent = arr[i];\n      div.dataset.index = i;\n      arrayContainer.appendChild(div);\n    }\n  }\n\n  function updateWindowHighlight(startIdx) {\n    const items = arrayContainer.children;\n    for (let i = 0; i < items.length; i++) {\n      items[i].classList.remove('in-window', 'window-left', 'window-right');\n      if (i >= startIdx && i < startIdx + windowSize) {\n        items[i].classList.add('in-window');\n      }\n    }\n    if(windowSize > 0) {\n      if(items[startIdx]) items[startIdx].classList.add('window-left');\n      if(items[startIdx + windowSize - 1]) items[startIdx + windowSize - 1].classList.add('window-right');\n    }\n  }\n\n  function calculateWindowSum(startIdx) {\n    let sum = 0;\n    for(let i = startIdx; i < startIdx + windowSize; i++) {\n      sum += array[i];\n    }\n    return sum;\n  }\n\n  function updateSumDisplay(sum) {\n    windowSumEl.textContent = sum;\n  }\n\n  function updateControls() {\n    // Disable buttons if at edges or no array\n    btnPrev.disabled = currentIndex <= 0;\n    btnNext.disabled = currentIndex >= array.length - windowSize;\n    btnPlay.disabled = array.length === 0 || windowSize == 0 || currentIndex >= array.length - windowSize;\n    btnPause.disabled = intervalId === null;\n    btnInitialize.disabled = false;\n    inputArrayEl.disabled = false;\n    inputWindowSizeEl.disabled = false;\n  }\n\n  function slideToIndex(newIndex) {\n    if(newIndex < 0) newIndex = 0;\n    if(newIndex > array.length - windowSize) newIndex = array.length - windowSize;\n    currentIndex = newIndex;\n    updateWindowHighlight(currentIndex);\n    const sum = calculateWindowSum(currentIndex);\n    updateSumDisplay(sum);\n    updateControls();\n  }\n\n  function playAnimation() {\n    if(intervalId) return;\n    btnPlay.disabled = true;\n    btnPause.disabled = false;\n    btnPrev.disabled = true;\n    btnNext.disabled = true;\n    btnInitialize.disabled = true;\n    inputArrayEl.disabled = true;\n    inputWindowSizeEl.disabled = true;\n\n    intervalId = setInterval(() => {\n      if(currentIndex < array.length - windowSize) {\n        slideToIndex(currentIndex + 1);\n      } else {\n        pauseAnimation();\n      }\n    }, animationSpeed);\n  }\n\n  function pauseAnimation() {\n    if(intervalId) {\n      clearInterval(intervalId);\n      intervalId = null;\n      updateControls();\n    }\n  }\n\n  btnInitialize.addEventListener('click', () => {\n    const arr = parseArrayInput(inputArrayEl.value);\n    if(arr === null) {\n      alert('Invalid array input! Please enter a comma separated list of numbers.');\n      return;\n    }\n    const wSize = Number(inputWindowSizeEl.value);\n    if(!Number.isInteger(wSize) || wSize < 1 || wSize > arr.length) {\n      alert(`Invalid window size! Must be integer between 1 and array length (${arr.length}).`);\n      return;\n    }\n\n    array = arr;\n    windowSize = wSize;\n    currentIndex = 0;\n    createArrayElements(array);\n    slideToIndex(0);\n  });\n\n  btnPrev.addEventListener('click', () => {\n    slideToIndex(currentIndex - 1);\n  });\n\n  btnNext.addEventListener('click', () => {\n    slideToIndex(currentIndex + 1);\n  });\n\n  btnPlay.addEventListener('click', () => {\n    playAnimation();\n  });\n\n  btnPause.addEventListener('click', () => {\n    pauseAnimation();\n  });\n\n  speedControl.addEventListener('input', () => {\n    animationSpeed = Number(speedControl.value);\n    speedDisplay.textContent = (animationSpeed / 1000).toFixed(1) + 's';\n    if(intervalId) {\n      // Restart interval with new speed\n      clearInterval(intervalId);\n      intervalId = setInterval(() => {\n        if(currentIndex < array.length - windowSize) {\n          slideToIndex(currentIndex + 1);\n        } else {\n          pauseAnimation();\n        }\n      }, animationSpeed);\n    }\n  });\n\n  // Initialize on page load with default values\n  window.addEventListener('load', () => {\n    btnInitialize.click();\n  });\n\n})();\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Sliding Window"
    }
  ],
  "topic": "Sliding Window",
  "hasFSM": false,
  "hasTest": true
}