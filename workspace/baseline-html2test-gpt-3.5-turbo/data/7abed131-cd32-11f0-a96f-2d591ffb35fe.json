{
  "id": "7abed131-cd32-11f0-a96f-2d591ffb35fe",
  "timestamp": "2025-11-29T14:49:16.533Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Huffman Coding",
  "answer": {
    "role": "assistant",
    "content": "```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Huffman Coding Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f0f4f8;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n    color: #155a8a;\n  }\n  textarea {\n    width: 100%;\n    height: 100px;\n    font-family: monospace;\n    font-size: 1.1rem;\n    padding: 0.5rem;\n    border-radius: 4px;\n    border: 1px solid #aaa;\n    resize: vertical;\n  }\n  button {\n    margin-top: 1rem;\n    padding: 0.6rem 1.2rem;\n    font-size: 1rem;\n    border: none;\n    border-radius: 4px;\n    background-color: #1e88e5;\n    color: white;\n    cursor: pointer;\n  }\n  button:hover {\n    background-color: #1669bb;\n  }\n  .output-section {\n    margin-top: 2rem;\n    background: white;\n    padding: 1rem 1.5rem;\n    border-radius: 6px;\n    box-shadow: 0 0 12px rgb(0 0 0 / 0.1);\n  }\n  h2 {\n    color: #155a8a;\n  }\n  pre {\n    background: #e8f0fe;\n    padding: 1rem;\n    border-radius: 5px;\n    overflow-x: auto;\n  }\n  table {\n    border-collapse: collapse;\n    width: 100%;\n    max-width: 400px;\n    margin-top: 0.5rem;\n  }\n  th, td {\n    border: 1px solid #ccc;\n    padding: 0.25rem 0.5rem;\n    text-align: center;\n  }\n  th {\n    background-color: #e3f2fd;\n  }\n  #tree-svg {\n    margin-top: 1rem;\n    overflow-x: auto;\n  }\n  svg text {\n    font-family: monospace;\n    font-size: 12px;\n    fill: #222;\n  }\n  .node circle {\n    fill: #1e88e5;\n    stroke: #0f5ea8;\n    stroke-width: 2;\n  }\n  .leaf circle {\n    fill: #43a047;\n  }\n  .edge-text {\n    fill: #b71c1c;\n    font-weight: bold;\n  }\n</style>\n</head>\n<body>\n\n<h1>Huffman Coding Demonstration</h1>\n\n<label for=\"inputText\">Enter text to encode with Huffman coding:</label>\n<textarea id=\"inputText\" placeholder=\"Type some text here...\"></textarea>\n<button id=\"encodeBtn\">Encode</button>\n\n<div class=\"output-section\" id=\"output\" style=\"display:none;\">\n  <h2>Results:</h2>\n  <div>\n    <strong>Frequency Table:</strong>\n    <table id=\"freqTable\">\n      <thead>\n        <tr><th>Character</th><th>Frequency</th></tr>\n      </thead>\n      <tbody></tbody>\n    </table>\n  </div>\n\n  <div>\n    <strong>Huffman Codes:</strong>\n    <table id=\"codeTable\">\n      <thead>\n        <tr><th>Character</th><th>Code</th></tr>\n      </thead>\n      <tbody></tbody>\n    </table>\n  </div>\n\n  <div>\n    <strong>Encoded Binary String:</strong>\n    <pre id=\"encodedBin\"></pre>\n  </div>\n\n  <div>\n    <strong>Original String Length:</strong> <span id=\"origBits\"></span> bits<br/>\n    <strong>Encoded Length:</strong> <span id=\"encodedBits\"></span> bits<br/>\n    <strong>Compression Ratio:</strong> <span id=\"compressionRatio\"></span>\n  </div>\n\n  <div>\n    <strong>Decoded Text:</strong>\n    <pre id=\"decodedText\"></pre>\n  </div>\n\n  <div>\n    <strong>Huffman Tree Visualization:</strong>\n    <div id=\"tree-svg\"></div>\n  </div>\n</div>\n\n<script>\n// Huffman coding implementation\n\n// Node class for Huffman tree\nclass Node {\n  constructor(char, freq, left=null, right=null) {\n    this.char = char;\n    this.freq = freq;\n    this.left = left;\n    this.right = right;\n  }\n  isLeaf() {\n    return !this.left && !this.right;\n  }\n}\n\n// Build frequency map from input string\nfunction buildFrequencyTable(str) {\n  const freq = new Map();\n  for (const ch of str) {\n    freq.set(ch, (freq.get(ch) || 0) + 1);\n  }\n  return freq;\n}\n\n// Build Huffman tree given frequency map\nfunction buildHuffmanTree(freqMap) {\n  let nodes = [];\n\n  for (const [char, freq] of freqMap.entries()) {\n    nodes.push(new Node(char, freq));\n  }\n\n  // Build tree:\n  while (nodes.length > 1) {\n    // Sort by freq ascending\n    nodes.sort((a,b) => a.freq - b.freq);\n\n    // Take two smallest\n    const left = nodes.shift();\n    const right = nodes.shift();\n\n    // Create new merged node\n    const merged = new Node(null, left.freq + right.freq, left, right);\n\n    // Add back to nodes\n    nodes.push(merged);\n  }\n  return nodes[0];\n}\n\n// Generate code map from tree\nfunction generateCodes(node, prefix = '', codes = {}) {\n  if (!node) return codes;\n  if (node.isLeaf()) {\n    codes[node.char] = prefix || '0'; // Handle single char case\n  } else {\n    generateCodes(node.left, prefix + '0', codes);\n    generateCodes(node.right, prefix + '1', codes);\n  }\n  return codes;\n}\n\n// Encode string using code map\nfunction encodeString(str, codes) {\n  let result = '';\n  for (const ch of str) {\n    result += codes[ch];\n  }\n  return result;\n}\n\n// Decode the binary string using Huffman tree\nfunction decodeString(encodedStr, tree) {\n  let result = '';\n  let node = tree;\n  for (const bit of encodedStr) {\n    node = bit === '0' ? node.left : node.right;\n    if (node.isLeaf()) {\n      result += node.char;\n      node = tree;\n    }\n  }\n  return result;\n}\n\n// Drawing the tree visualization\nfunction drawTreeSVG(root) {\n  // Clear previous\n  const container = document.getElementById('tree-svg');\n  container.innerHTML = '';\n\n  if (!root) return;\n\n  // We'll do a simple top-down tree layout using DFS traversal\n  // Compute positions:\n\n  let nodes = [];\n  let edges = [];\n\n  // Assign x position based on inorder traversal\n  let xCounter = 0;\n  function assignX(node) {\n    if (!node) return;\n    assignX(node.left);\n    node.x = xCounter++;\n    assignX(node.right);\n  }\n  assignX(root);\n\n  // Assign y position based on depth\n  function assignY(node, depth=0) {\n    if (!node) return;\n    node.y = depth;\n    assignY(node.left, depth + 1);\n    assignY(node.right, depth + 1);\n  }\n  assignY(root);\n\n  // Collect nodes and edges\n  function collect(node) {\n    if (!node) return;\n    nodes.push(node);\n    if (node.left) edges.push({from: node, to: node.left, label: '0'});\n    if (node.right) edges.push({from: node, to: node.right, label: '1'});\n    collect(node.left);\n    collect(node.right);\n  }\n  collect(root);\n\n  // SVG parameters\n  const nodeRadius = 15;\n  const hSpacing = 50;\n  const vSpacing = 70;\n  const width = (xCounter + 1) * hSpacing;\n  const height = (Math.max(...nodes.map(n=>n.y)) + 2) * vSpacing;\n\n  const svgns = \"http://www.w3.org/2000/svg\";\n  const svg = document.createElementNS(svgns, \"svg\");\n  svg.setAttribute('width', width);\n  svg.setAttribute('height', height);\n\n  // Draw edges first\n  for (const edge of edges) {\n    const x1 = edge.from.x * hSpacing + hSpacing;\n    const y1 = edge.from.y * vSpacing + vSpacing;\n    const x2 = edge.to.x * hSpacing + hSpacing;\n    const y2 = edge.to.y * vSpacing + vSpacing;\n\n    // Line\n    const line"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Huffman Coding"
    }
  ],
  "topic": "Huffman Coding",
  "hasFSM": false,
  "hasTest": true
}