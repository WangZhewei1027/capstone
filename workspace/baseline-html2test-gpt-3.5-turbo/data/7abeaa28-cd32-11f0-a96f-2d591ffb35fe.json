{
  "id": "7abeaa28-cd32-11f0-a96f-2d591ffb35fe",
  "timestamp": "2025-11-29T14:49:45.424Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Radix Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Radix Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f0f4f8;\n  }\n  h1 {\n    text-align: center;\n    color: #333;\n  }\n  #inputArea {\n    max-width: 600px;\n    margin: 0 auto 20px auto;\n    display: flex;\n    justify-content: center;\n  }\n  #arrayInput {\n    width: 70%;\n    padding: 8px;\n    font-size: 16px;\n  }\n  button {\n    padding: 8px 12px;\n    margin-left: 10px;\n    font-size: 16px;\n    cursor: pointer;\n    border: none;\n    background-color: #2a9df4;\n    color: white;\n    border-radius: 4px;\n    transition: background-color 0.3s;\n  }\n  button:hover:not(:disabled) {\n    background-color: #1b7fd1;\n  }\n  button:disabled {\n    background-color: #a5c9f9;\n    cursor: default;\n  }\n  #error {\n    color: red;\n    text-align: center;\n    margin-bottom: 10px;\n  }\n  #arrayDisplay {\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    gap: 10px;\n    margin-bottom: 30px;\n  }\n  .arrayItem {\n    width: 40px;\n    height: 40px;\n    background-color: #81c784;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-weight: bold;\n    border-radius: 5px;\n    transition: background-color 0.4s, transform 0.3s;\n    user-select: none;\n  }\n  .highlight {\n    background-color: #f9a825 !important;\n    transform: scale(1.2);\n  }\n  #bucketsContainer {\n    max-width: 700px;\n    margin: 0 auto;\n  }\n  .bucketRow {\n    display: flex;\n    justify-content: center;\n    margin: 10px 0;\n  }\n  .bucket {\n    background-color: #eceff1;\n    border: 2px solid #90a4ae;\n    border-radius: 8px;\n    width: 60px;\n    min-height: 60px;\n    margin: 0 6px;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-top: 20px;\n    box-sizing: border-box;\n  }\n  .bucketLabel {\n    position: absolute;\n    top: 0;\n    font-size: 18px;\n    font-weight: 600;\n    color: #607d8b;\n  }\n  .bucketContent {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 18px;\n    gap: 4px;\n    min-height: 30px;\n  }\n  #log {\n    max-width: 700px;\n    margin: 30px auto;\n    background-color: #ffffffee;\n    padding: 15px 20px;\n    border-radius: 10px;\n    height: 150px;\n    overflow-y: auto;\n    font-family: monospace;\n    font-size: 14px;\n    color: #333;\n    box-shadow: 0 4px 8px rgb(0 0 0 / 0.1);\n  }\n  #log strong {\n    color: #1565c0;\n  }\n  footer {\n    text-align: center;\n    margin-top: 40px;\n    color: #666;\n    font-size: 14px;\n  }\n  @media (max-width: 600px) {\n    #inputArea {\n      flex-direction: column;\n      align-items: center;\n    }\n    #arrayInput {\n      width: 90%;\n      margin-bottom: 10px;\n    }\n    button {\n      margin-left: 0;\n    }\n  }\n</style>\n</head>\n<body>\n\n<h1>Radix Sort Visualization</h1>\n\n<div id=\"inputArea\">\n  <input type=\"text\" id=\"arrayInput\" placeholder=\"Enter integers separated by commas\" aria-label=\"Array input\" />\n  <button id=\"startBtn\">Start Radix Sort</button>\n</div>\n\n<div id=\"error\" aria-live=\"polite\"></div>\n\n<div id=\"arrayDisplay\" aria-live=\"polite\" aria-label=\"Array visual display\"></div>\n\n<div id=\"bucketsContainer\" aria-live=\"polite\" aria-label=\"Buckets for each digit\"></div>\n\n<div id=\"log\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n\n<footer>Demo by ChatGPT &mdash; Radix Sort Algorithm</footer>\n\n<script>\n(() => {\n  const startBtn = document.getElementById('startBtn');\n  const arrayInput = document.getElementById('arrayInput');\n  const errorDiv = document.getElementById('error');\n  const arrayDisplay = document.getElementById('arrayDisplay');\n  const bucketsContainer = document.getElementById('bucketsContainer');\n  const logDiv = document.getElementById('log');\n\n  let originalArray = [];\n  let workingArray = [];\n  let maxDigits = 0;\n\n  // Utility: sleep for animation pauses\n  const sleep = ms => new Promise(r => setTimeout(r, ms));\n\n  // Create visual blocks for the array\n  function renderArray(arr, highlightIndices = []) {\n    arrayDisplay.innerHTML = '';\n    arr.forEach((num, i) => {\n      const div = document.createElement('div');\n      div.className = 'arrayItem';\n      div.textContent = num;\n      if (highlightIndices.includes(i)) {\n        div.classList.add('highlight');\n      }\n      arrayDisplay.appendChild(div);\n    });\n  }\n\n  // Create buckets (0-9)\n  function renderBuckets(buckets) {\n    bucketsContainer.innerHTML = '';\n    const bucketRow = document.createElement('div');\n    bucketRow.className = 'bucketRow';\n    for (let i = 0; i <= 9; i++) {\n      const bucket = document.createElement('div');\n      bucket.className = 'bucket';\n      bucket.setAttribute('aria-label', `Bucket ${i}`);\n      const label = document.createElement('div');\n      label.className = 'bucketLabel';\n      label.textContent = i;\n      const content = document.createElement('div');\n      content.className = 'bucketContent';\n      bucket.appendChild(label);\n      bucket.appendChild(content);\n      bucketRow.appendChild(bucket);\n    }\n    bucketsContainer.appendChild(bucketRow);\n\n    // Place numbers in their buckets visually\n    buckets.forEach((bucketArr, digit) => {\n      const bucketDiv = bucketRow.children[digit].querySelector('.bucketContent');\n      bucketArr.forEach(num => {\n        const numDiv = document.createElement('div');\n        numDiv.className = 'arrayItem';\n        numDiv.style.width = '30px';\n        numDiv.style.height = '30px';\n        numDiv.style.fontSize = '0.8rem';\n        numDiv.textContent = num;\n        bucketDiv.appendChild(numDiv);\n      });\n    });\n  }\n\n  // Log messages with timestamp\n  function log(message, strongPart = null) {\n    const p = document.createElement('p');\n    if (strongPart) {\n      const bold = document.createElement('strong');\n      bold.textContent = strongPart;\n      p.appendChild(bold);\n      p.appendChild(document.createTextNode(message));\n    } else {\n      p.textContent = message;\n    }\n    logDiv.appendChild(p);\n    logDiv.scrollTop = logDiv.scrollHeight;\n  }\n\n  // Extract digit at place (0 = least significant digit)\n  function getDigit(num, place) {\n    return Math.floor(Math.abs(num) / Math.pow(10, place)) % 10;\n  }\n\n  // Find max number of digits in array\n  function findMaxDigits(arr) {\n    let max = 0;\n    arr.forEach(num => {\n      const digits = num.toString().replace('-', '').length;\n      if (digits > max) max = digits;\n    });\n    return max;\n  }\n\n  // Validate input and parse\n  function parseInput(input) {\n    if (!input.trim()) return null;\n    const parts = input.split(',').map(p => p.trim());\n    const nums = [];\n    for (let p of parts) {\n      if (!/^[-]?\\d+$/.test(p)) return null;\n      const n = Number(p);\n      nums.push(n);\n    }\n    return nums;\n  }\n\n  // Disable/enable controls\n  function setControlsEnabled(enabled) {\n    startBtn.disabled = !enabled;\n    arrayInput.disabled = !enabled;\n  }\n\n  async function radixSort(arr) {\n    setControlsEnabled(false);\n    errorDiv.textContent = '';\n    logDiv.innerHTML = '';\n    renderArray(arr);\n    log('Starting Radix Sort...');\n    const maxDigitCount = findMaxDigits(arr);\n    log(`Maximum digits in input: ${maxDigitCount}`);\n\n    let array = arr.slice(); // Make copy\n    for (let digitPlace = 0; digitPlace < maxDigitCount; digitPlace++) {\n      log(`\\nProcessing digit place: ${digitPlace} (0 = least significant digit)`);\n      // Create buckets 0-9\n      let buckets = Array.from({length: 10}, () => []);\n      // Highlight current digit for each element visually\n      for (let i = 0; i < array.length; i++) {\n        renderArray(array, [i]);\n        await sleep(200);\n        const digit = getDigit(array[i], digitPlace);\n        log(`Number ${array[i]} goes to bucket ${digit}`);\n        buckets[digit].push(array[i]);\n      }\n      renderBuckets(buckets);\n      await sleep(500);\n      // Flatten buckets back into array\n      array = buckets.flat();\n      log('Concatenating buckets back into array...');\n      renderArray(array);\n      await sleep(700);\n    }\n    log('\\nRadix Sort completed. Sorted array:');\n    renderArray(array);\n    log(array.join(', '));\n    setControlsEnabled(true);\n    return array;\n  }\n\n  startBtn.addEventListener('click', () => {\n    const input = arrayInput.value;\n    const nums = parseInput(input);\n    if (!nums) {\n      errorDiv.textContent = 'Invalid input! Please enter integers separated by commas.';\n      return;\n    }\n    errorDiv.textContent = '';\n    originalArray = nums;\n    workingArray = nums.slice();\n    radixSort(workingArray).catch(e => {\n      errorDiv.textContent = 'An error occurred during sorting.';\n      setControlsEnabled(true);\n      console.error(e);\n    });\n  });\n\n  // Prefill with example data\n  arrayInput.value = '170, 45, 75, 90, 802, 24, 2, 66';\n})();\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Radix Sort"
    }
  ],
  "topic": "Radix Sort",
  "hasFSM": false,
  "hasTest": true
}