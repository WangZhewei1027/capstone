{
  "id": "20d2d6d0-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:34.412Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Two Pointers",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n  <title>Two Pointers Technique Demo</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 20px;\n      max-width: 800px;\n    }\n    h1 {\n      text-align: center;\n    }\n    textarea {\n      width: 100%;\n      height: 80px;\n      font-family: monospace;\n      font-size: 14px;\n    }\n    button {\n      margin-top: 10px;\n      padding: 10px 15px;\n      font-size: 16px;\n      cursor: pointer;\n    }\n    .result {\n      margin-top: 20px;\n      background: #f0f4f8;\n      padding: 15px;\n      border-radius: 5px;\n      white-space: pre-wrap;\n      font-family: monospace;\n      font-size: 14px;\n    }\n    .array-visualization {\n      margin-top: 10px;\n      display: flex;\n      flex-wrap: wrap;\n      gap: 5px;\n    }\n    .element {\n      width: 30px;\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n      border: 1px solid #ccc;\n      border-radius: 4px;\n      user-select: none;\n      transition: background-color 0.3s ease, color 0.3s ease;\n    }\n    .pointer-left {\n      background-color: #6cace4;\n      color: white;\n      font-weight: bold;\n      border-color: #3b7bbf;\n    }\n    .pointer-right {\n      background-color: #e46c6c;\n      color: white;\n      font-weight: bold;\n      border-color: #bf3b3b;\n    }\n    .pointer-both {\n      background-color: #6ce49b;\n      color: #034d11;\n      font-weight: bold;\n      border-color: #23762d;\n    }\n  </style>\n</head>\n<body>\n  <h1>Two Pointers Technique Demo</h1>\n  <p>\n    Enter a sorted array of integers (comma separated):<br />\n    <textarea id=\"inputArray\" placeholder=\"e.g. 1, 2, 2, 3, 4, 4, 5\"></textarea>\n  </p>\n  <p>\n    Choose problem:\n    <select id=\"problemSelect\">\n      <option value=\"twoSum\">Two Sum in sorted array (find two numbers with sum = target)</option>\n      <option value=\"removeDuplicates\">Remove duplicates from sorted array</option>\n    </select>\n  </p>\n  <p id=\"targetInputContainer\" style=\"display:none;\">\n    Enter target sum: <input type=\"number\" id=\"targetSum\" value=\"5\" />\n  </p>\n  <button id=\"runBtn\">Run Two Pointers</button>\n  <div class=\"result\" id=\"result\"></div>\n\n  <script>\n    const inputArrayEl = document.getElementById('inputArray');\n    const resultEl = document.getElementById('result');\n    const runBtn = document.getElementById('runBtn');\n    const problemSelect = document.getElementById('problemSelect');\n    const targetInputContainer = document.getElementById('targetInputContainer');\n    const targetSumEl = document.getElementById('targetSum');\n\n    problemSelect.addEventListener('change', () => {\n      if (problemSelect.value === 'twoSum') {\n        targetInputContainer.style.display = 'inline-block';\n      } else {\n        targetInputContainer.style.display = 'none';\n      }\n    });\n\n    function parseInput(input) {\n      return input\n        .split(',')\n        .map(s => s.trim())\n        .filter(s => s !== '')\n        .map(Number)\n        .filter(n => !isNaN(n));\n    }\n\n    /**\n     * Problem 1: Two Sum II - Input array is sorted, find two numbers that sum to target.\n     * Use two pointers from start and end.\n     */\n    function twoSum(arr, target) {\n      let left = 0;\n      let right = arr.length - 1;\n      const steps = [];\n      while (left < right) {\n        steps.push({\n          left,\n          right,\n          leftVal: arr[left],\n          rightVal: arr[right],\n          sum: arr[left] + arr[right],\n          action: null,\n        });\n        const sum = arr[left] + arr[right];\n        if (sum === target) {\n          steps[steps.length - 1].action = 'found';\n          return { steps, result: [left, right] };\n        } else if (sum < target) {\n          steps[steps.length - 1].action = 'left++';\n          left++;\n        } else {\n          steps[steps.length - 1].action = 'right--';\n          right--;\n        }\n      }\n      return { steps, result: null };\n    }\n\n    /**\n     * Problem 2: Remove duplicates from sorted array in place\n     * Use two pointers: one for the place to write, one to scan.\n     * Returns new length, and the array modifies first part.\n     */\n    function removeDuplicates(arr) {\n      if (arr.length === 0) return { steps: [], newLength: 0 };\n      let writeIndex = 1;\n      const steps = [];\n      for (let i = 1; i < arr.length; i++) {\n        steps.push({\n          i,\n          writeIndex,\n          currentVal: arr[i],\n          lastUniqueVal: arr[writeIndex - 1],\n          action: null,\n          arr: [...arr],\n        });\n        if (arr[i] !== arr[writeIndex - 1]) {\n          arr[writeIndex] = arr[i];\n          steps[steps.length - 1].action = `arr[${writeIndex}] = ${arr[i]}`;\n          writeIndex++;\n        } else {\n          steps[steps.length - 1].action = 'skip duplicate';\n        }\n      }\n      return { steps, newLength: writeIndex, arr };\n    }\n\n    /**\n     * Visualize the array with highlighted pointers\n     */\n    function visualizeArray(arr, pointerPositions = {}, highlightPairs = []) {\n      const container = document.createElement('div');\n      container.className = 'array-visualization';\n\n      arr.forEach((val, i) => {\n        const elem = document.createElement('div');\n        elem.className = 'element';\n        elem.textContent = val;\n        const isLeft = pointerPositions.left === i;\n        const isRight = pointerPositions.right === i;\n\n        if (isLeft && isRight) {\n          elem.classList.add('pointer-both');\n          elem.title = 'Left & Right Pointer';\n        } else if (isLeft) {\n          elem.classList.add('pointer-left');\n          elem.title = 'Left Pointer';\n        } else if (isRight) {\n          elem.classList.add('pointer-right');\n          elem.title = 'Right Pointer';\n        }\n\n        // Highlight pairs for remove duplicates\n        if (highlightPairs.includes(i)) {\n          elem.style.borderColor = '#f57c00';\n          elem.style.fontWeight = 'bold';\n        }\n\n        container.appendChild(elem);\n      });\n      return container;\n    }\n\n    function sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    // Animate the steps for two sum\n    async function animateTwoSum(steps, arr, target) {\n      resultEl.innerHTML = `Target sum = <b>${target}</b>\\n\\n`;\n      for (let s of steps) {\n        resultEl.appendChild(\n          visualizeArray(arr, { left: s.left, right: s.right })\n        );\n        resultEl.appendChild(\n          document.createElement('br')\n        );\n        if (s.action === 'found') {\n          resultEl.appendChild(document.createTextNode(\n            `Sum of arr[${s.left}] = ${s.leftVal} + arr[${s.right}] = ${s.rightVal} equals target ${target}!`\n          ));\n          break;\n        } else if (s.action === 'left++') {\n          resultEl.appendChild(document.createTextNode(\n            `Sum (${s.sum}) < target (${target}), move left pointer right to index ${s.left + 1}`\n          ));\n        } else if (s.action === 'right--') {\n          resultEl.appendChild(document.createTextNode(\n            `Sum (${s.sum}) > target (${target}), move right pointer left to index ${s.right - 1}`\n          ));\n        }\n        resultEl.appendChild(document.createElement('hr'));\n        await sleep(800);\n        resultEl.innerHTML = `Target sum = <b>${target}</b>\\n\\n`;\n      }\n      if (steps.length > 0 && steps[steps.length-1].action !== 'found') {\n        resultEl.appendChild(document.createTextNode(`No two numbers found that sum to ${target}.`));\n      }\n    }\n\n    // Animate steps for remove duplicates\n    async function animateRemoveDuplicates(steps, originalArr) {\n      resultEl.innerHTML = `Original array: [${originalArr.join(', ')}]\\n\\n`;\n      for (let s of steps) {\n        resultEl.appendChild(\n          visualizeArray(s.arr, {}, [s.i, s.writeIndex-1])\n        );\n        resultEl.appendChild(document.createElement('br'));\n        let line1 = `Scan i=${s.i} (val=${s.currentVal}), writing at index ${s.writeIndex}`;\n        let line2 = s.action;\n        resultEl.appendChild(document.createTextNode(line1));\n        resultEl.appendChild(document.createElement('br'));\n        resultEl.appendChild(document.createTextNode(line2));\n        resultEl.appendChild(document.createElement('hr'));\n        await sleep(900);\n        resultEl.innerHTML = `Original array: [${originalArr.join(', ')}]\\n\\n`;\n      }\n    }\n\n    runBtn.onclick = async () => {\n      resultEl.innerHTML = '';\n      const arr = parseInput(inputArrayEl.value);\n      if (arr.length === 0) {\n        resultEl.textContent = 'Please enter at least one valid number.';\n        return;\n      }\n\n      if (problemSelect.value === 'twoSum') {\n        const target = Number(targetSumEl.value);\n        if (isNaN(target)) {\n          resultEl.textContent = 'Please enter a valid target sum.';\n          return;\n        }\n        // We expect sorted array for two sum\n        const sortedArr = [...arr].sort((a,b) => a-b);\n\n        const { steps, result } = twoSum(sortedArr, target);\n        await animateTwoSum(steps, sortedArr, target);\n        if (result) {\n          resultEl.appendChild(document.createElement('br'));\n          resultEl.appendChild(document.createTextNode(\n            `\\nResult indices in sorted array: ${result[0]}, ${result[1]}.\\n` +\n            `Numbers: ${sortedArr[result[0]]}, ${sortedArr[result[1]]}`\n          ));\n        }\n      } else if (problemSelect.value === 'removeDuplicates') {\n        // sorted array required for remove duplicates\n        const sortedArr = [...arr].sort((a,b) => a-b);\n        const { steps, newLength, arr: modifiedArr } = removeDuplicates(sortedArr);\n        await animateRemoveDuplicates(steps, sortedArr);\n        resultEl.appendChild(document.createTextNode(\n          `\\nNew length after removing duplicates: ${newLength}\\n` +\n          `Modified array (unique elements first): [${modifiedArr.slice(0, newLength).join(', ')}]`\n        ));\n      }\n    };\n\n    // Initial toggle\n    problemSelect.dispatchEvent(new Event('change'));\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Two Pointers"
    }
  ],
  "topic": "Two Pointers",
  "hasFSM": false,
  "hasTest": true
}