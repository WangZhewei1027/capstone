{
  "id": "e03a2055-cd32-11f0-a949-f901cf5609c9",
  "timestamp": "2025-11-29T14:52:37.118Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Union-Find (Disjoint Set)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Union-Find (Disjoint Set) Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n  }\n  h1 {\n    text-align: center;\n  }\n  #container {\n    max-width: 600px;\n    margin: 0 auto;\n  }\n  label {\n    margin-right: 10px;\n  }\n  input[type=\"number\"] {\n    width: 60px;\n  }\n  button {\n    margin: 5px;\n    padding: 6px 12px;\n  }\n  #output {\n    white-space: pre-wrap;\n    background: #f0f0f0;\n    padding: 15px;\n    border-radius: 6px;\n    margin-top: 15px;\n    height: 220px;\n    overflow-y: auto;\n    font-family: Consolas, monospace;\n  }\n  .set-item {\n    display: inline-block;\n    margin: 3px 10px 3px 0;\n    padding: 6px 10px;\n    border-radius: 20px;\n    background: #3498db;\n    color: white;\n    font-weight: bold;\n    user-select: none;\n  }\n  .set-group {\n    margin-bottom: 15px;\n  }\n  .section {\n    margin-bottom: 25px;\n  }\n  footer {\n    margin-top: 40px;\n    font-size: 0.85em;\n    color: #555;\n    text-align: center;\n  }\n</style>\n</head>\n<body>\n  <div id=\"container\">\n    <h1>Union-Find (Disjoint Set) Visualizer</h1>\n    <div class=\"section\">\n      <label for=\"sizeInput\">Number of elements (max 30): </label>\n      <input type=\"number\" id=\"sizeInput\" value=\"10\" min=\"1\" max=\"30\" />\n      <button id=\"initBtn\">Initialize</button>\n    </div>\n\n    <div id=\"operations\" style=\"display:none;\">\n      <div class=\"section\">\n        <strong>Union operation:</strong><br/>\n        <label for=\"unionX\">Element X: </label><input type=\"number\" id=\"unionX\" min=\"0\" />\n        <label for=\"unionY\">Element Y: </label><input type=\"number\" id=\"unionY\" min=\"0\" />\n        <button id=\"unionBtn\">Union</button>\n      </div>\n      <div class=\"section\">\n        <strong>Find operation:</strong><br/>\n        <label for=\"findX\">Element X: </label><input type=\"number\" id=\"findX\" min=\"0\" />\n        <button id=\"findBtn\">Find</button>\n      </div>\n      <div class=\"section\">\n        <button id=\"showSetsBtn\">Show All Sets</button>\n        <button id=\"resetBtn\">Reset</button>\n      </div>\n    </div>\n\n    <div id=\"output\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n  </div>\n\n<script>\n  class UnionFind {\n    constructor(size) {\n      this.size = size;\n      this.parent = new Array(size);\n      this.rank = new Array(size);\n      for(let i = 0; i < size; i++) {\n        this.parent[i] = i;\n        this.rank[i] = 0;\n      }\n    }\n\n    find(x) {\n      if (this.parent[x] !== x) {\n        this.parent[x] = this.find(this.parent[x]); // path compression\n      }\n      return this.parent[x];\n    }\n\n    union(x, y) {\n      let rootX = this.find(x);\n      let rootY = this.find(y);\n\n      if(rootX === rootY) {\n        return false; // Already in the same set\n      }\n\n      // union by rank\n      if(this.rank[rootX] < this.rank[rootY]) {\n        this.parent[rootX] = rootY;\n      } else if (this.rank[rootX] > this.rank[rootY]) {\n        this.parent[rootY] = rootX;\n      } else {\n        this.parent[rootY] = rootX;\n        this.rank[rootX]++;\n      }\n      return true;\n    }\n\n    getSets() {\n      // Build sets by root representative\n      const sets = new Map();\n      for(let i = 0; i < this.size; i++) {\n        let root = this.find(i);\n        if(!sets.has(root)) {\n          sets.set(root, []);\n        }\n        sets.get(root).push(i);\n      }\n      return Array.from(sets.values());\n    }\n  }\n\n  (function(){\n    const sizeInput = document.getElementById('sizeInput');\n    const initBtn = document.getElementById('initBtn');\n    const operationsDiv = document.getElementById('operations');\n    const unionX = document.getElementById('unionX');\n    const unionY = document.getElementById('unionY');\n    const unionBtn = document.getElementById('unionBtn');\n    const findX = document.getElementById('findX');\n    const findBtn = document.getElementById('findBtn');\n    const showSetsBtn = document.getElementById('showSetsBtn');\n    const output = document.getElementById('output');\n    const resetBtn = document.getElementById('resetBtn');\n\n    let uf = null;\n    let n = 0;\n\n    function log(msg) {\n      output.textContent += msg + \"\\n\";\n      output.scrollTop = output.scrollHeight;\n    }\n    function clearLog() {\n      output.textContent = '';\n    }\n\n    function validateElement(x) {\n      if(isNaN(x) || x < 0 || x >= n) {\n        log(`‚ö†Ô∏è Element ${x} is out of bounds (0 to ${n-1}).`);\n        return false;\n      }\n      return true;\n    }\n\n    function displaySets() {\n      clearLog();\n      const sets = uf.getSets();\n      if(sets.length === n) {\n        log(`There are ${n} disjoint sets: each element is alone.`);\n      } else {\n        log(`There are ${sets.length} disjoint sets:`);\n      }\n      output.appendChild(document.createElement('br'));\n\n      sets.forEach((group, i) => {\n        const container = document.createElement('div');\n        container.className = 'set-group';\n        container.innerHTML = `<strong>Set ${i+1}:</strong> `;\n        group.forEach(el => {\n          const span = document.createElement('span');\n          span.className = 'set-item';\n          span.textContent = el;\n          container.appendChild(span);\n        });\n        output.appendChild(container);\n      });\n      output.appendChild(document.createElement('br'));\n    }\n\n    initBtn.addEventListener('click', () => {\n      const val = parseInt(sizeInput.value, 10);\n      if(isNaN(val) || val < 1 || val > 30) {\n        alert('Please enter a valid number of elements between 1 and 30.');\n        return;\n      }\n      n = val;\n      uf = new UnionFind(n);\n      unionX.min = 0; unionX.max = n - 1; unionX.value = 0;\n      unionY.min = 0; unionY.max = n - 1; unionY.value = 0;\n      findX.min = 0; findX.max = n - 1; findX.value = 0;\n      clearLog();\n      log(`‚úÖ Initialized Union-Find structure with ${n} elements (0 to ${n-1}).`);\n      operationsDiv.style.display = 'block';\n      displaySets();\n    });\n\n    unionBtn.addEventListener('click', () => {\n      if(!uf) {\n        alert('Please initialize first.');\n        return;\n      }\n      const x = parseInt(unionX.value, 10);\n      const y = parseInt(unionY.value, 10);\n      if(!validateElement(x) || !validateElement(y)) return;\n      if (x === y) {\n        log(`‚ö†Ô∏è Union operation skipped: elements are the same (${x}).`);\n        return;\n      }\n      const merged = uf.union(x, y);\n      if(merged) {\n        log(`üîó Union done: merged sets containing ${x} and ${y}.`);\n      } else {\n        log(`‚ÑπÔ∏è Elements ${x} and ${y} are already in the same set.`);\n      }\n      displaySets();\n    });\n\n    findBtn.addEventListener('click', () => {\n      if(!uf) {\n        alert('Please initialize first.');\n        return;\n      }\n      const x = parseInt(findX.value, 10);\n      if(!validateElement(x)) return;\n      const root = uf.find(x);\n      log(`üîé Find operation: element ${x} belongs to set represented by ${root}.`);\n    });\n\n    showSetsBtn.addEventListener('click', () => {\n      if(!uf) {\n        alert('Please initialize first.');\n        return;\n      }\n      displaySets();\n    });\n\n    resetBtn.addEventListener('click', () => {\n      uf = null;\n      n = 0;\n      operationsDiv.style.display = 'none';\n      clearLog();\n      log('üóëÔ∏è Reset done. Please initialize a new Union-Find structure.');\n    });\n\n  })();\n</script>\n<footer>\n  &copy; 2024 Union-Find Demo\n</footer>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Union-Find (Disjoint Set)"
    }
  ],
  "topic": "Union-Find (Disjoint Set)",
  "hasFSM": false,
  "hasTest": true
}