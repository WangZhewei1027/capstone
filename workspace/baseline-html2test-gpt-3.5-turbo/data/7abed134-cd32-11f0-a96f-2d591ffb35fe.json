{
  "id": "7abed134-cd32-11f0-a96f-2d591ffb35fe",
  "timestamp": "2025-11-29T14:49:38.850Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Sliding Window",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Sliding Window Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 30px;\n    background: #f4f7fc;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n    margin-bottom: 15px;\n  }\n  .array-container {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 25px;\n  }\n  .elem {\n    width: 40px;\n    height: 40px;\n    margin: 0 5px;\n    background: #ddd;\n    border-radius: 6px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-weight: bold;\n    font-size: 16px;\n    transition: background-color 0.3s;\n    user-select: none;\n  }\n  .elem.window {\n    background: #4a90e2;\n    color: white;\n    box-shadow: 0 0 10px #4a90e2;\n  }\n  .elem.current {\n    background: #f5a623;\n    color: white;\n    box-shadow: 0 0 10px #f5a623;\n  }\n  .controls {\n    text-align: center;\n    margin-bottom: 20px;\n  }\n  input[type=\"number\"] {\n    width: 50px;\n    font-size: 16px;\n    padding: 5px;\n    margin-left: 10px;\n    margin-right: 20px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n  }\n  button {\n    padding: 8px 14px;\n    font-size: 16px;\n    background: #4a90e2;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    user-select: none;\n  }\n  button:disabled {\n    background: #a0c4f7;\n    cursor: default;\n  }\n  .info {\n    max-width: 600px;\n    margin: 0 auto;\n    text-align: center;\n    font-size: 18px;\n    min-height: 40px;\n  }\n  .array-input-container {\n    text-align: center;\n    margin-bottom: 15px;\n  }\n  input[type=\"text\"] {\n    width: 300px;\n    font-size: 16px;\n    padding: 7px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n  }\n  .footer {\n    margin-top: 40px;\n    font-size: 14px;\n    text-align: center;\n    color: #666;\n  }\n  @media (max-width: 480px) {\n    .elem {\n      width: 32px;\n      height: 32px;\n      margin: 0 3px;\n      font-size: 14px;\n    }\n    input[type=\"text\"] {\n      width: 100%;\n      max-width: 280px;\n    }\n  }\n</style>\n</head>\n<body>\n<h1>Sliding Window Technique Visualization</h1>\n\n<div class=\"array-input-container\">\n  <label for=\"arrayInput\">Enter array (comma separated): </label>\n  <input id=\"arrayInput\" type=\"text\" value=\"2,1,5,2,3,2\" />\n</div>\n\n<div class=\"controls\">\n  <label for=\"windowSize\">Window Size (k):</label>\n  <input id=\"windowSize\" type=\"number\" min=\"1\" max=\"20\" value=\"3\" />\n  <button id=\"startBtn\">Start</button>\n  <button id=\"stepBtn\" disabled>Next Step</button>\n  <button id=\"resetBtn\" disabled>Reset</button>\n</div>\n\n<div class=\"array-container\" id=\"arrayContainer\"></div>\n\n<div class=\"info\" id=\"info\">Click \"Start\" to begin the sliding window demonstration.</div>\n\n<div class=\"footer\">\n  <p><em>Example: Find maximum in each subarray of size k</em></p>\n</div>\n\n<script>\n  /*\n    Sliding Window Visualization:\n    - User inputs an array and window size k.\n    - Visualizes the sliding window moving from left to right.\n    - At each step highlights the window elements.\n    - Demonstrates the \"maximum in each subarray of size k\" problem.\n  */\n\n  const arrayInput = document.getElementById('arrayInput');\n  const windowSizeInput = document.getElementById('windowSize');\n  const arrayContainer = document.getElementById('arrayContainer');\n  const info = document.getElementById('info');\n  const startBtn = document.getElementById('startBtn');\n  const stepBtn = document.getElementById('stepBtn');\n  const resetBtn = document.getElementById('resetBtn');\n\n  let arr = [];\n  let k = 0;\n  let currentPos = 0; // current starting pos of the sliding window\n  let sliding = false;\n  let maxes = [];\n\n  // Helper to render the array with sliding window indicated\n  function renderArray(windowStart = -1, windowEnd = -1, highlightMaxIndex = -1) {\n    arrayContainer.innerHTML = '';\n    for (let i = 0; i < arr.length; i++) {\n      const elemDiv = document.createElement('div');\n      elemDiv.className = 'elem';\n      elemDiv.textContent = arr[i];\n\n      if (i >= windowStart && i <= windowEnd) {\n        elemDiv.classList.add('window');\n      }\n      if (i === highlightMaxIndex) {\n        elemDiv.classList.remove('window');\n        elemDiv.classList.add('current');\n      }\n\n      arrayContainer.appendChild(elemDiv);\n    }\n  }\n\n  // Compute max for each sliding window using a simple approach (for demonstration)\n  function computeMaxForWindowAt(start) {\n    let maxVal = arr[start];\n    let maxIdx = start;\n    for (let i = start + 1; i < start + k; i++) {\n      if (arr[i] > maxVal) {\n        maxVal = arr[i];\n        maxIdx = i;\n      }\n    }\n    return {maxVal, maxIdx};\n  }\n\n  function validateInputs() {\n    // Validate array\n    let arrayStr = arrayInput.value.trim();\n    if (!arrayStr) {\n      alert('Array input cannot be empty.');\n      return false;\n    }\n    let parts = arrayStr.split(',').map(s => s.trim());\n    let tempArr = [];\n    for (let p of parts) {\n      if (p === '') continue;\n      let num = Number(p);\n      if (isNaN(num)) {\n        alert('Array must contain only numbers separated by commas.');\n        return false;\n      }\n      tempArr.push(num);\n    }\n    if (tempArr.length === 0) {\n      alert('Array cannot be empty.');\n      return false;\n    }\n    // Validate k\n    let kVal = Number(windowSizeInput.value);\n    if (isNaN(kVal) || kVal < 1) {\n      alert('Window size k must be a positive integer.');\n      return false;\n    }\n    if (kVal > tempArr.length) {\n      alert('Window size k cannot be greater than the array length.');\n      return false;\n    }\n    arr = tempArr;\n    k = kVal;\n    return true;\n  }\n\n  function startSliding() {\n    if (!validateInputs()) return;\n\n    currentPos = 0;\n    maxes = [];\n\n    startBtn.disabled = true;\n    stepBtn.disabled = false;\n    resetBtn.disabled = false;\n    arrayInput.disabled = true;\n    windowSizeInput.disabled = true;\n    sliding = true;\n    info.textContent = `Sliding the window of size ${k} over the array. Click \"Next Step\" to move the window.`;\n\n    renderArray(currentPos, currentPos + k -1);\n  }\n\n  function stepSliding() {\n    if (!sliding) return;\n    if (currentPos > arr.length - k) {\n      info.textContent = `Sliding complete! Maximums for each window: [${maxes.join(', ')}]. Click Reset to try again.`;\n      stepBtn.disabled = true;\n      return;\n    }\n\n    const {maxVal, maxIdx} = computeMaxForWindowAt(currentPos);\n    maxes.push(maxVal);\n\n    renderArray(currentPos, currentPos + k -1, maxIdx);\n\n    info.textContent = `Window position: [${currentPos}..${currentPos + k -1}] Maximum: ${maxVal} (highlighted in orange)`;\n\n    currentPos++;\n    if (currentPos > arr.length - k) {\n      info.textContent = `Sliding complete! Maximums for each window: [${maxes.join(', ')}]. Click Reset to try again.`;\n      stepBtn.disabled = true;\n    }\n  }\n\n  function resetSliding() {\n    sliding = false;\n    startBtn.disabled = false;\n    stepBtn.disabled = true;\n    resetBtn.disabled = true;\n    arrayInput.disabled = false;\n    windowSizeInput.disabled = false;\n    info.textContent = 'Click \"Start\" to begin the sliding window demonstration.';\n    arrayContainer.innerHTML = '';\n  }\n\n  startBtn.addEventListener('click', startSliding);\n  stepBtn.addEventListener('click', stepSliding);\n  resetBtn.addEventListener('click', resetSliding);\n\n  // Initial render (empty)\n  renderArray();\n\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Sliding Window"
    }
  ],
  "topic": "Sliding Window",
  "hasFSM": false,
  "hasTest": true
}