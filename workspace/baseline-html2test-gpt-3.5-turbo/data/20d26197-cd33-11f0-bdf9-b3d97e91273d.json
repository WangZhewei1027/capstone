{
  "id": "20d26197-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:35.441Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Binary Tree",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Binary Tree Visualization and Traversal</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f0f0f0;\n    color: #222;\n  }\n  h1 {\n    text-align: center;\n  }\n  #tree-container {\n    text-align: center;\n    margin: 20px auto;\n    width: 100%;\n    max-width: 600px;\n  }\n  svg {\n    width: 100%;\n    height: 320px;\n    background: white;\n    border: 1px solid #ccc;\n    border-radius: 8px;\n  }\n  .node circle {\n    fill: #3498db;\n    stroke: #2980b9;\n    stroke-width: 2px;\n    cursor: pointer;\n    transition: fill 0.3s;\n  }\n  .node text {\n    fill: white;\n    font-weight: bold;\n    pointer-events: none;\n  }\n  .node:hover circle {\n    fill: #1abc9c;\n  }\n  .link {\n    fill: none;\n    stroke: #999;\n    stroke-width: 2px;\n  }\n  #controls {\n    max-width: 600px;\n    margin: 0 auto 20px;\n    background: white;\n    padding: 15px 20px;\n    border-radius: 8px;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  }\n  #controls label {\n    margin-right: 10px;\n    font-weight: bold;\n  }\n  #addNodeForm {\n    margin-top: 10px;\n  }\n  #addNodeForm input[type=\"number\"], #addNodeForm select {\n    padding: 5px;\n    font-size: 1rem;\n    margin-right: 10px;\n    width: 100px;\n  }\n  #addNodeForm button {\n    padding: 6px 12px;\n    font-size: 1rem;\n    cursor: pointer;\n  }\n  #traversal-output {\n    max-width: 600px;\n    margin: 0 auto;\n    background: white;\n    padding: 15px 20px;\n    border-radius: 8px;\n    min-height: 48px;\n    font-weight: bold;\n    font-size: 1.1rem;\n  }\n  #buttons {\n    margin-top: 15px;\n    text-align: center;\n  }\n  #buttons button {\n    padding: 8px 15px;\n    margin: 5px;\n    font-size: 1rem;\n    cursor: pointer;\n    background-color: #2980b9;\n    border: none;\n    border-radius: 5px;\n    color: white;\n    transition: background-color 0.3s;\n  }\n  #buttons button:hover {\n    background-color: #1c5980;\n  }\n  @media (max-width: 640px) {\n    svg {\n      height: 240px;\n    }\n  }\n</style>\n</head>\n<body>\n<h1>Interactive Binary Tree</h1>\n\n<div id=\"controls\">\n  <div>\n    <label for=\"rootValue\">Root Node Value:</label>\n    <input type=\"number\" id=\"rootValue\" value=\"10\" />\n    <button id=\"setRoot\">Set / Reset Root</button>\n  </div>\n\n  <form id=\"addNodeForm\">\n    <label>Add Node:</label>\n    <input type=\"number\" id=\"parentValue\" placeholder=\"Parent Value\" required />\n    <select id=\"childPosition\" aria-label=\"Child position\">\n      <option value=\"left\">Left Child</option>\n      <option value=\"right\">Right Child</option>\n    </select>\n    <input type=\"number\" id=\"childValue\" placeholder=\"New Node Value\" required />\n    <button type=\"submit\">Add</button>\n  </form>\n</div>\n\n<div id=\"tree-container\">\n  <svg id=\"tree-svg\" aria-label=\"Binary Tree Visualization\" role=\"img\"></svg>\n</div>\n\n<div id=\"buttons\">\n  <button id=\"preorderBtn\">Pre-order Traversal</button>\n  <button id=\"inorderBtn\">In-order Traversal</button>\n  <button id=\"postorderBtn\">Post-order Traversal</button>\n  <button id=\"clearOutputBtn\">Clear Output</button>\n</div>\n\n<div id=\"traversal-output\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n\n<script>\n  /*\n    Binary Tree Implementation with Visualization using SVG.\n    Supports:\n      - Setting/resetting root node\n      - Adding nodes as left/right child of existing nodes\n      - Visualizes tree structure with links and nodes\n      - Traversal: preorder, inorder, postorder with output display\n  */\n\n  class TreeNode {\n    constructor(value) {\n      this.value = value;\n      this.left = null;\n      this.right = null;\n      this.x = 0; // for visualization\n      this.y = 0;\n    }\n  }\n\n  class BinaryTree {\n    constructor() {\n      this.root = null;\n    }\n\n    // Find a node with given value (DFS)\n    find(value, node = this.root) {\n      if (!node) return null;\n      if (node.value === value) return node;\n      return this.find(value, node.left) || this.find(value, node.right);\n    }\n\n    addNode(parentValue, childPosition, childValue) {\n      if (!this.root) {\n        return false; // no root yet\n      }\n      const parent = this.find(parentValue);\n      if (!parent) return false;\n      if (childPosition === 'left') {\n        if (parent.left !== null) return false; // left child already exists\n        parent.left = new TreeNode(childValue);\n        return true;\n      } else if (childPosition === 'right') {\n        if (parent.right !== null) return false; // right child already exists\n        parent.right = new TreeNode(childValue);\n        return true;\n      }\n      return false;\n    }\n\n    setRoot(value) {\n      this.root = new TreeNode(value);\n    }\n\n    preorder(node = this.root, result = []) {\n      if (!node) return result;\n      result.push(node.value);\n      this.preorder(node.left, result);\n      this.preorder(node.right, result);\n      return result;\n    }\n\n    inorder(node = this.root, result = []) {\n      if (!node) return result;\n      this.inorder(node.left, result);\n      result.push(node.value);\n      this.inorder(node.right, result);\n      return result;\n    }\n\n    postorder(node = this.root, result = []) {\n      if (!node) return result;\n      this.postorder(node.left, result);\n      this.postorder(node.right, result);\n      result.push(node.value);\n      return result;\n    }\n  }\n\n  // Visualization and UI logic:\n  (function() {\n    const tree = new BinaryTree();\n    const svg = document.getElementById('tree-svg');\n    const traversalOutput = document.getElementById('traversal-output');\n    const setRootBtn = document.getElementById('setRoot');\n    const rootValueInput = document.getElementById('rootValue');\n    const addNodeForm = document.getElementById('addNodeForm');\n    const preorderBtn = document.getElementById('preorderBtn');\n    const inorderBtn = document.getElementById('inorderBtn');\n    const postorderBtn = document.getElementById('postorderBtn');\n    const clearOutputBtn = document.getElementById('clearOutputBtn');\n\n    // Constants for tree node visualization\n    const NODE_RADIUS = 20;\n    const LEVEL_HEIGHT = 80;\n    const HORIZONTAL_GAP = 30;\n\n    // Calculate x,y for each node for visualization, returns width used by subtree\n    function layoutTree(node, xStart, y, depth) {\n      if (!node) return 0;\n\n      let leftWidth = layoutTree(node.left, xStart, y + LEVEL_HEIGHT, depth + 1);\n      // Current node x is start plus left subtree width plus half node width\n      let currX = xStart + leftWidth;\n\n      node.x = currX;\n      node.y = y;\n\n      let rightWidth = layoutTree(node.right, currX + HORIZONTAL_GAP, y + LEVEL_HEIGHT, depth + 1);\n      \n      let subtreeWidth = leftWidth + HORIZONTAL_GAP + rightWidth;\n      if (subtreeWidth < NODE_RADIUS*2) subtreeWidth = NODE_RADIUS*2;\n      return subtreeWidth;\n    }\n\n    // Clear SVG children\n    function clearSVG() {\n      while (svg.firstChild) {\n        svg.removeChild(svg.firstChild);\n      }\n    }\n\n    // Draw the tree recursively by adding SVG elements\n    function drawTree(node) {\n      if (!node) return;\n\n      // Draw links to children\n      if (node.left) {\n        drawLine(node.x, node.y, node.left.x, node.left.y);\n        drawTree(node.left);\n      }\n      if (node.right) {\n        drawLine(node.x, node.y, node.right.x, node.right.y);\n        drawTree(node.right);\n      }\n\n      // Draw node circle and value\n      drawNodeCircle(node.x, node.y, node.value);\n    }\n\n    function drawLine(x1, y1, x2, y2) {\n      const line = document.createElementNS('http://www.w3.org/2000/svg','line');\n      line.setAttribute('class', 'link');\n      // Adjust y coordinate to bottom of circle\n      line.setAttribute('x1', x1);\n      line.setAttribute('y1', y1 + NODE_RADIUS);\n      line.setAttribute('x2', x2);\n      line.setAttribute('y2', y2 - NODE_RADIUS);\n      svg.appendChild(line);\n    }\n\n    function drawNodeCircle(x, y, value) {\n      const group = document.createElementNS('http://www.w3.org/2000/svg','g');\n      group.setAttribute('class', 'node');\n      group.setAttribute('tabindex', '0');\n      group.setAttribute('aria-label', `Node with value ${value}`);\n\n      const circle = document.createElementNS('http://www.w3.org/2000/svg','circle');\n      circle.setAttribute('cx', x);\n      circle.setAttribute('cy', y);\n      circle.setAttribute('r', NODE_RADIUS);\n\n      const text = document.createElementNS('http://www.w3.org/2000/svg','text');\n      text.setAttribute('x', x);\n      text.setAttribute('y', y + 6); // Vertical align center approx\n      text.setAttribute('text-anchor', 'middle');\n      text.textContent = value;\n\n      group.appendChild(circle);\n      group.appendChild(text);\n\n      svg.appendChild(group);\n    }\n\n    function renderTree() {\n      clearSVG();\n      if (!tree.root) return;\n\n      // Layout the tree: center it horizontally within SVG width\n      const svgWidth = svg.clientWidth || 600;\n      const subtreeWidth = layoutTree(tree.root, 0, LEVEL_HEIGHT, 0);\n\n      // After layout, translate all node x positions to center the tree\n      const offsetX = (svgWidth - subtreeWidth) / 2;\n      function offsetNode(node) {\n        if (!node) return;\n        node.x += offsetX;\n        offsetNode(node.left);\n        offsetNode(node.right);\n      }\n      offsetNode(tree.root);\n\n      drawTree(tree.root);\n    }\n\n    // Traversal output display\n    function showTraversal(arr, traversalType) {\n      traversalOutput.textContent = `${traversalType} traversal: ${arr.join(' â†’ ')}`;\n    }\n\n    setRootBtn.addEventListener('click', () => {\n      const val = Number(rootValueInput.value);\n      if (isNaN(val)) {\n        alert('Please enter a valid number for the root value.');\n        return;\n      }\n      tree.setRoot(val);\n      traversalOutput.textContent = '';\n      renderTree();\n    });\n\n    addNodeForm.addEventListener('submit', e => {\n      e.preventDefault();\n      if (!tree.root) {\n        alert('Set the root node first.');\n        return;\n      }\n      const parentVal = Number(document.getElementById('parentValue').value);\n      const childPos = document.getElementById('childPosition').value;\n      const childVal = Number(document.getElementById('childValue').value);\n\n      if (isNaN(parentVal) || isNaN(childVal)) {\n        alert('Please enter valid numbers for parent and child values.');\n        return;\n      }\n\n      const success = tree.addNode(parentVal, childPos, childVal);\n      if (!success) {\n        alert('Failed to add node. Check if parent exists and child position is free.');\n        return;\n      }\n      traversalOutput.textContent = '';\n      addNodeForm.reset();\n      renderTree();\n    });\n\n    preorderBtn.addEventListener('click', () => {\n      if (!tree.root) {\n        alert('Set the root node first.');\n        return;\n      }\n      const result = tree.preorder();\n      showTraversal(result, 'Pre-order');\n    });\n\n    inorderBtn.addEventListener('click', () => {\n      if (!tree.root) {\n        alert('Set the root node first.');\n        return;\n      }\n      const result = tree.inorder();\n      showTraversal(result, 'In-order');\n    });\n\n    postorderBtn.addEventListener('click', () => {\n      if (!tree.root) {\n        alert('Set the root node first.');\n        return;\n      }\n      const result = tree.postorder();\n      showTraversal(result, 'Post-order');\n    });\n\n    clearOutputBtn.addEventListener('click', () => {\n      traversalOutput.textContent = '';\n    });\n\n    // Initial root\n    tree.setRoot(10);\n    rootValueInput.value = 10;\n    renderTree();\n\n    // Accessibility note\n    svg.setAttribute('role', 'img');\n    svg.setAttribute('aria-label', 'A binary tree diagram with nodes and connections');\n\n  })();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Binary Tree"
    }
  ],
  "topic": "Binary Tree",
  "hasFSM": false,
  "hasTest": true
}