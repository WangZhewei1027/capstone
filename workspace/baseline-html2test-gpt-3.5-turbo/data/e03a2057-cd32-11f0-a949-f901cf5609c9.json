{
  "id": "e03a2057-cd32-11f0-a949-f901cf5609c9",
  "timestamp": "2025-11-29T14:52:12.571Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Bubble Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Bubble Sort Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n  }\n  h1 {\n    text-align: center;\n  }\n  #arrayInput {\n    width: 100%;\n    padding: 8px;\n    font-size: 1rem;\n    box-sizing: border-box;\n  }\n  #sortButton {\n    margin-top: 10px;\n    font-size: 1rem;\n    padding: 10px 20px;\n    cursor: pointer;\n  }\n  #steps {\n    margin-top: 20px;\n    max-height: 300px;\n    overflow-y: auto;\n    background: #f9f9f9;\n    padding: 10px;\n    border-radius: 6px;\n    font-family: monospace;\n    white-space: pre-wrap;\n  }\n  .array-step {\n    margin-bottom: 5px;\n  }\n  .highlight {\n    font-weight: bold;\n  }\n</style>\n</head>\n<body>\n<h1>Bubble Sort Visualization</h1>\n<p>Enter numbers separated by commas:</p>\n<input type=\"text\" id=\"arrayInput\" placeholder=\"e.g. 5,3,8,4,2\" />\n<button id=\"sortButton\">Sort</button>\n\n<div id=\"steps\"></div>\n\n<script>\n  function bubbleSort(arr, callback) {\n    let n = arr.length;\n    let a = arr.slice(); // clone array to sort\n    let steps = [];\n    let swapped;\n    for (let i = 0; i < n - 1; i++) {\n      swapped = false;\n      for (let j = 0; j < n - i -1; j++) {\n        // Show comparison\n        callback(a, j, j+1, 'compare');\n        if (a[j] > a[j + 1]) {\n          // Swap\n          [a[j], a[j + 1]] = [a[j + 1], a[j]];\n          swapped = true;\n          // Show swap\n          callback(a, j, j+1, 'swap');\n        }\n      }\n      if (!swapped) break;\n      // Show array after each outer loop iteration\n      callback(a, null, null, 'pass');\n    }\n    callback(a, null, null, 'finished');\n  }\n\n  const input = document.getElementById('arrayInput');\n  const button = document.getElementById('sortButton');\n  const stepsDiv = document.getElementById('steps');\n\n  function renderArray(arr, idx1, idx2, action) {\n    let line = '';\n    if (action === 'compare') {\n      line = `Comparing indices ${idx1} & ${idx2}: `;\n    } else if (action === 'swap') {\n      line = `Swapped indices ${idx1} & ${idx2}: `;\n    } else if (action === 'pass') {\n      line = 'Array after pass: ';\n    } else if (action === 'finished') {\n      line = 'Sorted array: ';\n    }\n\n    line += arr.map((num, i) => {\n      if (i === idx1 || i === idx2) {\n        if (action === 'compare') return `<span class=\"highlight\">${num}</span>`;\n        if (action === 'swap') return `<span class=\"highlight\" style=\"color:green\">${num}</span>`;\n      }\n      return num;\n    }).join(', ');\n\n    const div = document.createElement('div');\n    div.className = 'array-step';\n    div.innerHTML = line;\n    stepsDiv.appendChild(div);\n    stepsDiv.scrollTop = stepsDiv.scrollHeight;\n  }\n\n  button.addEventListener('click', () => {\n    stepsDiv.innerHTML = '';\n    let rawInput = input.value.trim();\n    if (!rawInput) {\n      alert(\"Please enter some numbers separated by commas.\");\n      return;\n    }\n    let arr = rawInput.split(',').map(s => s.trim()).filter(s => s !== '').map(Number);\n    if (arr.some(isNaN)) {\n      alert(\"Please enter valid numbers separated by commas.\");\n      return;\n    }\n    renderArray(arr, null, null, 'pass');\n    // Run bubble sort with callbacks showing steps\n    bubbleSort(arr, (array, i, j, type) => {\n      setTimeout(() => { renderArray(array, i, j, type); }, 0);\n    });\n  });\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Bubble Sort"
    }
  ],
  "topic": "Bubble Sort",
  "hasFSM": false,
  "hasTest": true
}