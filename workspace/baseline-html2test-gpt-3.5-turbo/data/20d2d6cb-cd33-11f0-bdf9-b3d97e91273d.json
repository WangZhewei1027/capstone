{
  "id": "20d2d6cb-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:12.072Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Longest Common Subsequence",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Longest Common Subsequence (LCS) Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f5f7fa;\n    color: #222;\n  }\n  h1 {\n    text-align: center;\n    color: #34495e;\n  }\n  label {\n    font-weight: bold;\n    display: block;\n    margin-top: 1rem;\n    margin-bottom: 0.3rem;\n  }\n  input[type=\"text\"] {\n    width: 100%;\n    padding: 0.6rem;\n    border: 1px solid #bbb;\n    border-radius: 4px;\n    font-size: 1.1rem;\n    box-sizing: border-box;\n  }\n  button {\n    margin-top: 1rem;\n    background-color: #2980b9;\n    color: white;\n    border: none;\n    padding: 0.7rem 1.4rem;\n    font-size: 1.1rem;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n  button:hover {\n    background-color: #1c5d8a;\n  }\n  .result {\n    margin-top: 1.5rem;\n    background: white;\n    border-radius: 8px;\n    padding: 1rem 1.5rem;\n    box-shadow: 0 3px 8px rgba(0,0,0,0.1);\n  }\n  .matrix {\n    overflow-x: auto; \n    margin-top: 1rem;\n  }\n  table {\n    border-collapse: collapse;\n    width: auto;\n    margin: 0 auto;\n  }\n  th, td {\n    border: 1px solid #ddd;\n    padding: 6px 12px;\n    text-align: center;\n  }\n  th {\n    background-color: #2980b9;\n    color: white;\n  }\n  .highlight {\n    background-color: #82ca9d;\n    font-weight: 700;\n  }\n  .lcs-sequence {\n    font-size: 1.3rem;\n    color: #27ae60;\n    font-weight: 700;\n  }\n  footer {\n    margin-top: 3rem;\n    font-size: 0.9rem;\n    color: #999;\n    text-align: center;\n  }\n</style>\n</head>\n<body>\n  <h1>Longest Common Subsequence (LCS) Calculator</h1>\n\n  <label for=\"string1\">First String:</label>\n  <input id=\"string1\" type=\"text\" placeholder=\"Enter the first string\" value=\"AGGTAB\" />\n\n  <label for=\"string2\">Second String:</label>\n  <input id=\"string2\" type=\"text\" placeholder=\"Enter the second string\" value=\"GXTXAYB\" />\n\n  <button id=\"computeBtn\">Compute LCS</button>\n\n  <div id=\"output\" class=\"result\" aria-live=\"polite\"></div>\n\n<script>\n  function computeLCS(s1, s2) {\n    const m = s1.length, n = s2.length;\n    // Create a 2D array (m+1) x (n+1) filled with 0\n    const dp = Array.from({length: m+1}, () => Array(n+1).fill(0));\n\n    // Fill dp table bottom-up\n    for (let i = 1; i <= m; i++) {\n      for (let j = 1; j <= n; j++) {\n        if (s1[i-1] === s2[j-1]) {\n          dp[i][j] = dp[i-1][j-1] + 1;\n        } else {\n          dp[i][j] = Math.max(dp[i-1][j], dp[i][j-1]);\n        }\n      }\n    }\n\n    // Backtrack to find one LCS sequence\n    let lcs = [];\n    let i = m, j = n;\n    while(i > 0 && j > 0) {\n      if (s1[i-1] === s2[j-1]) {\n        lcs.push(s1[i-1]);\n        i--; j--;\n      } else if (dp[i-1][j] > dp[i][j-1]) {\n        i--;\n      } else {\n        j--;\n      }\n    }\n    lcs.reverse();\n\n    return { length: dp[m][n], sequence: lcs.join(''), dp };\n  }\n\n  function createMatrixTable(dp, s1, s2, highlightCoords = []) {\n    const m = s1.length;\n    const n = s2.length;\n    // We'll build a table showing dp values including headers for strings\n    // First row has empty corner + s2 chars\n    // First column has s1 chars\n    \n    const table = document.createElement('table');\n    const thead = document.createElement('thead');\n    const headRow = document.createElement('tr');\n\n    // Top-left cell empty\n    let th = document.createElement('th');\n    th.textContent = '';\n    headRow.appendChild(th);\n\n    // s2 characters header\n    for(let j=0; j<=n; j++) {\n      let th = document.createElement('th');\n      if(j === 0){\n        th.textContent = '0';\n      } else {\n        th.textContent = s2[j-1];\n      }\n      headRow.appendChild(th);\n    }\n    thead.appendChild(headRow);\n    table.appendChild(thead);\n\n    const tbody = document.createElement('tbody');\n    for(let i=0; i<=m; i++) {\n      const row = document.createElement('tr');\n      // s1 char header on first column\n      let th = document.createElement('th');\n      if(i === 0) {\n        th.textContent = '0';\n      } else {\n        th.textContent = s1[i-1];\n      }\n      row.appendChild(th);\n\n      for(let j=0; j<=n; j++) {\n        let td = document.createElement('td');\n        td.textContent = dp[i][j];\n\n        // Highlight cells on the LCS path if any\n        if (highlightCoords.some(([x,y]) => x === i && y === j)) {\n          td.classList.add('highlight');\n        }\n\n        row.appendChild(td);\n      }\n      tbody.appendChild(row);\n    }\n    table.appendChild(tbody);\n    return table;\n  }\n\n  function findLCSCellsOnPath(dp, s1, s2) {\n    // For visual tracing highlight cells on the path chosen for LCS in dp table\n    let i = s1.length, j = s2.length;\n    const path = [];\n    while(i > 0 && j > 0) {\n      path.push([i, j]);\n      if (s1[i-1] === s2[j-1]) {\n        i--; j--;\n      } else if (dp[i-1][j] > dp[i][j-1]) {\n        i--;\n      } else {\n        j--;\n      }\n    }\n    path.push([0,0]);\n    return path;\n  }\n\n  document.getElementById('computeBtn').addEventListener('click', () => {\n    const s1 = document.getElementById('string1').value.trim();\n    const s2 = document.getElementById('string2').value.trim();\n    const output = document.getElementById('output');\n    output.innerHTML = '';\n\n    if(!s1 || !s2) {\n      output.textContent = 'Please enter both strings.';\n      return;\n    }\n\n    // Compute LCS\n    const { length, sequence, dp } = computeLCS(s1, s2);\n\n    // Find path for highlighting\n    const highlightCells = findLCSCellsOnPath(dp, s1, s2);\n\n    // Create result display\n    const p1 = document.createElement('p');\n    p1.innerHTML = `<strong>Length of LCS:</strong> ${length}`;\n    output.appendChild(p1);\n\n    const p2 = document.createElement('p');\n    p2.innerHTML = `<strong>Longest Common Subsequence:</strong> <span class=\"lcs-sequence\">${sequence || '(empty string)'}</span>`;\n    output.appendChild(p2);\n\n    const matrixDiv = document.createElement('div');\n    matrixDiv.className = 'matrix';\n    const matrixTable = createMatrixTable(dp, s1, s2, highlightCells);\n    matrixDiv.appendChild(matrixTable);\n\n    const matrixCaption = document.createElement('p');\n    matrixCaption.innerHTML = `<em>DP Matrix (rows: first string, columns: second string). Highlighted cells show the path of the LCS.</em>`;\n    output.appendChild(matrixCaption);\n\n    output.appendChild(matrixDiv);\n  });\n\n  // Compute default example on load\n  window.onload = () => {\n    document.getElementById('computeBtn').click();\n  };\n</script>\n<footer>\n  &copy; 2024 - Longest Common Subsequence Demo\n</footer>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Longest Common Subsequence"
    }
  ],
  "topic": "Longest Common Subsequence",
  "hasFSM": false,
  "hasTest": true
}