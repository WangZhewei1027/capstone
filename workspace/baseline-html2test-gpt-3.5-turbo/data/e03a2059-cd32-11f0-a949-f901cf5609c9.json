{
  "id": "e03a2059-cd32-11f0-a949-f901cf5609c9",
  "timestamp": "2025-11-29T14:52:17.067Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Insertion Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Insertion Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #fafafa;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n  }\n  #arrayContainer {\n    display: flex;\n    justify-content: center;\n    margin: 20px 0;\n    height: 250px;\n    align-items: flex-end;\n  }\n  .bar {\n    margin: 0 2px;\n    width: 20px;\n    background-color: steelblue;\n    text-align: center;\n    color: white;\n    font-size: 12px;\n    border-radius: 3px 3px 0 0;\n    user-select: none;\n    position: relative;\n  }\n  .bar.inserting {\n    background-color: #e67e22;\n  }\n  .bar.compared {\n    background-color: #c0392b;\n  }\n  .bar.sorted {\n    background-color: #27ae60;\n  }\n  button {\n    padding: 10px 20px;\n    font-size: 16px;\n    cursor: pointer;\n  }\n  #speedControl {\n    margin-left: 15px;\n  }\n  label {\n    font-size: 14px;\n  }\n  #controls {\n    text-align: center;\n  }\n  #description {\n    max-width: 600px;\n    margin: 0 auto 30px auto;\n    font-size: 16px;\n    line-height: 1.4em;\n  }\n</style>\n</head>\n<body>\n<h1>Insertion Sort Visualization</h1>\n<div id=\"description\">\n  <p>\n    Insertion Sort is a simple sorting algorithm that builds the final sorted array one item at a time by comparing and inserting elements into their correct position.\n  </p>\n  <p>\n    Observe the bars below representing array elements. Click \"Start Sort\" to see how Insertion Sort works step-by-step.\n  </p>\n</div>\n<div id=\"arrayContainer\"></div>\n<div id=\"controls\">\n  <button id=\"startBtn\">Start Sort</button>\n  <label for=\"speedControl\">Animation Speed:</label>\n  <select id=\"speedControl\">\n    <option value=\"500\">Slow</option>\n    <option value=\"200\" selected>Normal</option>\n    <option value=\"50\">Fast</option>\n  </select>\n</div>\n\n<script>\n  const arrayContainer = document.getElementById('arrayContainer');\n  const startBtn = document.getElementById('startBtn');\n  const speedControl = document.getElementById('speedControl');\n\n  const ARRAY_SIZE = 20;\n  let array = [];\n  let animationSpeed = parseInt(speedControl.value);\n\n  function generateRandomArray(size, min = 10, max = 200) {\n    const arr = [];\n    for(let i = 0; i < size; i++) {\n      arr.push(Math.floor(Math.random() * (max - min + 1)) + min);\n    }\n    return arr;\n  }\n\n  function createBars(arr) {\n    arrayContainer.innerHTML = '';\n    arr.forEach(value => {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      bar.style.height = value + 'px';\n      bar.textContent = value;\n      arrayContainer.appendChild(bar);\n    });\n  }\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async function insertionSort(arr) {\n    const bars = arrayContainer.children;\n    for(let i = 1; i < arr.length; i++) {\n      let key = arr[i];\n      let j = i - 1;\n\n      // Highlight the \"inserting\" bar\n      bars[i].classList.add('inserting');\n      await sleep(animationSpeed);\n\n      while(j >= 0 && arr[j] > key) {\n        // Highlight compared bars\n        bars[j].classList.add('compared');\n        bars[j + 1].classList.add('compared');\n        await sleep(animationSpeed);\n\n        arr[j + 1] = arr[j];\n\n        // Update bar height and text\n        bars[j + 1].style.height = bars[j].style.height;\n        bars[j + 1].textContent = bars[j].textContent;\n\n        // Remove comparison highlight from bars[j+1]\n        bars[j + 1].classList.remove('compared');\n        bars[j].classList.remove('compared');\n\n        j--;\n      }\n      arr[j + 1] = key;\n\n      // Place the key bar to the correct position\n      bars[j + 1].style.height = key + 'px';\n      bars[j + 1].textContent = key;\n\n      // Remove insertion highlight\n      bars[i].classList.remove('inserting');\n      \n      // Mark all bars from 0 to i as sorted\n      for(let k = 0; k <= i; k++) {\n        bars[k].classList.add('sorted');\n      }\n      await sleep(animationSpeed);\n    }\n  }\n\n  function reset() {\n    array = generateRandomArray(ARRAY_SIZE);\n    createBars(array);\n    // Remove all classes\n    const bars = arrayContainer.children;\n    for(let bar of bars) {\n      bar.classList.remove('sorted', 'compared', 'inserting');\n    }\n  }\n\n  speedControl.addEventListener('change', e => {\n    animationSpeed = parseInt(e.target.value);\n  });\n\n  startBtn.addEventListener('click', async () => {\n    startBtn.disabled = true;\n    speedControl.disabled = true;\n    await insertionSort(array);\n    startBtn.disabled = false;\n    speedControl.disabled = false;\n  });\n\n  // Initialize first array\n  reset();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Insertion Sort"
    }
  ],
  "topic": "Insertion Sort",
  "hasFSM": false,
  "hasTest": true
}