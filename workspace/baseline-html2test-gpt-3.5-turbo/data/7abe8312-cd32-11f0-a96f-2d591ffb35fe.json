{
  "id": "7abe8312-cd32-11f0-a96f-2d591ffb35fe",
  "timestamp": "2025-11-29T14:49:52.749Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Union-Find (Disjoint Set)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Union-Find (Disjoint Set) Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f0f4f8;\n  }\n  h1 {\n    text-align: center;\n    margin-bottom: 10px;\n  }\n  #union-find-container {\n    max-width: 600px;\n    margin: 0 auto 40px auto;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    box-shadow: 0 0 12px rgba(0,0,0,0.1);\n  }\n  .sets-container {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 15px;\n    justify-content: center;\n    margin-bottom: 20px;\n  }\n  .set-circle {\n    background: #1976d2;\n    color: white;\n    padding: 25px 10px 15px 10px;\n    border-radius: 50%;\n    width: 70px;\n    height: 70px;\n    line-height: 26px;\n    font-weight: bold;\n    font-size: 20px;\n    text-align: center;\n    user-select: none;\n    position: relative;\n    cursor: default;\n    box-shadow: 0 4px 8px rgb(25 118 210 / 0.3);\n    transition: background 0.3s ease;\n  }\n  .set-circle.leader {\n    background: #43a047;\n    box-shadow: 0 0 10px 4px #43a047aa;\n  }\n  .set-circle.dimmed {\n    background: #999999;\n    box-shadow: none;\n  }\n  #controls {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 15px;\n    margin-bottom: 10px;\n  }\n  label, input, button {\n    font-size: 16px;\n  }\n  input[type=\"number\"] {\n    padding: 6px 8px;\n    width: 70px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n  }\n  button {\n    background: #1976d2;\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 5px;\n    cursor: pointer;\n    user-select: none;\n    transition: background 0.3s ease;\n  }\n  button:hover:not(:disabled) {\n    background: #115293;\n  }\n  button:disabled {\n    background: #bbb;\n    cursor: default;\n  }\n  #log {\n    max-height: 150px;\n    overflow-y: auto;\n    background: #e3f2fd;\n    padding: 15px;\n    border-radius: 8px;\n    font-family: monospace;\n    font-size: 14px;\n    white-space: pre-wrap;\n    user-select: text;\n  }\n  #reset-btn {\n    background: #e53935;\n  }\n  #reset-btn:hover {\n    background: #b71c1c;\n  }\n  .footer {\n    text-align: center;\n    color: #666;\n    margin-top: 40px;\n    font-size: 14px;\n  }\n</style>\n</head>\n<body>\n<h1>Union-Find (Disjoint Set) Visualizer</h1>\n<div id=\"union-find-container\" role=\"main\" aria-label=\"Union Find Disjoint Set visualizer\">\n  <div id=\"sets\" class=\"sets-container\" aria-live=\"polite\" aria-atomic=\"true\" aria-relevant=\"additions removals\">\n    <!-- Sets rendered here -->\n  </div>\n\n  <div id=\"controls\" aria-label=\"Union Find operations\">\n    <label for=\"elementA\">Element A:</label>\n    <input type=\"number\" id=\"elementA\" min=\"0\" max=\"15\" value=\"0\" />\n    <label for=\"elementB\">Element B:</label>\n    <input type=\"number\" id=\"elementB\" min=\"0\" max=\"15\" value=\"1\" />\n    <button id=\"union-btn\">Union</button>\n    <button id=\"find-btn\">Find</button>\n    <button id=\"reset-btn\">Reset</button>\n  </div>\n\n  <div id=\"log\" aria-live=\"polite\" aria-atomic=\"false\" aria-relevant=\"additions\">Welcome! Select two elements and perform Union or Find operations.</div>\n</div>\n\n<script>\n  // Union-Find (Disjoint Set) Implementation with visualization\n  class UnionFind {\n    constructor(size) {\n      this.parent = Array(size);\n      this.rank = Array(size);\n      for (let i = 0; i < size; i++) {\n        this.parent[i] = i;\n        this.rank[i] = 0;\n      }\n    }\n\n    find(x) {\n      if (this.parent[x] !== x) {\n        this.parent[x] = this.find(this.parent[x]); // Path compression\n      }\n      return this.parent[x];\n    }\n\n    union(x, y) {\n      let rootX = this.find(x);\n      let rootY = this.find(y);\n\n      if (rootX === rootY) return false; // Already connected\n\n      // Union by rank\n      if (this.rank[rootX] < this.rank[rootY]) {\n        this.parent[rootX] = rootY;\n      } else if (this.rank[rootX] > this.rank[rootY]) {\n        this.parent[rootY] = rootX;\n      } else {\n        this.parent[rootY] = rootX;\n        this.rank[rootX]++;\n      }\n      return true;\n    }\n\n    connected(x, y) {\n      return this.find(x) === this.find(y);\n    }\n  }\n\n  (function(){\n    const SIZE = 16; // Number of elements in the set (0 to 15)\n    const uf = new UnionFind(SIZE);\n\n    const setsContainer = document.getElementById('sets');\n    const logEl = document.getElementById('log');\n    const elementAInput = document.getElementById('elementA');\n    const elementBInput = document.getElementById('elementB');\n    const unionButton = document.getElementById('union-btn');\n    const findButton = document.getElementById('find-btn');\n    const resetButton = document.getElementById('reset-btn');\n\n    // Render the current sets with leaders highlighted\n    function renderSets() {\n      setsContainer.innerHTML = '';\n      // Group elements by their root leaders\n      const groups = {};\n      for (let i = 0; i < SIZE; i++) {\n        const leader = uf.find(i);\n        if (!groups[leader]) groups[leader] = [];\n        groups[leader].push(i);\n      }\n\n      // For visual grouping, sort groups by leader id\n      let leadersSorted = Object.keys(groups).map(Number).sort((a,b) => a-b);\n\n      leadersSorted.forEach(leader => {\n        const groupEl = document.createElement('div');\n        groupEl.className = 'sets-group';\n        groups[leader].forEach(elem => {\n          const circle = document.createElement('div');\n          circle.className = 'set-circle';\n          circle.textContent = elem;\n          if(elem === leader) {\n            circle.classList.add('leader');\n            circle.setAttribute('aria-label', `Element ${elem}, group leader`);\n          } else {\n            circle.setAttribute('aria-label', `Element ${elem}`);\n          }\n          groupEl.appendChild(circle);\n        });\n        setsContainer.appendChild(groupEl);\n      });\n    }\n\n    // Log messages to the log console\n    function log(message) {\n      const now = new Date().toLocaleTimeString();\n      logEl.textContent += '\\n[' + now + '] ' + message;\n      logEl.scrollTop = logEl.scrollHeight;\n    }\n\n    // Validate inputs for elements A and B\n    function validateInputs() {\n      const a = Number(elementAInput.value);\n      const b = Number(elementBInput.value);\n      const validRange = (x) => Number.isInteger(x) && x >= 0 && x < SIZE;\n      return validRange(a) && validRange(b);\n    }\n\n    // On union button click\n    unionButton.addEventListener('click', () => {\n      if (!validateInputs()) {\n        alert('Please enter valid elements between 0 and ' + (SIZE-1));\n        return;\n      }\n      const a = Number(elementAInput.value);\n      const b = Number(elementBInput.value);\n\n      if(a === b) {\n        alert('Please select two different elements to union.');\n        return;\n      }\n\n      const merged = uf.union(a,b);\n      if (merged) {\n        log(`Union done: elements ${a} and ${b} merged.`);\n      } else {\n        log(`Elements ${a} and ${b} are already in the same set.`);\n      }\n      renderSets();\n    });\n\n    // On find button click\n    findButton.addEventListener('click', () => {\n      if (!validateInputs()) {\n        alert('Please enter valid elements between 0 and ' + (SIZE-1));\n        return;\n      }\n      const a = Number(elementAInput.value);\n      const b = Number(elementBInput.value);\n\n      if(uf.connected(a,b)) {\n        const leader = uf.find(a);\n        log(`Find: elements ${a} and ${b} are connected. Leader: ${leader}`);\n      } else {\n        log(`Find: elements ${a} and ${b} are NOT connected.`);\n      }\n    });\n\n    // Reset the structure\n    resetButton.addEventListener('click', () => {\n      for(let i=0; i<SIZE; i++) {\n        uf.parent[i] = i;\n        uf.rank[i] = 0;\n      }\n      log('Union-Find structure reset.');\n      renderSets();\n    });\n\n    // Initialize rendering\n    renderSets();\n  })();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Union-Find (Disjoint Set)"
    }
  ],
  "topic": "Union-Find (Disjoint Set)",
  "hasFSM": false,
  "hasTest": true
}