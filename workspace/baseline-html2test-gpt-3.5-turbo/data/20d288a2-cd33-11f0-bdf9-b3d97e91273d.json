{
  "id": "20d288a2-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:22.173Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Heap (Min/Max)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Min Heap and Max Heap Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n  }\n  h1, h2 {\n    color: #333;\n  }\n  .heap-container {\n    margin-top: 20px;\n    display: flex;\n    gap: 40px;\n  }\n  .heap-box {\n    border: 2px solid #007acc;\n    padding: 15px;\n    border-radius: 8px;\n    width: 45%;\n  }\n  label {\n    display: block;\n    margin-bottom: 6px;\n    font-weight: bold;\n  }\n  input[type=\"number\"] {\n    width: 100%;\n    padding: 6px;\n    font-size: 16px;\n    margin-bottom: 10px;\n    box-sizing: border-box;\n  }\n  button {\n    background-color: #007acc;\n    color: white;\n    border: none;\n    padding: 10px 16px;\n    font-size: 16px;\n    cursor: pointer;\n    border-radius: 4px;\n  }\n  button:hover {\n    background-color: #005fa3;\n  }\n  .output {\n    margin-top: 10px;\n    background-color: #f4f9ff;\n    padding: 10px;\n    border-radius: 4px;\n    font-family: monospace;\n    min-height: 38px;\n    white-space: pre-wrap;\n  }\n  .heap-array {\n    font-weight: bold;\n    margin-top: 8px;\n  }\n  .note {\n    margin-top: 10px;\n    font-size: 0.9em;\n    color: #555;\n    font-style: italic;\n  }\n</style>\n</head>\n<body>\n<h1>Heap (Min Heap / Max Heap) Demonstration</h1>\n<p>This demo shows how Min Heaps and Max Heaps work. You can insert numbers and extract the root (minimum or maximum) from each heap.</p>\n\n<div class=\"heap-container\">\n  <div class=\"heap-box\" id=\"minHeapBox\">\n    <h2>Min Heap</h2>\n    <label for=\"minValueInput\">Insert value:</label>\n    <input type=\"number\" id=\"minValueInput\" />\n    <button id=\"minInsertBtn\">Insert</button>\n    <button id=\"minExtractBtn\">Extract Min</button>\n    <div class=\"output\" id=\"minOutput\">Heap is empty</div>\n    <div class=\"heap-array\" id=\"minHeapArray\"></div>\n    <div class=\"note\">Root is the smallest element</div>\n  </div>\n\n  <div class=\"heap-box\" id=\"maxHeapBox\">\n    <h2>Max Heap</h2>\n    <label for=\"maxValueInput\">Insert value:</label>\n    <input type=\"number\" id=\"maxValueInput\" />\n    <button id=\"maxInsertBtn\">Insert</button>\n    <button id=\"maxExtractBtn\">Extract Max</button>\n    <div class=\"output\" id=\"maxOutput\">Heap is empty</div>\n    <div class=\"heap-array\" id=\"maxHeapArray\"></div>\n    <div class=\"note\">Root is the largest element</div>\n  </div>\n</div>\n\n<script>\n  // Heap class that can function as Min or Max Heap depending on comparator\n  class Heap {\n    constructor(comparator) {\n      this.data = [];\n      this.compare = comparator;\n    }\n\n    // Return parent index\n    parent(i) {\n      return Math.floor((i - 1) / 2);\n    }\n    // Return left child index\n    left(i) {\n      return 2 * i + 1;\n    }\n    // Return right child index\n    right(i) {\n      return 2 * i + 2;\n    }\n\n    // Swap elements at indices i and j\n    swap(i, j) {\n      [this.data[i], this.data[j]] = [this.data[j], this.data[i]];\n    }\n\n    // Insert new value\n    insert(value) {\n      this.data.push(value);\n      this.heapifyUp(this.data.length - 1);\n    }\n\n    // Heapify up (used after insert)\n    heapifyUp(index) {\n      let current = index;\n      while (\n        current > 0 &&\n        this.compare(this.data[current], this.data[this.parent(current)])\n      ) {\n        this.swap(current, this.parent(current));\n        current = this.parent(current);\n      }\n    }\n\n    // Heapify down (used after extraction)\n    heapifyDown(index) {\n      let current = index;\n      const size = this.data.length;\n\n      while (true) {\n        const leftIdx = this.left(current);\n        const rightIdx = this.right(current);\n        let next = current;\n\n        if (\n          leftIdx < size &&\n          this.compare(this.data[leftIdx], this.data[next])\n        ) {\n          next = leftIdx;\n        }\n        if (\n          rightIdx < size &&\n          this.compare(this.data[rightIdx], this.data[next])\n        ) {\n          next = rightIdx;\n        }\n        if (next !== current) {\n          this.swap(current, next);\n          current = next;\n        } else {\n          break;\n        }\n      }\n    }\n\n    // Extract root (min or max)\n    extractRoot() {\n      if (this.data.length === 0) return null;\n      if (this.data.length === 1) return this.data.pop();\n      const root = this.data[0];\n      this.data[0] = this.data.pop();\n      this.heapifyDown(0);\n      return root;\n    }\n\n    // Peek root value\n    peek() {\n      if (this.data.length === 0) return null;\n      return this.data[0];\n    }\n\n    // Get heap data as string\n    toString() {\n      return this.data.join(\", \");\n    }\n  }\n\n  // Min Heap comparator: returns true if a < b\n  function minComparator(a, b) {\n    return a < b;\n  }\n  // Max Heap comparator: returns true if a > b\n  function maxComparator(a, b) {\n    return a > b;\n  }\n\n  // Initialize Min and Max heaps\n  const minHeap = new Heap(minComparator);\n  const maxHeap = new Heap(maxComparator);\n\n  // DOM Elements for Min Heap\n  const minValueInput = document.getElementById(\"minValueInput\");\n  const minInsertBtn = document.getElementById(\"minInsertBtn\");\n  const minExtractBtn = document.getElementById(\"minExtractBtn\");\n  const minOutput = document.getElementById(\"minOutput\");\n  const minHeapArray = document.getElementById(\"minHeapArray\");\n\n  // DOM Elements for Max Heap\n  const maxValueInput = document.getElementById(\"maxValueInput\");\n  const maxInsertBtn = document.getElementById(\"maxInsertBtn\");\n  const maxExtractBtn = document.getElementById(\"maxExtractBtn\");\n  const maxOutput = document.getElementById(\"maxOutput\");\n  const maxHeapArray = document.getElementById(\"maxHeapArray\");\n\n  function updateMinHeapDisplay() {\n    if (minHeap.data.length === 0) {\n      minOutput.textContent = \"Heap is empty\";\n      minHeapArray.textContent = \"\";\n    } else {\n      minOutput.textContent = \"Min (root): \" + minHeap.peek();\n      minHeapArray.textContent = \"Heap Array: [\" + minHeap.toString() + \"]\";\n    }\n  }\n\n  function updateMaxHeapDisplay() {\n    if (maxHeap.data.length === 0) {\n      maxOutput.textContent = \"Heap is empty\";\n      maxHeapArray.textContent = \"\";\n    } else {\n      maxOutput.textContent = \"Max (root): \" + maxHeap.peek();\n      maxHeapArray.textContent = \"Heap Array: [\" + maxHeap.toString() + \"]\";\n    }\n  }\n\n  minInsertBtn.addEventListener(\"click\", () => {\n    const val = Number(minValueInput.value);\n    if (isNaN(val)) {\n      alert(\"Please enter a valid number to insert.\");\n      return;\n    }\n    minHeap.insert(val);\n    minValueInput.value = \"\";\n    updateMinHeapDisplay();\n  });\n\n  minExtractBtn.addEventListener(\"click\", () => {\n    const extracted = minHeap.extractRoot();\n    if (extracted === null) {\n      alert(\"Heap is empty, nothing to extract.\");\n    } else {\n      minOutput.textContent = \"Extracted Min: \" + extracted;\n      updateMinHeapDisplay();\n    }\n  });\n\n  maxInsertBtn.addEventListener(\"click\", () => {\n    const val = Number(maxValueInput.value);\n    if (isNaN(val)) {\n      alert(\"Please enter a valid number to insert.\");\n      return;\n    }\n    maxHeap.insert(val);\n    maxValueInput.value = \"\";\n    updateMaxHeapDisplay();\n  });\n\n  maxExtractBtn.addEventListener(\"click\", () => {\n    const extracted = maxHeap.extractRoot();\n    if (extracted === null) {\n      alert(\"Heap is empty, nothing to extract.\");\n    } else {\n      maxOutput.textContent = \"Extracted Max: \" + extracted;\n      updateMaxHeapDisplay();\n    }\n  });\n\n  // Initial display update\n  updateMinHeapDisplay();\n  updateMaxHeapDisplay();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Heap (Min/Max)"
    }
  ],
  "topic": "Heap (Min/Max)",
  "hasFSM": false,
  "hasTest": true
}