{
  "id": "20d2afb5-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:09.767Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Merge Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Merge Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    padding: 1rem;\n    background: #f0f0f0;\n  }\n  h1 {\n    text-align: center;\n    margin-bottom: 0.5rem;\n  }\n  #controls {\n    text-align: center;\n    margin-bottom: 1rem;\n  }\n  input[type=number] {\n    width: 5rem;\n    font-size: 1rem;\n    padding: 0.25rem;\n    margin-right: 0.5rem;\n  }\n  button {\n    font-size: 1rem;\n    padding: 0.3rem 0.7rem;\n    margin: 0 0.3rem;\n    cursor: pointer;\n  }\n  #array {\n    display: flex;\n    justify-content: center;\n    align-items: end;\n    gap: 2px;\n    height: 300px;\n    margin-top: 1rem;\n  }\n  .bar {\n    background-color: #3498db;\n    width: 20px;\n    border-radius: 3px 3px 0 0;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    color: white;\n    font-size: 0.7rem;\n    user-select: none;\n  }\n  .bar.active {\n    background-color: #e74c3c;\n  }\n  .bar.merging {\n    background-color: #2ecc71;\n  }\n  #log {\n    max-height: 150px;\n    overflow-y: auto;\n    background-color: #fff;\n    border: 1px solid #ccc;\n    margin-top: 1rem;\n    padding: 0.5rem;\n    font-family: monospace;\n    font-size: 0.9rem;\n  }\n</style>\n</head>\n<body>\n<h1>Merge Sort Visualization</h1>\n<div id=\"controls\">\n  <label for=\"arraySize\">Array Size:</label>\n  <input type=\"number\" id=\"arraySize\" min=\"5\" max=\"50\" value=\"20\" />\n  <button id=\"generateBtn\">Generate Array</button>\n  <button id=\"sortBtn\">Start Merge Sort</button>\n  <button id=\"resetBtn\">Reset</button>\n</div>\n<div id=\"array\"></div>\n<div id=\"log\"></div>\n\n<script>\n  const arraySizeInput = document.getElementById('arraySize');\n  const generateBtn = document.getElementById('generateBtn');\n  const sortBtn = document.getElementById('sortBtn');\n  const resetBtn = document.getElementById('resetBtn');\n  const arrayContainer = document.getElementById('array');\n  const logContainer = document.getElementById('log');\n\n  let array = [];\n  let bars = [];\n  let sorting = false;\n\n  function log(message) {\n    const time = new Date().toLocaleTimeString();\n    const entry = document.createElement('div');\n    entry.textContent = `[${time}] ${message}`;\n    logContainer.appendChild(entry);\n    logContainer.scrollTop = logContainer.scrollHeight;\n  }\n\n  function generateRandomArray(size) {\n    array = [];\n    for (let i = 0; i < size; i++) {\n      // Values between 5 and 100\n      array.push(Math.floor(Math.random() * 96) + 5);\n    }\n  }\n\n  function renderArray(highlightIndices = [], mergingIndices = []) {\n    arrayContainer.innerHTML = '';\n    bars = [];\n    const maxVal = Math.max(...array);\n    for (let i = 0; i < array.length; i++) {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      bar.style.height = `${(array[i] / maxVal) * 100}%`;\n      bar.textContent = array[i];\n      if (highlightIndices.includes(i)) bar.classList.add('active');\n      if (mergingIndices.includes(i)) bar.classList.add('merging');\n      arrayContainer.appendChild(bar);\n      bars.push(bar);\n    }\n  }\n\n  // Sleep for ms milliseconds\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async function merge(array, start, mid, end) {\n    log(`Merging subarrays [${start}..${mid}] and [${mid+1}..${end}]`);\n    let left = array.slice(start, mid + 1);\n    let right = array.slice(mid + 1, end + 1);\n    let i = 0, j = 0, k = start;\n\n    while(i < left.length && j < right.length) {\n      renderArray(\n        [k], // highlight the place we will write next\n        [start + i, mid + 1 + j] // highlight the merging items\n      );\n      await sleep(300);\n      if(left[i] <= right[j]) {\n        array[k++] = left[i++];\n      } else {\n        array[k++] = right[j++];\n      }\n    }\n    // Copy rest if any\n    while(i < left.length) {\n      renderArray([k], [start + i]);\n      await sleep(300);\n      array[k++] = left[i++];\n    }\n    while(j < right.length) {\n      renderArray([k], [mid + 1 + j]);\n      await sleep(300);\n      array[k++] = right[j++];\n    }\n    renderArray();\n    await sleep(300);\n  }\n\n  async function mergeSort(array, start, end) {\n    if (start >= end) return;\n    let mid = Math.floor((start + end) / 2);\n    log(`Sorting left half [${start}..${mid}]`);\n    await mergeSort(array, start, mid);\n    log(`Sorting right half [${mid+1}..${end}]`);\n    await mergeSort(array, mid + 1, end);\n    await merge(array, start, mid, end);\n  }\n\n  function reset() {\n    sorting = false;\n    generateBtn.disabled = false;\n    sortBtn.disabled = false;\n    arraySizeInput.disabled = false;\n    logContainer.innerHTML = '';\n    generateRandomArray(parseInt(arraySizeInput.value));\n    renderArray();\n  }\n\n  generateBtn.addEventListener('click', () => {\n    if (sorting) return;\n    reset();\n  });\n\n  sortBtn.addEventListener('click', async () => {\n    if (sorting) return;\n    sorting = true;\n    generateBtn.disabled = true;\n    sortBtn.disabled = true;\n    arraySizeInput.disabled = true;\n    log('Starting Merge Sort');\n    await mergeSort(array, 0, array.length - 1);\n    renderArray();\n    log('Merge Sort Completed');\n    sorting = false;\n    generateBtn.disabled = false;\n    sortBtn.disabled = false;\n    arraySizeInput.disabled = false;\n  });\n\n  resetBtn.addEventListener('click', () => {\n    if (sorting) return;\n    reset();\n  });\n\n  // Initialize on load\n  reset();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Merge Sort"
    }
  ],
  "topic": "Merge Sort",
  "hasFSM": false,
  "hasTest": true
}