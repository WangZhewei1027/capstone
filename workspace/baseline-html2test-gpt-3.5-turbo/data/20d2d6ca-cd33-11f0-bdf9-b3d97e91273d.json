{
  "id": "20d2d6ca-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:28.435Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Knapsack Problem",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Knapsack Problem Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 1em;\n    background: #f0f4f8;\n    color: #222;\n  }\n  h1 {\n    text-align: center;\n    margin-bottom: 0.2em;\n  }\n  #container {\n    max-width: 900px;\n    margin: 0 auto;\n    background: white;\n    padding: 1em 2em 2em 2em;\n    border-radius: 8px;\n    box-shadow: 0 4px 10px rgb(0 0 0 / 0.1);\n  }\n  label {\n    display: inline-block;\n    margin: 0.3em 0 0.8em 0;\n  }\n  input[type=\"number\"] {\n    width: 80px;\n    padding: 0.3em;\n    margin-left: 0.5em;\n  }\n  input[type=\"text\"] {\n    width: 150px;\n    padding: 0.3em;\n    margin-left: 0.5em;\n  }\n  button {\n    margin-top: 1em;\n    padding: 0.5em 1.2em;\n    font-size: 1em;\n    cursor: pointer;\n    border:none;\n    border-radius: 4px;\n    background-color: #0077cc;\n    color: white;\n    transition: background-color 0.3s ease;\n  }\n  button:hover {\n    background-color: #005fa3;\n  }\n  #itemsTable {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 1em;\n  }\n  #itemsTable th,\n  #itemsTable td {\n    border: 1px solid #ccc;\n    padding: 0.5em 0.7em;\n    text-align: center;\n  }\n  #itemsTable th {\n    background-color: #0077cc;\n    color: white;\n  }\n  #result {\n    margin-top: 1.5em;\n    font-size: 1.1em;\n    background: #e3f2fd;\n    padding: 1em;\n    border-radius: 6px;\n    min-height: 4em;\n  }\n  #error {\n    color: #b00020;\n    margin-top: 0.5em;\n    font-weight: bold;\n  }\n  #addItemSection {\n    margin-top: 1em;\n    border-top: 1px solid #ddd;\n    padding-top: 1em;\n  }\n  @media (max-width:600px){\n    input[type=\"number\"], input[type=\"text\"] {\n      width: 100%;\n      margin-left: 0;\n      margin-bottom: 0.7em;\n    }\n    label {\n      display: block;\n    }\n    button {\n      width: 100%;\n    }\n  }\n</style>\n</head>\n<body>\n<div id=\"container\">\n  <h1>0/1 Knapsack Problem Solver</h1>\n  <p>Enter the knapsack capacity and add items (weight and value). Then click \"Solve\" to find the optimal selection maximizing value without exceeding capacity.</p>\n\n  <label>\n    Knapsack Capacity:\n    <input type=\"number\" id=\"capacityInput\" min=\"1\" value=\"50\" />\n  </label>\n\n  <table id=\"itemsTable\">\n    <thead>\n      <tr>\n        <th>#</th>\n        <th>Item Name</th>\n        <th>Weight</th>\n        <th>Value</th>\n        <th>Remove</th>\n      </tr>\n    </thead>\n    <tbody id=\"itemsBody\">\n      <!-- Items go here -->\n    </tbody>\n  </table>\n\n  <div id=\"addItemSection\">\n    <h3>Add Item</h3>\n    <label>\n      Name:\n      <input type=\"text\" id=\"itemNameInput\" placeholder=\"Item Name\" />\n    </label>\n    <label>\n      Weight:\n      <input type=\"number\" id=\"itemWeightInput\" min=\"1\" />\n    </label>\n    <label>\n      Value:\n      <input type=\"number\" id=\"itemValueInput\" min=\"0\" />\n    </label>\n    <button id=\"addItemBtn\">Add Item</button>\n    <div id=\"error\"></div>\n  </div>\n\n  <button id=\"solveBtn\">Solve</button>\n\n  <div id=\"result\"></div>\n</div>\n\n<script>\n(() => {\n  const capacityInput = document.getElementById('capacityInput');\n  const itemsBody = document.getElementById('itemsBody');\n  const addItemBtn = document.getElementById('addItemBtn');\n  const solveBtn = document.getElementById('solveBtn');\n  const resultDiv = document.getElementById('result');\n  const errorDiv = document.getElementById('error');\n  const itemNameInput = document.getElementById('itemNameInput');\n  const itemWeightInput = document.getElementById('itemWeightInput');\n  const itemValueInput = document.getElementById('itemValueInput');\n\n  let items = [\n    {name: 'Item 1', weight: 10, value: 60},\n    {name: 'Item 2', weight: 20, value: 100},\n    {name: 'Item 3', weight: 30, value: 120},\n  ];\n\n  function renderItems() {\n    itemsBody.innerHTML = '';\n    if (items.length === 0) {\n      const tr = document.createElement('tr');\n      const td = document.createElement('td');\n      td.colSpan = 5;\n      td.style.fontStyle = 'italic';\n      td.textContent = 'No items added. Add items below.';\n      tr.appendChild(td);\n      itemsBody.appendChild(tr);\n      return;\n    }\n    items.forEach((item, i) => {\n      const tr = document.createElement('tr');\n\n      const tdIndex = document.createElement('td');\n      tdIndex.textContent = i + 1;\n\n      const tdName = document.createElement('td');\n      tdName.textContent = item.name;\n\n      const tdWeight = document.createElement('td');\n      tdWeight.textContent = item.weight;\n\n      const tdValue = document.createElement('td');\n      tdValue.textContent = item.value;\n\n      const tdRemove = document.createElement('td');\n      const removeBtn = document.createElement('button');\n      removeBtn.textContent = 'âœ–';\n      removeBtn.title = 'Remove item';\n      removeBtn.style.cursor = 'pointer';\n      removeBtn.style.background = 'transparent';\n      removeBtn.style.border = 'none';\n      removeBtn.style.color = '#b00020';\n      removeBtn.style.fontSize = '1.2em';\n      removeBtn.onclick = () => {\n        items.splice(i, 1);\n        renderItems();\n        resultDiv.textContent = '';\n        errorDiv.textContent = '';\n      }\n      tdRemove.appendChild(removeBtn);\n\n      tr.append(tdIndex, tdName, tdWeight, tdValue, tdRemove);\n      itemsBody.appendChild(tr);\n    });\n  }\n\n  function validateInputs() {\n    errorDiv.textContent = '';\n    let valid = true;\n\n    const capacity = Number(capacityInput.value);\n    if (!capacity || capacity < 1 || !Number.isInteger(capacity)) {\n      errorDiv.textContent = 'Knapsack capacity must be a positive integer.';\n      valid = false;\n    }\n\n    for (let i = 0; i < items.length; i++) {\n      const it = items[i];\n      if (it.weight <= 0 || !Number.isInteger(it.weight)) {\n        errorDiv.textContent = `Item #${i+1} weight must be a positive integer.`;\n        valid = false;\n        break;\n      }\n      if (it.value < 0 || !Number.isInteger(it.value)) {\n        errorDiv.textContent = `Item #${i+1} value must be a non-negative integer.`;\n        valid = false;\n        break;\n      }\n      if (it.name.trim() === '') {\n        errorDiv.textContent = `Item #${i+1} must have a name.`;\n        valid = false;\n        break;\n      }\n    }\n\n    if (items.length === 0) {\n      errorDiv.textContent = 'Please add at least one item.';\n      valid = false;\n    }\n\n    return valid;\n  }\n\n  function knapsack01(capacity, weights, values) {\n    // Classic DP solution for 0/1 knapsack\n    // Returns { maxValue, selectedIndices }\n    const n = weights.length;\n    const dp = Array(n + 1).fill(null).map(() => Array(capacity + 1).fill(0));\n\n    for (let i = 1; i <= n; i++) {\n      const w = weights[i-1];\n      const v = values[i-1];\n      for (let c = 0; c <= capacity; c++) {\n        if (w > c) {\n          dp[i][c] = dp[i-1][c];\n        } else {\n          dp[i][c] = Math.max(dp[i-1][c], dp[i-1][c-w] + v);\n        }\n      }\n    }\n\n    // Backtracking to find which items are selected\n    let maxValue = dp[n][capacity];\n    let c = capacity;\n    const selectedIndices = [];\n    for (let i = n; i > 0 && maxValue > 0; i--) {\n      if (maxValue !== dp[i-1][c]) {\n        // item was selected\n        selectedIndices.push(i-1);\n        maxValue -= values[i-1];\n        c -= weights[i-1];\n      }\n    }\n    selectedIndices.reverse();\n\n    return {\n      maxValue: dp[n][capacity],\n      selectedIndices: selectedIndices\n    };\n  }\n\n  // Event listeners\n  addItemBtn.onclick = () => {\n    errorDiv.textContent = '';\n    let name = itemNameInput.value.trim();\n    let weight = Number(itemWeightInput.value);\n    let value = Number(itemValueInput.value);\n\n    if (name === '') {\n      errorDiv.textContent = 'Item name cannot be empty.';\n      return;\n    }\n    if (!weight || weight < 1 || !Number.isInteger(weight)) {\n      errorDiv.textContent = 'Item weight must be a positive integer.';\n      return;\n    }\n    if (value === '' || value < 0 || !Number.isInteger(value)) {\n      errorDiv.textContent = 'Item value must be an integer 0 or greater.';\n      return;\n    }\n\n    items.push({name, weight, value});\n    renderItems();\n    itemNameInput.value = '';\n    itemWeightInput.value = '';\n    itemValueInput.value = '';\n    resultDiv.textContent = '';\n  };\n\n  solveBtn.onclick = () => {\n    resultDiv.textContent = '';\n    if (!validateInputs()) return;\n\n    const capacity = Number(capacityInput.value);\n    const weights = items.map(it => it.weight);\n    const values = items.map(it => it.value);\n\n    // To avoid UI blocking on large inputs, we could run in a worker or asynchronously,\n    // but here, problem is small enough for demo.\n    const startTime = performance.now();\n    const solution = knapsack01(capacity, weights, values);\n    const endTime = performance.now();\n\n    if (solution.selectedIndices.length === 0) {\n      resultDiv.textContent = `No items can be selected within the capacity of ${capacity}.`;\n      return;\n    }\n\n    let totalWeight = 0;\n    let totalValue = 0;\n    let selectedItemsText = solution.selectedIndices.map(i => {\n      const it = items[i];\n      totalWeight += it.weight;\n      totalValue += it.value;\n      return `${it.name} (w:${it.weight}, v:${it.value})`;\n    }).join(', ');\n\n    resultDiv.innerHTML =\n      `<strong>Optimal value: ${solution.maxValue}</strong><br>` +\n      `<strong>Total weight used:</strong> ${totalWeight} / ${capacity}<br>` +\n      `<strong>Selected items:</strong> ${selectedItemsText}<br>` +\n      `<em>Computed in ${(endTime - startTime).toFixed(2)} ms</em>`;\n  };\n\n  // Initial render\n  renderItems();\n})();\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Knapsack Problem"
    }
  ],
  "topic": "Knapsack Problem",
  "hasFSM": false,
  "hasTest": true
}