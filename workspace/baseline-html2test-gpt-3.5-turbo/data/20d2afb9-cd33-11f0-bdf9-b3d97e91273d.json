{
  "id": "20d2afb9-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:12.044Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Radix Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Radix Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f7f9fc;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n    margin-bottom: 1rem;\n  }\n  #inputArea {\n    text-align: center;\n    margin-bottom: 1rem;\n  }\n  #numbersInput {\n    width: 80%;\n    max-width: 500px;\n    font-size: 1.25rem;\n    padding: 0.5rem;\n  }\n  button {\n    font-size: 1.1rem;\n    padding: 0.5rem 1rem;\n    margin-left: 0.5rem;\n    cursor: pointer;\n  }\n  #visualization {\n    margin-top: 2rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  .array-row {\n    margin: 0.5rem 0;\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n  }\n  .array-item {\n    background-color: #007bff;\n    color: white;\n    min-width: 40px;\n    height: 40px;\n    margin: 0 0.2rem 0.4rem 0.2rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 4px;\n    font-weight: bold;\n    font-size: 1.1rem;\n    user-select: none;\n    transition: background-color 0.3s ease;\n  }\n  .array-item.highlight {\n    background-color: #28a745;\n    box-shadow: 0 0 8px #28a745;\n  }\n  .description {\n    max-width: 600px;\n    margin: 1rem auto 2rem auto;\n    font-size: 1rem;\n    line-height: 1.4;\n    text-align: center;\n    color: #555;\n  }\n  #speedLabel {\n    margin-left: 1rem;\n    font-weight: normal;\n  }\n  #speedControl {\n    vertical-align: middle;\n  }\n</style>\n</head>\n<body>\n<h1>Radix Sort Visualization (LSD)</h1>\n<div class=\"description\">\n  Enter a list of positive integers separated by commas or spaces and press \"Start Sort\" to see how Radix Sort (Least Significant Digit) sorts them step by step.\n</div>\n<div id=\"inputArea\">\n  <input\n    type=\"text\"\n    id=\"numbersInput\"\n    placeholder=\"e.g. 170, 45, 75, 90, 802, 24, 2, 66\"\n  />\n  <button id=\"startBtn\">Start Sort</button>\n  <label for=\"speedControl\" id=\"speedLabel\">Speed:</label>\n  <input type=\"range\" id=\"speedControl\" min=\"100\" max=\"2000\" value=\"700\" step=\"100\" />\n</div>\n<div id=\"visualization\"></div>\n\n<script>\n(() => {\n  const numbersInput = document.getElementById(\"numbersInput\");\n  const startBtn = document.getElementById(\"startBtn\");\n  const visualization = document.getElementById(\"visualization\");\n  const speedControl = document.getElementById(\"speedControl\");\n\n  let speed = 700;\n  speedControl.addEventListener(\"input\", () => {\n    speed = +speedControl.value;\n  });\n\n  // Utility: sleep for ms milliseconds\n  function sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  // Render array row with optional highlights and label\n  function renderArray(arr, highlightIndices = [], label = \"\") {\n    const row = document.createElement(\"div\");\n    row.className = \"array-row\";\n\n    if (label) {\n      const labelSpan = document.createElement(\"div\");\n      labelSpan.textContent = label;\n      labelSpan.style.width = \"100%\";\n      labelSpan.style.fontWeight = \"bold\";\n      labelSpan.style.marginBottom = \"0.2rem\";\n      labelSpan.style.color = \"#444\";\n      row.appendChild(labelSpan);\n    }\n\n    for (let i = 0; i < arr.length; i++) {\n      const item = document.createElement(\"div\");\n      item.className = \"array-item\";\n      item.textContent = arr[i];\n      if (highlightIndices.includes(i)) {\n        item.classList.add(\"highlight\");\n      }\n      row.appendChild(item);\n    }\n    visualization.appendChild(row);\n  }\n\n  // Clear visualization area\n  function clearVisualization() {\n    visualization.innerHTML = \"\";\n  }\n\n  startBtn.addEventListener(\"click\", () => {\n    // Parse input numbers\n    const rawInput = numbersInput.value.trim();\n    if (!rawInput) {\n      alert(\"Please enter some numbers.\");\n      return;\n    }\n    const tokens = rawInput.split(/[\\s,]+/);\n    const arr = tokens\n      .map((t) => parseInt(t, 10))\n      .filter((num) => Number.isInteger(num) && num >= 0);\n\n    if (arr.length === 0) {\n      alert(\"Please enter valid non-negative integers separated by commas or spaces.\");\n      return;\n    }\n\n    clearVisualization();\n    startBtn.disabled = true;\n    numbersInput.disabled = true;\n    speedControl.disabled = true;\n\n    radixSort(arr).then(() => {\n      startBtn.disabled = false;\n      numbersInput.disabled = false;\n      speedControl.disabled = false;\n    });\n  });\n\n  // Get digit at place (1 = ones, 10 = tens, etc)\n  function getDigit(num, place) {\n    return Math.floor(Math.abs(num) / place) % 10;\n  }\n\n  // Find max number\n  function findMax(arr) {\n    return Math.max(...arr);\n  }\n\n  // Main async radix sort function with visualization\n  async function radixSort(arr) {\n    // Initial display\n    renderArray(arr, [], \"Initial array:\");\n\n    await sleep(speed);\n\n    const maxNum = findMax(arr);\n\n    // Start with LSD = 1 (ones place)\n    let place = 1;\n    let iteration = 1;\n\n    while (Math.floor(maxNum / place) > 0) {\n      clearVisualization();\n\n      renderArray(arr, [], `Iteration ${iteration}: Sorting by place = ${place}`);\n\n      // Prepare buckets for digits 0 through 9\n      const buckets = Array.from({ length: 10 }, () => []);\n\n      // Show current digit for each element\n      const digitsForAll = arr.map((num) => getDigit(num, place));\n      renderArray(arr, [], \"Current array:\");\n      // Highlight each element with its digit in this place\n      const digitLabelsRow = document.createElement(\"div\");\n      digitLabelsRow.className = \"array-row\";\n      for (let d of digitsForAll) {\n        const dItem = document.createElement(\"div\");\n        dItem.className = \"array-item\";\n        dItem.style.backgroundColor = \"#ffc107\"; // yellow for digit highlight\n        dItem.textContent = d;\n        digitLabelsRow.appendChild(dItem);\n      }\n      visualization.appendChild(digitLabelsRow);\n\n      await sleep(speed);\n\n      // Place elements into buckets one by one with highlights\n      for (let i = 0; i < arr.length; i++) {\n        clearVisualization();\n\n        renderArray(arr, [i], `Iteration ${iteration}: Placing elements into buckets by digit at place ${place}`);\n\n        // Show all buckets with their contents\n        const tempBuckets = buckets.map((b) => b.slice());\n        tempBuckets[digitsForAll[i]].push(arr[i]);\n\n        // Display buckets\n        const bucketsContainer = document.createElement(\"div\");\n        bucketsContainer.style.display = \"flex\";\n        bucketsContainer.style.justifyContent = \"center\";\n        bucketsContainer.style.flexWrap = \"wrap\";\n        bucketsContainer.style.marginTop = \"1rem\";\n        bucketsContainer.style.maxWidth = \"700px\";\n\n        for (let digit = 0; digit < 10; digit++) {\n          const bucketDiv = document.createElement(\"div\");\n          bucketDiv.style.margin = \"0 0.5rem\";\n          bucketDiv.style.flexBasis = \"80px\";\n\n          const bucketLabel = document.createElement(\"div\");\n          bucketLabel.textContent = `Bucket ${digit}`;\n          bucketLabel.style.textAlign = \"center\";\n          bucketLabel.style.fontWeight = \"bold\";\n          bucketLabel.style.color = \"#555\";\n          bucketLabel.style.marginBottom = \"0.3rem\";\n          bucketDiv.appendChild(bucketLabel);\n\n          const bucketContent = document.createElement(\"div\");\n          bucketContent.style.display = \"flex\";\n          bucketContent.style.flexWrap = \"wrap\";\n          bucketContent.style.justifyContent = \"center\";\n\n          for (const val of tempBuckets[digit]) {\n            const item = document.createElement(\"div\");\n            item.className = \"array-item\";\n            item.textContent = val;\n            item.style.backgroundColor = \"#17a2b8\"; // teal for bucket items\n            bucketContent.appendChild(item);\n          }\n          bucketDiv.appendChild(bucketContent);\n          bucketsContainer.appendChild(bucketDiv);\n        }\n        visualization.appendChild(bucketsContainer);\n\n        buckets[digitsForAll[i]].push(arr[i]);\n        await sleep(speed);\n      }\n\n      // Reassemble arr by concatenating buckets\n      clearVisualization();\n      renderArray(arr, [], `Iteration ${iteration}: Collecting elements from buckets in order`);\n\n      // Show final buckets before collection\n      const bucketsContainerFinal = document.createElement(\"div\");\n      bucketsContainerFinal.style.display = \"flex\";\n      bucketsContainerFinal.style.justifyContent = \"center\";\n      bucketsContainerFinal.style.flexWrap = \"wrap\";\n      bucketsContainerFinal.style.marginTop = \"1rem\";\n      bucketsContainerFinal.style.maxWidth = \"700px\";\n\n      for (let digit = 0; digit < 10; digit++) {\n        const bucketDiv = document.createElement(\"div\");\n        bucketDiv.style.margin = \"0 0.5rem\";\n        bucketDiv.style.flexBasis = \"80px\";\n\n        const bucketLabel = document.createElement(\"div\");\n        bucketLabel.textContent = `Bucket ${digit}`;\n        bucketLabel.style.textAlign = \"center\";\n        bucketLabel.style.fontWeight = \"bold\";\n        bucketLabel.style.color = \"#555\";\n        bucketLabel.style.marginBottom = \"0.3rem\";\n        bucketDiv.appendChild(bucketLabel);\n\n        const bucketContent = document.createElement(\"div\");\n        bucketContent.style.display = \"flex\";\n        bucketContent.style.flexWrap = \"wrap\";\n        bucketContent.style.justifyContent = \"center\";\n\n        for (const val of buckets[digit]) {\n          const item = document.createElement(\"div\");\n          item.className = \"array-item\";\n          item.textContent = val;\n          item.style.backgroundColor = \"#17a2b8\";\n          bucketContent.appendChild(item);\n        }\n        bucketDiv.appendChild(bucketContent);\n        bucketsContainerFinal.appendChild(bucketDiv);\n      }\n      visualization.appendChild(bucketsContainerFinal);\n\n      await sleep(speed * 1.2);\n\n      // Flatten buckets into arr\n      let idx = 0;\n      for (let digit = 0; digit < 10; digit++) {\n        for (const val of buckets[digit]) {\n          arr[idx++] = val;\n          // Show current reassembled state with highlight\n          clearVisualization();\n          renderArray(arr.slice(0, idx), [], `Iteration ${iteration}: Reassembling array`);\n          await sleep(speed / 5);\n        }\n      }\n\n      clearVisualization();\n      renderArray(arr, [], `After iteration ${iteration} (place = ${place}):`);\n\n      await sleep(speed);\n\n      place *= 10;\n      iteration++;\n    }\n\n    clearVisualization();\n    renderArray(arr, [], \"Sorted array:\");\n  }\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Radix Sort"
    }
  ],
  "topic": "Radix Sort",
  "hasFSM": false,
  "hasTest": true
}