{
  "id": "20d2afb2-cd33-11f0-bdf9-b3d97e91273d",
  "timestamp": "2025-11-29T14:54:10.497Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Bubble Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Bubble Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f0f0f0;\n    color: #222;\n  }\n  h1 {\n    text-align: center;\n  }\n  #arrayInput {\n    width: 100%;\n    max-width: 400px;\n    padding: 0.5rem;\n    font-size: 1rem;\n  }\n  #sortBtn {\n    margin-top: 0.5rem;\n    padding: 0.6rem 1.2rem;\n    font-size: 1rem;\n    cursor: pointer;\n  }\n  #container {\n    margin-top: 2rem;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    height: 200px;\n    max-width: 600px;\n    margin-left: auto;\n    margin-right: auto;\n    background: #fff;\n    padding: 1rem;\n    border-radius: 8px;\n    box-shadow: 0 0 10px #aaa;\n  }\n  .bar {\n    margin: 0 2px;\n    background-color: #4285F4;\n    width: 20px;\n    border-radius: 2px;\n    transition: background-color 0.3s;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    color: white;\n    font-weight: bold;\n    font-size: 12px;\n    user-select: none;\n  }\n  .bar.comparing {\n    background-color: #fbbc04;\n  }\n  .bar.swapping {\n    background-color: #ea4335;\n  }\n  #speedLabel {\n    margin-left: 1rem;\n    font-size: 0.9rem;\n  }\n  #speedRange {\n    vertical-align: middle;\n  }\n  #codeBlock {\n    max-width: 700px;\n    margin: 2rem auto;\n    background: #272822;\n    color: #f8f8f2;\n    padding: 1rem;\n    border-radius: 8px;\n    font-family: 'Courier New', Courier, monospace;\n    overflow-x: auto;\n    font-size: 0.9rem;\n    line-height: 1.4;\n    user-select: text;\n  }\n</style>\n</head>\n<body>\n<h1>Bubble Sort Visualization</h1>\n<div style=\"text-align: center;\">\n  <input id=\"arrayInput\" type=\"text\" value=\"5,3,8,4,2\" aria-label=\"Array input\" />\n  <button id=\"sortBtn\">Start Bubble Sort</button>\n  <label id=\"speedLabel\" for=\"speedRange\">Speed: </label>\n  <input type=\"range\" id=\"speedRange\" min=\"50\" max=\"1000\" value=\"300\" step=\"10\" />\n</div>\n\n<div id=\"container\" aria-live=\"polite\" aria-label=\"Visualization of array bars\"></div>\n\n<pre id=\"codeBlock\" aria-label=\"Bubble sort code example\">\n// Bubble Sort pseudocode:\nfunction bubbleSort(arr) {\n  let n = arr.length;\n  for (let i = 0; i &lt; n - 1; i++) {\n    for (let j = 0; j &lt; n - i - 1; j++) {\n      if (arr[j] &gt; arr[j + 1]) {\n        // Swap arr[j] and arr[j + 1]\n        let temp = arr[j];\n        arr[j] = arr[j + 1];\n        arr[j + 1] = temp;\n      }\n    }\n  }\n  return arr;\n}\n</pre>\n\n<script>\n  const container = document.getElementById('container');\n  const input = document.getElementById('arrayInput');\n  const sortBtn = document.getElementById('sortBtn');\n  const speedRange = document.getElementById('speedRange');\n\n  let bars = [];\n  let array = [];\n\n  function createBars(arr) {\n    container.innerHTML = '';\n    bars = [];\n    const maxVal = Math.max(...arr);\n    arr.forEach((val) => {\n      const bar = document.createElement('div');\n      bar.className = 'bar';\n      // height scaled relative to maxVal\n      bar.style.height = (val / maxVal) * 180 + 20 + 'px';\n      bar.textContent = val;\n      container.appendChild(bar);\n      bars.push(bar);\n    });\n  }\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async function bubbleSort(arr) {\n    const n = arr.length;\n    for (let i = 0; i < n - 1; i++) {\n      let swapped = false;\n      for (let j = 0; j < n - i - 1; j++) {\n        // Highlight bars being compared\n        bars[j].classList.add('comparing');\n        bars[j+1].classList.add('comparing');\n        await sleep(speedRange.value);\n\n        if (arr[j] > arr[j + 1]) {\n          swapped = true;\n          // Highlight bars being swapped\n          bars[j].classList.remove('comparing');\n          bars[j+1].classList.remove('comparing');\n          bars[j].classList.add('swapping');\n          bars[j+1].classList.add('swapping');\n\n          await sleep(speedRange.value);\n\n          // Swap values\n          [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\n          // Swap bars height and text\n          bars[j].style.height = (arr[j] / Math.max(...arr)) * 180 + 20 + 'px';\n          bars[j].textContent = arr[j];\n          bars[j+1].style.height = (arr[j+1] / Math.max(...arr)) * 180 + 20 + 'px';\n          bars[j+1].textContent = arr[j+1];\n\n          await sleep(speedRange.value);\n\n          bars[j].classList.remove('swapping');\n          bars[j+1].classList.remove('swapping');\n        }\n        bars[j].classList.remove('comparing');\n        bars[j+1].classList.remove('comparing');\n      }\n      // Mark the last sorted bar as a different color\n      bars[n - 1 - i].style.backgroundColor = '#34a853'; // green\n      if (!swapped) break; // Optimization: no swaps means array is sorted\n    }\n    // Mark the first bar as sorted after all passes\n    bars[0].style.backgroundColor = '#34a853';\n  }\n\n  function parseInput(value) {\n    try {\n      let nums = value.split(',').map(x => parseInt(x.trim(), 10));\n      if (nums.some(isNaN)) return null;\n      if (nums.length === 0) return null;\n      return nums;\n    } catch {\n      return null;\n    }\n  }\n\n  sortBtn.addEventListener('click', async () => {\n    let arr = parseInput(input.value);\n    if (!arr) {\n      alert('Please enter a valid comma-separated list of integers.');\n      return;\n    }\n    array = [...arr];\n    createBars(array);\n    sortBtn.disabled = true;\n    input.disabled = true;\n    speedRange.disabled = true;\n    await bubbleSort(array);\n    sortBtn.disabled = false;\n    input.disabled = false;\n    speedRange.disabled = false;\n  });\n\n  // Initialize on page load\n  (function init() {\n    let arr = parseInput(input.value) || [5,3,8,4,2];\n    array = [...arr];\n    createBars(array);\n  })();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Bubble Sort"
    }
  ],
  "topic": "Bubble Sort",
  "hasFSM": false,
  "hasTest": true
}