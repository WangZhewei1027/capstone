{
  "id": "e03a476b-cd32-11f0-a949-f901cf5609c9",
  "timestamp": "2025-11-29T14:52:11.246Z",
  "type": "html-to-test",
  "htmlModel": "gpt-3.5-turbo",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Longest Common Subsequence",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Longest Common Subsequence (LCS) Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    max-width: 700px;\n    margin: 30px auto;\n    padding: 0 20px;\n    background: #f5f8fa;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n    color: #007acc;\n  }\n  label {\n    font-weight: bold;\n    margin-top: 15px;\n    display: block;\n  }\n  input[type=\"text\"] {\n    width: 100%;\n    font-size: 1.1rem;\n    padding: 8px;\n    margin-top: 5px;\n    box-sizing: border-box;\n  }\n  button {\n    margin-top: 20px;\n    background-color: #007acc;\n    border: none;\n    color: white;\n    font-size: 1.1rem;\n    padding: 10px 15px;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n  button:hover {\n    background-color: #005fa3;\n  }\n  .output {\n    margin-top: 25px;\n    background: white;\n    border-radius: 8px;\n    padding: 15px 20px;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  }\n  pre {\n    background: #eef6fc;\n    padding: 10px;\n    border-radius: 5px;\n    overflow-x: auto;\n  }\n  .highlight {\n    color: #007acc;\n    font-weight: bold;\n  }\n  .matrix {\n    margin-top: 15px;\n    overflow-x: auto;\n  }\n  table {\n    border-collapse: collapse;\n    margin-top: 10px;\n  }\n  td, th {\n    border: 1px solid #cccccc;\n    text-align: center;\n    padding: 5px 8px;\n    font-family: monospace;\n  }\n  th {\n    background-color: #d6eaff;\n  }\n</style>\n</head>\n<body>\n  <h1>Longest Common Subsequence (LCS) Calculator</h1>\n  <label for=\"string1\">String 1:</label>\n  <input type=\"text\" id=\"string1\" placeholder=\"Enter first string\" spellcheck=\"false\" />\n\n  <label for=\"string2\">String 2:</label>\n  <input type=\"text\" id=\"string2\" placeholder=\"Enter second string\" spellcheck=\"false\" />\n\n  <button id=\"calc-btn\">Calculate LCS</button>\n\n  <div class=\"output\" id=\"output\" style=\"display:none;\">\n    <h2>Results</h2>\n    <p><strong>Length of LCS:</strong> <span id=\"lcs-length\"></span></p>\n    <p><strong>LCS:</strong> <span id=\"lcs-string\" class=\"highlight\"></span></p>\n    <div class=\"matrix\" id=\"matrix-container\">\n      <h3>DP Matrix (LCS lengths):</h3>\n      <div id=\"matrix\"></div>\n    </div>\n  </div>\n\n<script>\n  // Function to compute the LCS length matrix using dynamic programming\n  // Returns the dp matrix\n  function computeLCSMatrix(s1, s2) {\n    const m = s1.length;\n    const n = s2.length;\n    // Create a (m+1) x (n+1) matrix initialized to 0\n    const dp = Array.from({length: m + 1}, () => Array(n + 1).fill(0));\n\n    for (let i = 1; i <= m; i++) {\n      for (let j = 1; j <= n; j++) {\n        if (s1[i-1] === s2[j-1]) {\n          dp[i][j] = dp[i-1][j-1] + 1;\n        } else {\n          dp[i][j] = Math.max(dp[i-1][j], dp[i][j-1]);\n        }\n      }\n    }\n\n    return dp;\n  }\n\n  // Function to backtrack the dp matrix to find one LCS string\n  function backtrackLCS(dp, s1, s2) {\n    let i = s1.length;\n    let j = s2.length;\n    let lcsChars = [];\n\n    while (i > 0 && j > 0) {\n      if (s1[i-1] === s2[j-1]) {\n        lcsChars.push(s1[i-1]);\n        i--;\n        j--;\n      } else if (dp[i-1][j] > dp[i][j-1]) {\n        i--;\n      } else {\n        j--;\n      }\n    }\n\n    return lcsChars.reverse().join('');\n  }\n\n  // Generate an HTML table representation for the matrix\n  function generateMatrixTable(dp, s1, s2) {\n    const m = s1.length;\n    const n = s2.length;\n\n    // Create table element\n    const table = document.createElement('table');\n\n    // First row: empty corner + characters of s2\n    const headerRow = document.createElement('tr');\n    const emptyCorner = document.createElement('th');\n    emptyCorner.textContent = '';\n    headerRow.appendChild(emptyCorner);\n    // Label top columns with s2 characters plus an initial empty for dp alignment\n    for(let j = 0; j < n; j++) {\n      const th = document.createElement('th');\n      th.textContent = s2[j];\n      headerRow.appendChild(th);\n    }\n    table.appendChild(headerRow);\n\n    // Rows of dp with s1 character labels\n    for(let i = 0; i <= m; i++) {\n      const row = document.createElement('tr');\n      const headerCell = document.createElement('th');\n      headerCell.textContent = i === 0 ? '' : s1[i-1];\n      row.appendChild(headerCell);\n      for(let j = 0; j <= n; j++) {\n        const cell = document.createElement('td');\n        cell.textContent = dp[i][j];\n        // Highlight the last cell dp[m][n]\n        if(i === m && j === n) {\n          cell.style.fontWeight = \"bold\";\n          cell.style.color = \"#007acc\";\n        }\n        row.appendChild(cell);\n      }\n      table.appendChild(row);\n    }\n\n    return table;\n  }\n\n  // Main calculation triggered by button click\n  document.getElementById('calc-btn').addEventListener('click', () => {\n    const s1 = document.getElementById('string1').value.trim();\n    const s2 = document.getElementById('string2').value.trim();\n    const output = document.getElementById('output');\n    const lcsLengthElem = document.getElementById('lcs-length');\n    const lcsStringElem = document.getElementById('lcs-string');\n    const matrixContainer = document.getElementById('matrix');\n\n    if (s1 === '' || s2 === '') {\n      alert('Please enter both strings.');\n      output.style.display = 'none';\n      return;\n    }\n\n    // Compute LCS matrix\n    const dp = computeLCSMatrix(s1, s2);\n    // Backtrack to get one LCS\n    const lcs = backtrackLCS(dp, s1, s2);\n\n    // Show results\n    lcsLengthElem.textContent = dp[s1.length][s2.length];\n    lcsStringElem.textContent = lcs || '(No common subsequence)';\n    // Clear and set matrix\n    matrixContainer.innerHTML = '';\n    matrixContainer.appendChild(generateMatrixTable(dp, s1, s2));\n\n    output.style.display = 'block';\n  });\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Longest Common Subsequence"
    }
  ],
  "topic": "Longest Common Subsequence",
  "hasFSM": false,
  "hasTest": true
}