<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Deque Demonstration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2em;
    background: #f9f9f9;
    color: #333;
  }
  h1 {
    margin-bottom: 0.2em;
  }
  .deque-container {
    margin: 1em 0;
    padding: 1em;
    background: #fff;
    border: 2px solid #4CAF50;
    border-radius: 8px;
    min-height: 3em;
    display: flex;
    align-items: center;
    gap: 0.5em;
    flex-wrap: wrap;
  }
  .deque-element {
    background: #4CAF50;
    color: white;
    padding: 0.5em 1em;
    border-radius: 4px;
    user-select: none;
    font-weight: bold;
    font-size: 1.1em;
  }
  .controls {
    margin-top: 1em;
    display: flex;
    flex-wrap: wrap;
    gap: 1em;
  }
  .control-group {
    display: flex;
    align-items: center;
    gap: 0.5em;
  }
  input[type="text"] {
    padding: 0.3em 0.5em;
    font-size: 1em;
    width: 4em;
  }
  button {
    padding: 0.4em 0.8em;
    font-size: 1em;
    cursor: pointer;
    border: 1.5px solid #4CAF50;
    background: white;
    color: #4CAF50;
    border-radius: 4px;
    transition: all 0.3s ease;
  }
  button:hover:not(:disabled) {
    background: #4CAF50;
    color: white;
  }
  button:disabled {
    opacity: 0.5;
    cursor: default;
  }
  .status {
    margin-top: 1em;
    font-style: italic;
    min-height: 1.2em;
  }
  small {
    display: block;
    margin-top: 0.3em;
    color: #666;
  }
</style>
</head>
<body>
<h1>Deque (Double-Ended Queue) Demonstration</h1>
<div>
  <div><strong>Deque Contents:</strong></div>
  <div id="deque" class="deque-container" aria-live="polite" aria-label="Deque elements">
    <!-- Elements will appear here -->
  </div>
</div>

<div class="controls" aria-label="Deque operations">
  <div class="control-group" role="group" aria-labelledby="pushFrontLabel">
    <label id="pushFrontLabel" for="pushFrontInput">Push Front:</label>
    <input type="text" id="pushFrontInput" maxlength="10" aria-describedby="pushFrontDesc" />
    <button id="pushFrontBtn">Add</button>
    <small id="pushFrontDesc">Enter value to add at front</small>
  </div>

  <div class="control-group" role="group" aria-labelledby="pushBackLabel">
    <label id="pushBackLabel" for="pushBackInput">Push Back:</label>
    <input type="text" id="pushBackInput" maxlength="10" aria-describedby="pushBackDesc" />
    <button id="pushBackBtn">Add</button>
    <small id="pushBackDesc">Enter value to add at back</small>
  </div>

  <div class="control-group" role="group" aria-label="Pop from front">
    <button id="popFrontBtn">Pop Front</button>
  </div>

  <div class="control-group" role="group" aria-label="Pop from back">
    <button id="popBackBtn">Pop Back</button>
  </div>

  <div class="control-group" role="group" aria-label="Peek front">
    <button id="peekFrontBtn">Peek Front</button>
  </div>

  <div class="control-group" role="group" aria-label="Peek back">
    <button id="peekBackBtn">Peek Back</button>
  </div>

  <div class="control-group" role="group" aria-label="Clear deque">
    <button id="clearBtn" style="border-color: #f44336; color: #f44336;">Clear</button>
  </div>
</div>

<div id="status" class="status" aria-live="polite"></div>

<script>
  // Simple deque class implemented using array
  class Deque {
    constructor() {
      this.items = [];
    }
    pushFront(element) {
      this.items.unshift(element);
    }
    pushBack(element) {
      this.items.push(element);
    }
    popFront() {
      if (this.isEmpty()) return null;
      return this.items.shift();
    }
    popBack() {
      if (this.isEmpty()) return null;
      return this.items.pop();
    }
    peekFront() {
      if (this.isEmpty()) return null;
      return this.items[0];
    }
    peekBack() {
      if (this.isEmpty()) return null;
      return this.items[this.items.length - 1];
    }
    isEmpty() {
      return this.items.length === 0;
    }
    clear() {
      this.items = [];
    }
    toArray() {
      return [...this.items];
    }
  }

  const deque = new Deque();

  // DOM elements
  const dequeContainer = document.getElementById('deque');
  const statusEl = document.getElementById('status');

  const pushFrontInput = document.getElementById('pushFrontInput');
  const pushFrontBtn = document.getElementById('pushFrontBtn');

  const pushBackInput = document.getElementById('pushBackInput');
  const pushBackBtn = document.getElementById('pushBackBtn');

  const popFrontBtn = document.getElementById('popFrontBtn');
  const popBackBtn = document.getElementById('popBackBtn');

  const peekFrontBtn = document.getElementById('peekFrontBtn');
  const peekBackBtn = document.getElementById('peekBackBtn');

  const clearBtn = document.getElementById('clearBtn');

  function renderDeque() {
    dequeContainer.innerHTML = "";
    const items = deque.toArray();
    if (items.length === 0) {
      dequeContainer.textContent = "(empty)";
      updateControls();
      return;
    }
    items.forEach((item, index) => {
      const el = document.createElement('div');
      el.className = "deque-element";
      el.textContent = item;
      el.setAttribute('aria-label', `Element at position ${index + 1}: ${item}`);
      dequeContainer.appendChild(el);
    });
    updateControls();
  }

  function updateControls() {
    // Disable pop and peek buttons if deque is empty
    const disabled = deque.isEmpty();
    popFrontBtn.disabled = disabled;
    popBackBtn.disabled = disabled;
    peekFrontBtn.disabled = disabled;
    peekBackBtn.disabled = disabled;
  }

  function addStatus(message) {
    statusEl.textContent = message;
  }

  // Event Listeners
  pushFrontBtn.addEventListener('click', () => {
    const val = pushFrontInput.value.trim();
    if (val === "") {
      addStatus("Please enter a value to push to the front.");
      return;
    }
    deque.pushFront(val);
    addStatus(`Pushed "${val}" to front.`);
    pushFrontInput.value = "";
    pushFrontInput.focus();
    renderDeque();
  });

  pushBackBtn.addEventListener('click', () => {
    const val = pushBackInput.value.trim();
    if (val === "") {
      addStatus("Please enter a value to push to the back.");
      return;
    }
    deque.pushBack(val);
    addStatus(`Pushed "${val}" to back.`);
    pushBackInput.value = "";
    pushBackInput.focus();
    renderDeque();
  });

  popFrontBtn.addEventListener('click', () => {
    if (deque.isEmpty()) {
      addStatus("Deque is empty. Cannot pop from front.");
      return;
    }
    const val = deque.popFront();
    addStatus(`Popped "${val}" from front.`);
    renderDeque();
  });

  popBackBtn.addEventListener('click', () => {
    if (deque.isEmpty()) {
      addStatus("Deque is empty. Cannot pop from back.");
      return;
    }
    const val = deque.popBack();
    addStatus(`Popped "${val}" from back.`);
    renderDeque();
  });

  peekFrontBtn.addEventListener('click', () => {
    if (deque.isEmpty()) {
      addStatus("Deque is empty. Nothing at front.");
      return;
    }
    const val = deque.peekFront();
    addStatus(`Peek front: "${val}"`);
  });

  peekBackBtn.addEventListener('click', () => {
    if (deque.isEmpty()) {
      addStatus("Deque is empty. Nothing at back.");
      return;
    }
    const val = deque.peekBack();
    addStatus(`Peek back: "${val}"`);
  });

  clearBtn.addEventListener('click', () => {
    deque.clear();
    addStatus("Deque cleared.");
    renderDeque();
  });

  // Allow pressing Enter inside inputs to trigger the push buttons
  pushFrontInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') pushFrontBtn.click();
  });

  pushBackInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') pushBackBtn.click();
  });

  // Initial render
  renderDeque();
</script>

</body>
</html>