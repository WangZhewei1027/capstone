<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Deque (Double-Ended Queue) Demo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    max-width: 600px;
  }
  h1 {
    text-align: center;
  }
  .deque-container {
    display: flex;
    justify-content: center;
    margin: 1rem 0;
  }
  .deque {
    display: flex;
    border: 2px solid #333;
    border-radius: 8px;
    padding: 0.5rem;
    min-height: 50px;
    align-items: center;
    gap: 0.5rem;
    background-color: #f8f9fa;
  }
  .deque .item {
    background-color: #007bff;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    user-select: none;
    font-weight: bold;
  }
  .controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
  }
  input[type="text"] {
    padding: 0.4rem 0.6rem;
    font-size: 1rem;
    width: 100%;
  }
  button {
    padding: 0.5rem;
    font-size: 1rem;
    cursor: pointer;
    border: 1.5px solid #007bff;
    border-radius: 5px;
    background-color: white;
    color: #007bff;
    transition: background-color 0.2s, color 0.2s;
  }
  button:hover:not(:disabled) {
    background-color: #007bff;
    color: white;
  }
  button:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }
  .log {
    margin-top: 1.5rem;
    background: #e9ecef;
    border-radius: 5px;
    padding: 1rem;
    height: 120px;
    overflow-y: auto;
    font-family: monospace;
    font-size: 0.9rem;
    white-space: pre-wrap;
  }
  .label {
    font-weight: bold;
    margin-bottom: 0.25rem;
  }
</style>
</head>
<body>
<h1>Deque (Double-Ended Queue) Demo</h1>

<div class="label">Current Deque (Front â†’ Back):</div>
<div class="deque-container">
  <div id="deque" class="deque">
    <!-- Items will appear here -->
  </div>
</div>

<div class="controls">
  <div>
    <input type="text" id="inputValue" placeholder="Enter value" />
  </div>
  <div>
    <button id="addFrontBtn">Add Front</button>
  </div>
  <div>
    <button id="addBackBtn">Add Back</button>
  </div>
  <div>
    <button id="removeFrontBtn">Remove Front</button>
  </div>
  <div>
    <button id="removeBackBtn">Remove Back</button>
  </div>
  <div>
    <button id="peekFrontBtn">Peek Front</button>
  </div>
  <div>
    <button id="peekBackBtn">Peek Back</button>
  </div>
  <div>
    <button id="clearBtn" style="background-color:#dc3545; color:white; border-color:#dc3545;">Clear Deque</button>
  </div>
</div>

<div class="label">Operations Log:</div>
<div id="log" class="log" aria-live="polite"></div>

<script>
  // Simple deque implementation using array internally
  class Deque {
    constructor() {
      this.items = [];
    }
    addFront(element) {
      this.items.unshift(element);
    }
    addBack(element) {
      this.items.push(element);
    }
    removeFront() {
      if (this.isEmpty()) return null;
      return this.items.shift();
    }
    removeBack() {
      if (this.isEmpty()) return null;
      return this.items.pop();
    }
    peekFront() {
      if (this.isEmpty()) return null;
      return this.items[0];
    }
    peekBack() {
      if (this.isEmpty()) return null;
      return this.items[this.items.length - 1];
    }
    isEmpty() {
      return this.items.length === 0;
    }
    clear() {
      this.items = [];
    }
    toArray() {
      return [...this.items];
    }
  }

  const deque = new Deque();

  // DOM elements
  const dequeEl = document.getElementById('deque');
  const inputValueEl = document.getElementById('inputValue');
  const addFrontBtn = document.getElementById('addFrontBtn');
  const addBackBtn = document.getElementById('addBackBtn');
  const removeFrontBtn = document.getElementById('removeFrontBtn');
  const removeBackBtn = document.getElementById('removeBackBtn');
  const peekFrontBtn = document.getElementById('peekFrontBtn');
  const peekBackBtn = document.getElementById('peekBackBtn');
  const clearBtn = document.getElementById('clearBtn');
  const logEl = document.getElementById('log');

  function log(message) {
    const timestamp = new Date().toLocaleTimeString();
    logEl.textContent += `[${timestamp}] ${message}\n`;
    logEl.scrollTop = logEl.scrollHeight;
  }

  function renderDeque() {
    dequeEl.innerHTML = '';
    const items = deque.toArray();
    if (items.length === 0) {
      dequeEl.textContent = "(empty)";
      removeFrontBtn.disabled = true;
      removeBackBtn.disabled = true;
      peekFrontBtn.disabled = true;
      peekBackBtn.disabled = true;
      clearBtn.disabled = true;
    } else {
      removeFrontBtn.disabled = false;
      removeBackBtn.disabled = false;
      peekFrontBtn.disabled = false;
      peekBackBtn.disabled = false;
      clearBtn.disabled = false;
      items.forEach((item, idx) => {
        const itemEl = document.createElement('div');
        itemEl.className = 'item';
        itemEl.textContent = item;
        dequeEl.appendChild(itemEl);
      });
    }
  }

  function getInputValue() {
    return inputValueEl.value.trim();
  }

  function clearInput() {
    inputValueEl.value = '';
    inputValueEl.focus();
  }

  // Event listeners
  addFrontBtn.addEventListener('click', () => {
    const val = getInputValue();
    if (val === '') {
      alert('Please enter a value to add.');
      inputValueEl.focus();
      return;
    }
    deque.addFront(val);
    log(`Added "${val}" to front`);
    renderDeque();
    clearInput();
  });

  addBackBtn.addEventListener('click', () => {
    const val = getInputValue();
    if (val === '') {
      alert('Please enter a value to add.');
      inputValueEl.focus();
      return;
    }
    deque.addBack(val);
    log(`Added "${val}" to back`);
    renderDeque();
    clearInput();
  });

  removeFrontBtn.addEventListener('click', () => {
    const removed = deque.removeFront();
    if (removed === null) {
      log('Cannot remove front: Deque is empty');
      alert('Deque is empty.');
    } else {
      log(`Removed "${removed}" from front`);
      renderDeque();
    }
  });

  removeBackBtn.addEventListener('click', () => {
    const removed = deque.removeBack();
    if (removed === null) {
      log('Cannot remove back: Deque is empty');
      alert('Deque is empty.');
    } else {
      log(`Removed "${removed}" from back`);
      renderDeque();
    }
  });

  peekFrontBtn.addEventListener('click', () => {
    const front = deque.peekFront();
    if (front === null) {
      log('Peek front: Deque is empty');
      alert('Deque is empty.');
    } else {
      log(`Peek front: "${front}"`);
      alert(`Front element: "${front}"`);
    }
  });

  peekBackBtn.addEventListener('click', () => {
    const back = deque.peekBack();
    if (back === null) {
      log('Peek back: Deque is empty');
      alert('Deque is empty.');
    } else {
      log(`Peek back: "${back}"`);
      alert(`Back element: "${back}"`);
    }
  });

  clearBtn.addEventListener('click', () => {
    deque.clear();
    log('Cleared deque');
    renderDeque();
  });

  // Initial render & focus
  renderDeque();
  inputValueEl.focus();
</script>
</body>
</html>