<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Stack Data Structure Visualization</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    background: #f0f4f8;
    color: #333;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 {
    margin-bottom: 0.5rem;
  }
  .stack-container {
    margin-top: 1rem;
    width: 200px;
    height: 350px;
    border: 3px solid #007BFF;
    border-radius: 8px;
    background: #e9f0fb;
    display: flex;
    flex-direction: column-reverse;
    align-items: center;
    padding: 10px;
    box-shadow: 0 0 10px rgba(0,123,255,0.3);
    position: relative;
  }
  .stack-element {
    width: 90%;
    background-color: #007BFF;
    color: white;
    margin: 5px 0;
    border-radius: 5px;
    padding: 8px 12px;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 2px 5px rgba(0,123,255,0.5);
    user-select: none;
  }
  .stack-element.top {
    border-bottom: 3px solid #FFC107;
  }
  .controls {
    margin-top: 1.5rem;
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    justify-content: center;
  }
  input[type="text"] {
    padding: 0.4rem 0.6rem;
    font-size: 1rem;
    border: 2px solid #007BFF;
    border-radius: 5px;
    width: 120px;
    outline-offset: 2px;
  }
  button {
    padding: 0.5rem 1.2rem;
    font-size: 1rem;
    border: none;
    border-radius: 5px;
    background-color: #007BFF;
    color: white;
    cursor: pointer;
    box-shadow: 0 3px 6px rgba(0,123,255,0.5);
    transition: background-color 0.3s ease;
  }
  button:hover:not(:disabled) {
    background-color: #0056b3;
  }
  button:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
    box-shadow: none;
  }
  .message {
    margin-top: 1rem;
    font-weight: bold;
    color: #d9534f;
    min-height: 1.4em;
  }
  .label-top {
    position: absolute;
    top: 5px;
    right: 10px;
    background: #ffc107;
    color: #333;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 0.8rem;
    user-select: none;
  }
  @media (max-width: 400px) {
    .stack-container {
      width: 150px;
      height: 280px;
    }
    input[type="text"] {
      width: 90px;
    }
  }
</style>
</head>
<body>
<h1>Stack Data Structure</h1>

<div class="stack-container" id="stackContainer" aria-label="Stack display" role="list" tabindex="0">
  <!-- Stack elements will appear here -->
</div>

<div class="controls">
  <input type="text" id="pushInput" aria-label="Value to push" placeholder="Enter value" />
  <button id="pushBtn" aria-label="Push value onto the stack">Push</button>
  <button id="popBtn" aria-label="Pop value from the stack">Pop</button>
  <button id="peekBtn" aria-label="Peek top value of the stack">Peek</button>
  <button id="clearBtn" aria-label="Clear the stack">Clear Stack</button>
</div>

<div class="message" id="message" role="alert" aria-live="assertive"></div>

<script>
  (function() {
    const stack = [];

    // DOM Elements
    const stackContainer = document.getElementById('stackContainer');
    const pushInput = document.getElementById('pushInput');
    const pushBtn = document.getElementById('pushBtn');
    const popBtn = document.getElementById('popBtn');
    const peekBtn = document.getElementById('peekBtn');
    const clearBtn = document.getElementById('clearBtn');
    const messageEl = document.getElementById('message');

    // Update the visual stack display
    function renderStack() {
      stackContainer.innerHTML = '';

      if(stack.length === 0) {
        const emptyMsg = document.createElement('div');
        emptyMsg.textContent = '(Stack is empty)';
        emptyMsg.style.color = '#666';
        emptyMsg.style.fontStyle = 'italic';
        emptyMsg.style.marginTop = 'auto';
        stackContainer.appendChild(emptyMsg);
        return;
      }

      stack.forEach((value, idx) => {
        const elem = document.createElement('div');
        elem.classList.add('stack-element');
        elem.textContent = value;
        if(idx === stack.length - 1) {
          elem.classList.add('top');
          const topLabel = document.createElement('div');
          topLabel.className = 'label-top';
          topLabel.textContent = 'Top';
          elem.appendChild(topLabel);
        }
        stackContainer.appendChild(elem);
      });
    }

    // Push operation
    function push() {
      const val = pushInput.value.trim();
      if(val === '') {
        showMessage('Please enter a value to push.');
        return;
      }
      stack.push(val);
      showMessage(`Pushed "${val}" onto the stack.`);
      pushInput.value = '';
      pushInput.focus();
      renderStack();
    }

    // Pop operation
    function pop() {
      if(stack.length === 0) {
        showMessage('Stack Underflow - nothing to pop!');
        return;
      }
      const popped = stack.pop();
      showMessage(`Popped "${popped}" from the stack.`);
      renderStack();
    }

    // Peek operation
    function peek() {
      if(stack.length === 0) {
        showMessage('Stack is empty - nothing to peek.');
        return;
      }
      const top = stack[stack.length -1];
      showMessage(`Top of the stack: "${top}"`);
    }

    // Clear stack operation
    function clearStack() {
      stack.length = 0;
      showMessage('Stack cleared.');
      renderStack();
      pushInput.focus();
    }

    // Show message helper
    function showMessage(msg) {
      messageEl.textContent = msg;
    }

    // Add event listeners
    pushBtn.addEventListener('click', push);
    popBtn.addEventListener('click', pop);
    peekBtn.addEventListener('click', peek);
    clearBtn.addEventListener('click', clearStack);

    // Support pushing with Enter key on input field
    pushInput.addEventListener('keydown', e => {
      if(e.key === 'Enter') {
        push();
      }
    });

    // Initial render
    renderStack();
  })();
</script>
</body>
</html>