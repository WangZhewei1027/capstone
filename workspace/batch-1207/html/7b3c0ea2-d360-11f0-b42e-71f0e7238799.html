<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topological Sort Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #graph {
            margin-bottom: 20px;
        }
        input {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>Topological Sort Visualization</h1>
    <div id="graph"></div>
    <h3>Add Edges</h3>
    <input type="text" id="fromNode" placeholder="From Node">
    <input type="text" id="toNode" placeholder="To Node">
    <button onclick="addEdge()">Add Edge</button>
    <button onclick="performTopologicalSort()">Topological Sort</button>
    
    <div id="output"></div>

    <script>
        let graph = {};
        
        function addEdge() {
            const fromNode = document.getElementById('fromNode').value.trim();
            const toNode = document.getElementById('toNode').value.trim();
            if (fromNode && toNode) {
                if (!graph[fromNode]) {
                    graph[fromNode] = [];
                }
                graph[fromNode].push(toNode);
                document.getElementById('output').innerText = `Edge added: ${fromNode} -> ${toNode}`;
            } else {
                alert('Please enter both nodes!');
            }
            document.getElementById('fromNode').value = '';
            document.getElementById('toNode').value = '';
        }

        function performTopologicalSort() {
            const sortedNodes = topologicalSort(graph);
            document.getElementById('output').innerText = 'Topological Sort: ' + sortedNodes.join(' -> ');
        }

        function topologicalSort(graph) {
            const visited = {};
            const stack = [];
            
            function visit(node) {
                if (!visited[node]) {
                    visited[node] = true;

                    if (graph[node]) {
                        graph[node].forEach(neighbour => visit(neighbour));
                    }
                    stack.push(node);
                }
            }

            Object.keys(graph).forEach(node => visit(node));
            return stack.reverse(); // Reverse to get correct order
        }
    </script>
</body>
</html>