<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two Pointers Algorithm Visualizer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .array-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        .array-element {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 5px;
            border: 2px solid #333;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .pointer {
            position: relative;
            margin-top: 10px;
            font-weight: bold;
        }
        .left-pointer { color: #e74c3c; }
        .right-pointer { color: #3498db; }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            background-color: #3498db;
            color: white;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #2980b9;
        }
        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }
        .explanation {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            line-height: 1.6;
        }
        .step-info {
            text-align: center;
            font-weight: bold;
            margin: 10px 0;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
        .target {
            color: #27ae60;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Two Pointers Algorithm Visualizer</h1>
        
        <div class="explanation">
            <h3>What is the Two Pointers Technique?</h3>
            <p>The two pointers technique is an algorithmic pattern where two pointers traverse a data structure (typically an array) 
            to solve problems efficiently. Common patterns include:</p>
            <ul>
                <li>One pointer starts at the beginning and the other at the end</li>
                <li>Both pointers start at the beginning but move at different speeds</li>
                <li>Pointers moving towards each other until they meet</li>
            </ul>
            <p>This demo shows solving the "Two Sum" problem: finding two numbers in a sorted array that add up to a target value.</p>
        </div>

        <div class="step-info" id="stepInfo">Click "Start" to begin the visualization</div>
        
        <div class="controls">
            <button id="startBtn">Start</button>
            <button id="nextBtn" disabled>Next Step</button>
            <button id="resetBtn" disabled>Reset</button>
        </div>

        <div class="array-container" id="arrayContainer">
            <!-- Array elements will be generated here -->
        </div>

        <div class="pointers">
            <div class="pointer left-pointer" id="leftPointer">Left Pointer: <span id="leftIndex">-</span></div>
            <div class="pointer right-pointer" id="rightPointer">Right Pointer: <span id="rightIndex">-</span></div>
        </div>

        <div class="explanation" id="algorithmExplanation">
            <h3>Algorithm Steps:</h3>
            <ol>
                <li>Initialize left pointer at index 0 and right pointer at the last index</li>
                <li>Calculate the sum of elements at both pointers</li>
                <li>If the sum equals the target, we found our solution</li>
                <li>If the sum is less than target, move left pointer to the right</li>
                <li>If the sum is greater than target, move right pointer to the left</li>
                <li>Repeat until pointers meet or solution is found</li>
            </ol>
        </div>
    </div>

    <script>
        // Sample sorted array and target for Two Sum problem
        const array = [2, 5, 7, 11, 15, 18, 22, 25];
        const target = 29;
        
        // DOM elements
        const arrayContainer = document.getElementById('arrayContainer');
        const leftPointer = document.getElementById('leftPointer');
        const rightPointer = document.getElementById('rightPointer');
        const leftIndex = document.getElementById('leftIndex');
        const rightIndex = document.getElementById('rightIndex');
        const stepInfo = document.getElementById('stepInfo');
        const startBtn = document.getElementById('startBtn');
        const nextBtn = document.getElementById('nextBtn');
        const resetBtn = document.getElementById('resetBtn');
        
        // Algorithm state
        let left = 0;
        let right = array.length - 1;
        let currentStep = 0;
        let isRunning = false;
        
        // Initialize array visualization
        function initializeArray() {
            arrayContainer.innerHTML = '';
            array.forEach((value, index) => {
                const element = document.createElement('div');
                element.className = 'array-element';
                element.id = `element-${index}`;
                element.textContent = value;
                arrayContainer.appendChild(element);
            });
        }
        
        // Update pointers visualization
        function updatePointers() {
            leftIndex.textContent = left;
            rightIndex.textContent = right;
            
            // Reset all elements to default style
            document.querySelectorAll('.array-element').forEach(el => {
                el.style.backgroundColor = 'white';
                el.style.color = 'black';
                el.style.borderColor = '#333';
            });
            
            // Highlight left pointer
            if (left >= 0 && left < array.length) {
                const leftEl = document.getElementById(`element-${left}`);
                leftEl.style.backgroundColor = '#e74c3c';
                leftEl.style.color = 'white';
            }
            
            // Highlight right pointer
            if (right >= 0 && right < array.length) {
                const rightEl = document.getElementById(`element-${right}`);
                rightEl.style.backgroundColor = '#3498db';
                rightEl.style.color = 'white';
            }
        }
        
        // Perform one step of the algorithm
        function nextStep() {
            if (left >= right) {
                stepInfo.textContent = `Pointers have met. No solution found for target ${target}.`;
                nextBtn.disabled = true;
                return;
            }
            
            const sum = array[left] + array[right];
            currentStep++;
            
            if (sum === target) {
                stepInfo.innerHTML = `Solution found! ${array[left]} + ${array[right]} = <span class="target">${target}</span>`;
                // Highlight the solution
                document.getElementById(`element-${left}`).style.borderColor = '#27ae60';
                document.getElementById(`element-${left}`).style.borderWidth = '4px';
                document.getElementById(`element-${right}`).style.borderColor = '#27ae60';
                document.getElementById(`element-${right}`).style.borderWidth = '4px';
                nextBtn.disabled = true;
            } else if (sum < target) {
                stepInfo.innerHTML = `Sum ${array[left]} + ${array[right]} = ${sum} < <span class="target">${target}</span>. Moving left pointer right.`;
                left++;
            } else {
                stepInfo.innerHTML = `Sum ${array[left]} + ${array[right]} = ${sum} > <span class="target">${target}</span>. Moving right pointer left.`;
                right--;
            }
            
            updatePointers();
        }
        
        // Reset the algorithm
        function reset() {
            left = 0;
            right = array.length - 1;
            currentStep = 0;
            nextBtn.disabled = false;
            stepInfo.textContent = `Algorithm reset. Find two numbers that sum to ${target}.`;
            updatePointers();
        }
        
        // Start the visualization
        function start() {
            isRunning = true;
            startBtn.disabled = true;
            nextBtn.disabled = false;
            resetBtn.disabled = false;
            stepInfo.textContent = `Starting Two Pointers algorithm. Target sum: ${target}`;
            updatePointers();
        }
        
        // Event listeners
        startBtn.addEventListener('click', start);
        nextBtn.addEventListener('click', nextStep);
        resetBtn.addEventListener('click', reset);
        
        // Initialize the visualization
        initializeArray();
        updatePointers();
        stepInfo.textContent = `Two Sum Problem: Find two numbers in the array that add up to ${target}. Click "Start" to begin.`;
    </script>
</body>
</html>