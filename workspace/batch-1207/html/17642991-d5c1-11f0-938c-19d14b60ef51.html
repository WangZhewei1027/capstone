<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kruskal's Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        #graph {
            margin: 20px 0;
            display: flex;
            justify-content: center;
        }
        .edge {
            position: absolute;
            background-color: transparent;
            color: black;
        }
        .node {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: lightblue;
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #333;
        }
    </style>
</head>
<body>

<h1>Kruskal's Algorithm Visualization</h1>
<div id="graph"></div>
<button onclick="runKruskal()">Run Kruskal's Algorithm</button>

<script>
    const edges = [
        {start: {x: 100, y: 100}, end: {x: 300, y: 100}, weight: 4},
        {start: {x: 300, y: 100}, end: {x: 400, y: 300}, weight: 6},
        {start: {x: 100, y: 100}, end: {x: 200, y: 300}, weight: 2},
        {start: {x: 200, y: 300}, end: {x: 400, y: 300}, weight: 1},
        {start: {x: 200, y: 300}, end: {x: 100, y: 500}, weight: 5},
        {start: {x: 400, y: 300}, end: {x: 100, y: 500}, weight: 3}
    ];

    const graphElement = document.getElementById("graph");

    function createNode(x, y, name) {
        const node = document.createElement("div");
        node.className = "node";
        node.style.left = x + "px";
        node.style.top = y + "px";
        node.innerText = name;
        graphElement.appendChild(node);
    }

    function createEdge(start, end) {
        const edge = document.createElement("div");
        edge.className = "edge";
        edge.style.left = Math.min(start.x, end.x) + "px";
        edge.style.top = Math.min(start.y, end.y) + "px";

        const width = Math.abs(end.x - start.x);
        const height = Math.abs(end.y - start.y);
        edge.style.width = width + "px";
        edge.style.height = height + "px";

        graphElement.appendChild(edge);
        drawLine(edge, start, end);
    }

    function drawLine(edge, start, end) {
        const deltaX = end.x - start.x;
        const deltaY = end.y - start.y;
        const angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
        edge.style.transform = `rotate(${angle}deg)`;
    }

    function find(parent, i) {
        if (parent[i] === -1) return i;
        return find(parent, parent[i]);
    }

    function union(parent, x, y) {
        parent[x] = y;
    }

    function kruskal() {
        const sortedEdges = edges.sort((a, b) => a.weight - b.weight);
        const parent = Array(edges.length).fill(-1);
        const mst = [];

        sortedEdges.forEach((edge) => {
            const x = find(parent, edges.indexOf(edge.start));
            const y = find(parent, edges.indexOf(edge.end));

            if (x !== y) {
                mst.push(edge);
                union(parent, x, y);
            }
        });

        return mst;
    }

    function drawMST(mst) {
        mst.forEach((edge) => {
            createEdge(edge.start, edge.end);
        });
    }

    function runKruskal() {
        const mst = kruskal();
        drawMST(mst);
    }

    // Create nodes
    createNode(100, 100, 'A');
    createNode(300, 100, 'B');
    createNode(200, 300, 'C');
    createNode(400, 300, 'D');
    createNode(100, 500, 'E');

    // Create initial edges for the graph
    edges.forEach(edge => createEdge(edge.start, edge.end));
</script>

</body>
</html>