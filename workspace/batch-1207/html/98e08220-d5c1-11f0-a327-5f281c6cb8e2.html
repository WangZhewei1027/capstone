<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Linked List Visualizer</title>
<style>
  :root{
    --bg:#0f1724;
    --card:#0b1220;
    --accent:#06b6d4;
    --muted:#9aa9b6;
    --node-bg:#0ea5a1;
    --node-text:#021124;
    --arrow:#94a3b8;
    --danger:#ef4444;
    --glass: rgba(255,255,255,0.03);
  }
  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{background:linear-gradient(180deg,#071022 0%, #081229 60%);color:#e6eef6;}
  .app{
    display:flex;gap:18px;padding:18px;box-sizing:border-box;height:100%;
  }
  .panel{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.04);
    border-radius:10px;padding:14px;box-shadow: 0 6px 18px rgba(2,6,23,0.6);
  }
  .left{
    flex:1;display:flex;flex-direction:column;gap:12px;min-width:480px;
  }
  .right{
    width:420px;display:flex;flex-direction:column;gap:12px;
  }
  h1{margin:0;font-size:18px;color:var(--accent);}
  .subtitle{margin:0;color:var(--muted);font-size:13px;}
  .viz{
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border-radius:8px;padding:12px;min-height:320px;position:relative;overflow:auto;
  }

  .controls{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
  .controls .full{grid-column:1/-1;}
  label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px;}
  input[type="text"], input[type="number"], select{
    width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;
  }
  button{
    padding:8px 10px;border-radius:8px;background:var(--accent);color:#021124;border:none;cursor:pointer;
    font-weight:600;
  }
  button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);font-weight:600;}
  button.danger{background:var(--danger);color:white;}
  .small{padding:8px 6px;font-size:13px;}
  .row{display:flex;gap:8px;align-items:center;}
  .meta{font-size:13px;color:var(--muted);margin-top:6px;}
  .log{background:rgba(255,255,255,0.02);padding:8px;border-radius:8px;height:140px;overflow:auto;font-family:monospace;font-size:13px;color:var(--muted);}
  .code{background:#071523;padding:10px;border-radius:8px;color:#bcd;overflow:auto;font-family:monospace;font-size:13px;height:220px;}
  .node{
    display:inline-flex;align-items:center;gap:0;margin-right:26px;position:relative;transform-origin:center;
  }
  .box{
    width:80px;height:48px;border-radius:8px;background:linear-gradient(180deg, #e6fffb, #bff7f5);color:var(--node-text);
    display:flex;justify-content:space-between;align-items:center;padding:8px 10px;box-sizing:border-box;font-weight:700;box-shadow:0 8px 14px rgba(2,10,16,0.25);
  }
  .box .val{font-size:16px}
  .box .ptr{font-size:12px;color:#08323a;opacity:0.85}
  .arrow{
    position:absolute;right:-34px;top:50%;transform:translateY(-50%);width:60px;height:2px;background:transparent;
  }
  /* arrow head via svg */
  svg.pointer{overflow:visible}
  .node.highlight .box{background:linear-gradient(180deg,#ffdca8,#ffb86b);color:#2b1200;box-shadow:0 12px 22px rgba(43,18,0,0.25)}
  .node.found .box{background:linear-gradient(180deg,#bbf7d0,#86efac);color:#06321a}
  .badge{
    position:absolute;left:8px;top:-10px;background:var(--accent);color:#021124;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700;
  }
  .legend{display:flex;gap:8px;align-items:center;color:var(--muted);font-size:13px}
  .legend .item{display:flex;gap:6px;align-items:center}
  .dot{width:18px;height:18px;border-radius:4px;background:var(--accent);box-shadow:0 6px 12px rgba(6,182,212,0.12)}
  .dot2{width:18px;height:18px;border-radius:4px;background:linear-gradient(180deg,#ffdca8,#ffb86b)}
  .dot3{width:18px;height:18px;border-radius:4px;background:linear-gradient(180deg,#bbf7d0,#86efac)}
  .controls-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
  .muted{color:var(--muted);font-size:13px}
  .footer{display:flex;justify-content:space-between;align-items:center;margin-top:8px;color:var(--muted);font-size:13px}
  @media(max-width:980px){
    .app{flex-direction:column;padding:12px}
    .left{min-width:0}
    .right{width:100%}
  }
</style>
</head>
<body>
<div class="app">
  <div class="panel left">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div>
        <h1>Linked List Visualizer</h1>
        <p class="subtitle">Singly linked list — visualize nodes, traversal, insertion, deletion and reversal</p>
      </div>
      <div class="legend">
        <div class="item"><div class="dot"></div><div class="muted">Active node</div></div>
        <div class="item"><div class="dot2"></div><div class="muted">Current (traversal)</div></div>
        <div class="item"><div class="dot3"></div><div class="muted">Found</div></div>
      </div>
    </div>

    <div class="viz panel" id="viz" aria-live="polite">
      <!-- visualization area -->
      <div id="nodesRow" style="display:flex;align-items:center;min-height:240px;padding:10px;"></div>
      <!-- Head/Tail badges will be positioned relative to nodes -->
      <div id="badges"></div>
    </div>

    <div style="display:flex;gap:8px;align-items:center;">
      <div class="meta">Size: <span id="size">0</span></div>
      <div style="flex:1"></div>
      <div class="meta">Head: <span id="headVal">null</span></div>
      <div style="width:8px"></div>
      <div class="meta">Tail: <span id="tailVal">null</span></div>
    </div>

    <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap;">
      <button id="btnTraverse" class="small secondary">Traverse (step)</button>
      <button id="btnTraverseFast" class="small">Traverse (fast)</button>
      <button id="btnReverse" class="small">Reverse</button>
      <button id="btnClear" class="small danger">Clear</button>
      <div style="flex:1"></div>
      <div class="muted">Max visual nodes: 12</div>
    </div>
  </div>

  <div class="panel right">
    <div>
      <label>Value</label>
      <input type="text" id="valueInput" placeholder="any text or number" />
    </div>
    <div class="controls" style="margin-top:8px;">
      <div>
        <label>Insert at</label>
        <input type="number" id="indexInput" placeholder="index (0 = head)" min="0"/>
      </div>
      <div style="display:flex;flex-direction:column;gap:6px;">
        <label>&nbsp;</label>
        <div style="display:flex;gap:6px;">
          <button id="btnAddHead" class="small">Add Head</button>
          <button id="btnAddTail" class="small">Add Tail</button>
          <button id="btnInsert" class="small secondary">Insert at index</button>
        </div>
      </div>

      <div class="full" style="margin-top:6px;">
        <label>Remove at index</label>
        <div style="display:flex;gap:6px;">
          <input type="number" id="removeIndex" placeholder="index" min="0"/>
          <button id="btnRemove" class="small secondary">Remove</button>
          <button id="btnRemoveHead" class="small">Remove Head</button>
          <button id="btnRemoveTail" class="small">Remove Tail</button>
        </div>
      </div>

      <div class="full" style="margin-top:4px;">
        <label>Find value</label>
        <div style="display:flex;gap:6px;">
          <input type="text" id="findValue" placeholder="value to find"/>
          <button id="btnFind" class="small">Find</button>
          <button id="btnFindFast" class="small secondary">Find (fast)</button>
        </div>
      </div>

      <div class="full" style="display:flex;gap:6px;margin-top:6px;">
        <button id="btnRandom" class="small">Fill random (5)</button>
        <button id="btnSample" class="small secondary">Sample list</button>
        <button id="btnShuffle" class="small">Shuffle</button>
      </div>
    </div>

    <div style="margin-top:12px;">
      <label>Operations log</label>
      <div class="log" id="log" aria-live="polite"></div>
    </div>

    <div style="margin-top:10px;">
      <label>LinkedList class (click operation to highlight)</label>
      <div class="code" id="code">
<pre id="codeText">
class Node {
  constructor(val) {
    this.val = val;
    this.next = null;
  }
}

class LinkedList {
  constructor() {
    this.head = null;
    this.tail = null;
    this.size = 0;
  }

  insertHead(val) {
    const node = new Node(val);
    node.next = this.head;
    this.head = node;
    if (!this.tail) this.tail = node;
    this.size++;
  }

  insertTail(val) {
    const node = new Node(val);
    if (!this.head) {
      this.head = this.tail = node;
    } else {
      this.tail.next = node;
      this.tail = node;
    }
    this.size++;
  }

  insertAt(index, val) {
    if (index <= 0) return this.insertHead(val);
    if (index >= this.size) return this.insertTail(val);
    let prev = this.head;
    for (let i = 0; i < index - 1; i++) prev = prev.next;
    const node = new Node(val);
    node.next = prev.next;
    prev.next = node;
    this.size++;
  }

  removeHead() {
    if (!this.head) return null;
    const val = this.head.val;
    this.head = this.head.next;
    if (!this.head) this.tail = null;
    this.size--;
    return val;
  }

  removeTail() {
    if (!this.head) return null;
    if (this.head === this.tail) {
      const v = this.head.val; this.head = this.tail = null; this.size--; return v;
    }
    let cur = this.head;
    while (cur.next !== this.tail) cur = cur.next;
    const v = this.tail.val;
    cur.next = null;
    this.tail = cur;
    this.size--;
    return v;
  }

  find(val) {
    let cur = this.head;
    while (cur) {
      if (cur.val === val) return cur;
      cur = cur.next;
    }
    return null;
  }

  reverse() {
    let prev = null;
    let cur = this.head;
    this.tail = this.head;
    while (cur) {
      const next = cur.next;
      cur.next = prev;
      prev = cur;
      cur = next;
    }
    this.head = prev;
  }
}
</pre>
      </div>
    </div>

    <div class="footer">
      <div class="muted">Interactive demo — step through operations</div>
      <div class="muted">Made for learning</div>
    </div>
  </div>
</div>

<script>
/*
  Linked List Visualizer
  - Single file demo
  - Singly linked list with operations and animations
*/

// Basic Node / LinkedList model used for logic (mirrors displayed code)
class Node {
  constructor(val) {
    this.val = val;
    this.next = null;
  }
}

class LinkedList {
  constructor() {
    this.head = null;
    this.tail = null;
    this.size = 0;
  }

  insertHead(val) {
    const node = new Node(val);
    node.next = this.head;
    this.head = node;
    if (!this.tail) this.tail = node;
    this.size++;
    return node;
  }

  insertTail(val) {
    const node = new Node(val);
    if (!this.head) {
      this.head = this.tail = node;
    } else {
      this.tail.next = node;
      this.tail = node;
    }
    this.size++;
    return node;
  }

  insertAt(index, val) {
    if (index <= 0) return this.insertHead(val);
    if (index >= this.size) return this.insertTail(val);
    let prev = this.head;
    for (let i = 0; i < index - 1; i++) prev = prev.next;
    const node = new Node(val);
    node.next = prev.next;
    prev.next = node;
    this.size++;
    return node;
  }

  removeHead() {
    if (!this.head) return null;
    const val = this.head.val;
    this.head = this.head.next;
    if (!this.head) this.tail = null;
    this.size--;
    return val;
  }

  removeTail() {
    if (!this.head) return null;
    if (this.head === this.tail) {
      const v = this.head.val; this.head = this.tail = null; this.size--; return v;
    }
    let cur = this.head;
    while (cur.next !== this.tail) cur = cur.next;
    const v = this.tail.val;
    cur.next = null;
    this.tail = cur;
    this.size--;
    return v;
  }

  removeAt(index) {
    if (index <= 0) return this.removeHead();
    if (index >= this.size - 1) return this.removeTail();
    let prev = this.head;
    for (let i = 0; i < index - 1; i++) prev = prev.next;
    const val = prev.next.val;
    prev.next = prev.next.next;
    this.size--;
    return val;
  }

  find(val) {
    let cur = this.head;
    while (cur) {
      if (cur.val == val) return cur;
      cur = cur.next;
    }
    return null;
  }

  reverse() {
    let prev = null;
    let cur = this.head;
    this.tail = this.head;
    while (cur) {
      const next = cur.next;
      cur.next = prev;
      prev = cur;
      cur = next;
    }
    this.head = prev;
  }

  toArray() {
    const arr = [];
    let cur = this.head;
    while (cur) { arr.push(cur.val); cur = cur.next; }
    return arr;
  }
}

// UI / Visualization logic
const list = new LinkedList();
const nodesRow = document.getElementById('nodesRow');
const logEl = document.getElementById('log');
const sizeEl = document.getElementById('size');
const headValEl = document.getElementById('headVal');
const tailValEl = document.getElementById('tailVal');
const viz = document.getElementById('viz');

let animating = false;
const MAX_VISUAL = 12;

// Helpers
function log(msg){
  const time = new Date().toLocaleTimeString();
  logEl.innerText = `[${time}] ${msg}\n` + logEl.innerText;
}

function clampVisual(arr){
  if (arr.length <= MAX_VISUAL) return arr;
  // show first 4, ellipsis, last 4
  return [
    ...arr.slice(0,4),
    '…',
    ...arr.slice(arr.length-4)
  ];
}

function render() {
  // clear
  nodesRow.innerHTML = '';

  const arr = list.toArray();
  const show = clampVisual(arr);
  sizeEl.innerText = list.size;
  headValEl.innerText = list.head ? String(list.head.val) : 'null';
  tailValEl.innerText = list.tail ? String(list.tail.val) : 'null';

  show.forEach((val, idx) => {
    const wrapper = document.createElement('div');
    wrapper.className = 'node';
    wrapper.style.position = 'relative';

    const box = document.createElement('div');
    box.className = 'box';
    const vspan = document.createElement('div');
    vspan.className = 'val';
    vspan.innerText = val;
    const pspan = document.createElement('div');
    pspan.className = 'ptr';
    pspan.innerText = (val === '…') ? '' : 'next';

    box.appendChild(vspan);
    box.appendChild(pspan);
    wrapper.appendChild(box);

    // add arrow SVG (if not last in visual)
    const arrow = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    arrow.classList.add('pointer');
    arrow.setAttribute('width','60');
    arrow.setAttribute('height','20');
    arrow.setAttribute('viewBox','0 0 60 20');
    arrow.style.position='absolute';
    arrow.style.right='-34px';
    arrow.style.top='50%';
    arrow.style.transform='translateY(-50%)';
    if (val !== '…' && idx !== show.length - 1) {
      const line = document.createElementNS("http://www.w3.org/2000/svg","line");
      line.setAttribute('x1','0');line.setAttribute('y1','10');
      line.setAttribute('x2','44');line.setAttribute('y2','10');
      line.setAttribute('stroke', 'rgba(148,163,184,0.9)');
      line.setAttribute('stroke-width','2');
      arrow.appendChild(line);
      const head = document.createElementNS("http://www.w3.org/2000/svg","polyline");
      head.setAttribute('points','42,6 50,10 42,14');
      head.setAttribute('fill','none');
      head.setAttribute('stroke','rgba(148,163,184,0.95)');
      head.setAttribute('stroke-width','2');
      arrow.appendChild(head);
    }
    wrapper.appendChild(arrow);

    nodesRow.appendChild(wrapper);
  });

  // badges for head/tail — place above first/last real nodes (not ellipsis)
  // Remove existing badges
  const existing = document.querySelectorAll('.badge');
  existing.forEach(e => e.remove());
  // find the real index of head and tail in the visual display
  if (list.head) {
    // place "Head" above first visible node (if first visual is ellipsis and head not visible, show left).
    const firstNode = nodesRow.children[0];
    const badge = document.createElement('div');
    badge.className = 'badge';
    badge.innerText = 'HEAD';
    badge.title = String(list.head.val);
    if (firstNode) {
      firstNode.style.marginLeft = '6px';
      firstNode.appendChild(badge);
    } else {
      viz.appendChild(badge);
    }
  }
  if (list.tail) {
    // place "Tail" above last visible node
    const children = Array.from(nodesRow.children);
    const lastNode = children[children.length-1];
    const badge = document.createElement('div');
    badge.className = 'badge';
    badge.style.left = 'auto';
    badge.style.right = '8px';
    badge.innerText = 'TAIL';
    badge.title = String(list.tail.val);
    if (lastNode) {
      lastNode.appendChild(badge);
    } else {
      viz.appendChild(badge);
    }
  }
}

// Animations: traversal with highlighting
function highlightSequence(indices, {speed=600, foundIndex=null, onFinish=null} = {}) {
  if (animating) return;
  animating = true;
  const nodes = Array.from(nodesRow.children);
  // clear existing highlights
  nodes.forEach(n => n.classList.remove('highlight','found'));
  let i=0;
  function step(){
    if (i>0 && nodes[i-1]) nodes[i-1].classList.remove('highlight');
    if (i < indices.length && nodes[indices[i]]) {
      const node = nodes[indices[i]];
      node.classList.add('highlight');
      if (foundIndex !== null && indices[i] === foundIndex) {
        node.classList.remove('highlight');
        node.classList.add('found');
      }
    } else {
      // done
    }
    i++;
    if (i <= indices.length) {
      setTimeout(step, speed);
    } else {
      animating = false;
      if (onFinish) onFinish();
    }
  }
  step();
}

// Map logical index to visual index, accounting for ellipsis
function mapIndexToVisual(idx) {
  const arr = list.toArray();
  if (arr.length <= MAX_VISUAL) return idx;
  // If visual has ellipsis: [0..3,'…', last-3..last]
  const prefix = 4;
  const suffix = 4;
  const totalVis = prefix + 1 + suffix;
  if (idx < prefix) return idx;
  if (idx >= arr.length - suffix) {
    const offset = prefix + 1 + (idx - (arr.length - suffix));
    return offset;
  }
  // middle (not shown) map to the ellipsis index (prefix)
  return prefix; // the '…' slot
}

// Build sequence of visual indices for traversal of full list (for demonstration we visit every logical node)
// For nodes not visible we still highlight the '…' slot once to indicate skipped section.
function buildTraversalSequence() {
  const arr = list.toArray();
  const seq = [];
  for (let i=0;i<arr.length;i++){
    seq.push(mapIndexToVisual(i));
  }
  // collapse consecutive duplicates for performance and clarity
  const collapsed = seq.filter((v,i)=> i===0 || v !== seq[i-1]);
  return collapsed;
}

// UI wiring
document.getElementById('btnAddHead').addEventListener('click', ()=> {
  const val = document.getElementById('valueInput').value || prompt('Value for new head:') || '';
  if (val === null) return;
  if (list.size >= 2000) return;
  const node = list.insertHead(val);
  log(`insertHead(${val})`);
  render();
});
document.getElementById('btnAddTail').addEventListener('click', ()=> {
  const val = document.getElementById('valueInput').value || prompt('Value for new tail:') || '';
  if (val === null) return;
  list.insertTail(val);
  log(`insertTail(${val})`);
  render();
});
document.getElementById('btnInsert').addEventListener('click', ()=> {
  const val = document.getElementById('valueInput').value;
  const idxInput = Number(document.getElementById('indexInput').value);
  const idx = Number.isFinite(idxInput) ? idxInput : 0;
  if (val === '') { alert('Enter a value to insert'); return; }
  list.insertAt(idx, val);
  log(`insertAt(${idx}, ${val})`);
  render();
});
document.getElementById('btnRemoveHead').addEventListener('click', ()=> {
  const v = list.removeHead();
  log(`removeHead() -> ${v}`);
  render();
});
document.getElementById('btnRemoveTail').addEventListener('click', ()=> {
  const v = list.removeTail();
  log(`removeTail() -> ${v}`);
  render();
});
document.getElementById('btnRemove').addEventListener('click', ()=> {
  const idxInput = Number(document.getElementById('removeIndex').value);
  if (!Number.isFinite(idxInput)) { alert('Enter an index'); return; }
  const v = list.removeAt(idxInput);
  log(`removeAt(${idxInput}) -> ${v}`);
  render();
});
document.getElementById('btnFind').addEventListener('click', ()=> {
  const val = document.getElementById('findValue').value;
  if (val === '') { alert('Enter a value to find'); return; }
  // perform step-by-step visual traversal
  const arr = list.toArray();
  const seq = buildTraversalSequence();
  const foundLogicalIndex = arr.findIndex(x => x==val);
  const foundVisualIndex = foundLogicalIndex === -1 ? null : mapIndexToVisual(foundLogicalIndex);
  log(`find(${val}) — starting traversal`);
  highlightSequence(seq, {speed:700, foundIndex: foundVisualIndex, onFinish: ()=> {
    if (foundLogicalIndex === -1) log(`find: value not found`);
    else log(`find: value found at index ${foundLogicalIndex}`);
  }});
});
document.getElementById('btnFindFast').addEventListener('click', ()=> {
  const val = document.getElementById('findValue').value;
  if (val === '') { alert('Enter a value to find'); return; }
  const node = list.find(val);
  log(`find(${val}) -> ${node ? 'found' : 'not found'}`);
  // quick highlight: if found, flash node; else flash nothing
  render();
  if (node) {
    const arr = list.toArray();
    const idx = arr.findIndex(x => x==val);
    const vis = mapIndexToVisual(idx);
    const nodes = Array.from(nodesRow.children);
    if (nodes[vis]) {
      nodes[vis].classList.add('found');
      setTimeout(()=> nodes[vis] && nodes[vis].classList.remove('found'), 1200);
    }
  }
});
document.getElementById('btnTraverse').addEventListener('click', ()=> {
  if (list.size === 0) { log('Traverse: list is empty'); return; }
  const seq = buildTraversalSequence();
  log('Starting traversal (step)');
  highlightSequence(seq, {speed:700, onFinish: ()=> log('Traversal complete')});
});
document.getElementById('btnTraverseFast').addEventListener('click', ()=> {
  if (list.size === 0) { log('Traverse fast: list is empty'); return; }
  const seq = buildTraversalSequence();
  log('Starting traversal (fast)');
  highlightSequence(seq, {speed:180, onFinish: ()=> log('Traversal complete')});
});
document.getElementById('btnReverse').addEventListener('click', ()=> {
  if (list.size === 0) { log('Reverse: list empty'); return; }
  // animate reversal by stepping pointers — but we'll just show a fast traversal and then swap
  log('reverse() — performing in-place reversal');
  // tiny animation: highlight nodes while reversing to indicate work
  const arr = list.toArray();
  const seq = buildTraversalSequence();
  highlightSequence(seq, {speed:120, onFinish: ()=> {
    list.reverse();
    render();
    log('reverse() complete');
  }});
});
document.getElementById('btnClear').addEventListener('click', ()=> {
  list.head = list.tail = null;
  list.size = 0;
  log('clear()');
  render();
});
document.getElementById('btnRandom').addEventListener('click', ()=> {
  // fill with 5 random values
  const count = 5;
  for (let i=0;i<count;i++){
    list.insertTail(Math.floor(Math.random()*90)+10);
  }
  log(`fill random(${count})`);
  render();
});
document.getElementById('btnSample').addEventListener('click', ()=> {
  const sample = ['A','B','C','D','E','F','G'];
  list.head = list.tail = null; list.size = 0;
  sample.forEach(v=>list.insertTail(v));
  log('sample list loaded: ' + sample.join(','));
  render();
});
document.getElementById('btnShuffle').addEventListener('click', ()=> {
  const arr = list.toArray();
  for (let i=arr.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]] = [arr[j],arr[i]];
  }
  // rebuild list
  list.head = list.tail = null; list.size = 0;
  arr.forEach(v=>list.insertTail(v));
  log('list shuffled');
  render();
});

// Allow clicking code lines to highlight corresponding operation (educational)
const codeText = document.getElementById('codeText');
codeText.addEventListener('click', (e)=> {
  // If clicked, briefly flash the code area
  codeText.style.background = 'linear-gradient(90deg, rgba(6,182,212,0.06), rgba(255,255,255,0.02))';
  setTimeout(()=> codeText.style.background = '', 700);
});

// Initialize with a sample
(function init() {
  document.getElementById('valueInput').value = '1';
  document.getElementById('findValue').value = '';
  // seed list with 3 nodes
  list.insertTail(10);
  list.insertTail(20);
  list.insertTail(30);
  render();
  log('Demo initialized with 10 -> 20 -> 30');
})();

// Minimal keyboard shortcuts for convenience
document.addEventListener('keydown', (e) => {
  if (e.ctrlKey && e.key === 'r') {
    e.preventDefault();
    document.getElementById('btnReverse').click();
  }
});
</script>
</body>
</html>