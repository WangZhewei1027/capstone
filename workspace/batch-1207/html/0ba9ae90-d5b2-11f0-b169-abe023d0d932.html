<!DOCTYPE html>
<html>
<head>
    <title>Depth-First Search (DFS)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #graph {
            width: 800px;
            height: 600px;
            border: 1px solid black;
            border-radius: 10px;
            margin: 40px auto;
        }
        #graph img {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <h1>Depth-First Search (DFS)</h1>
    <canvas id="graph"></canvas>
    <input type="text" id="source" placeholder="Enter starting node">
    <input type="text" id="target" placeholder="Enter target node">
    <button id="start">Start DFS</button>
    <button id="reset">Reset</button>

    <script>
        let graph = {};
        let nodes = [];
        let edges = [];

        function addNode(node) {
            if (!graph[node]) {
                graph[node] = [];
            }
            nodes.push(node);
            edges.push({ source: node, target: null });
        }

        function addEdge(node1, node2) {
            graph[node1].push(node2);
            graph[node2].push(node1);
        }

        function dfs(node, visited) {
            visited[node] = true;
            console.log(`Visited ${node}`);
            for (let edge of edges) {
                if (edge.target && !visited[edge.target]) {
                    dfs(edge.target, visited);
                }
            }
        }

        function drawGraph() {
            let ctx = document.getElementById("graph").getContext("2d");
            ctx.clearRect(0, 0, 800, 600);
            for (let node of nodes) {
                ctx.beginPath();
                ctx.arc(node * 50 + 400, 300, 20, 0, 2 * Math.PI);
                ctx.fillStyle = "blue";
                ctx.fill();
            }
            for (let edge of edges) {
                ctx.beginPath();
                ctx.moveTo(edge.source * 50 + 400, 300);
                ctx.lineTo(edge.target * 50 + 400, 300);
                ctx.strokeStyle = "red";
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        }

        function startDFS() {
            let source = parseInt(document.getElementById("source").value);
            let target = parseInt(document.getElementById("target").value);
            if (source < 1 || source > nodes.length || target < 1 || target > nodes.length) {
                alert("Invalid source or target node");
                return;
            }
            if (source === target) {
                console.log("Source and target are the same node");
                return;
            }
            visited = new Array(nodes.length).fill(false);
            console.log("Starting DFS from node", source);
            dfs(source, visited);
            console.log("DFS completed");
            drawGraph();
        }

        function resetGraph() {
            nodes = [];
            edges = [];
            graph = {};
            visited = new Array(nodes.length).fill(false);
            console.log("Resetting graph");
            drawGraph();
        }

        document.getElementById("start").addEventListener("click", startDFS);
        document.getElementById("reset").addEventListener("click", resetGraph);
    </script>
</body>
</html>