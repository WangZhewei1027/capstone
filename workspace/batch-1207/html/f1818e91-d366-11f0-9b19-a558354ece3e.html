<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Search Algorithm Visualizer</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 800px;
            padding: 30px;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .description {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .input-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        input, button {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        button {
            background: #764ba2;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #667eea;
        }
        
        .array-display {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
        }
        
        .array-elements {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .element {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .normal {
            background: #ddd;
            color: #333;
        }
        
        .low {
            background: #ff9800;
            color: white;
        }
        
        .high {
            background: #f44336;
            color: white;
        }
        
        .mid {
            background: #4caf50;
            color: white;
            transform: scale(1.1);
        }
        
        .found {
            background: #2196f3;
            color: white;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .log-section {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .log-entry {
            padding: 5px;
            border-bottom: 1px solid #eee;
            font-family: monospace;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-weight: bold;
        }
        
        .complexity {
            margin-top: 20px;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
        }
        
        .complexity h3 {
            margin-bottom: 10px;
            color: #333;
        }
        
        .complexity p {
            margin-bottom: 5px;
            color: #666;
        }
        
        .highlight {
            background: #fff9c4;
            padding: 2px 5px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Binary Search Algorithm Visualizer</h1>
        
        <div class="description">
            <p>Binary search is an efficient algorithm for finding an item from a sorted list of items. 
            It works by repeatedly dividing in half the portion of the list that could contain the item, 
            until you've narrowed down the possible locations to just one.</p>
        </div>
        
        <div class="input-section">
            <div>
                <label for="arrayInput">Sorted Array (comma-separated):</label>
                <input type="text" id="arrayInput" value="1,3,5,7,9,11,13,15,17,19,21,23,25">
            </div>
            
            <div>
                <label for="targetInput">Target Element to Search:</label>
                <input type="number" id="targetInput" value="13">
            </div>
            
            <button id="searchBtn">Start Binary Search</button>
            <button id="resetBtn">Reset</button>
        </div>
        
        <div class="array-display">
            <div class="array-elements" id="arrayElements">
                <!-- Array elements will be dynamically generated here -->
            </div>
        </div>
        
        <div class="log-section" id="logSection">
            <!-- Search log will be displayed here -->
        </div>
        
        <div class="stats">
            <div>Comparisons: <span id="comparisonCount">0</span></div>
            <div>Steps: <span id="stepCount">0</span></div>
        </div>
        
        <div class="complexity">
            <h3>Algorithm Complexity</h3>
            <p><span class="highlight">Time Complexity:</span> O(log n) - logarithmic time</p>
            <p><span class="highlight">Space Complexity:</span> O(1) - constant space (iterative approach)</p>
            <p><span class="highlight">Best Case:</span> O(1) - when the target is at the middle</p>
            <p><span class="highlight">Worst Case:</span> O(log n) - when the target is at either end</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const arrayInput = document.getElementById('arrayInput');
            const targetInput = document.getElementById('targetInput');
            const searchBtn = document.getElementById('searchBtn');
            const resetBtn = document.getElementById('resetBtn');
            const arrayElements = document.getElementById('arrayElements');
            const logSection = document.getElementById('logSection');
            const comparisonCount = document.getElementById('comparisonCount');
            const stepCount = document.getElementById('stepCount');
            
            let array = [];
            let comparisons = 0;
            let steps = 0;
            
            // Initialize the array display
            function initializeArray() {
                array = arrayInput.value.split(',').map(item => parseInt(item.trim()));
                arrayElements.innerHTML = '';
                
                array.forEach((value, index) => {
                    const element = document.createElement('div');
                    element.className = 'element normal';
                    element.id = `element-${index}`;
                    element.textContent = value;
                    arrayElements.appendChild(element);
                });
                
                comparisons = 0;
                steps = 0;
                comparisonCount.textContent = '0';
                stepCount.textContent = '0';
                logSection.innerHTML = '';
                
                addLog('Array initialized: ' + array.join(', '));
            }
            
            // Add a log entry
            function addLog(message) {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.textContent = message;
                logSection.appendChild(logEntry);
                logSection.scrollTop = logSection.scrollHeight;
            }
            
            // Reset all elements to normal state
            function resetElements() {
                array.forEach((_, index) => {
                    const element = document.getElementById(`element-${index}`);
                    element.className = 'element normal';
                });
            }
            
            // Highlight elements during search
            function highlightElements(low, high, mid, found = false) {
                resetElements();
                
                for (let i = 0; i < array.length; i++) {
                    const element = document.getElementById(`element-${i}`);
                    
                    if (i === mid) {
                        element.className = found ? 'element found' : 'element mid';
                    } else if (i >= low && i <= high) {
                        if (i < mid) {
                            element.className = 'element low';
                        } else if (i > mid) {
                            element.className = 'element high';
                        }
                    }
                }
            }
            
            // Binary search algorithm
            function binarySearch(target) {
                let low = 0;
                let high = array.length - 1;
                steps = 0;
                comparisons = 0;
                
                while (low <= high) {
                    steps++;
                    stepCount.textContent = steps;
                    
                    const mid = Math.floor((low + high) / 2);
                    comparisons++;
                    comparisonCount.textContent = comparisons;
                    
                    addLog(`Step ${steps}: Low=${low} (${array[low]}), High=${high} (${array[high]}), Mid=${mid} (${array[mid]})`);
                    
                    // Highlight current search area
                    setTimeout(() => {
                        highlightElements(low, high, mid);
                    }, steps * 1000);
                    
                    if (array[mid] === target) {
                        setTimeout(() => {
                            highlightElements(low, high, mid, true);
                            addLog(`Found ${target} at index ${mid}!`);
                        }, steps * 1000);
                        return mid;
                    } else if (array[mid] < target) {
                        setTimeout(() => {
                            addLog(`${array[mid]} < ${target}, searching right half`);
                        }, steps * 1000);
                        low = mid + 1;
                    } else {
                        setTimeout(() => {
                            addLog(`${array[mid]} > ${target}, searching left half`);
                        }, steps * 1000);
                        high = mid - 1;
                    }
                }
                
                setTimeout(() => {
                    addLog(`${target} not found in the array`);
                }, steps * 1000);
                
                return -1;
            }
            
            // Event listeners
            searchBtn.addEventListener('click', function() {
                initializeArray();
                const target = parseInt(targetInput.value);
                
                if (isNaN(target)) {
                    alert('Please enter a valid target number');
                    return;
                }
                
                addLog(`Starting binary search for ${target}...`);
                
                // Start the search after a short delay to allow initialization to complete
                setTimeout(() => {
                    binarySearch(target);
                }, 500);
            });
            
            resetBtn.addEventListener('click', initializeArray);
            
            // Initialize on page load
            initializeArray();
        });
    </script>
</body>
</html>