<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weighted Graph Demo</title>
    <style>
        #graphCanvas {
            border: 1px solid black;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<h1>Weighted Graph Visualization</h1>
<p>Click on the canvas to create nodes and connect them with weighted edges.</p>
<canvas id="graphCanvas" width="600" height="400"></canvas>

<script>
    const canvas = document.getElementById('graphCanvas');
    const ctx = canvas.getContext('2d');

    const nodes = [];
    const edges = [];

    let nodeCounter = 0;

    canvas.addEventListener('click', (event) => {
        const posX = event.offsetX;
        const posY = event.offsetY;
        const nodeIndex = nodes.findIndex(node => node.x === posX && node.y === posY);

        if (nodeIndex === -1) {
            const newNode = { id: nodeCounter++, x: posX, y: posY };
            nodes.push(newNode);
            redraw();
        } else {
            const weight = prompt("Enter the weight for the edge:", "1");
            if (weight) {
                edges.push({ from: nodes[nodeIndex], to: newNode, weight: parseInt(weight) });
                redraw();
            }
        }
    });

    function redraw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        nodes.forEach(node => {
            ctx.fillStyle = 'blue';
            ctx.beginPath();
            ctx.arc(node.x, node.y, 10, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = 'white';
            ctx.font = '12px Arial';
            ctx.fillText(node.id, node.x - 4, node.y + 4);
        });

        edges.forEach(edge => {
            ctx.beginPath();
            ctx.moveTo(edge.from.x, edge.from.y);
            ctx.lineTo(edge.to.x, edge.to.y);
            ctx.strokeStyle = 'black';
            ctx.stroke();
            const midX = (edge.from.x + edge.to.x) / 2;
            const midY = (edge.from.y + edge.to.y) / 2;
            ctx.fillStyle = 'red';
            ctx.fillText(edge.weight, midX, midY);
        });
    }
</script>

</body>
</html>