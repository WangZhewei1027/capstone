<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dijkstra's Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
        }
        #graph {
            width: 600px;
            margin: auto;
            border: 1px solid #ccc;
            padding: 10px;
            position: relative;
            height: 400px;
        }
        .node {
            width: 30px;
            height: 30px;
            background-color: #007bff;
            border-radius: 50%;
            position: absolute;
            text-align: center;
            color: white;
            line-height: 30px;
        }
        .edge {
            position: absolute;
            height: 2px;
            background: #ccc;
        }
        .path {
            background: #28a745;
        }
    </style>
</head>
<body>

<h1>Dijkstra's Algorithm Visualization</h1>
<p>Hover over the nodes to see the edges and click to find the shortest path.</p>

<div id="graph"></div>

<script>
    const nodes = [
        { id: 0, x: 50, y: 50 },
        { id: 1, x: 200, y: 50 },
        { id: 2, x: 200, y: 200 },
        { id: 3, x: 50, y: 200 },
        { id: 4, x: 350, y: 100 },
    ];

    const edges = [
        { from: 0, to: 1, weight: 1 },
        { from: 0, to: 3, weight: 1 },
        { from: 1, to: 2, weight: 1 },
        { from: 2, to: 4, weight: 1 },
        { from: 3, to: 4, weight: 2 },
    ];

    const graph = document.getElementById('graph');

    nodes.forEach(node => {
        const nodeDiv = document.createElement('div');
        nodeDiv.className = 'node';
        nodeDiv.style.left = `${node.x}px`;
        nodeDiv.style.top = `${node.y}px`;
        nodeDiv.innerHTML = node.id;
        nodeDiv.addEventListener('click', () => findShortestPath(node.id));
        graph.appendChild(nodeDiv);
    });

    function drawEdge(fromNode, toNode) {
        const edgeDiv = document.createElement('div');
        edgeDiv.className = 'edge';
        const x1 = fromNode.x + 15; // Offset for center
        const y1 = fromNode.y + 15; // Offset for center
        const x2 = toNode.x + 15; // Offset for center
        const y2 = toNode.y + 15; // Offset for center
        const dx = x2 - x1;
        const dy = y2 - y1;
        const length = Math.sqrt(dx * dx + dy * dy);
        const angle = Math.atan2(dy, dx) * 180 / Math.PI;

        edgeDiv.style.width = `${length}px`;
        edgeDiv.style.transform = `rotate(${angle}deg)`;
        edgeDiv.style.left = `${x1}px`;
        edgeDiv.style.top = `${y1}px`;

        graph.appendChild(edgeDiv);
    }

    edges.forEach(edge => {
        const fromNode = nodes[edge.from];
        const toNode = nodes[edge.to];
        drawEdge(fromNode, toNode);
    });

    function findShortestPath(startNode) {
        const distances = {};
        const prev = {};
        const queue = new Set(nodes.map(node => node.id));

        nodes.forEach(node => {
            distances[node.id] = Infinity;
            prev[node.id] = null;
        });
        distances[startNode] = 0;

        while (queue.size !== 0) {
            const currentNode = [...queue].reduce((a, b) => distances[a] < distances[b] ? a : b);
            queue.delete(currentNode);

            edges.forEach(edge => {
                if (edge.from === currentNode || edge.to === currentNode) {
                    const neighbor = edge.from === currentNode ? edge.to : edge.from;
                    if (queue.has(neighbor)) {
                        const alt = distances[currentNode] + edge.weight;
                        if (alt < distances[neighbor]) {
                            distances[neighbor] = alt;
                            prev[neighbor] = currentNode;
                        }
                    }
                }
            });
        }

        drawPath(prev, startNode);
    }

    function drawPath(prev, startNode) {
        const path = [];
        for (let at = nodes.length - 1; at !== null; at = prev[at]) {
            path.push(at);
        }
        path.reverse();

        path.forEach(nodeId => {
            const nodeElement = document.querySelector(`.node:nth-child(${nodeId + 1})`);
            nodeElement.classList.add('path');
        });
    }
</script>

</body>
</html>