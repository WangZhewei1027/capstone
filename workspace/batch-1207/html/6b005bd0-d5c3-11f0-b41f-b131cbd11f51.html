<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Priority Queue Implementation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .explanation {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        input, select, button {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background: #0056b3;
        }
        .queue-display {
            border: 2px solid #333;
            padding: 20px;
            min-height: 200px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        .item {
            display: inline-block;
            margin: 5px;
            padding: 10px 15px;
            background: #007bff;
            color: white;
            border-radius: 5px;
            position: relative;
        }
        .priority {
            font-size: 0.8em;
            background: rgba(0,0,0,0.3);
            padding: 2px 6px;
            border-radius: 3px;
            margin-left: 5px;
        }
        .peek-item {
            background: #28a745;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Priority Queue Implementation</h1>
        
        <div class="explanation">
            <h3>What is a Priority Queue?</h3>
            <p>A priority queue is an abstract data type similar to a regular queue, but where each element has a "priority" associated with it. Elements are served based on their priority rather than in the order they were added (FIFO). Higher priority elements are dequeued before lower priority ones.</p>
            <p><strong>Operations:</strong> Enqueue (add with priority), Dequeue (remove highest priority), Peek (view highest priority)</p>
        </div>

        <div class="controls">
            <input type="text" id="itemValue" placeholder="Enter value" value="Item">
            <input type="number" id="itemPriority" placeholder="Priority (1-10)" value="5" min="1" max="10">
            <button onclick="enqueue()">Enqueue</button>
            <button onclick="dequeue()">Dequeue</button>
            <button onclick="peek()">Peek</button>
            <button onclick="clearQueue()">Clear Queue</button>
        </div>

        <div class="queue-display" id="queueDisplay">
            <p>Queue is empty. Add some items to get started!</p>
        </div>
    </div>

    <script>
        class PriorityQueue {
            constructor() {
                this.items = [];
            }

            // Add element to queue with priority
            enqueue(value, priority) {
                const queueElement = { value, priority };
                let added = false;
                
                // Insert element based on priority (higher numbers = higher priority)
                for (let i = 0; i < this.items.length; i++) {
                    if (queueElement.priority > this.items[i].priority) {
                        this.items.splice(i, 0, queueElement);
                        added = true;
                        break;
                    }
                }
                
                // If not added, push to end (lowest priority)
                if (!added) {
                    this.items.push(queueElement);
                }
            }

            // Remove and return highest priority element
            dequeue() {
                if (this.isEmpty()) {
                    return "Queue is empty";
                }
                return this.items.shift();
            }

            // View highest priority element without removing
            peek() {
                if (this.isEmpty()) {
                    return "Queue is empty";
                }
                return this.items[0];
            }

            // Check if queue is empty
            isEmpty() {
                return this.items.length === 0;
            }

            // Get queue size
            size() {
                return this.items.length;
            }

            // Clear all items
            clear() {
                this.items = [];
            }

            // Get all items (for display)
            getItems() {
                return [...this.items];
            }
        }

        // Create global priority queue instance
        const priorityQueue = new PriorityQueue();

        // Update queue display
        function updateDisplay() {
            const display = document.getElementById('queueDisplay');
            const items = priorityQueue.getItems();
            
            if (items.length === 0) {
                display.innerHTML = '<p>Queue is empty. Add some items to get started!</p>';
                return;
            }

            let html = '<h3>Queue Items (Highest Priority First):</h3>';
            items.forEach((item, index) => {
                html += `<div class="item ${index === 0 ? 'peek-item' : ''}">
                    ${item.value} <span class="priority">Priority: ${item.priority}</span>
                </div>`;
            });
            
            html += `<p><strong>Queue Size:</strong> ${priorityQueue.size()}</p>`;
            display.innerHTML = html;
        }

        // Enqueue operation
        function enqueue() {
            const value = document.getElementById('itemValue').value || 'Item';
            const priority = parseInt(document.getElementById('itemPriority').value) || 1;
            
            if (priority < 1 || priority > 10) {
                alert('Please enter a priority between 1 and 10');
                return;
            }
            
            priorityQueue.enqueue(value, priority);
            updateDisplay();
        }

        // Dequeue operation
        function dequeue() {
            const dequeued = priorityQueue.dequeue();
            if (dequeued === "Queue is empty") {
                alert('Queue is empty!');
            } else {
                alert(`Dequeued: ${dequeued.value} (Priority: ${dequeued.priority})`);
                updateDisplay();
            }
        }

        // Peek operation
        function peek() {
            const peeked = priorityQueue.peek();
            if (peeked === "Queue is empty") {
                alert('Queue is empty!');
            } else {
                alert(`Next item: ${peeked.value} (Priority: ${peeked.priority})`);
                updateDisplay();
            }
        }

        // Clear queue
        function clearQueue() {
            priorityQueue.clear();
            updateDisplay();
        }

        // Initialize display
        updateDisplay();
    </script>
</body>
</html>