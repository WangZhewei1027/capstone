<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dijkstra's Algorithm</title>
    <style>
        #graph {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Dijkstra's Algorithm</h1>
    <button id="start">Start</button>
    <button id="stop">Stop</button>
    <div id="graph"></div>
    <script>
        let graph = {
            'A': {'B': 1, 'C': 4},
            'B': {'A': 1, 'C': 2, 'D': 5},
            'C': {'A': 4, 'B': 2, 'D': 1},
            'D': {'B': 5, 'C': 1}
        };

        let startNode = 'A';
        let endNode = 'D';
        let shortestDistances = {};
        let previousNodes = {};

        function dijkstra(graph, startNode) {
            let nodes = Object.keys(graph);
            let distances = {};
            let nodesWithDistances = {};

            for (let node of nodes) {
                distances[node] = Infinity;
                nodesWithDistances[node] = null;
            }
            distances[startNode] = 0;
            nodesWithDistances[startNode] = null;

            while (Object.keys(nodesWithDistances).length > 0) {
                let currentNode = null;
                let minDistance = Infinity;

                for (let node of nodes) {
                    if (distances[node] < minDistance) {
                        minDistance = distances[node];
                        currentNode = node;
                    }
                }

                if (currentNode === null) {
                    break;
                }

                nodesWithDistances[currentNode] = null;
                for (let neighbor in graph[currentNode]) {
                    let distance = graph[currentNode][neighbor];
                    if (distances[neighbor] > distances[currentNode] + distance) {
                        distances[neighbor] = distances[currentNode] + distance;
                        previousNodes[neighbor] = currentNode;
                        nodesWithDistances[neighbor] = null;
                    }
                }
            }

            return [shortestDistances, previousNodes];
        }

        function visualizeGraph(graph) {
            let html = '';
            for (let node in graph) {
                html += `<div class="node">${node}</div>`;
            }
            document.getElementById('graph').innerHTML = html;
        }

        let startButton = document.getElementById('start');
        let stopButton = document.getElementById('stop');
        startButton.addEventListener('click', function() {
            let startNode = prompt("Enter the starting node:");
            startNode = startNode.toLowerCase();
            startNode = startNode.charAt(0).toUpperCase() + startNode.slice(1);

            let shortestDistances, previousNodes;
            [shortestDistances, previousNodes] = dijkstra(graph, startNode);

            console.log("Shortest distances:");
            console.log(shortestDistances);
            console.log("Previous nodes:");
            console.log(previousNodes);

            visualizeGraph(graph);
        });

        stopButton.addEventListener('click', function() {
            graph = {};
            shortestDistances = {};
            previousNodes = {};
            visualizeGraph(graph);
        });
    </script>
</body>
</html>