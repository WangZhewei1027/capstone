{
  "id": "f1807d22-d366-11f0-9b19-a558354ece3e",
  "timestamp": "2025-12-07T12:21:40.973Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Heap (Min/Max)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Heap (Min/Max) Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            display: flex;\n            flex-direction: column;\n            gap: 30px;\n        }\n        .controls {\n            display: flex;\n            gap: 15px;\n            flex-wrap: wrap;\n            align-items: center;\n            background: white;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        button {\n            padding: 8px 16px;\n            border: none;\n            border-radius: 5px;\n            cursor: pointer;\n            background: #4CAF50;\n            color: white;\n            font-weight: bold;\n        }\n        button:hover {\n            background: #45a049;\n        }\n        button:disabled {\n            background: #cccccc;\n            cursor: not-allowed;\n        }\n        input {\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 5px;\n            width: 60px;\n        }\n        .heap-container {\n            display: flex;\n            justify-content: space-around;\n            flex-wrap: wrap;\n            gap: 30px;\n        }\n        .heap {\n            background: white;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            min-width: 300px;\n        }\n        .heap-title {\n            text-align: center;\n            font-size: 1.2em;\n            font-weight: bold;\n            margin-bottom: 15px;\n            color: #333;\n        }\n        .node {\n            width: 40px;\n            height: 40px;\n            border: 2px solid #333;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin: 5px;\n            background: #fff;\n            transition: all 0.3s ease;\n        }\n        .node.active {\n            background: #ffeb3b;\n            transform: scale(1.1);\n        }\n        .node.swapping {\n            background: #ff9800;\n        }\n        .level {\n            display: flex;\n            justify-content: center;\n            gap: 20px;\n            margin: 10px 0;\n        }\n        .connections {\n            position: absolute;\n            pointer-events: none;\n        }\n        .log {\n            background: white;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            height: 200px;\n            overflow-y: auto;\n            font-family: monospace;\n        }\n        .log-entry {\n            margin: 5px 0;\n            padding: 5px;\n            border-left: 3px solid #4CAF50;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Heap (Min/Max) Visualization</h1>\n        \n        <div class=\"controls\">\n            <input type=\"number\" id=\"valueInput\" placeholder=\"Value\" min=\"1\" max=\"100\">\n            <button onclick=\"insertValue()\">Insert</button>\n            <button onclick=\"extractMin()\">Extract Min</button>\n            <button onclick=\"extractMax()\">Extract Max</button>\n            <button onclick=\"generateRandom()\">Generate Random (10)</button>\n            <button onclick=\"clearAll()\">Clear All</button>\n            <div>\n                <input type=\"radio\" id=\"minHeap\" name=\"heapType\" checked>\n                <label for=\"minHeap\">Min Heap</label>\n                <input type=\"radio\" id=\"maxHeap\" name=\"heapType\">\n                <label for=\"maxHeap\">Max Heap</label>\n            </div>\n        </div>\n\n        <div class=\"heap-container\">\n            <div class=\"heap\">\n                <div class=\"heap-title\">Heap Visualization</div>\n                <div id=\"heapVisualization\"></div>\n            </div>\n            \n            <div class=\"heap\">\n                <div class=\"heap-title\">Operations Log</div>\n                <div id=\"log\" class=\"log\"></div>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        class Heap {\n            constructor(isMinHeap = true) {\n                this.heap = [];\n                this.isMinHeap = isMinHeap;\n            }\n\n            parent(index) {\n                return Math.floor((index - 1) / 2);\n            }\n\n            leftChild(index) {\n                return 2 * index + 1;\n            }\n\n            rightChild(index) {\n                return 2 * index + 2;\n            }\n\n            swap(i, j) {\n                this.logOperation(`Swapping ${this.heap[i]} and ${this.heap[j]}`);\n                [this.heap[i], this.heap[j]] = [this.heap[j], this.heap[i]];\n            }\n\n            compare(i, j) {\n                if (this.isMinHeap) {\n                    return this.heap[i] < this.heap[j];\n                } else {\n                    return this.heap[i] > this.heap[j];\n                }\n            }\n\n            insert(value) {\n                this.heap.push(value);\n                this.logOperation(`Inserted: ${value}`);\n                this.heapifyUp(this.heap.length - 1);\n            }\n\n            heapifyUp(index) {\n                while (index > 0 && this.compare(index, this.parent(index))) {\n                    this.swap(index, this.parent(index));\n                    index = this.parent(index);\n                }\n            }\n\n            extract() {\n                if (this.heap.length === 0) return null;\n                \n                const root = this.heap[0];\n                this.logOperation(`Extracting ${this.isMinHeap ? 'min' : 'max'}: ${root}`);\n                \n                if (this.heap.length === 1) {\n                    this.heap.pop();\n                    return root;\n                }\n\n                this.heap[0] = this.heap.pop();\n                this.heapifyDown(0);\n                return root;\n            }\n\n            heapifyDown(index) {\n                let extreme = index;\n                const left = this.leftChild(index);\n                const right = this.rightChild(index);\n\n                if (left < this.heap.length && this.compare(left, extreme)) {\n                    extreme = left;\n                }\n\n                if (right < this.heap.length && this.compare(right, extreme)) {\n                    extreme = right;\n                }\n\n                if (extreme !== index) {\n                    this.swap(index, extreme);\n                    this.heapifyDown(extreme);\n                }\n            }\n\n            peek() {\n                return this.heap.length > 0 ? this.heap[0] : null;\n            }\n\n            size() {\n                return this.heap.length;\n            }\n\n            logOperation(message) {\n                const logElement = document.getElementById('log');\n                const entry = document.createElement('div');\n                entry.className = 'log-entry';\n                entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;\n                logElement.appendChild(entry);\n                logElement.scrollTop = logElement.scrollHeight;\n            }\n        }\n\n        let heap = new Heap(true);\n        let activeAnimation = null;\n\n        function getHeapType() {\n            return document.getElementById('minHeap').checked ? 'min' : 'max';\n        }\n\n        function updateHeapType() {\n            const isMinHeap = getHeapType() === 'min';\n            const oldHeap = heap.heap.slice();\n            heap = new Heap(isMinHeap);\n            oldHeap.forEach(value => heap.insert(value));\n            visualizeHeap();\n            heap.logOperation(`Switched to ${isMinHeap ? 'Min' : 'Max'} Heap`);\n        }\n\n        function insertValue() {\n            const valueInput = document.getElementById('valueInput');\n            const value = parseInt(valueInput.value);\n            \n            if (isNaN(value) || value < 1 || value > 100) {\n                alert('Please enter a valid number between 1 and 100');\n                return;\n            }\n\n            heap.insert(value);\n            visualizeHeap();\n            valueInput.value = '';\n        }\n\n        function extractMin() {\n            if (getHeapType() !== 'min') {\n                alert('Please switch to Min Heap first');\n                return;\n            }\n            if (heap.size() === 0) {\n                alert('Heap is empty');\n                return;\n            }\n            heap.extract();\n            visualizeHeap();\n        }\n\n        function extractMax() {\n            if (getHeapType() !== 'max') {\n                alert('Please switch to Max Heap first');\n                return;\n            }\n            if (heap.size() === 0) {\n                alert('Heap is empty');\n                return;\n            }\n            heap.extract();\n            visualizeHeap();\n        }\n\n        function generateRandom() {\n            for (let i = 0; i < 10; i++) {\n                heap.insert(Math.floor(Math.random() * 100) + 1);\n            }\n            visualizeHeap();\n            heap.logOperation('Generated 10 random values');\n        }\n\n        function clearAll() {\n            heap = new Heap(getHeapType() === 'min');\n            document.getElementById('log').innerHTML = '';\n            visualizeHeap();\n            heap.logOperation('Cleared heap');\n        }\n\n        function visualizeHeap() {\n            const container = document.getElementById('heapVisualization');\n            container.innerHTML = '';\n            \n            if (heap.size() === 0) {\n                container.innerHTML = '<div style=\"text-align: center; color: #666;\">Heap is empty</div>';\n                return;\n            }\n\n            // Calculate tree structure\n            const levels = [];\n            let level = 0;\n            let count = 0;\n            \n            while (count < heap.size()) {\n                const levelNodes = [];\n                const levelSize = Math.pow(2, level);\n                \n                for (let i = 0; i < levelSize && count < heap.size(); i++, count++) {\n                    levelNodes.push(heap.heap[count]);\n                }\n                \n                levels.push(levelNodes);\n                level++;\n            }\n\n            // Create visual representation\n            levels.forEach((levelNodes, levelIndex) => {\n                const levelDiv = document.createElement('div');\n                levelDiv.className = 'level';\n                \n                levelNodes.forEach((value, nodeIndex) => {\n                    const node = document.createElement('div');\n                    node.className = 'node';\n                    node.textContent = value;\n                    node.title = `Value: ${value}`;\n                    \n                    if (value === heap.peek()) {\n                        node.classList.add('active');\n                    }\n                    \n                    levelDiv.appendChild(node);\n                });\n                \n                container.appendChild(levelDiv);\n            });\n        }\n\n        // Event listeners\n        document.getElementById('minHeap').addEventListener('change', updateHeapType);\n        document.getElementById('maxHeap').addEventListener('change', updateHeapType);\n        document.getElementById('valueInput').addEventListener('keypress', function(e) {\n            if (e.key === 'Enter') insertValue();\n        });\n\n        // Initialize\n        visualizeHeap();\n        heap.logOperation('Min Heap initialized. Ready for operations!');\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Heap (Min/Max)"
    }
  ],
  "topic": "Heap (Min/Max)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}