{
  "id": "d79d3ce0-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:44:31.551Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Breadth-First Search (BFS)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Breadth-First Search (BFS) Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f9f9f9;\n  }\n  h1 {\n    text-align: center;\n  }\n  #graph-container {\n    display: flex;\n    justify-content: center;\n    margin: 20px 0;\n  }\n  svg {\n    border: 1px solid #ccc;\n    background: white;\n    box-shadow: 0 0 8px #ddd;\n  }\n  .node circle {\n    fill: #3498db;\n    stroke: #2980b9;\n    stroke-width: 3px;\n    transition: fill 0.4s ease;\n  }\n  .node.visited circle {\n    fill: #2ecc71;\n    stroke: #27ae60;\n  }\n  .node.current circle {\n    fill: #e67e22;\n    stroke: #d35400;\n  }\n  .node text {\n    fill: white;\n    font-weight: bold;\n    pointer-events: none;\n    user-select: none;\n  }\n  .edge {\n    stroke: #999;\n    stroke-width: 2px;\n    marker-end: url(#arrowhead);\n    transition: stroke 0.4s ease;\n  }\n  .edge.visited {\n    stroke: #2ecc71;\n    stroke-width: 3px;\n  }\n  #controls {\n    max-width: 600px;\n    margin: 0 auto;\n    text-align: center;\n  }\n  label {\n    margin-right: 10px;\n    font-weight: bold;\n  }\n  select, button {\n    font-size: 16px;\n    padding: 6px 12px;\n    margin: 0 5px 10px 5px;\n  }\n  #log {\n    max-width: 600px;\n    margin: 0 auto;\n    background: #222;\n    color: #eee;\n    padding: 12px;\n    height: 140px;\n    overflow-y: auto;\n    border-radius: 4px;\n    font-family: monospace;\n    font-size: 14px;\n  }\n</style>\n</head>\n<body>\n<h1>Breadth-First Search (BFS) Visualization</h1>\n\n<div id=\"controls\">\n  <label for=\"start-node\">Start Node:</label>\n  <select id=\"start-node\"></select>\n  <button id=\"start-btn\">Start BFS</button>\n  <button id=\"reset-btn\" disabled>Reset</button>\n</div>\n\n<div id=\"graph-container\">\n  <svg id=\"graph\" width=\"600\" height=\"400\" aria-label=\"Graph visualization\"></svg>\n</div>\n\n<div id=\"log\" aria-live=\"polite\" aria-atomic=\"true\" aria-relevant=\"additions\"></div>\n\n<script>\n// Graph Data: adjacency list and positions for visualization\nconst graph = {\n  A: ['B', 'C'],\n  B: ['A', 'D', 'E'],\n  C: ['A', 'F'],\n  D: ['B'],\n  E: ['B', 'F'],\n  F: ['C', 'E', 'G'],\n  G: ['F']\n};\n\nconst nodesPos = {\n  A: {x: 100, y: 50},\n  B: {x: 50, y: 150},\n  C: {x: 150, y: 150},\n  D: {x: 20, y: 250},\n  E: {x: 80, y: 250},\n  F: {x: 180, y: 250},\n  G: {x: 180, y: 350},\n};\n\nconst svg = document.getElementById('graph');\nconst logEl = document.getElementById('log');\nconst startNodeSelect = document.getElementById('start-node');\nconst startBtn = document.getElementById('start-btn');\nconst resetBtn = document.getElementById('reset-btn');\n\nlet animationInterval = null; \nlet bfsState = null; // will hold the state of BFS for animation steps\n\n// Add arrow marker for edges\nconst defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\ndefs.innerHTML = `\n  <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\"\n    refX=\"10\" refY=\"3.5\" orient=\"auto\" markerUnits=\"strokeWidth\">\n    <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#999\" />\n  </marker>\n`;\nsvg.appendChild(defs);\n\n// Draw nodes and edges and keep references for update\nconst nodeElements = {};\nconst edgeElements = [];\n\n// Draw edges (undirected, draw once per pair)\nfunction drawEdges() {\n  const drawn = new Set();\n  for (const node in graph) {\n    for (const neighbor of graph[node]) {\n      const edgeId = [node, neighbor].sort().join('-');\n      if (drawn.has(edgeId)) continue;\n      drawn.add(edgeId);\n\n      const line = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n      line.classList.add('edge');\n      line.setAttribute('data-from', node);\n      line.setAttribute('data-to', neighbor);\n      \n      const from = nodesPos[node];\n      const to = nodesPos[neighbor];\n\n      // Adjust line ends to circle border (radius 20)\n      const radius = 20;\n      const dx = to.x - from.x;\n      const dy = to.y - from.y;\n      const length = Math.sqrt(dx*dx + dy*dy);\n\n      const normX = dx / length;\n      const normY = dy / length;\n\n      const startX = from.x + radius * normX;\n      const startY = from.y + radius * normY;\n      const endX = to.x - radius * normX;\n      const endY = to.y - radius * normY;\n\n      line.setAttribute('x1', startX);\n      line.setAttribute('y1', startY);\n      line.setAttribute('x2', endX);\n      line.setAttribute('y2', endY);\n\n      svg.appendChild(line);\n      edgeElements.push(line);\n    }\n  }\n}\n\n// Draw nodes\nfunction drawNodes() {\n  for (const node in nodesPos) {\n    const g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n    g.classList.add('node');\n    g.setAttribute('tabindex', 0);\n    g.setAttribute('aria-label', `Node ${node}`);\n    g.setAttribute('role', 'button');\n    g.setAttribute('data-node', node);\n\n    const pos = nodesPos[node];\n    const circle = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n    circle.setAttribute('cx', pos.x);\n    circle.setAttribute('cy', pos.y);\n    circle.setAttribute('r', 20);\n\n    const text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n    text.setAttribute('x', pos.x);\n    text.setAttribute('y', pos.y + 6);\n    text.setAttribute('text-anchor', 'middle');\n    text.setAttribute('pointer-events', 'none');\n    text.textContent = node;\n\n    g.appendChild(circle);\n    g.appendChild(text);\n    svg.appendChild(g);\n    nodeElements[node] = g;\n  }\n}\n\n// Utility: log messages and scroll\nfunction log(msg) {\n  const line = document.createElement('div');\n  line.textContent = msg;\n  logEl.appendChild(line);\n  logEl.scrollTop = logEl.scrollHeight;\n}\n\n// Clear all highlights and logs\nfunction clearAll() {\n  for (const node in nodeElements) {\n    nodeElements[node].classList.remove('visited', 'current');\n  }\n  for (const edge of edgeElements) {\n    edge.classList.remove('visited');\n  }\n  logEl.textContent = '';\n}\n\n// Animate BFS step-by-step\nfunction animateBFS(start) {\n  let queue = [start];\n  let visited = new Set();\n  let parentMap = {};\n  visited.add(start);\n  let step = 0;\n\n  clearAll();\n  log(`Starting BFS from node ${start}`);\n  nodeElements[start].classList.add('current');\n\n  animationInterval = setInterval(() => {\n    if (queue.length === 0) {\n      log('BFS traversal complete.');\n      nodeElements[start].classList.remove('current');\n      startBtn.disabled = false;\n      resetBtn.disabled = false;\n      clearInterval(animationInterval);\n      return;\n    }\n    // Current node processing\n    const current = queue.shift();\n\n    // Mark current node visited (green)\n    if (step > 0) {\n      nodeElements[current].classList.remove('current');\n      nodeElements[current].classList.add('visited');\n    }\n\n    log(`Visiting node ${current}`);\n\n    // Visit neighbors\n    const neighbors = graph[current];\n    let neighborsAdded = 0;\n\n    for(const neigh of neighbors) {\n      if(!visited.has(neigh)) {\n        visited.add(neigh);\n        queue.push(neigh);\n        parentMap[neigh] = current;\n        neighborsAdded++;\n\n        // Highlight edge between current and neighbor\n        highlightEdge(current, neigh);\n\n        log(`  Queued neighbor ${neigh}`);\n      }\n    }\n\n    // Mark next node in queue as current if exists\n    if (queue.length > 0) {\n      const nextNode = queue[0];\n      nodeElements[nextNode].classList.add('current');\n    }\n\n    step++;\n  }, 1200);\n}\n\nfunction highlightEdge(node1, node2){\n  // Undirected edge might be stored in either order, match the edge line\n  for(const edge of edgeElements){\n    const f = edge.getAttribute('data-from');\n    const t = edge.getAttribute('data-to');\n    if((f === node1 && t === node2) || (f === node2 && t === node1)){\n      edge.classList.add('visited');\n      break;\n    }\n  }\n}\n\n// Initialize start node options\nfunction initOptions() {\n  for (const node in graph) {\n    const option = document.createElement('option');\n    option.value = node;\n    option.textContent = node;\n    startNodeSelect.appendChild(option);\n  }\n}\n\n// Event Listeners\nstartBtn.addEventListener('click', () => {\n  const start = startNodeSelect.value;\n  if (!start) return;\n\n  startBtn.disabled = true;\n  resetBtn.disabled = true;\n  animateBFS(start);\n});\n\nresetBtn.addEventListener('click', () => {\n  if(animationInterval) {\n    clearInterval(animationInterval);\n  }\n  clearAll();\n  startBtn.disabled = false;\n  resetBtn.disabled = true;\n});\n\n// Initial setup\ndrawEdges();\ndrawNodes();\ninitOptions();\nresetBtn.disabled = true;\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Breadth-First Search (BFS)"
    }
  ],
  "topic": "Breadth-First Search (BFS)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}