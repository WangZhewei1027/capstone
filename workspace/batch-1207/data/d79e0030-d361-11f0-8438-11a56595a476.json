{
  "id": "d79e0030-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:44:14.101Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Two Pointers",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Two Pointers Technique Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    max-width: 800px;\n    margin: 40px auto;\n    padding: 1rem;\n    background: #f9f9f9;\n    color: #222;\n  }\n  h1 {\n    text-align: center;\n  }\n  .input-area, .results {\n    margin-top: 20px;\n  }\n  label {\n    display: block;\n    margin-top: 12px;\n    font-weight: bold;\n  }\n  input[type=\"text\"], input[type=\"number\"] {\n    width: 100%;\n    padding: 8px;\n    margin-top: 6px;\n    font-size: 1rem;\n    box-sizing: border-box;\n  }\n  button {\n    margin-top: 18px;\n    padding: 10px 16px;\n    font-size: 1rem;\n    cursor: pointer;\n    border: none;\n    background-color: #007bff;\n    color: white;\n    border-radius: 4px;\n  }\n  button:hover {\n    background-color: #0056b3;\n  }\n  .array-display {\n    font-family: monospace;\n    background: #fff;\n    padding: 12px;\n    border-radius: 4px;\n    margin-top: 6px;\n    overflow-x: auto;\n  }\n  .pointers-visual {\n    font-family: monospace;\n    margin-top: 10px;\n    white-space: pre;\n    background: #e3f2fd;\n    padding: 10px;\n    border-radius: 4px;\n  }\n  .explanation {\n    margin-top: 30px;\n    padding: 18px;\n    background: #fff8e1;\n    border-left: 5px solid #ffb300;\n    line-height: 1.5;\n  }\n</style>\n</head>\n<body>\n<h1>Two Pointers Technique Demo</h1>\n\n<div class=\"input-area\">\n  <label for=\"arrayInput\">Enter a sorted array of integers (comma separated):</label>\n  <input id=\"arrayInput\" type=\"text\" value=\"1,2,3,4,5,6,7,8,9,10\" />\n  \n  <label for=\"targetInput\">Enter target sum:</label>\n  <input id=\"targetInput\" type=\"number\" value=\"15\" />\n  \n  <button id=\"runBtn\">Find Pair with Two Pointers</button>\n</div>\n\n<div class=\"results\" aria-live=\"polite\" aria-atomic=\"true\">\n  <h2>Results:</h2>\n  <div id=\"resultText\"></div>\n  <pre class=\"pointers-visual\" id=\"visualOutput\" aria-label=\"Two pointers visualization\"></pre>\n</div>\n\n<div class=\"explanation\">\n  <h3>What is the Two Pointers Technique?</h3>\n  <p>\n    The <strong>Two Pointers</strong> technique uses two indices which move through the data structure\n    (commonly arrays or linked lists) from different directions to find a solution efficiently.\n  </p>\n  <p>\n    In this demo, we search for two numbers in a <em>sorted</em> array whose sum equals the target. We initiate\n    one pointer at the start (left) and another at the end (right) of the array. We then:\n  </p>\n  <ul>\n    <li>Check the sum of values at the pointers.</li>\n    <li>If sum equals the target, we've found our pair.</li>\n    <li>If sum is less than the target, move the left pointer right (increase sum).</li>\n    <li>If sum is greater than the target, move the right pointer left (decrease sum).</li>\n    <li>Repeat until pointers meet or find a pair.</li>\n  </ul>\n  <p>\n    This approach is more efficient than brute force O(nÂ²), as it runs in O(n).\n  </p>\n</div>\n\n<script>\n  const arrayInput = document.getElementById('arrayInput');\n  const targetInput = document.getElementById('targetInput');\n  const runBtn = document.getElementById('runBtn');\n  const resultText = document.getElementById('resultText');\n  const visualOutput = document.getElementById('visualOutput');\n\n  // Function to parse input string into sorted integer array and validate\n  function parseArray(inputStr) {\n    const parts = inputStr.split(',').map(s => s.trim());\n    const nums = [];\n    for (let p of parts) {\n      if (p === '') continue;\n      const n = Number(p);\n      if (Number.isNaN(n) || !Number.isInteger(n)) {\n        throw new Error(`\"${p}\" is not a valid integer.`);\n      }\n      nums.push(n);\n    }\n    // Must be sorted for this technique to work:\n    for(let i=1; i<nums.length; i++) {\n      if(nums[i] < nums[i-1]) {\n        throw new Error('Array must be sorted in non-decreasing order.');\n      }\n    }\n    return nums;\n  }\n\n  // Function to display array with pointers:\n  // We'll represent array indices as spaced numbers;\n  // Then show two pointers in the line below.\n  function visualizePointers(arr, left, right) {\n    const spacing = 4; // spaces between numbers\n    // Format numbers right-aligned in 3 spaces, e.g. \"  1\"\n    const arrStrings = arr.map(n => n.toString().padStart(3, ' '));\n    \n    // Construct line 1 - array values\n    const line1 = arrStrings.join(' '.repeat(spacing));\n    \n    // Construct line 2 - pointers\n    // Calculate the position of left and right markers aligned beneath numbers\n    // Each number + spacing: 3 + spacing chars wide except last\n    // So position of number i starts at: i * (3 + spacing)\n    // We'll put 'L' and 'R' at the center of the number box\n    const totalWidth = line1.length;\n    let line2 = Array(totalWidth).fill(' ');\n\n    function putCharAt(pos, char) {\n      if (pos >= 0 && pos < totalWidth) {\n        line2[pos] = char;\n      }\n    }\n    // position of number i start index = i*(3+spacing)\n    // center pos for number i = start + 1 (3 chars long, center at middle)\n    const centerPos = i => i*(3 + spacing) + 1;\n    \n    if (left === right) {\n      putCharAt(centerPos(left), 'X'); // single pointer at that pos\n    } else {\n      putCharAt(centerPos(left), 'L');\n      putCharAt(centerPos(right), 'R');\n    }\n\n    return line1 + '\\n' + line2.join('');\n  }\n\n  // Main Two Pointers logic, returns [i,j] index pair or null\n  function twoPointers(arr, target, callback) {\n    let left = 0;\n    let right = arr.length - 1;\n    while (left < right) {\n      const sum = arr[left] + arr[right];\n      callback(left, right, sum);\n      if (sum === target) {\n        return [left, right];\n      } else if (sum < target) {\n        left++;\n      } else {\n        right--;\n      }\n    }\n    return null;\n  }\n\n  runBtn.addEventListener('click', () => {\n    resultText.textContent = '';\n    visualOutput.textContent = '';\n    let arr, target;\n    try {\n      arr = parseArray(arrayInput.value);\n    } catch (err) {\n      resultText.textContent = 'Error parsing array: ' + err.message;\n      return;\n    }\n    target = Number(targetInput.value);\n    if (Number.isNaN(target)) {\n      resultText.textContent = 'Invalid target value.';\n      return;\n    }\n    if (arr.length < 2) {\n      resultText.textContent = 'Array must have at least two elements.';\n      return;\n    }\n\n    // Visual step-by-step:\n    let steps = [];\n    twoPointers(arr, target, (l, r, s) => {\n      steps.push({left: l, right: r, sum: s});\n    });\n\n    // Animate steps with delay:\n    let idx = 0;\n    function showStep() {\n      if (idx >= steps.length) {\n        // Show final result\n        const pair = steps.length ? (arr[steps[steps.length-1].left] + arr[steps[steps.length-1].right] === target \n                  ? [steps[steps.length-1].left, steps[steps.length-1].right] : null) : null;\n        if (pair) {\n          resultText.textContent = `Pair found: arr[${pair[0]}] = ${arr[pair[0]]}, arr[${pair[1]}] = ${arr[pair[1]]}, sum = ${target}`;\n          visualOutput.textContent = visualizePointers(arr, pair[0], pair[1]);\n        } else {\n          resultText.textContent = `No pair found that sums to ${target}.`;\n          visualOutput.textContent = '';\n        }\n        return;\n      }\n      const {left, right, sum} = steps[idx];\n      visualOutput.textContent = visualizePointers(arr, left, right) + '\\n\\n' + \n        `arr[left] + arr[right] = ${arr[left]} + ${arr[right]} = ${sum}`;\n      idx++;\n      setTimeout(showStep, 1500);\n    }\n\n    showStep();\n  });\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Two Pointers"
    }
  ],
  "topic": "Two Pointers",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}