{
  "id": "6b0034c3-d5c3-11f0-b41f-b131cbd11f51",
  "timestamp": "2025-12-10T12:31:40.959Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Union-Find (Disjoint Set)",
  "answer": {
    "role": "assistant",
    "content": "# Union-Find (Disjoint Set) Implementation\n\nA fully interactive visualization of the Union-Find algorithm with explanations and examples.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Union-Find (Disjoint Set) Algorithm</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        body {\n            background-color: #1a1a2e;\n            color: #e6e6e6;\n            padding: 20px;\n            line-height: 1.6;\n        }\n        \n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            display: flex;\n            flex-direction: column;\n            gap: 30px;\n        }\n        \n        header {\n            text-align: center;\n            padding: 20px 0;\n            border-bottom: 2px solid #3498db;\n            margin-bottom: 20px;\n        }\n        \n        h1 {\n            color: #3498db;\n            margin-bottom: 10px;\n            font-size: 2.5rem;\n        }\n        \n        h2 {\n            color: #2ecc71;\n            margin: 20px 0 10px;\n            border-bottom: 1px solid #2ecc71;\n            padding-bottom: 5px;\n        }\n        \n        h3 {\n            color: #f39c12;\n            margin: 15px 0 10px;\n        }\n        \n        .intro {\n            background-color: #162447;\n            padding: 20px;\n            border-radius: 10px;\n            margin-bottom: 20px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\n        }\n        \n        .visualization {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 20px;\n        }\n        \n        .controls {\n            background-color: #162447;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\n        }\n        \n        .animation-area {\n            background-color: #162447;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\n            min-height: 500px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n        }\n        \n        .code-explanation {\n            background-color: #162447;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\n        }\n        \n        .node-container {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 10px;\n            justify-content: center;\n            margin-bottom: 30px;\n        }\n        \n        .node {\n            width: 60px;\n            height: 60px;\n            background-color: #3498db;\n            border-radius: 50%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-weight: bold;\n            color: white;\n            position: relative;\n            transition: all 0.3s ease;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n        }\n        \n        .node.root {\n            background-color: #e74c3c;\n        }\n        \n        .node-path {\n            stroke: #3498db;\n            stroke-width: 2;\n            fill: none;\n        }\n        \n        svg {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n        }\n        \n        .controls-row {\n            display: flex;\n            gap: 10px;\n            margin-bottom: 15px;\n            align-items: center;\n            flex-wrap: wrap;\n        }\n        \n        input, select, button {\n            padding: 8px 12px;\n            border-radius: 4px;\n            border: 1px solid #3498db;\n            background-color: #1a1a2e;\n            color: white;\n        }\n        \n        button {\n            background-color: #3498db;\n            color: white;\n            border: none;\n            cursor: pointer;\n            transition: background-color 0.3s;\n        }\n        \n        button:hover {\n            background-color: #2980b9;\n        }\n        \n        button:disabled {\n            background-color: #7f8c8d;\n            cursor: not-allowed;\n        }\n        \n        .operation-log {\n            margin-top: 20px;\n            background-color: #1a1a2e;\n            padding: 10px;\n            border-radius: 4px;\n            max-height: 200px;\n            overflow-y: auto;\n            font-family: monospace;\n        }\n        \n        .complexity-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 15px 0;\n        }\n        \n        .complexity-table th, .complexity-table td {\n            border: 1px solid #3498db;\n            padding: 8px 12px;\n            text-align: left;\n        }\n        \n        .complexity-table th {\n            background-color: #162445;\n        }\n        \n        .complexity-table tr:nth-child(even) {\n            background-color: #1a1a3a;\n        }\n        \n        .operations {\n            display: flex;\n            gap: 10px;\n            justify-content: center;\n            margin-bottom: 20px;\n        }\n        \n        .code-block {\n            background-color: #2d3748;\n            padding: 15px;\n            border-radius: 5px;\n            margin: 15px 0;\n            overflow-x: auto;\n            font-family: 'Consolas', monospace;\n        }\n        \n        .comment {\n            color: #7f8c8d;\n        }\n        \n        .keyword {\n            color: #3498db;\n        }\n        \n        .function {\n            color: #2ecc71;\n        }\n        \n        .attribute {\n            color: #f39c12;\n        }\n        \n        .value {\n            color: #e74c3c;\n        }\n        \n        @media (max-width: 768px) {\n            .visualization {\n                grid-template-columns: 1fr;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <header>\n            <h1>Union-Find (Disjoint Set) Algorithm</h1>\n            <p>Interactive visualization of the Union-Find data structure and algorithms</p>\n        </header>\n        \n        <section class=\"intro\">\n            <h2>What is Union-Find?</h2>\n            <p>The Union-Find data structure, also known as Disjoint Set Union (DSU), is a data structure that keeps track of elements partitioned into a number of disjoint (non-overlapping) subsets.</p>\n            <p>It provides two main operations:</p>\n            <ul>\n                <li><strong>Union:</strong> Combine two subsets into a single subset</li>\n                <li><strong>Find:</strong> Determine which subset a particular element is in</li>\n            </ul>\n            <p>Union-Find is commonly used in algorithms that need to manage connected components, such as Kruskal's algorithm for finding Minimum Spanning Trees.</p>\n        </section>\n        \n        <section class=\"visualization\">\n            <div class=\"controls\">\n                <h2>Controls</h2>\n                \n                <div class=\"controls-row\">\n                    <label for=\"node-count\">Number of nodes:</label>\n                    <input type=\"number\" id=\"node-count\" min=\"3\" max=\"20\" value=\"10\">\n                    <button id=\"btn-init\">Initialize</button>\n                </div>\n                \n                <div class=\"controls-row\">\n                    <label for=\"node-a\">Node A:</label>\n                    <input type=\"number\" id=\"node-a\" min=\"0\" value=\"0\">\n                    <label for=\"node-b\">Node B:</label>\n                    <input type=\"number\" id=\"node-b\" min=\"0\" value=\"1\">\n                    <button id=\"btn-union\">Union</button>\n                    <button id=\"btn-find\">Find</button>\n                </div>\n                \n                <div class=\"operations\">\n                    <button id=\"btn-path-compression\">Apply Path Compression</button>\n                    <button id=\"btn-union-by-rank\">Apply Union by Rank</button>\n                    <button id=\"btn-reset\">Reset Visualization</button>\n                </div>\n                \n                <div class=\"operation-log\">\n                    <h3>Operation Log</h3>\n                    <div id=\"log-content\"></div>\n                </div>\n            </div>\n            \n            <div class=\"animation-area\">\n                <h3>Union-Find Visualization</h3>\n                <div id=\"node-container\" class=\"node-container\"></div>\n                <svg id=\"connections\"></svg>\n            </div>\n        </section>\n        \n        <section class=\"code-explanation\">\n            <h2>Algorithm Details</h2>\n            \n            <h3>Basic Implementation</h3>\n            <p>A simple Union-Find implementation uses an array to store the parent of each node:</p>\n            <div class=\"code-block\">\n                <pre><span class=\"keyword\">class</span> <span class=\"function\">UnionFind</span> {\n    <span class=\"function\">constructor</span>(size) {\n        <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span> = <span class=\"keyword\">new</span> <span class=\"function\">Array</span>(size);\n        <span class=\"comment\">// Initially, each element is its own parent</span>\n        <span class=\"keyword\">for</span> (let i = <span class=\"value\">0</span>; i < size; i++) {\n            <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[i] = i;\n        }\n    }\n    \n    <span class=\"function\">find</span>(x) {\n        <span class=\"comment\">// Find the root of x</span>\n        <span class=\"keyword\">while</span> (<span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[x] !== x) {\n            x = <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[x];\n        }\n        <span class=\"keyword\">return</span> x;\n    }\n    \n    <span class=\"function\">union</span>(x, y) {\n        <span class=\"keyword\">const</span> rootX = <span class=\"keyword\">this</span>.<span class=\"function\">find</span>(x);\n        <span class=\"keyword\">const</span> rootY = <span class=\"keyword\">this</span>.<span class=\"function\">find</span>(y);\n        \n        <span class=\"comment\">// If they have the same root, they are already in the same set</span>\n        <span class=\"keyword\">if</span> (rootX === rootY) <span class=\"keyword\">return</span>;\n        \n        <span class=\"comment\">// Merge the two sets by making one root the parent of the other</span>\n        <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[rootY] = rootX;\n    }\n}</pre>\n            </div>\n            \n            <h3>Optimizations</h3>\n            <p>To improve performance, we can use two optimizations:</p>\n            <ul>\n                <li><strong>Union by Rank:</strong> Always attach the smaller tree to the root of the larger tree</li>\n                <li><strong>Path Compression:</strong> Flatten the tree during find operations</li>\n            </ul>\n            \n            <div class=\"code-block\">\n                <pre><span class=\"keyword\">class</span> <span class=\"function\">OptimizedUnionFind</span> {\n    <span class=\"function\">constructor</span>(size) {\n        <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span> = <span class=\"keyword\">new</span> <span class=\"function\">Array</span>(size);\n        <span class=\"keyword\">this</span>.<span class=\"attribute\">rank</span> = <span class=\"keyword\">new</span> <span class=\"function\">Array</span>(size).<span class=\"function\">fill</span>(<span class=\"value\">0</span>);\n        \n        <span class=\"keyword\">for</span> (let i = <span class=\"value\">0</span>; i < size; i++) {\n            <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[i] = i;\n        }\n    }\n    \n    <span class=\"function\">find</span>(x) {\n        <span class=\"comment\">// Path compression</span>\n        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[x] !== x) {\n            <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[x] = <span class=\"keyword\">this</span>.<span class=\"function\">find</span>(<span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[x]);\n        }\n        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[x];\n    }\n    \n    <span class=\"function\">union</span>(x, y) {\n        <span class=\"keyword\">const</span> rootX = <span class=\"keyword\">this</span>.<span class=\"function\">find</span>(x);\n        <span class=\"keyword\">const</span> rootY = <span class=\"keyword\">this</span>.<span class=\"function\">find</span>(y);\n        \n        <span class=\"keyword\">if</span> (rootX === rootY) <span class=\"keyword\">return</span>;\n        \n        <span class=\"comment\">// Union by rank</span>\n        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.<span class=\"attribute\">rank</span>[rootX] > <span class=\"keyword\">this</span>.<span class=\"attribute\">rank</span>[rootY]) {\n            <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[rootY] = rootX;\n        } <span class=\"keyword\">else if</span> (<span class=\"keyword\">this</span>.<span class=\"attribute\">rank</span>[rootX] < <span class=\"keyword\">this</span>.<span class=\"attribute\">rank</span>[rootY]) {\n            <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[rootX] = rootY;\n        } <span class=\"keyword\">else</span> {\n            <span class=\"keyword\">this</span>.<span class=\"attribute\">parent</span>[rootY] = rootX;\n            <span class=\"keyword\">this</span>.<span class=\"attribute\">rank</span>[rootX]++;\n        }\n    }\n}</pre>\n            </div>\n            \n            <h3>Time Complexity</h3>\n            <table class=\"complexity-table\">\n                <thead>\n                    <tr>\n                        <th>Implementation</th>\n                        <th>Time Complexity (per operation)</th>\n                        <th>Space Complexity</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>Basic (without optimizations)</td>\n                        <td>O(n) worst-case</td>\n                        <td>O(n)</td>\n                    </tr>\n                    <tr>\n                        <td>With Union by Rank</td>\n                        <td>O(log n)</td>\n                        <td>O(n)</td>\n                    </tr>\n                    <tr>\n                        <td>With Union by Rank and Path Compression</td>\n                        <td>O(Î±(n)) (inverse Ackermann function)</td>\n                        <td>O(n)</td>\n                    </tr>\n                </tbody>\n            </table>\n            \n            <h3>Applications</h3>\n            <ul>\n                <li>Kruskal's algorithm for Minimum Spanning Trees</li>\n                <li>Finding connected components in graphs</li>\n                <li>Cycle detection in undirected graphs</li>\n                <li>Image processing (connected component labeling)</li>\n                <li>Network connectivity problems</li>\n            </ul>\n        </section>\n    </div>\n\n    <script>\n        class UnionFindVisualizer {\n            constructor() {\n                this.nodes = [];\n                this.parents = [];\n                this.ranks = [];\n                this.nodeCount = 10;\n                this.operationLog = [];\n                this.connectionsSvg = document.getElementById('connections');\n                this.nodeContainer = document.getElementById('node-container');\n                this.logContent = document.getElementById('log-content');\n                \n                this.initEventListeners();\n                this.initializeVisualization();\n            }\n            \n            initEventListeners() {\n                document.getElementById('btn-init').addEventListener('click', () => {\n                    this.nodeCount = parseInt(document.getElementById('node-count').value);\n                    this.initializeVisualization();\n                });\n                \n                document.getElementById('btn-union').addEventListener('click', () => {\n                    const nodeA = parseInt(document.getElementById('node-a').value);\n                    const nodeB = parseInt(document.getElementById('node-b').value);\n                    this.union(nodeA, nodeB);\n                });\n                \n                document.getElementById('btn-find').addEventListener('click', () => {\n                    const node = parseInt(document.getElementById('node-a').value);\n                    this.find(node);\n                });\n                \n                document.getElementById('btn-path-compression').addEventListener('click', () => {\n                    this.applyPathCompression();\n                });\n                \n                document.getElementById('btn-union-by-rank').addEventListener('click', () => {\n                    this.applyUnionByRank();\n                });\n                \n                document.getElementById('btn-reset').addEventListener('click', () => {\n                    this.initializeVisualization();\n                });\n            }\n            \n            initializeVisualization() {\n                // Reset arrays"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Union-Find (Disjoint Set)"
    }
  ],
  "topic": "Union-Find (Disjoint Set)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}