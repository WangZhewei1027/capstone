{
  "id": "f1811962-d366-11f0-9b19-a558354ece3e",
  "timestamp": "2025-12-07T12:21:55.260Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Merge Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Merge Sort Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .input-section {\n            margin: 20px 0;\n            display: flex;\n            justify-content: center;\n            gap: 10px;\n        }\n        input {\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            width: 300px;\n        }\n        button {\n            padding: 8px 16px;\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        button:disabled {\n            background-color: #cccccc;\n            cursor: not-allowed;\n        }\n        .visualization {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin-top: 30px;\n        }\n        .array-container {\n            display: flex;\n            justify-content: center;\n            margin: 10px 0;\n            flex-wrap: wrap;\n        }\n        .array-element {\n            width: 50px;\n            height: 50px;\n            margin: 5px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background-color: #2196F3;\n            color: white;\n            border-radius: 4px;\n            font-weight: bold;\n            transition: all 0.3s ease;\n        }\n        .array-element.merging {\n            background-color: #FF9800;\n        }\n        .array-element.sorted {\n            background-color: #4CAF50;\n        }\n        .explanation {\n            margin-top: 20px;\n            padding: 15px;\n            background-color: #f9f9f9;\n            border-left: 4px solid #2196F3;\n        }\n        .controls {\n            display: flex;\n            justify-content: center;\n            gap: 10px;\n            margin: 20px 0;\n        }\n        .step-info {\n            text-align: center;\n            margin: 10px 0;\n            font-weight: bold;\n            color: #555;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Merge Sort Visualization</h1>\n        \n        <div class=\"input-section\">\n            <input type=\"text\" id=\"arrayInput\" placeholder=\"Enter numbers separated by commas (e.g., 5,2,8,1,9)\" value=\"5,2,8,1,9,3,7,4,6\">\n            <button onclick=\"startSorting()\">Start Sorting</button>\n        </div>\n\n        <div class=\"controls\">\n            <button onclick=\"previousStep()\" id=\"prevBtn\" disabled>Previous Step</button>\n            <button onclick=\"nextStep()\" id=\"nextBtn\" disabled>Next Step</button>\n            <button onclick=\"reset()\">Reset</button>\n        </div>\n\n        <div class=\"step-info\" id=\"stepInfo\">Step: 0/0</div>\n\n        <div class=\"visualization\" id=\"visualization\">\n            <!-- Visualization will be generated here -->\n        </div>\n\n        <div class=\"explanation\">\n            <h3>How Merge Sort Works:</h3>\n            <p><strong>Merge Sort</strong> is a divide-and-conquer algorithm that works as follows:</p>\n            <ol>\n                <li><strong>Divide:</strong> Split the array into two halves recursively until each subarray contains only one element</li>\n                <li><strong>Conquer:</strong> Sort each single-element array (trivially sorted)</li>\n                <li><strong>Combine:</strong> Merge the sorted subarrays back together in sorted order</li>\n            </ol>\n            <p><strong>Time Complexity:</strong> O(n log n) in all cases</p>\n            <p><strong>Space Complexity:</strong> O(n) for the temporary arrays used during merging</p>\n        </div>\n    </div>\n\n    <script>\n        let originalArray = [];\n        let steps = [];\n        let currentStep = 0;\n        let isSorting = false;\n\n        function parseInput() {\n            const input = document.getElementById('arrayInput').value;\n            return input.split(',').map(num => parseInt(num.trim())).filter(num => !isNaN(num));\n        }\n\n        function startSorting() {\n            originalArray = parseInput();\n            if (originalArray.length === 0) {\n                alert('Please enter valid numbers separated by commas');\n                return;\n            }\n\n            steps = [];\n            currentStep = 0;\n            isSorting = true;\n\n            // Create a copy for the merge sort algorithm\n            const arrayCopy = [...originalArray];\n            mergeSort(arrayCopy, 0, arrayCopy.length - 1, [...originalArray], []);\n            \n            updateControls();\n            displayStep();\n        }\n\n        function mergeSort(arr, left, right, fullArray, parentSteps) {\n            if (left >= right) return;\n\n            const mid = Math.floor((left + right) / 2);\n            \n            // Record the division step\n            parentSteps.push({\n                type: 'divide',\n                array: [...fullArray],\n                left: left,\n                mid: mid,\n                right: right,\n                message: `Dividing array from index ${left} to ${right} (mid: ${mid})`\n            });\n\n            // Recursively sort left and right halves\n            mergeSort(arr, left, mid, fullArray, parentSteps);\n            mergeSort(arr, mid + 1, right, fullArray, parentSteps);\n\n            // Merge the sorted halves\n            merge(arr, left, mid, right, fullArray, parentSteps);\n        }\n\n        function merge(arr, left, mid, right, fullArray, parentSteps) {\n            const leftArray = arr.slice(left, mid + 1);\n            const rightArray = arr.slice(mid + 1, right + 1);\n            \n            let i = 0, j = 0, k = left;\n\n            // Record merging start\n            parentSteps.push({\n                type: 'merge_start',\n                array: [...fullArray],\n                leftArray: [...leftArray],\n                rightArray: [...rightArray],\n                left: left,\n                right: right,\n                message: `Merging subarrays [${leftArray.join(', ')}] and [${rightArray.join(', ')}]`\n            });\n\n            while (i < leftArray.length && j < rightArray.length) {\n                if (leftArray[i] <= rightArray[j]) {\n                    arr[k] = leftArray[i];\n                    i++;\n                } else {\n                    arr[k] = rightArray[j];\n                    j++;\n                }\n                \n                // Update the full array representation\n                for (let idx = left; idx <= right; idx++) {\n                    fullArray[idx] = arr[idx];\n                }\n\n                // Record each comparison and placement\n                parentSteps.push({\n                    type: 'merge_compare',\n                    array: [...fullArray],\n                    leftArray: [...leftArray],\n                    rightArray: [...rightArray],\n                    left: left,\n                    right: right,\n                    comparing: [leftArray[i !== leftArray.length ? i : i-1], rightArray[j !== rightArray.length ? j : j-1]],\n                    message: `Comparing ${leftArray[i !== leftArray.length ? i : i-1]} and ${rightArray[j !== rightArray.length ? j : j-1]}`\n                });\n\n                k++;\n            }\n\n            // Add remaining elements from left array\n            while (i < leftArray.length) {\n                arr[k] = leftArray[i];\n                fullArray[k] = arr[k];\n                \n                parentSteps.push({\n                    type: 'merge_remaining',\n                    array: [...fullArray],\n                    left: left,\n                    right: right,\n                    message: `Adding remaining element ${leftArray[i]} from left subarray`\n                });\n\n                i++;\n                k++;\n            }\n\n            // Add remaining elements from right array\n            while (j < rightArray.length) {\n                arr[k] = rightArray[j];\n                fullArray[k] = arr[k];\n                \n                parentSteps.push({\n                    type: 'merge_remaining',\n                    array: [...fullArray],\n                    left: left,\n                    right: right,\n                    message: `Adding remaining element ${rightArray[j]} from right subarray`\n                });\n\n                j++;\n                k++;\n            }\n\n            // Record merge completion\n            parentSteps.push({\n                type: 'merge_complete',\n                array: [...fullArray],\n                left: left,\n                right: right,\n                message: `Merged subarray from index ${left} to ${right}: [${fullArray.slice(left, right + 1).join(', ')}]`\n            });\n\n            // Add all merge steps to the main steps array\n            steps.push(...parentSteps);\n        }\n\n        function displayStep() {\n            const visualization = document.getElementById('visualization');\n            visualization.innerHTML = '';\n\n            if (steps.length === 0 || currentStep >= steps.length) {\n                if (originalArray.length > 0) {\n                    // Show final sorted array\n                    const sortedArray = steps.length > 0 ? steps[steps.length - 1].array : originalArray;\n                    const arrayContainer = document.createElement('div');\n                    arrayContainer.className = 'array-container';\n                    \n                    sortedArray.forEach((num, index) => {\n                        const element = document.createElement('div');\n                        element.className = 'array-element sorted';\n                        element.textContent = num;\n                        element.style.backgroundColor = '#4CAF50';\n                        arrayContainer.appendChild(element);\n                    });\n                    \n                    visualization.appendChild(arrayContainer);\n                    \n                    const message = document.createElement('div');\n                    message.className = 'step-info';\n                    message.textContent = 'Array is fully sorted!';\n                    message.style.color = '#4CAF50';\n                    visualization.appendChild(message);\n                }\n                return;\n            }\n\n            const step = steps[currentStep];\n            const stepInfo = document.getElementById('stepInfo');\n            stepInfo.textContent = `Step: ${currentStep + 1}/${steps.length} - ${step.message}`;\n\n            const arrayContainer = document.createElement('div');\n            arrayContainer.className = 'array-container';\n\n            step.array.forEach((num, index) => {\n                const element = document.createElement('div');\n                element.className = 'array-element';\n                element.textContent = num;\n\n                // Highlight elements being processed\n                if (step.type === 'divide') {\n                    if (index >= step.left && index <= step.right) {\n                        element.style.backgroundColor = '#FF9800';\n                    }\n                } else if (step.type.includes('merge')) {\n                    if (index >= step.left && index <= step.right) {\n                        element.style.backgroundColor = '#FF9800';\n                    }\n                }\n\n                arrayContainer.appendChild(element);\n            });\n\n            visualization.appendChild(arrayContainer);\n\n            // Add explanation text\n            const explanation = document.createElement('div');\n            explanation.className = 'step-info';\n            explanation.textContent = step.message;\n            explanation.style.fontWeight = 'normal';\n            visualization.appendChild(explanation);\n        }\n\n        function nextStep() {\n            if (currentStep < steps.length - 1) {\n                currentStep++;\n                displayStep();\n                updateControls();\n            }\n        }\n\n        function previousStep() {\n            if (currentStep > 0) {\n                currentStep--;\n                displayStep();\n                updateControls();\n            }\n        }\n\n        function updateControls() {\n            document.getElementById('prevBtn').disabled = currentStep === 0;\n            document.getElementById('nextBtn').disabled = currentStep === steps.length - 1;\n        }\n\n        function reset() {\n            currentStep = 0;\n            steps = [];\n            isSorting = false;\n            document.getElementById('prevBtn').disabled = true;\n            document.getElementById('nextBtn').disabled = true;\n            document.getElementById('stepInfo').textContent = 'Step: 0/0';\n            document.getElementById('visualization').innerHTML = '';\n            document.getElementById('arrayInput').value = '5,2,8,1,9,3,7,4,6';\n        }\n\n        // Initialize with sample array\n        window.onload = function() {\n            document.getElementById('arrayInput').value = '5,2,8,1,9,3,7,4,6';\n        };\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Merge Sort"
    }
  ],
  "topic": "Merge Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}