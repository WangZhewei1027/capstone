{
  "id": "98e2cc12-d5c1-11f0-a327-5f281c6cb8e2",
  "timestamp": "2025-12-10T12:18:04.643Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Two Pointers",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Two Pointers — Interactive Demos</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --panel:#0b1220;\n      --muted:#98a0b3;\n      --accent:#5eead4;\n      --accent2:#60a5fa;\n      --danger:#fb7185;\n      --card:#071022;\n      --glass: rgba(255,255,255,0.03);\n    }\n    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial;}\n    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071022 0%, #071330 50%, #031024 100%);color:#e6eef8;}\n    .wrap{max-width:980px;margin:28px auto;padding:20px;}\n    header{display:flex;align-items:center;gap:14px;margin-bottom:18px;}\n    header h1{font-size:20px;margin:0;}\n    header p{margin:0;color:var(--muted);font-size:13px;}\n    .panel{background:var(--panel);padding:16px;border-radius:12px;box-shadow:0 6px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03);}\n    .controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-bottom:12px;}\n    label{font-size:13px;color:var(--muted);}\n    select,input[type=\"text\"],input[type=\"number\"]{background:var(--card);border:1px solid rgba(255,255,255,0.04);color:#dbeafe;padding:8px;border-radius:8px;}\n    button{background:linear-gradient(180deg,var(--accent2),#2b7adf);border:none;color:#022f4e;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600;}\n    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);}\n    .row{display:flex;gap:12px;align-items:center;}\n    .array-area{display:flex;align-items:center;gap:8px;flex-wrap:wrap;padding:14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.03);min-height:110px;}\n    .cell{width:52px;height:52px;border-radius:8px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.02);border:1px dashed rgba(255,255,255,0.03);position:relative;font-weight:700;font-size:15px;color:#dbeafe;}\n    .cell.small{width:44px;height:44px;font-size:14px;}\n    .index{position:absolute;top:-10px;right:-8px;background:var(--glass);padding:4px;border-radius:6px;font-size:11px;color:var(--muted);}\n    .pointer{position:absolute;height:8px;width:0;border-top:10px solid transparent;border-bottom:10px solid transparent;top:-26px;}\n    .pointer.l{border-right:14px solid var(--accent);left:10px;}\n    .pointer.r{border-left:14px solid var(--accent2);right:10px;}\n    .status{margin-top:10px;padding:12px;border-radius:8px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);border:1px solid rgba(255,255,255,0.02);color:var(--muted);font-size:13px;}\n    .legend{display:flex;gap:8px;align-items:center;margin-top:10px;color:var(--muted);font-size:13px;}\n    .dot{width:12px;height:12px;border-radius:4px;}\n    .dot.l{background:var(--accent);border:1px solid rgba(255,255,255,0.04);}\n    .dot.r{background:var(--accent2);border:1px solid rgba(255,255,255,0.04);}\n    .dot.found{background:var(--danger);border:1px solid rgba(255,255,255,0.04);}\n    .explain{margin-top:12px;color:var(--muted);font-size:13px;line-height:1.5;}\n    .small{font-size:12px;color:var(--muted);}\n    .controls-right{margin-left:auto;display:flex;gap:8px;}\n    .speed{display:flex;gap:8px;align-items:center;}\n    .hint{color:var(--muted);font-size:13px;margin-top:8px;}\n    footer{margin-top:14px;color:var(--muted);font-size:12px;}\n    /* found highlight */\n    .cell.found{background:linear-gradient(180deg,rgba(251,113,133,0.12),rgba(251,113,133,0.06));border:1px solid rgba(251,113,133,0.18);box-shadow:0 6px 18px rgba(251,113,133,0.06);}\n    .cell.active{box-shadow:0 10px 30px rgba(96,165,250,0.08);border:1px solid rgba(96,165,250,0.12);background:linear-gradient(180deg,rgba(96,165,250,0.06),rgba(96,165,250,0.02));}\n    .cell.write{box-shadow:0 10px 30px rgba(94,234,212,0.06);border:1px solid rgba(94,234,212,0.12);background:linear-gradient(180deg,rgba(94,234,212,0.06),rgba(94,234,212,0.02));}\n    .muted-box{background:rgba(255,255,255,0.01);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);color:var(--muted);}\n    .small-note{font-size:12px;color:var(--muted);}\n  </style>\n</head>\n<body>\n  <div class=\"wrap\">\n    <header>\n      <div>\n        <h1>Two Pointers — Interactive Visualizer</h1>\n        <p>Step through classic \"two pointers\" patterns: two-sum on sorted array, reverse string, and remove duplicates.</p>\n      </div>\n    </header>\n\n    <div class=\"panel\">\n      <div class=\"controls\">\n        <div style=\"min-width:220px;\">\n          <label>Demo</label><br/>\n          <select id=\"demoSelect\">\n            <option value=\"twoSum\">Find Pair with Target Sum (sorted array)</option>\n            <option value=\"reverse\">Reverse String (in-place)</option>\n            <option value=\"removeDup\">Remove Duplicates (in-place)</option>\n          </select>\n        </div>\n\n        <div style=\"flex:1;\">\n          <label>Array (comma separated)</label><br/>\n          <input id=\"inputArray\" type=\"text\" value=\"1,2,3,4,5,6,7,8\" />\n        </div>\n\n        <div id=\"targetDiv\" style=\"min-width:140px;\">\n          <label>Target (for two-sum)</label><br/>\n          <input id=\"targetInput\" type=\"number\" value=\"9\" />\n        </div>\n\n        <div style=\"display:flex;gap:8px;align-items:center;\">\n          <button id=\"randomBtn\" class=\"ghost\">Random</button>\n          <button id=\"loadBtn\">Load</button>\n        </div>\n\n        <div class=\"controls-right\">\n          <div class=\"speed small\">\n            <label class=\"small\">Speed</label>\n            <input id=\"speed\" type=\"range\" min=\"200\" max=\"2000\" step=\"100\" value=\"800\" />\n          </div>\n          <button id=\"stepBtn\" class=\"ghost\">Step</button>\n          <button id=\"playBtn\">Play</button>\n          <button id=\"resetBtn\" class=\"ghost\">Reset</button>\n        </div>\n      </div>\n\n      <div class=\"array-area\" id=\"arrayArea\" aria-live=\"polite\"></div>\n\n      <div class=\"status\" id=\"status\">Load an array and press Play or Step to begin.</div>\n\n      <div class=\"legend\">\n        <div style=\"display:flex;gap:6px;align-items:center;\"><div class=\"dot l\"></div><div>left pointer</div></div>\n        <div style=\"display:flex;gap:6px;align-items:center;\"><div class=\"dot r\"></div><div>right pointer</div></div>\n        <div style=\"display:flex;gap:6px;align-items:center;\"><div class=\"dot found\"></div><div>found / result</div></div>\n      </div>\n\n      <div class=\"explain\" id=\"explainArea\">\n        <strong>What is \"Two Pointers\"?</strong>\n        <div class=\"small-note\">A technique that uses two indices that move through a data structure (often from both ends) to solve problems in linear time and constant extra space. Choose a demo above and step through to see how pointers move.</div>\n      </div>\n    </div>\n\n    <footer>\n      Tip: For the two-sum demo, the array must be sorted. For remove-duplicates and reverse, operations are done in-place.\n    </footer>\n  </div>\n\n<script>\n(function(){\n  // DOM\n  const demoSelect = document.getElementById('demoSelect');\n  const inputArray = document.getElementById('inputArray');\n  const targetInput = document.getElementById('targetInput');\n  const targetDiv = document.getElementById('targetDiv');\n  const loadBtn = document.getElementById('loadBtn');\n  const randomBtn = document.getElementById('randomBtn');\n  const arrayArea = document.getElementById('arrayArea');\n  const status = document.getElementById('status');\n  const explainArea = document.getElementById('explainArea');\n  const stepBtn = document.getElementById('stepBtn');\n  const playBtn = document.getElementById('playBtn');\n  const resetBtn = document.getElementById('resetBtn');\n  const speedInput = document.getElementById('speed');\n\n  let model = null;\n  let autoplay = false;\n  let timer = null;\n\n  function parseArray(text){\n    if(!text.trim()) return [];\n    return text.split(',').map(s=>s.trim()).filter(s=>s!==\"\").map(s=>{\n      // try parse number, otherwise keep string char\n      if(!isNaN(Number(s))) return Number(s);\n      return s;\n    });\n  }\n\n  function randomArray(n=8, sorted=true, range=20){\n    const a = [];\n    for(let i=0;i<n;i++){\n      a.push(Math.floor(Math.random()*range)+1);\n    }\n    if(sorted) a.sort((x,y)=>x-y);\n    return a;\n  }\n\n  function createCell(value, idx){\n    const el = document.createElement('div');\n    el.className = 'cell';\n    el.innerHTML = `<div class=\"val\">${value}</div><div class=\"index\">${idx}</div>`;\n    return el;\n  }\n\n  function renderArray(arr, highlights={}){\n    arrayArea.innerHTML = '';\n    for(let i=0;i<arr.length;i++){\n      const cell = createCell(arr[i], i);\n      cell.dataset.idx = i;\n      if(arr._meta && arr._meta[i]) {\n        const meta = arr._meta[i];\n        if(meta.found) cell.classList.add('found');\n        if(meta.active) cell.classList.add('active');\n        if(meta.write) cell.classList.add('write');\n      }\n      // attach pointer arrows if active\n      if(highlights.left === i){\n        const p = document.createElement('div');\n        p.className = 'pointer l';\n        cell.appendChild(p);\n      }\n      if(highlights.right === i){\n        const p = document.createElement('div');\n        p.className = 'pointer r';\n        cell.appendChild(p);\n      }\n      arrayArea.appendChild(cell);\n    }\n  }\n\n  // Algorithms: define step functions that return {done, status, highlights, arr}\n  // Each implementation uses a \"state\" object that we mutate to progress stepwise.\n\n  function makeTwoSumState(arr, target){\n    // arr must be sorted\n    const state = {\n      name:'twoSum',\n      arr: arr.slice(),\n      target,\n      left:0,\n      right: arr.length-1,\n      found:null,\n      done:false,\n      steps:0\n    };\n    return state;\n  }\n\n  function stepTwoSum(state){\n    if(state.done) return {done:true,status:'Completed'};\n    state.steps++;\n    const l = state.left, r = state.right;\n    if(l>r){\n      state.done = true;\n      return {\n        done:true,\n        status:`No pair found adding to ${state.target}.`,\n        highlights:{}\n      };\n    }\n    const lv = state.arr[l], rv = state.arr[r];\n    const sum = (typeof lv==='number' && typeof rv==='number') ? lv+rv : String(lv)+String(rv);\n    let statusText = `Compare arr[${l}] = ${lv} and arr[${r}] = ${rv} -> sum = ${sum}`;\n    const highlights = {left:l,right:r};\n    // mark active\n    state.arr._meta = state.arr._meta || [];\n    state.arr._meta[l] = {active:true};\n    state.arr._meta[r] = {active:true};\n\n    if(sum === state.target){\n      state.found = [l,r];\n      state.done = true;\n      state.arr._meta[l].found = true;\n      state.arr._meta[r].found = true;\n      statusText += ` — Found! indices ${l} and ${r}.`;\n      return {done:true,status:statusText,highlights};\n    } else if (sum < state.target){\n      state.left++;\n      statusText += ` — sum < target, move left++ -> ${state.left}`;\n      return {done:false,status:statusText,highlights};\n    } else {\n      state.right--;\n      statusText += ` — sum > target, move right-- -> ${state.right}`;\n      return {done:false,status:statusText,highlights};\n    }\n  }\n\n  function makeReverseState(arr){\n    const s = {\n      name:'reverse',\n      arr: arr.slice(),\n      left:0,\n      right: arr.length-1,\n      done:false,\n      steps:0\n    };\n    return s;\n  }\n\n  function stepReverse(state){\n    if(state.done) return {done:true,status:'Completed'};\n    state.steps++;\n    const l = state.left, r = state.right;\n    if(l>=r){\n      state.done = true;\n      return {done:true,status:'All pairs swapped — reversal complete',highlights:{}};\n    }\n    // show active\n    state.arr._meta = state.arr._meta || [];\n    state.arr._meta[l] = {active:true};\n    state.arr._meta[r] = {active:true};\n    const statusText = `Swap arr[${l}] = ${state.arr[l]} with arr[${r}] = ${state.arr[r]}`;\n    // perform swap\n    [state.arr[l], state.arr[r]] = [state.arr[r], state.arr[l]];\n    state.arr._meta[l].write = true;\n    state.arr._meta[r].write = true;\n    state.left++; state.right--;\n    return {done:false,status:statusText,highlights:{left:l,right:r}};\n  }\n\n  function makeRemoveDupState(arr){\n    // arr must be sorted\n    const state = {\n      name:'removeDup',\n      arr: arr.slice(),\n      write: 0,  // index to write next unique\n      read: 0,\n      done:false,\n      steps:0\n    };\n    return state;\n  }\n\n  function stepRemoveDup(state){\n    if(state.done) return {done:true,status:'Completed'};\n    state.steps++;\n    const n = state.arr.length;\n    if(state.read >= n){\n      state.done = true;\n      // final length = write\n      return {done:true,status:`Finished. Unique length = ${state.write}. Remaining tail ignored.`,highlights:{}};\n    }\n    // read pointer compares to last unique written (at write-1)\n    state.arr._meta = state.arr._meta || [];\n    const r = state.read;\n    const w = state.write;\n    const current = state.arr[r];\n    let statusText = '';\n    if(w === 0){\n      // first element always kept\n      state.arr[w] = current;\n      state.arr._meta[w] = {write:true,found:true};\n      state.write++;\n      state.read++;\n      statusText = `Keep arr[${r}] = ${current} at position ${w}.`;\n      return {done:false,status:statusText,highlights:{left:w,right:r}};\n    } else {\n      const lastUnique = state.arr[w-1];\n      if(current === lastUnique){\n        statusText = `arr[${r}] = ${current} equals last unique ${lastUnique} -> skip (read++).`;\n        state.read++;\n        state.arr._meta[r] = {active:true};\n        return {done:false,status:statusText,highlights:{right:r,left:w-1}};\n      } else {\n        // write current into arr[write]\n        state.arr[w] = current;\n        state.arr._meta[w] = {write:true,found:true};\n        statusText = `New unique arr[${r}] = ${current} -> move to arr[${w}] (write++).`;\n        state.write++; state.read++;\n        return {done:false,status:statusText,highlights:{left:w-1,right:r}};\n      }\n    }\n  }\n\n  // driver\n  function loadDemo(){\n    clearAuto();\n    const demo = demoSelect.value;\n    const arr = parseArray(inputArray.value);\n    if(demo==='twoSum'){\n      targetDiv.style.display = 'block';\n      const t = Number(targetInput.value);\n      model = makeTwoSumState(arr, t);\n      status.textContent = 'Ready. Two pointers at both ends. Left=0, Right=' + (arr.length-1);\n      explainDemo(demo);\n      renderArray(model.arr, {left:model.left, right:model.right});\n    } else if(demo==='reverse'){\n      targetDiv.style.display = 'none';\n      model = makeReverseState(arr);\n      status.textContent = 'Ready. Two pointers at both ends to swap toward center.';\n      explainDemo(demo);\n      renderArray(model.arr, {left:model.left, right:model.right});\n    } else if(demo==='removeDup'){\n      targetDiv.style.display = 'none';\n      model = makeRemoveDupState(arr);\n      status.textContent = 'Ready. Read and write pointers start at index 0.';\n      explainDemo(demo);\n      renderArray(model.arr, {left:model.write, right:model.read});\n    }\n  }\n\n  function explainDemo(name){\n    if(name==='twoSum'){\n      explainArea.innerHTML = `<strong>Two-sum (sorted array)</strong>\n      <div class=\"small-note\">Start with left at 0 and right at n-1. Compare sum and move the pointer that will get you closer to target. Time: O(n), Space: O(1).</div>`;\n    } else if(name==='reverse'){\n      explainArea.innerHTML = `<strong>Reverse string (in-place)</strong>\n      <div class=\"small-note\">Swap elements at left and right and move inward. Time: O(n/2) => O(n), Space: O(1).</div>`;\n    } else {\n      explainArea.innerHTML = `<strong>Remove duplicates from sorted array (in-place)</strong>\n      <div class=\"small-note\">Use a write pointer for the next unique position and a read pointer to scan. Time: O(n), Space: O(1).</div>`;\n    }\n  }\n\n  function stepOnce(){\n    if(!model){ status.textContent = 'Load a demo first.'; return; }\n    // clear previous meta\n    model.arr._meta = [];\n    let res;\n    if(model.name==='twoSum'){\n      res = stepTwoSum(model);\n      renderArray(model.arr, model.found ? { left:model.found[0], right:model.found[1]} : {left:model.left,right:model.right});\n    } else if(model.name==='reverse'){\n      res = stepReverse(model);\n      renderArray(model.arr, {left:model.left,right:model.right});\n    } else if(model.name==='removeDup'){\n      res = stepRemoveDup(model);\n      // for removeDup, show write and read\n      renderArray(model.arr, {left:model.write, right:model.read});\n    }\n    status.textContent = res.status;\n    if(res.done){\n      clearAuto();\n      if(model.name==='removeDup' && model.done){\n        status.textContent += ` Final array (first ${model.write} elements unique): [${model.arr.slice(0,model.write).join(', ')}]`;\n      }\n      playBtn.textContent = 'Play';\n      autoplay = false;\n    }\n  }\n\n  function autoPlayToggle(){\n    if(!model){ status.textContent = 'Load a demo first.'; return; }\n    autoplay = !autoplay;\n    if(autoplay){\n      playBtn.textContent = 'Pause';\n      runAuto();\n    } else {\n      playBtn.textContent = 'Play';\n      clearAuto();\n    }\n  }\n\n  function runAuto(){\n    clearAuto();\n    timer = setInterval(()=>{\n      // stop if done\n      if(!model || model.done){\n        clearAuto();\n        return;\n      }\n      stepOnce();\n    }, Math.max(80, Number(speedInput.value)));\n  }\n  function clearAuto(){ autoplay=false; playBtn.textContent='Play'; if(timer){ clearInterval(timer); timer=null; } }\n\n  // events\n  loadBtn.addEventListener('click', loadDemo);\n  demoSelect.addEventListener('change', ()=>{\n    // show/hide target\n    if(demoSelect.value === 'twoSum') targetDiv.style.display = 'block'; else targetDiv.style.display = 'none';\n    // optionally adjust array input example\n    if(demoSelect.value === 'twoSum') inputArray.value = '1,2,3,4,5,6,7,8';\n    else if(demoSelect.value==='reverse') inputArray.value = 'a,b,c,d,e';\n    else inputArray.value = '1,1,2,2,3,3,3,4';\n  });\n\n  randomBtn.addEventListener('click', ()=>{\n    const demo = demoSelect.value;\n    if(demo==='twoSum' || demo==='removeDup'){\n      const arr = randomArray(8, true, 15);\n      inputArray.value = arr.join(',');\n      if(demo==='twoSum'){\n        // choose target likely sum of two\n        const a = Math.floor(Math.random()*arr.length);\n        const b = Math.min(arr.length-1, a + Math.floor(Math.random()*3)+1);\n        targetInput.value = arr[a] + arr[b];\n      }\n    } else {\n      // reverse: random chars\n      const letters = 'abcdefghijklmnpqrstuvwxyz';\n      const n = 7;\n      const a = [];\n      for(let i=0;i<n;i++) a.push(letters[Math.floor(Math.random()*letters.length)]);\n      inputArray.value = a.join(',');\n    }\n  });\n\n  stepBtn.addEventListener('click', ()=>{\n    clearAuto();\n    autoplay = false;\n    playBtn.textContent='Play';\n    stepOnce();\n  });\n\n  playBtn.addEventListener('click', autoPlayToggle);\n  resetBtn.addEventListener('click', ()=>{\n    clearAuto();\n    model = null;\n    status.textContent = 'Reset. Load a demo and press Play or Step to begin.';\n    arrayArea.innerHTML = '';\n  });\n\n  // keyboard: space for step\n  window.addEventListener('keydown', (e)=>{\n    if(e.code === 'Space'){\n      e.preventDefault();\n      stepOnce();\n    }\n  });\n\n  // initial load\n  loadDemo();\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Two Pointers"
    }
  ],
  "topic": "Two Pointers",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}