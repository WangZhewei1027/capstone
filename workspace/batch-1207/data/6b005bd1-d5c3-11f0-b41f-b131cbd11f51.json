{
  "id": "6b005bd1-d5c3-11f0-b41f-b131cbd11f51",
  "timestamp": "2025-12-10T12:30:37.128Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Bubble Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Bubble Sort Visualization</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 900px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        \n        h1 {\n            color: #2c3e50;\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        \n        .controls {\n            display: flex;\n            justify-content: center;\n            gap: 10px;\n            margin-bottom: 20px;\n            flex-wrap: wrap;\n        }\n        \n        button {\n            padding: 10px 15px;\n            background-color: #3498db;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            transition: background-color 0.3s;\n        }\n        \n        button:hover {\n            background-color: #2980b9;\n        }\n        \n        button:disabled {\n            background-color: #95a5a6;\n            cursor: not-allowed;\n        }\n        \n        .array-container {\n            display: flex;\n            justify-content: center;\n            align-items: flex-end;\n            height: 250px;\n            margin: 30px 0;\n            padding: 15px;\n            background-color: white;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        \n        .array-bar {\n            width: 30px;\n            margin: 0 2px;\n            background-color: #3498db;\n            border-radius: 3px 3px 0 0;\n            transition: all 0.3s ease;\n        }\n        \n        .comparing {\n            background-color: #e74c3c;\n        }\n        \n        .sorted {\n            background-color: #2ecc71;\n        }\n        \n        .info {\n            background-color: white;\n            padding: 15px;\n            border-radius: 8px;\n            margin-top: 20px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        \n        .step-info {\n            margin-top: 15px;\n            font-style: italic;\n            color: #7f8c8d;\n        }\n        \n        .stats {\n            display: flex;\n            justify-content: space-around;\n            margin-top: 10px;\n            font-weight: bold;\n        }\n        \n        .algorithm-explanation {\n            margin-top: 30px;\n            line-height: 1.6;\n        }\n        \n        .code-block {\n            background-color: #f8f9fa;\n            padding: 15px;\n            border-radius: 5px;\n            margin: 15px 0;\n            font-family: monospace;\n            overflow-x: auto;\n            border-left: 4px solid #3498db;\n        }\n    </style>\n</head>\n<body>\n    <h1>Bubble Sort Visualization</h1>\n    \n    <div class=\"controls\">\n        <button id=\"generateArray\">Generate New Array</button>\n        <button id=\"startSort\">Start Sorting</button>\n        <button id=\"pauseResume\">Pause</button>\n        <button id=\"stepForward\">Step Forward</button>\n        <button id=\"reset\">Reset</button>\n    </div>\n    \n    <div class=\"array-container\" id=\"arrayContainer\"></div>\n    \n    <div class=\"info\">\n        <p>Comparisons: <span id=\"comparisonCount\">0</span></p>\n        <p>Swaps: <span id=\"swapCount\">0</span></p>\n        <p>Passes: <span id=\"passCount\">0</span></p>\n        <div class=\"step-info\" id=\"stepInfo\">Ready to begin sorting</div>\n    </div>\n    \n    <div class=\"algorithm-explanation\">\n        <h2>How Bubble Sort Works</h2>\n        <p>Bubble Sort is a simple sorting algorithm that repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order. The pass through the list is repeated until the list is sorted.</p>\n        \n        <div class=\"code-block\">\nfunction bubbleSort(arr) {\n    let n = arr.length;\n    for (let i = 0; i < n-1; i++) {\n        for (let j = 0; j < n-i-1; j++) {\n            if (arr[j] > arr[j+1]) {\n                // Swap elements\n                [arr[j], arr[j+1]] = [arr[j+1], arr[j]];\n            }\n        }\n    }\n    return arr;\n}\n        </div>\n        \n        <p><strong>Step-by-step process:</strong></p>\n        <ol>\n            <li>Start from the first element, compare it with the next element</li>\n            <li>If the first element is greater than the second, swap them</li>\n            <li>Continue this process for each pair of adjacent elements to the end of the array</li>\n            <li>Repeat the process for the array, but ignore the last element which is already in place</li>\n            <li>Continue until no swaps are needed, meaning the array is sorted</li>\n        </ol>\n        \n        <p><strong>Time Complexity:</strong> O(nÂ²) in worst and average cases, O(n) in best case (when array is already sorted)</p>\n        <p><strong>Space Complexity:</strong> O(1) as it sorts in-place</p>\n    </div>\n\n    <script>\n        // DOM elements\n        const arrayContainer = document.getElementById('arrayContainer');\n        const generateArrayBtn = document.getElementById('generateArray');\n        const startSortBtn = document.getElementById('startSort');\n        const pauseResumeBtn = document.getElementById('pauseResume');\n        const stepForwardBtn = document.getElementById('stepForward');\n        const resetBtn = document.getElementById('reset');\n        const comparisonCount = document.getElementById('comparisonCount');\n        const swapCount = document.getElementById('swapCount');\n        const passCount = document.getElementById('passCount');\n        const stepInfo = document.getElementById('stepInfo');\n        \n        // Variables\n        let array = [];\n        let isSorting = false;\n        let isPaused = false;\n        let animationSpeed = 500; // milliseconds\n        let animationId = null;\n        let comparisons = 0;\n        let swaps = 0;\n        let passes = 0;\n        \n        // Initialize the array\n        function generateRandomArray() {\n            array = [];\n            arrayContainer.innerHTML = '';\n            \n            // Generate 15 random numbers between 10 and 250\n            for (let i = 0; i < 15; i++) {\n                array.push(Math.floor(Math.random() * 240) + 10);\n            }\n            \n            // Visualize the array\n            visualizeArray();\n            \n            // Reset counters\n            comparisons = 0;\n            swaps = 0;\n            passes = 0;\n            updateCounters();\n            stepInfo.textContent = 'New array generated. Ready to sort.';\n        }\n        \n        // Visualize the array as bars\n        function visualizeArray(comparingIndices = [], sortedIndices = []) {\n            arrayContainer.innerHTML = '';\n            \n            array.forEach((value, index) => {\n                const bar = document.createElement('div');\n                bar.className = 'array-bar';\n                bar.style.height = `${value}px`;\n                \n                if (comparingIndices.includes(index)) {\n                    bar.classList.add('comparing');\n                }\n                \n                if (sortedIndices.includes(index)) {\n                    bar.classList.add('sorted');\n                }\n                \n                // Add value label\n                const label = document.createElement('div');\n                label.textContent = value;\n                label.style.textAlign = 'center';\n                label.style.marginTop = '5px';\n                label.style.fontSize = '12px';\n                \n                bar.appendChild(label);\n                arrayContainer.appendChild(bar);\n            });\n        }\n        \n        // Update counter displays\n        function updateCounters() {\n            comparisonCount.textContent = comparisons;\n            swapCount.textContent = swaps;\n            passCount.textContent = passes;\n        }\n        \n        // Bubble sort algorithm with visualization\n        function* bubbleSortGenerator() {\n            let n = array.length;\n            let swapped;\n            let sortedIndices = [];\n            \n            do {\n                swapped = false;\n                passes++;\n                stepInfo.textContent = `Pass ${passes}: Comparing adjacent elements`;\n                \n                for (let i = 0; i < n - 1; i++) {\n                    // Highlight the comparing elements\n                    const comparingIndices = [i, i+1];\n                    \n                    // Wait for next step\n                    yield { comparingIndices, sortedIndices };\n                    \n                    comparisons++;\n                    updateCounters();\n                    \n                    if (array[i] > array[i + 1]) {\n                        // Swap elements\n                        [array[i], array[i + 1]] = [array[i + 1], array[i]];\n                        swapped = true;\n                        swaps++;\n                        updateCounters();\n                        stepInfo.textContent = `Pass ${passes}: Swapped ${array[i+1]} and ${array[i]}`;\n                        \n                        // Wait for next step\n                        yield { comparingIndices, sortedIndices };\n                    }\n                }\n                \n                // Mark the last element as sorted\n                sortedIndices.push(n - 1);\n                n--;\n                \n                // Wait for next step\n                yield { comparingIndices: [], sortedIndices };\n                \n            } while (swapped);\n            \n            // Mark all remaining elements as sorted\n            for (let i = 0; i < n; i++) {\n                sortedIndices.push(i);\n            }\n            \n            stepInfo.textContent = 'Sorting complete! The array is now sorted.';\n            visualizeArray([], sortedIndices);\n            isSorting = false;\n            updateButtons();\n        }\n        \n        // Control sorting animation\n        let sortGenerator;\n        \n        function startSorting() {\n            if (!isSorting) {\n                isSorting = true;\n                isPaused = false;\n                sortGenerator = bubbleSortGenerator();\n                updateButtons();\n                stepForward();\n            }\n        }\n        \n        function pauseResume() {\n            if (isSorting) {\n                if (isPaused) {\n                    isPaused = false;\n                    pauseResumeBtn.textContent = 'Pause';\n                    stepForward();\n                } else {\n                    isPaused = true;\n                    pauseResumeBtn.textContent = 'Resume';\n                    if (animationId) {\n                        clearTimeout(animationId);\n                        animationId = null;\n                    }\n                }\n            }\n            updateButtons();\n        }\n        \n        function stepForward() {\n            if (!isSorting || isPaused) return;\n            \n            const result = sortGenerator.next();\n            \n            if (!result.done) {\n                const { comparingIndices, sortedIndices } = result.value;\n                visualizeArray(comparingIndices, sortedIndices);\n                animationId = setTimeout(stepForward, animationSpeed);\n            } else {\n                isSorting = false;\n                updateButtons();\n            }\n        }\n        \n        function reset() {\n            if (animationId) {\n                clearTimeout(animationId);\n                animationId = null;\n            }\n            isSorting = false;\n            isPaused = false;\n            generateRandomArray();\n            updateButtons();\n            pauseResumeBtn.textContent = 'Pause';\n            stepInfo.textContent = 'Reset. Ready to begin sorting.';\n        }\n        \n        function updateButtons() {\n            startSortBtn.disabled = isSorting;\n            pauseResumeBtn.disabled = !isSorting;\n            stepForwardBtn.disabled = !isSorting || !isPaused;\n            generateArrayBtn.disabled = isSorting;\n        }\n        \n        // Event listeners\n        generateArrayBtn.addEventListener('click', generateRandomArray);\n        startSortBtn.addEventListener('click', startSorting);\n        pauseResumeBtn.addEventListener('click', pauseResume);\n        stepForwardBtn.addEventListener('click', stepForward);\n        resetBtn.addEventListener('click', reset);\n        \n        // Initialize\n        generateRandomArray();\n        updateButtons();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Bubble Sort"
    }
  ],
  "topic": "Bubble Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}