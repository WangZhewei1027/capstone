{
  "id": "d7b28ce0-d5c2-11f0-9651-0f1ae31ac260",
  "timestamp": "2025-12-10T12:24:12.489Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Hash Table",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Hash Table Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    max-width: 600px;\n    margin: 2rem auto;\n    padding: 1rem;\n    background: #f9f9f9;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n    margin-bottom: 1rem;\n  }\n  input, button {\n    padding: 0.5rem;\n    font-size: 1rem;\n    margin: 0.25rem 0.5rem 0.75rem 0;\n  }\n  label {\n    display: block;\n    margin-top: 1rem;\n  }\n  .hashtable {\n    margin-top: 1rem;\n    border-collapse: collapse;\n    width: 100%;\n  }\n  .hashtable th, .hashtable td {\n    border: 1px solid #ccc;\n    padding: 0.5rem;\n    text-align: left;\n    vertical-align: top;\n  }\n  .bucket {\n    background-color: #eaeaea;\n  }\n  .key {\n    font-weight: bold;\n  }\n  .controls {\n    margin-bottom: 1rem;\n    border: 1px solid #ddd;\n    padding: 1rem;\n    background: white;\n    border-radius: 6px;\n  }\n  .output {\n    background: #fff3cd;\n    border: 1px solid #ffeeba;\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    margin-bottom: 1rem;\n    min-height: 1.5em;\n  }\n  small {\n    color: #555;\n  }\n  footer {\n    margin-top: 3rem;\n    font-size: 0.85rem;\n    color: #888;\n    text-align: center;\n  }\n</style>\n</head>\n<body>\n<h1>Hash Table Demonstration</h1>\n\n<div class=\"controls\">\n  <label>\n    Key (string):\n    <input type=\"text\" id=\"keyInput\" placeholder=\"Enter key\" />\n  </label>\n  <label>\n    Value (string):\n    <input type=\"text\" id=\"valueInput\" placeholder=\"Enter value\" />\n  </label>\n  <button id=\"insertBtn\">Insert / Update</button>\n  <button id=\"getBtn\">Get Value</button>\n  <button id=\"removeBtn\">Remove Key</button>\n  <button id=\"clearBtn\">Clear Table</button>\n</div>\n\n<div class=\"output\" id=\"output\"></div>\n\n<table class=\"hashtable\" id=\"tableDisplay\" aria-label=\"Hash Table buckets and contents\">\n  <thead>\n    <tr>\n      <th>Bucket Index</th>\n      <th>Key → Value Pairs</th>\n    </tr>\n  </thead>\n  <tbody id=\"tableBody\">\n  </tbody>\n</table>\n\n<script>\n  /*\n   * Simple Hash Table with Separate Chaining in JavaScript\n   */\n\n  class HashTable {\n    constructor(size = 16) {\n      this.size = size;\n      this.buckets = new Array(size).fill(null).map(() => []);\n      this.count = 0;\n    }\n\n    // DJB2 hash function for strings\n    hash(key) {\n      let hash = 5381;\n      for (let i = 0; i < key.length; i++) {\n        hash = (hash * 33) ^ key.charCodeAt(i);\n      }\n      return Math.abs(hash) % this.size;\n    }\n\n    set(key, value) {\n      const index = this.hash(key);\n      const bucket = this.buckets[index];\n      for (let i = 0; i < bucket.length; i++) {\n        if (bucket[i][0] === key) {\n          bucket[i][1] = value; // Update existing key\n          return;\n        }\n      }\n      bucket.push([key, value]);\n      this.count++;\n      // Simple resize check for demonstration (not implemented resizing here)\n    }\n\n    get(key) {\n      const index = this.hash(key);\n      const bucket = this.buckets[index];\n      for (let i = 0; i < bucket.length; i++) {\n        if (bucket[i][0] === key) {\n          return bucket[i][1];\n        }\n      }\n      return undefined;\n    }\n\n    remove(key) {\n      const index = this.hash(key);\n      const bucket = this.buckets[index];\n      for (let i = 0; i < bucket.length; i++) {\n        if (bucket[i][0] === key) {\n          bucket.splice(i, 1);\n          this.count--;\n          return true;\n        }\n      }\n      return false;\n    }\n\n    clear() {\n      this.buckets = new Array(this.size).fill(null).map(() => []);\n      this.count = 0;\n    }\n  }\n\n  // Instantiate HashTable\n  const hashTable = new HashTable(16);\n\n  // UI Elements\n  const keyInput = document.getElementById('keyInput');\n  const valueInput = document.getElementById('valueInput');\n  const insertBtn = document.getElementById('insertBtn');\n  const getBtn = document.getElementById('getBtn');\n  const removeBtn = document.getElementById('removeBtn');\n  const clearBtn = document.getElementById('clearBtn');\n  const output = document.getElementById('output');\n  const tableBody = document.getElementById('tableBody');\n\n  function updateTableDisplay() {\n    tableBody.innerHTML = '';\n    for (let i = 0; i < hashTable.size; i++) {\n      const bucket = hashTable.buckets[i];\n      const tr = document.createElement('tr');\n\n      const idxTd = document.createElement('td');\n      idxTd.textContent = i;\n      idxTd.classList.add('bucket');\n      tr.appendChild(idxTd);\n\n      const kvTd = document.createElement('td');\n      if (bucket.length === 0) {\n        kvTd.textContent = '— (empty)';\n        kvTd.style.fontStyle = 'italic';\n        kvTd.style.color = '#999';\n      } else {\n        // Create list of key → value pairs\n        const fragments = bucket.map(\n          ([k, v]) => `${k} → ${v}`\n        );\n        kvTd.textContent = fragments.join(', ');\n      }\n      tr.appendChild(kvTd);\n\n      tableBody.appendChild(tr);\n    }\n  }\n\n  function showOutput(msg, isError = false) {\n    output.textContent = msg;\n    output.style.color = isError ? 'darkred' : 'black';\n  }\n\n  insertBtn.addEventListener('click', () => {\n    const key = keyInput.value.trim();\n    const value = valueInput.value.trim();\n    if (!key) {\n      showOutput('Please enter a valid key.', true);\n      return;\n    }\n    hashTable.set(key, value);\n    updateTableDisplay();\n    showOutput(`Inserted/Updated key \"${key}\" with value \"${value}\".`);\n  });\n\n  getBtn.addEventListener('click', () => {\n    const key = keyInput.value.trim();\n    if (!key) {\n      showOutput('Please enter a valid key.', true);\n      return;\n    }\n    const val = hashTable.get(key);\n    if (val === undefined) {\n      showOutput(`Key \"${key}\" not found.`, true);\n    } else {\n      showOutput(`Value for key \"${key}\": \"${val}\".`);\n    }\n  });\n\n  removeBtn.addEventListener('click', () => {\n    const key = keyInput.value.trim();\n    if (!key) {\n      showOutput('Please enter a valid key.', true);\n      return;\n    }\n    const removed = hashTable.remove(key);\n    if (removed) {\n      updateTableDisplay();\n      showOutput(`Removed key \"${key}\" from the table.`);\n    } else {\n      showOutput(`Key \"${key}\" not found.`, true);\n    }\n  });\n\n  clearBtn.addEventListener('click', () => {\n    hashTable.clear();\n    updateTableDisplay();\n    showOutput('Hash table cleared.');\n  });\n\n  // Initialize display\n  updateTableDisplay();\n</script>\n\n<footer>\n  &copy; 2024 Hash Table Demo &mdash; Simple Separate Chaining Implementation\n</footer>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Hash Table"
    }
  ],
  "topic": "Hash Table",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}