{
  "id": "e932b120-d360-11f0-a097-ffdd56c22ef4",
  "timestamp": "2025-12-07T11:39:05.641Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Set",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>JavaScript Set — Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724; --card:#0b1220; --accent:#7dd3fc; --muted:#9aa6b2; --glass:rgba(255,255,255,0.03);\n      color-scheme: dark;\n    }\n    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071025 0%, #071628 40%, #0b1724 100%);font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,\"Helvetica Neue\",Arial; color:#e6eef6;}\n    .wrap{max-width:1100px;margin:28px auto;padding:20px;}\n    header{display:flex;gap:16px;align-items:center;margin-bottom:18px}\n    h1{margin:0;font-size:20px}\n    p.lead{margin:0;color:var(--muted);font-size:13px}\n    .grid{display:grid;grid-template-columns:360px 1fr;gap:16px}\n    .card{background:var(--card);border-radius:10px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.02)}\n    .controls{display:flex;flex-direction:column;gap:12px}\n    label{font-size:13px;color:var(--muted)}\n    input[type=\"text\"]{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit;outline:none}\n    .row{display:flex;gap:8px;align-items:center}\n    button{background:linear-gradient(180deg,rgba(125,211,252,0.12), rgba(125,211,252,0.06));border:1px solid rgba(125,211,252,0.12);color:var(--accent);padding:8px 10px;border-radius:8px;cursor:pointer}\n    button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}\n    .sets-display{display:flex;gap:12px;flex-wrap:wrap}\n    .set-box{min-width:140px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:8px;padding:10px;border:1px solid rgba(255,255,255,0.03)}\n    .set-title{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}\n    .elements{display:flex;flex-wrap:wrap;gap:6px}\n    .chip{background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:999px;font-size:13px;border:1px solid rgba(255,255,255,0.03)}\n    .muted{color:var(--muted);font-size:13px}\n    .ops{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}\n    .venn{margin-top:12px;height:220px}\n    svg{width:100%;height:100%}\n    .legend{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}\n    .small{font-size:12px;color:var(--muted)}\n    .code{background:#071826;border-radius:6px;padding:8px;font-family:monospace;font-size:13px;color:#bfefff;white-space:pre-wrap}\n    footer{margin-top:18px;color:var(--muted);font-size:12px}\n    .result{margin-top:8px}\n    .power-list{max-height:140px;overflow:auto;padding:6px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);background:rgba(255,255,255,0.01)}\n    input[type=\"checkbox\"]{transform:scale(1.05);margin-right:6px}\n    .flex-between{display:flex;justify-content:space-between;align-items:center}\n    a.source{color:var(--accent);text-decoration:none;font-size:13px}\n  </style>\n</head>\n<body>\n  <div class=\"wrap\">\n    <header>\n      <div>\n        <h1>JavaScript Set — Interactive Demo</h1>\n        <p class=\"lead\">Create two sets (A and B), add values, and visualize set operations: union, intersection, difference, symmetric difference, subset testing, and power set. Also shows how JS Set uses reference equality for objects.</p>\n      </div>\n    </header>\n\n    <div class=\"grid\">\n      <div class=\"card\">\n        <div class=\"controls\">\n          <div>\n            <label>Parse input as JSON when possible? <span class=\"small\">(numbers, booleans, arrays, objects)</span></label><br>\n            <input id=\"parseJSON\" type=\"checkbox\" checked /> <span class=\"small\">Enable parsing</span>\n          </div>\n\n          <div>\n            <label>Add values (comma separated allowed)</label>\n            <div class=\"row\" style=\"margin-top:6px\">\n              <input id=\"valueInput\" type=\"text\" placeholder='e.g. 1, \"two\", {\"x\":1}, true' />\n              <button id=\"toA\">Add to A</button>\n              <button id=\"toB\" class=\"secondary\">Add to B</button>\n            </div>\n            <div class=\"row\" style=\"margin-top:6px\">\n              <button id=\"delA\" class=\"secondary\">Remove from A</button>\n              <button id=\"delB\" class=\"secondary\">Remove from B</button>\n              <button id=\"clearA\" class=\"secondary\">Clear A</button>\n              <button id=\"clearB\" class=\"secondary\">Clear B</button>\n            </div>\n          </div>\n\n          <div>\n            <label>Operations</label>\n            <div class=\"ops\">\n              <button id=\"union\">Union (A ∪ B)</button>\n              <button id=\"intersection\">Intersection (A ∩ B)</button>\n              <button id=\"diffAB\" class=\"secondary\">A \\\\ B</button>\n              <button id=\"diffBA\" class=\"secondary\">B \\\\ A</button>\n              <button id=\"symDiff\" class=\"secondary\">Symmetric Diff</button>\n              <button id=\"isSubset\" class=\"secondary\">Is A ⊆ B?</button>\n              <button id=\"isSuperset\" class=\"secondary\">Is A ⊇ B?</button>\n              <button id=\"toArray\" class=\"secondary\">To Array & Map Example</button>\n              <button id=\"powerSet\" class=\"secondary\">Power Set (A)</button>\n            </div>\n            <div class=\"result small\" id=\"opResult\"></div>\n          </div>\n\n          <div>\n            <label>Object reference demo</label>\n            <div class=\"row\" style=\"margin-top:6px\">\n              <button id=\"objDemo\" class=\"secondary\">Add two identical-looking objects</button>\n              <span class=\"small muted\">Shows that two separate objects with same content are distinct in Set (reference equality)</span>\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"sets-display\">\n          <div class=\"set-box\" id=\"boxA\">\n            <div class=\"set-title\"><strong>Set A</strong><span class=\"muted\" id=\"sizeA\">size: 0</span></div>\n            <div class=\"elements\" id=\"elementsA\"></div>\n          </div>\n\n          <div class=\"set-box\" id=\"boxB\">\n            <div class=\"set-title\"><strong>Set B</strong><span class=\"muted\" id=\"sizeB\">size: 0</span></div>\n            <div class=\"elements\" id=\"elementsB\"></div>\n          </div>\n\n          <div class=\"set-box\" style=\"flex:1\">\n            <div class=\"set-title\"><strong>Result</strong><span class=\"muted\" id=\"sizeR\">—</span></div>\n            <div id=\"resultArea\" class=\"elements\"></div>\n            <div class=\"legend\">\n              <div class=\"small muted\">Tip: click chips to remove that exact item from its set.</div>\n            </div>\n            <div id=\"vennWrap\" class=\"venn\"></div>\n          </div>\n        </div>\n\n        <div style=\"margin-top:12px\">\n          <div class=\"flex-between\">\n            <div class=\"small muted\">Power set output (click a row to copy):</div>\n            <div class=\"small muted\">Note: power set grows exponentially — only computed for |A| ≤ 12</div>\n          </div>\n          <div id=\"powerOutput\" class=\"power-list\" style=\"margin-top:8px\"></div>\n        </div>\n\n        <div style=\"margin-top:12px\">\n          <div class=\"small muted\">Quick code example (native JS Set operations):</div>\n          <div class=\"code\" style=\"margin-top:8px\">\nconst union = (A,B) =&gt; new Set([...A, ...B]);\nconst intersection = (A,B) =&gt; new Set([...A].filter(x =&gt; B.has(x)));\nconst difference = (A,B) =&gt; new Set([...A].filter(x =&gt; !B.has(x)));\nconst isSubset = (A,B) =&gt; [...A].every(x =&gt; B.has(x));\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <footer>\n      Built for learning — this demo uses ES6 Set and simple UI. Try numbers, strings, booleans, arrays and objects (enable/disable JSON parsing). Objects are compared by reference, not by structural equality.\n    </footer>\n  </div>\n\n  <script>\n    // Core sets\n    const A = new Set();\n    const B = new Set();\n\n    // DOM\n    const valueInput = document.getElementById('valueInput');\n    const parseCheckbox = document.getElementById('parseJSON');\n    const elementsA = document.getElementById('elementsA');\n    const elementsB = document.getElementById('elementsB');\n    const sizeA = document.getElementById('sizeA');\n    const sizeB = document.getElementById('sizeB');\n    const resultArea = document.getElementById('resultArea');\n    const sizeR = document.getElementById('sizeR');\n    const opResult = document.getElementById('opResult');\n    const vennWrap = document.getElementById('vennWrap');\n    const powerOutput = document.getElementById('powerOutput');\n\n    // Helpers\n    function tryParseToken(token){\n      token = token.trim();\n      if(!token) return null;\n      if(!parseCheckbox.checked) return token;\n      try{\n        // If user typed unquoted plain word like hello, JSON.parse would fail.\n        // Try to parse numbers/booleans/null (numeric-like or true/false/null)\n        if(/^[-+]?\\d+(\\.\\d+)?$/.test(token) || /^(true|false|null)$/.test(token)) {\n          return JSON.parse(token);\n        }\n        // If token looks like JSON object/array or a quoted string, try parse:\n        if((token.startsWith('{') && token.endsWith('}')) || (token.startsWith('[') && token.endsWith(']')) || (token.startsWith('\"') && token.endsWith('\"')) || (token.startsWith(\"'\") && token.endsWith(\"'\"))) {\n          try {\n            // replace single quotes with double for simple objects like {'x':1}\n            const safe = token.replace(/'/g, '\"');\n            return JSON.parse(safe);\n          } catch(e){\n            return token;\n          }\n        }\n        // Otherwise return as string (user likely wanted a plain string)\n        return token;\n      }catch(e){\n        return token;\n      }\n    }\n\n    function parseInputToValues(raw){\n      if(!raw) return [];\n      // split on commas but allow simple JSON with commas inside if wrapped in {...} or [...]\n      // Simple approach: if contains braces/brackets, try direct JSON parse (single value)\n      const trimmed = raw.trim();\n      if((trimmed.startsWith('{') && trimmed.endsWith('}')) || (trimmed.startsWith('[') && trimmed.endsWith(']'))) {\n        try {\n          return [JSON.parse(trimmed)];\n        } catch(e){ /* fall through to comma split */ }\n      }\n      // Split by top-level commas (naive)\n      const parts = raw.split(',').map(s=>s.trim()).filter(s=>s.length>0);\n      return parts.map(tryParseToken);\n    }\n\n    function repr(v){\n      // Human readable chip label\n      if(typeof v === 'string') return v.length>50 ? JSON.stringify(v).slice(0,47)+'…' : v;\n      try{\n        return JSON.stringify(v);\n      }catch(e){\n        return String(v);\n      }\n    }\n\n    function addToSet(set, values){\n      values.forEach(v => set.add(v));\n      renderAll();\n    }\n    function removeFromSet(set, values){\n      values.forEach(v => set.delete(v));\n      renderAll();\n    }\n    function clearSet(set){\n      set.clear();\n      renderAll();\n    }\n\n    function makeChip(value, onClick){\n      const span = document.createElement('span');\n      span.className = 'chip';\n      span.textContent = repr(value);\n      span.title = 'click to remove from its set';\n      span.onclick = onClick;\n      return span;\n    }\n\n    function renderSet(set, container, onRemove){\n      container.innerHTML = '';\n      for(const v of set){\n        const chip = makeChip(v, ()=>{ onRemove(v); });\n        container.appendChild(chip);\n      }\n    }\n\n    function renderAll(){\n      renderSet(A, elementsA, (v)=>{ A.delete(v); renderAll(); });\n      renderSet(B, elementsB, (v)=>{ B.delete(v); renderAll(); });\n      sizeA.textContent = 'size: ' + A.size;\n      sizeB.textContent = 'size: ' + B.size;\n      // default result area shows union\n      showVenn();\n      // clear op result (to avoid confusion)\n      opResult.textContent = '';\n      powerOutput.innerHTML = '';\n    }\n\n    // Basic set ops\n    const ops = {\n      union: (X,Y) => new Set([...X, ...Y]),\n      intersection: (X,Y) => new Set([...X].filter(x => Y.has(x))),\n      difference: (X,Y) => new Set([...X].filter(x => !Y.has(x))),\n      symmetric: (X,Y) => {\n        const u = ops.union(X,Y);\n        const i = ops.intersection(X,Y);\n        return new Set([...u].filter(x => !i.has(x)));\n      },\n      isSubset: (X,Y) => [...X].every(x => Y.has(x)),\n      isSuperset: (X,Y) => [...Y].every(x => X.has(x)),\n    };\n\n    // UI event bindings\n    document.getElementById('toA').addEventListener('click', ()=>{\n      const vals = parseInputToValues(valueInput.value);\n      addToSet(A, vals);\n      valueInput.value = '';\n    });\n    document.getElementById('toB').addEventListener('click', ()=>{\n      const vals = parseInputToValues(valueInput.value);\n      addToSet(B, vals);\n      valueInput.value = '';\n    });\n    document.getElementById('delA').addEventListener('click', ()=>{\n      const vals = parseInputToValues(valueInput.value);\n      removeFromSet(A, vals);\n      valueInput.value = '';\n    });\n    document.getElementById('delB').addEventListener('click', ()=>{\n      const vals = parseInputToValues(valueInput.value);\n      removeFromSet(B, vals);\n      valueInput.value = '';\n    });\n    document.getElementById('clearA').addEventListener('click', ()=>{ clearSet(A); });\n    document.getElementById('clearB').addEventListener('click', ()=>{ clearSet(B); });\n\n    document.getElementById('union').addEventListener('click', ()=>{\n      const r = ops.union(A,B);\n      showResultSet(r, 'A ∪ B', '#a7f3d0');\n    });\n    document.getElementById('intersection').addEventListener('click', ()=>{\n      const r = ops.intersection(A,B);\n      showResultSet(r, 'A ∩ B', '#fce7f3');\n    });\n    document.getElementById('diffAB').addEventListener('click', ()=>{\n      const r = ops.difference(A,B);\n      showResultSet(r, 'A \\\\ B', '#fde68a');\n    });\n    document.getElementById('diffBA').addEventListener('click', ()=>{\n      const r = ops.difference(B,A);\n      showResultSet(r, 'B \\\\ A', '#fde68a');\n    });\n    document.getElementById('symDiff').addEventListener('click', ()=>{\n      const r = ops.symmetric(A,B);\n      showResultSet(r, 'Symmetric Difference', '#fbcfe8');\n    });\n    document.getElementById('isSubset').addEventListener('click', ()=>{\n      const res = ops.isSubset(A,B);\n      opResult.textContent = res ? 'Yes — A is a subset of B' : 'No — A is not a subset of B';\n    });\n    document.getElementById('isSuperset').addEventListener('click', ()=>{\n      const res = ops.isSuperset(A,B);\n      opResult.textContent = res ? 'Yes — A is a superset of B' : 'No — A is not a superset of B';\n    });\n\n    document.getElementById('toArray').addEventListener('click', ()=>{\n      // example: map values to strings and show array\n      const arr = [...A].map(x => `(${typeof x}) ${repr(x)}`);\n      opResult.textContent = 'A as array mapped to strings: [' + arr.join(', ') + ']';\n    });\n\n    document.getElementById('powerSet').addEventListener('click', ()=>{\n      // compute power set of A\n      if(A.size > 12){\n        opResult.textContent = 'Set A too large for power set (limit is 12 elements).';\n        return;\n      }\n      const subsets = powerSet(A);\n      powerOutput.innerHTML = '';\n      subsets.forEach((s, idx) => {\n        const row = document.createElement('div');\n        row.style.padding = '6px';\n        row.style.borderBottom = '1px dashed rgba(255,255,255,0.02)';\n        row.style.cursor = 'pointer';\n        row.title = 'Click to copy';\n        row.textContent = [...s].map(repr).join(', ') || '∅';\n        row.addEventListener('click', ()=> {\n          navigator.clipboard?.writeText(row.textContent || '');\n          row.style.background = 'rgba(125,211,252,0.06)';\n          setTimeout(()=>row.style.background = 'transparent', 400);\n        });\n        powerOutput.appendChild(row);\n      });\n      opResult.textContent = `Power set of A computed — ${subsets.length} subsets. Click any row to copy.`;\n    });\n\n    document.getElementById('objDemo').addEventListener('click', ()=>{\n      // two distinct objects with same content\n      const o1 = {x:1};\n      const o2 = {x:1};\n      addToSet(A, [o1, o2]);\n      opResult.textContent = 'Added two objects with same content to A. They are distinct entries because JS Set compares by reference.';\n    });\n\n    // Utility: show a set as result area & venn update\n    function showResultSet(setObj, label, color){\n      resultArea.innerHTML = '';\n      for(const v of setObj){\n        const chip = document.createElement('span');\n        chip.className = 'chip';\n        chip.textContent = repr(v);\n        chip.style.borderColor = 'rgba(255,255,255,0.02)';\n        resultArea.appendChild(chip);\n      }\n      sizeR.textContent = 'size: ' + setObj.size + ' — ' + label;\n      opResult.textContent = '';\n      showVenn(); // keep venn in sync\n    }\n\n    // Power set generator\n    function powerSet(setObj){\n      const arr = [...setObj];\n      const n = arr.length;\n      const out = [];\n      for(let mask=0; mask < (1<<n); mask++){\n        const s = new Set();\n        for(let i=0;i<n;i++){\n          if(mask & (1<<i)) s.add(arr[i]);\n        }\n        out.push(s);\n      }\n      return out;\n    }\n\n    // Venn diagram: compute left-only, intersection, right-only (uses repr to group by value equality with Set)\n    function showVenn(){\n      // we need to group by JS Set membership\n      const onlyA = [...A].filter(x => !B.has(x));\n      const inter = [...A].filter(x => B.has(x));\n      const onlyB = [...B].filter(x => !A.has(x));\n\n      // build an SVG Venn with text chips positioned in three areas\n      const svgNS = 'http://www.w3.org/2000/svg';\n      vennWrap.innerHTML = '';\n      const svg = document.createElementNS(svgNS,'svg');\n      svg.setAttribute('viewBox','0 0 600 220');\n      // circles\n      const c1 = document.createElementNS(svgNS,'ellipse');\n      c1.setAttribute('cx',220); c1.setAttribute('cy',110); c1.setAttribute('rx',180); c1.setAttribute('ry',90);\n      c1.setAttribute('fill','rgba(125,211,252,0.06)');\n      c1.setAttribute('stroke','rgba(125,211,252,0.12)');\n      const c2 = document.createElementNS(svgNS,'ellipse');\n      c2.setAttribute('cx',380); c2.setAttribute('cy',110); c2.setAttribute('rx',180); c2.setAttribute('ry',90);\n      c2.setAttribute('fill','rgba(250,204,21,0.03)');\n      c2.setAttribute('stroke','rgba(250,204,21,0.08)');\n\n      svg.appendChild(c1); svg.appendChild(c2);\n\n      // helper to add text blocks\n      function addTextBlock(x,y,items,fill){\n        const g = document.createElementNS(svgNS,'g');\n        let yy = y;\n        items.forEach(it=>{\n          const rect = document.createElementNS(svgNS,'rect');\n          rect.setAttribute('x', x-3); rect.setAttribute('y', yy-14);\n          rect.setAttribute('rx',6); rect.setAttribute('ry',6);\n          rect.setAttribute('width', Math.min(300, String(repr(it)).length*8 + 18));\n          rect.setAttribute('height',18);\n          rect.setAttribute('fill','rgba(255,255,255,0.02)');\n          rect.setAttribute('stroke','rgba(255,255,255,0.03)');\n          const t = document.createElementNS(svgNS,'text');\n          t.setAttribute('x', x+6); t.setAttribute('y', yy);\n          t.setAttribute('fill','#cfeefe'); t.setAttribute('font-size',12);\n          t.textContent = repr(it);\n          // click to remove from its original set\n          t.style.cursor = 'pointer';\n          t.addEventListener('click', ()=> {\n            if(A.has(it) && !B.has(it)) { A.delete(it); }\n            else if(B.has(it) && !A.has(it)) { B.delete(it); }\n            else { // in intersection: remove from A by default\n              A.delete(it);\n            }\n            renderAll();\n          });\n          g.appendChild(rect); g.appendChild(t);\n          yy += 20;\n        });\n        svg.appendChild(g);\n      }\n\n      // left-only block\n      addTextBlock(100, 50, onlyA);\n      // intersection\n      addTextBlock(260, 50, inter);\n      // right-only\n      addTextBlock(420, 50, onlyB);\n\n      vennWrap.appendChild(svg);\n\n      // Update result area by default to union\n      const union = ops.union(A,B);\n      showResultSet(union, 'A ∪ B');\n    }\n\n    // Initial render\n    renderAll();\n\n    // Small convenience: allow pressing Enter to add to A\n    valueInput.addEventListener('keydown', (e)=>{\n      if(e.key === 'Enter') {\n        document.getElementById('toA').click();\n      }\n    });\n\n    // Expose small console for debugging (optional)\n    window._demo = {A,B,ops};\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Set"
    }
  ],
  "topic": "Set",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}