{
  "id": "6b016d42-d5c3-11f0-b41f-b131cbd11f51",
  "timestamp": "2025-12-10T12:30:48.690Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Huffman Coding",
  "answer": {
    "role": "assistant",
    "content": "# Huffman Coding Visualization\n\nHere's an interactive visualization of Huffman coding that helps you understand how this algorithm generates efficient prefix codes for data compression.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Huffman Coding Visualization</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n            color: #333;\n        }\n        h1 {\n            color: #2c3e50;\n            text-align: center;\n        }\n        .container {\n            display: flex;\n            flex-direction: column;\n            gap: 20px;\n        }\n        .input-section {\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n        .input-section label {\n            font-weight: bold;\n            margin-bottom: 10px;\n            display: block;\n        }\n        .input-section textarea {\n            width: 100%;\n            height: 100px;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            font-size: 16px;\n            resize: vertical;\n        }\n        .input-section button {\n            background-color: #3498db;\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            margin-top: 10px;\n            transition: background-color 0.3s;\n        }\n        .input-section button:hover {\n            background-color: #2980b9;\n        }\n        .results-section {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 20px;\n        }\n        .results-section > div {\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n            flex: 1;\n            min-width: 300px;\n        }\n        h2 {\n            color: #2c3e50;\n            border-bottom: 1px solid #eee;\n            padding-bottom: 10px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 15px;\n        }\n        th, td {\n            padding: 10px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n        }\n        th {\n            background-color: #f2f2f2;\n        }\n        .tree-visualization {\n            overflow-x: auto;\n            margin-top: 20px;\n        }\n        .tree-container {\n            position: relative;\n            min-height: 300px;\n            margin-top: 20px;\n        }\n        .tree-node {\n            position: absolute;\n            border: 2px solid #3498db;\n            background-color: white;\n            width: 50px;\n            height: 50px;\n            border-radius: 25px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-weight: bold;\n            z-index: 2;\n        }\n        .tree-leaf {\n            background-color: #e74c3c;\n            color: white;\n        }\n        .tree-connector {\n            position: absolute;\n            height: 40px;\n            width: 2px;\n            background-color: #3498db;\n            z-index: 1;\n        }\n        .binary-label {\n            position: absolute;\n            font-size: 12px;\n            z-index: 3;\n            background-color: rgba(255, 255, 255, 0.8);\n            padding: 2px 5px;\n            border-radius: 3px;\n        }\n        .explanation {\n            line-height: 1.6;\n            margin-top: 20px;\n        }\n        .bits-saving {\n            font-weight: bold;\n            color: #27ae60;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Huffman Coding Visualization</h1>\n        \n        <div class=\"input-section\">\n            <label for=\"input-text\">Enter text to encode:</label>\n            <textarea id=\"input-text\" placeholder=\"Type your text here...\">Huffman coding is a popular compression algorithm</textarea>\n            <button id=\"encode-btn\">Generate Huffman Codes</button>\n        </div>\n        \n        <div class=\"results-section\">\n            <div id=\"frequency-table-container\">\n                <h2>Character Frequencies</h2>\n                <table id=\"frequency-table\">\n                    <thead>\n                        <tr>\n                            <th>Character</th>\n                            <th>Frequency</th>\n                        </tr>\n                    </thead>\n                    <tbody id=\"frequency-table-body\">\n                        <!-- Will be populated by JavaScript -->\n                    </tbody>\n                </table>\n            </div>\n            \n            <div id=\"huffman-codes-container\">\n                <h2>Huffman Codes</h2>\n                <table id=\"huffman-codes-table\">\n                    <thead>\n                        <tr>\n                            <th>Character</th>\n                            <th>Huffman Code</th>\n                            <th>Length</th>\n                        </tr>\n                    </thead>\n                    <tbody id=\"huffman-codes-body\">\n                        <!-- Will be populated by JavaScript -->\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        \n        <div id=\"tree-container\" class=\"tree-container\">\n            <h2>Huffman Tree Visualization</h2>\n            <!-- Will be populated by JavaScript -->\n        </div>\n        \n        <div id=\"explanation\" class=\"explanation\">\n            <h2>How Huffman Coding Works</h2>\n            <p>Huffman coding is an efficient algorithm for lossless data compression. The fundamental idea is to assign variable-length codes to input characters, with shorter codes assigned to more frequent characters.</p>\n            <p>The algorithm works as follows:</p>\n            <ol>\n                <li>Calculate the frequency of each character in the input text.</li>\n                <li>Create a leaf node for each character and add it to a priority queue.</li>\n                <li>While there is more than one node in the queue:\n                    <ul>\n                        <li>Remove the two nodes of highest priority (lowest frequency) from the queue</li>\n                        <li>Create a new internal node with these two nodes as children and with frequency equal to the sum of the two nodes' frequencies</li>\n                        <li>Add the new node to the queue</li>\n                    </ul>\n                </li>\n                <li>The remaining node is the root of the Huffman tree</li>\n                <li>Traverse the tree to assign binary codes to each character</li>\n            </ol>\n            <p>In this visualization, you can see the frequency table, the generated Huffman codes, and a visual representation of the Huffman tree.</p>\n            <p id=\"bits-saving-info\" class=\"bits-saving\"></p>\n        </div>\n    </div>\n\n    <script>\n        // Huffman Tree Node class\n        class HuffmanNode {\n            constructor(char, frequency, left = null, right = null) {\n                this.char = char;\n                this.frequency = frequency;\n                this.left = left;\n                this.right = right;\n            }\n        }\n\n        // Function to build frequency table\n        function buildFrequencyTable(text) {\n            const freqTable = {};\n            for (let char of text) {\n                freqTable[char] = (freqTable[char] || 0) + 1;\n            }\n            return freqTable;\n        }\n\n        // Function to build Huffman tree\n        function buildHuffmanTree(freqTable) {\n            // Create leaf nodes for each character\n            const nodes = [];\n            for (let char in freqTable) {\n                nodes.push(new HuffmanNode(char, freqTable[char]));\n            }\n            \n            // Build the tree by combining nodes with lowest frequencies\n            while (nodes.length > 1) {\n                // Sort nodes by frequency (ascending)\n                nodes.sort((a, b) => a.frequency - b.frequency);\n                \n                // Take the two nodes with the smallest frequencies\n                const left = nodes.shift();\n                const right = nodes.shift();\n                \n                // Create a new node with these two as children\n                const parent = new HuffmanNode(\n                    null, \n                    left.frequency + right.frequency, \n                    left, \n                    right\n                );\n                \n                // Add the new node to the list\n                nodes.push(parent);\n            }\n            \n            // The last remaining node is the root of the Huffman tree\n            return nodes[0];\n        }\n\n        // Function to generate Huffman codes\n        function generateHuffmanCodes(root) {\n            const codes = {};\n            \n            function traverse(node, code) {\n                if (node.char !== null) {\n                    // Leaf node - assign the code\n                    codes[node.char] = code;\n                    return;\n                }\n                \n                // Traverse left with '0'\n                if (node.left) {\n                    traverse(node.left, code + '0');\n                }\n                \n                // Traverse right with '1'\n                if (node.right) {\n                    traverse(node.right, code + '1');\n                }\n            }\n            \n            // Start traversal from the root with an empty code\n            traverse(root, '');\n            return codes;\n        }\n\n        // Function to display the frequency table\n        function displayFrequencyTable(freqTable) {\n            const tableBody = document.getElementById('frequency-table-body');\n            tableBody.innerHTML = '';\n            \n            const sortedFreq = Object.entries(freqTable)\n                .sort((a, b) => b[1] - a[1]);\n            \n            for (let [char, freq] of sortedFreq) {\n                const row = document.createElement('tr');\n                \n                const charCell = document.createElement('td');\n                charCell.textContent = char === ' ' ? '[space]' : char;\n                row.appendChild(charCell);\n                \n                const freqCell = document.createElement('td');\n                freqCell.textContent = freq;\n                row.appendChild(freqCell);\n                \n                tableBody.appendChild(row);\n            }\n        }\n\n        // Function to display Huffman codes\n        function displayHuffmanCodes(codes, freqTable) {\n            const tableBody = document.getElementById('huffman-codes-body');\n            tableBody.innerHTML = '';\n            \n            const sortedCodes = Object.entries(codes)\n                .sort((a, b) => freqTable[b[0]] - freqTable[a[0]]);\n            \n            for (let [char, code] of sortedCodes) {\n                const row = document.createElement('tr');\n                \n                const charCell = document.createElement('td');\n                charCell.textContent = char === ' ' ? '[space]' : char;\n                row.appendChild(charCell);\n                \n                const codeCell = document.createElement('td');\n                codeCell.textContent = code;\n                row.appendChild(codeCell);\n                \n                const lengthCell = document.createElement('td');\n                lengthCell.textContent = code.length;\n                row.appendChild(lengthCell);\n                \n                tableBody.appendChild(row);\n            }\n        }\n\n        // Function to calculate the positions of nodes in the tree for visualization\n        function calculateTreeLayout(root) {\n            const nodes = [];\n            const edges = [];\n            let maxDepth = 0;\n            \n            function traverse(node, depth, x, parentX, parentY, code) {\n                if (!node) return;\n                \n                maxDepth = Math.max(maxDepth, depth);\n                \n                // Leaf node\n                if (node.char !== null) {\n                    nodes.push({\n                        char: node.char,\n                        frequency: node.frequency,\n                        x: x,\n                        y: depth * 100 + 50,\n                        isLeaf: true,\n                        code: code\n                    });\n                } else {\n                    // Internal node\n                    nodes.push({\n                        char: null,\n                        frequency: node.frequency,\n                        x: x,\n                        y: depth * 100 + 50,\n                        isLeaf: false,\n                        code: code\n                    });\n                }\n                \n                // Calculate positions for children\n                const span = Math.pow(2, maxDepth - depth - 1) * 50;\n                \n                // Left child (0)\n                if (node.left) {\n                    const childX = x - span / 2;\n                    \n                    edges.push({\n                        fromX: x,\n                        fromY: depth * 100 + 50,\n                        toX: childX,\n                        toY: (depth + 1) * 100 + 50,\n                        label: '0',\n                        labelX: (x + childX) / 2,\n                        labelY: (depth * 100 + 50 + (depth + 1) * 100 + 50) / 2 - 10\n                    });\n                    \n                    traverse(node.left, depth + 1, childX, x, depth * 100 + 50, code + '0');\n                }\n                \n                // Right child (1)\n                if (node.right) {\n                    const childX = x + span / 2;\n                    \n                    edges.push({\n                        fromX: x,\n                        fromY: depth * 100 + 50,\n                        toX: childX,\n                        toY: (depth + 1) * 100 + 50,\n                        label: '1',\n                        labelX: (x + childX) / 2,\n                        labelY: (depth * 100 + 50 + (depth + 1) * 100 + 50) / 2 - 10\n                    });\n                    \n                    traverse(node.right, depth + 1, childX, x, depth * 100 + 50, code + '1');\n                }\n            }\n            \n            // Start traversal from root\n            traverse(root, 0, 600, null, null, '');\n            \n            return { nodes, edges, maxDepth };\n        }\n\n        // Function to visualize the Huffman tree\n        function visualizeHuffmanTree(root) {\n            const container = document.getElementById('tree-container');\n            \n            // Clear previous visualization\n            while (container.children.length > 1) {\n                container.removeChild(container.lastChild);\n            }\n            \n            // Create a div for the tree\n            const treeDiv = document.createElement('div');\n            treeDiv.className = 'tree-visualization';\n            container.appendChild(treeDiv);\n            \n            // Calculate node positions\n            const layout = calculateTreeLayout(root);\n            \n            // Set container height based on tree depth\n            treeDiv.style.height = `${(layout.maxDepth + 1) * 100 + 100}px`;\n            treeDiv.style.position = 'relative';\n            \n            // Draw edges first (so they appear behind nodes)\n            for (let edge of layout.edges) {\n                const edgeDiv = document.createElement('div');\n                edgeDiv.className = 'tree-connector';\n                \n                // Calculate angle and length for the edge\n                const dx = edge.toX - edge.fromX;\n                const dy = edge.toY - edge.fromY;\n                const length = Math.sqrt(dx * dx + dy * dy);\n                const angle = Math.atan2(dy, dx) * 180 / Math.PI;\n                \n                edgeDiv.style.width = `${length}px`;\n                edgeDiv.style.left = `${edge.fromX}px`;\n                edgeDiv.style.top = `${edge.fromY}px`;\n                edgeDiv.style.transform = `rotate(${angle}deg)`;\n                edgeDiv.style.transformOrigin = '0 0';\n                \n                treeDiv.appendChild(edgeDiv);\n                \n                // Add binary label\n                const labelDiv = document.createElement('div');\n                labelDiv.className = 'binary-label';\n                labelDiv.textContent = edge.label;\n                labelDiv.style.left = `${edge.labelX}px`;\n                labelDiv.style.top = `${edge.labelY}px`;\n                treeDiv.appendChild(labelDiv);\n            }\n            \n            // Draw nodes\n            for (let node of layout.nodes) {\n                const nodeDiv = document.createElement('div');\n                nodeDiv.className = `tree-node ${node.isLeaf ? 'tree-leaf' : ''}`;\n                nodeDiv.style.left = `${node.x - 25}px`;\n                nodeDiv.style.top = `${node.y - 25}px`;\n                \n                // Node content\n                if (node.isLeaf) {\n                    nodeDiv.innerHTML = `\n                        <div style=\"text-align: center; font-size: 14px;\">\n                            <div>${node.char === ' ' ? '[space]' : node.char}</div>\n                            <div style=\"font-size: 10px;\">${node.frequency}</div>\n                        </div>\n                    `;\n                } else {\n                    nodeDiv.innerHTML = `\n                        <div style=\"text-align: center; font-size: 12px;\">\n                            <div>${node.frequency}</div>\n                        </div>\n                    `;\n                }\n                \n                treeDiv.appendChild(nodeDiv);\n            }\n        }\n\n        // Function to calculate bit savings\n        function calculateBitSavings(text, codes) {\n            // Standard encoding (8 bits per character)\n            const standardBits = text.length * 8;\n            \n            // Huffman encoding\n            let huffmanBits = 0;\n            for (let char of text) {\n                huffmanBits += codes[char].length;\n            }\n            \n            const savings = standardBits - huffmanBits;\n            const percentage = ((savings / standardBits) * 100).toFixed(2);\n            \n            return {\n                standardBits,\n                huffmanBits,\n                savings,\n                percentage\n            };\n        }\n\n        // Main function to process the input text\n        function processText() {\n            const inputText = document.getElementById('input-text').value;\n            \n            if (!inputText.trim()) {\n                alert('Please enter some text to encode.');\n                return;\n            }\n            \n            // Build frequency table\n            const freqTable = buildFrequencyTable(inputText);\n            displayFrequencyTable(freqTable);\n            \n            // Build Huffman tree\n            const root = buildHuffmanTree(freqTable);\n            \n            // Generate Huffman codes\n            const codes = generateHuffmanCodes(root);\n            displayHuffmanCodes(codes, freqTable);\n            \n            // Visualize the tree\n            visualizeHuffmanTree(root);\n            \n            // Calculate and display bit savings\n            const savings = calculateBitSavings(inputText, codes);\n            document.getElementById('bits-saving-info').textContent = \n                `Bit Usage: Standard = ${savings.standardBits} bits, Huffman = ${savings.huffmanBits} bits. ` +\n                `Savings: ${savings.savings} bits (${savings.percentage}%)`;\n        }\n\n        // Initialize the page\n        document.addEventListener('DOMContentLoaded', function() {\n            // Set up event listener for the encode button\n"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Huffman Coding"
    }
  ],
  "topic": "Huffman Coding",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}