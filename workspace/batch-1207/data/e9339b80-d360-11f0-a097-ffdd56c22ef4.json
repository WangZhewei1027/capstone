{
  "id": "e9339b80-d360-11f0-a097-ffdd56c22ef4",
  "timestamp": "2025-12-07T11:38:25.940Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Selection Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\" />\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n<title>Selection Sort Visualizer</title>\n<style>\n  :root{\n    --bg:#0f1724;\n    --card:#0b1220;\n    --accent:#2563eb;\n    --muted:#94a3b8;\n    --bar-bg:#111827;\n    --text:#e6eef8;\n  }\n  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,\"Helvetica Neue\",Arial;}\n  body{background:linear-gradient(180deg,#071023 0%, #071023 60%, #041022 100%);color:var(--text);display:flex;flex-direction:column;align-items:center;padding:18px;box-sizing:border-box;}\n  .app{width:100%;max-width:1100px;}\n  header{display:flex;align-items:center;gap:16px;margin-bottom:14px;}\n  h1{font-size:20px;margin:0;}\n  .controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;}\n  button, input[type=\"range\"], select{background:var(--card);color:var(--text);border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:8px;cursor:pointer;}\n  button:active{transform:translateY(1px);}\n  .panel{background:rgba(255,255,255,0.03);border-radius:12px;padding:12px;margin-bottom:14px;display:flex;gap:14px;align-items:center;justify-content:space-between;}\n  .left, .right{display:flex;gap:12px;align-items:center;flex-wrap:wrap;}\n  .small{font-size:13px;color:var(--muted);}\n  .board{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:12px;min-height:360px;display:flex;flex-direction:column;gap:14px;}\n  .bars-container{height:260px;background:var(--bar-bg);border-radius:10px;padding:12px;display:flex;align-items:end;gap:6px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);}\n  .bar{flex:1 0 auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;gap:6px;transition:all 300ms ease;}\n  .bar .rect{width:100%;background:linear-gradient(180deg,#60a5fa,#1d4ed8);border-radius:6px;display:flex;align-items:flex-end;justify-content:center;color:rgba(255,255,255,0.9);font-size:12px;padding-top:6px;box-sizing:border-box;transition:height 300ms ease, transform 200ms;}\n  .bar .label{font-size:11px;color:var(--muted);margin-top:6px;}\n  /* Highlights */\n  .bar.current .rect{background:linear-gradient(180deg,#fb923c,#f97316); box-shadow:0 4px 14px rgba(249,115,22,0.15); transform:translateY(-6px);}\n  .bar.compare .rect{background:linear-gradient(180deg,#a78bfa,#7c3aed); box-shadow:0 4px 14px rgba(124,58,237,0.12); transform:translateY(-4px);}\n  .bar.min .rect{background:linear-gradient(180deg,#ef4444,#dc2626); box-shadow:0 6px 18px rgba(220,38,38,0.14); transform:translateY(-8px);}\n  .bar.sorted .rect{background:linear-gradient(180deg,#86efac,#16a34a); box-shadow:0 4px 14px rgba(16,185,129,0.12);}\n  .stats{display:flex;gap:12px;align-items:center;}\n  .stat{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:8px;font-size:13px;}\n  .pseudocode{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;font-family:monospace;font-size:13px;white-space:pre;line-height:1.5;}\n  .footer{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-top:12px;}\n  .inputs{display:flex;gap:8px;align-items:center;}\n  input[type=\"text\"]{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text);padding:8px 10px;border-radius:8px;width:220px;}\n  .help{font-size:13px;color:var(--muted);max-width:480px;}\n  .controls .danger{background:#7f1d1d;}\n  .small-muted{font-size:12px;color:var(--muted);}\n  @media (max-width:720px){\n    .board{padding:10px;}\n    .bars-container{height:190px;}\n  }\n</style>\n</head>\n<body>\n  <div class=\"app\" role=\"application\" aria-label=\"Selection Sort Visualizer\">\n    <header>\n      <h1>Selection Sort Visualizer</h1>\n      <div class=\"small-muted\">Step-by-step demonstration with controls</div>\n    </header>\n\n    <div class=\"panel\">\n      <div class=\"left controls\">\n        <button id=\"generateBtn\" title=\"Generate a random array\">Generate Random</button>\n        <label class=\"small\">Size\n          <input id=\"sizeRange\" type=\"range\" min=\"4\" max=\"30\" value=\"12\" />\n        </label>\n        <label class=\"small\">Speed\n          <input id=\"speedRange\" type=\"range\" min=\"50\" max=\"1200\" step=\"10\" value=\"400\" />\n        </label>\n        <button id=\"startBtn\">Start</button>\n        <button id=\"stepBtn\">Step</button>\n        <button id=\"pauseBtn\">Pause</button>\n        <button id=\"resetBtn\" class=\"danger\">Reset</button>\n      </div>\n\n      <div class=\"right\">\n        <div class=\"stats\">\n          <div class=\"stat\">Comparisons: <span id=\"compCount\">0</span></div>\n          <div class=\"stat\">Swaps: <span id=\"swapCount\">0</span></div>\n          <div class=\"stat\">i: <span id=\"currentI\">-</span></div>\n          <div class=\"stat\">min: <span id=\"currentMin\">-</span></div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"board\" aria-live=\"polite\">\n      <div class=\"bars-container\" id=\"bars\"></div>\n\n      <div style=\"display:flex;gap:14px;align-items:flex-start;flex-wrap:wrap;\">\n        <div style=\"flex:1 1 380px;\">\n          <div class=\"pseudocode\" id=\"pseudocode\">\nselectionSort(A)\n  for i = 0 to A.length - 2\n    min = i\n    for j = i+1 to A.length -1\n      if A[j] < A[min]\n        min = j\n    swap A[i] and A[min]\n          </div>\n        </div>\n\n        <div style=\"width:320px;\">\n          <div style=\"display:flex;flex-direction:column;gap:8px;\">\n            <div style=\"display:flex;gap:8px;\">\n              <input id=\"customInput\" type=\"text\" placeholder=\"e.g. 5,2,9,1,6\" aria-label=\"Custom array input\" />\n              <button id=\"setArrayBtn\">Set</button>\n            </div>\n            <div style=\"display:flex;gap:8px;\">\n              <button id=\"randomizeBtn\">Shuffle</button>\n              <button id=\"reverseBtn\">Reverse</button>\n            </div>\n            <div class=\"help\">\n              How it works: Selection sort repeatedly finds the minimum element from the unsorted portion and swaps it with the first unsorted element. Time complexity: O(n^2). It uses constant extra space.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"footer\">\n      <div class=\"small-muted\">Visual legend: orange = current i, purple = comparing j, red = current min, green = sorted</div>\n      <div class=\"small-muted\">Tip: Use Step to advance one action, Start for autoplay.</div>\n    </div>\n  </div>\n\n<script>\n/*\nSelection Sort Visualizer\nSingle-file demo. Controls:\n- Generate random array\n- Size slider\n- Speed slider (delay between auto steps)\n- Start (autoplay), Step (single step), Pause, Reset\n- Custom array input, Shuffle, Reverse\nFeatures:\n- Highlights: current i (orange), comparing j (purple), min (red), sorted (green)\n- Counts comparisons and swaps\n*/\n\n// DOM references\nconst barsContainer = document.getElementById('bars');\nconst generateBtn = document.getElementById('generateBtn');\nconst sizeRange = document.getElementById('sizeRange');\nconst speedRange = document.getElementById('speedRange');\nconst startBtn = document.getElementById('startBtn');\nconst stepBtn = document.getElementById('stepBtn');\nconst pauseBtn = document.getElementById('pauseBtn');\nconst resetBtn = document.getElementById('resetBtn');\nconst compCountEl = document.getElementById('compCount');\nconst swapCountEl = document.getElementById('swapCount');\nconst currentIE = document.getElementById('currentI');\nconst currentMinE = document.getElementById('currentMin');\nconst customInput = document.getElementById('customInput');\nconst setArrayBtn = document.getElementById('setArrayBtn');\nconst randomizeBtn = document.getElementById('randomizeBtn');\nconst reverseBtn = document.getElementById('reverseBtn');\n\nlet array = [];\nlet bars = [];\nlet gen = null;         // generator for algorithm actions\nlet running = false;    // autoplay mode\nlet paused = true;      // paused flag (when running true, paused false)\nlet delay = parseInt(speedRange.value);\nlet comparisons = 0;\nlet swaps = 0;\nlet sortedUntil = -1;   // index up to which sorted\nlet animating = false;  // avoid concurrent animations\n\nfunction randInt(min, max){ return Math.floor(Math.random()*(max-min+1))+min; }\n\nfunction createRandomArray(n){\n  const arr = [];\n  // create range 10..100 for bars height\n  for(let i=0;i<n;i++){\n    arr.push(randInt(10,100));\n  }\n  return arr;\n}\n\nfunction renderArray(arr){\n  barsContainer.innerHTML = '';\n  bars = [];\n  const n = arr.length;\n  for(let i=0;i<n;i++){\n    const barWrap = document.createElement('div');\n    barWrap.className = 'bar';\n    barWrap.dataset.index = i;\n    barWrap.setAttribute('role','img');\n    barWrap.setAttribute('aria-label',`Value ${arr[i]}`);\n    const rect = document.createElement('div');\n    rect.className = 'rect';\n    rect.style.height = arr[i] + '%';\n    rect.textContent = arr[i];\n    const label = document.createElement('div');\n    label.className = 'label';\n    label.textContent = i;\n    barWrap.appendChild(rect);\n    barWrap.appendChild(label);\n    barsContainer.appendChild(barWrap);\n    bars.push(barWrap);\n  }\n}\n\nfunction resetState(){\n  if (running) running = false;\n  gen = null;\n  paused = true;\n  comparisons = 0;\n  swaps = 0;\n  sortedUntil = -1;\n  animating = false;\n  updateStats();\n  updateIndicesDisplay();\n  // clear highlights\n  bars.forEach(b=>{ b.className = 'bar'; });\n}\n\nfunction updateStats(){\n  compCountEl.textContent = comparisons;\n  swapCountEl.textContent = swaps;\n}\n\nfunction updateIndicesDisplay(i = '-', min = '-'){\n  currentIE.textContent = (i === null ? '-' : i);\n  currentMinE.textContent = (min === null ? '-' : min);\n}\n\n// generator that yields action objects describing each step\nfunction* selectionSortGenerator(arr){\n  const n = arr.length;\n  // for i = 0 to n-2\n  for(let i=0;i<n-1;i++){\n    let min = i;\n    yield {type:'setI', i};\n    // inner loop\n    for(let j=i+1;j<n;j++){\n      yield {type:'compare', i, j, min};\n      if (arr[j] < arr[min]){\n        min = j;\n        yield {type:'newMin', i, min};\n      }\n    }\n    // swap if needed\n    if (min !== i){\n      // swap in array\n      const tmp = arr[i];\n      arr[i] = arr[min];\n      arr[min] = tmp;\n      yield {type:'swap', i, min};\n    } else {\n      yield {type:'noSwap', i, min};\n    }\n    // mark i as sorted\n    yield {type:'sorted', index:i};\n  }\n  // final element is also sorted\n  yield {type:'sorted', index:n-1};\n  yield {type:'done'};\n}\n\n// Visual helpers\nfunction clearAllHighlights(){\n  bars.forEach(b=> b.className = 'bar');\n}\n\nfunction highlightCurrentI(i){\n  clearAllHighlights();\n  if (i != null && bars[i]) bars[i].classList.add('current');\n}\n\nfunction highlightCompare(j){\n  if (j != null && bars[j]) bars[j].classList.add('compare');\n}\n\nfunction highlightMin(min){\n  if (min != null && bars[min]) bars[min].classList.add('min');\n}\n\nfunction markSorted(index){\n  if (bars[index]){\n    const b = bars[index];\n    b.className = 'bar sorted';\n  }\n}\n\n// swap bars visually by swapping heights and labels texts\nfunction animateSwap(i, j){\n  return new Promise(resolve=>{\n    const bi = bars[i];\n    const bj = bars[j];\n    if (!bi || !bj){ resolve(); return; }\n    const ri = bi.querySelector('.rect');\n    const rj = bj.querySelector('.rect');\n    // animate transform\n    bi.style.transition = 'transform 300ms ease';\n    bj.style.transition = 'transform 300ms ease';\n    bi.style.zIndex = 5;\n    bj.style.zIndex = 5;\n    bi.style.transform = 'translateY(-10px)';\n    bj.style.transform = 'translateY(-10px)';\n    setTimeout(()=>{\n      // swap heights and inner text\n      const hi = ri.style.height;\n      const hj = rj.style.height;\n      const texti = ri.textContent;\n      const textj = rj.textContent;\n      ri.style.height = hj;\n      rj.style.height = hi;\n      ri.textContent = textj;\n      rj.textContent = texti;\n      // reset transforms\n      bi.style.transform = '';\n      bj.style.transform = '';\n      setTimeout(()=>{\n        bi.style.zIndex = '';\n        bj.style.zIndex = '';\n        bi.style.transition = '';\n        bj.style.transition = '';\n        resolve();\n      }, 260);\n    }, 260);\n  });\n}\n\n// process the next step from generator\nasync function processNext(){\n  if (!gen) return;\n  if (animating) return;\n  const step = gen.next();\n  if (step.done) {\n    running = false;\n    paused = true;\n    return;\n  }\n  const action = step.value;\n  switch(action.type){\n    case 'setI':\n      sortedUntil = action.i - 1;\n      clearAllHighlights();\n      highlightCurrentI(action.i);\n      updateIndicesDisplay(action.i, '-');\n      break;\n    case 'compare':\n      // highlight comparison j and current i and current min\n      clearAllHighlights();\n      highlightCurrentI(action.i);\n      highlightCompare(action.j);\n      highlightMin(action.min);\n      comparisons++;\n      updateStats();\n      updateIndicesDisplay(action.i, action.min);\n      break;\n    case 'newMin':\n      clearAllHighlights();\n      highlightCurrentI(action.i);\n      highlightMin(action.min);\n      highlightCompare(null);\n      updateIndicesDisplay(action.i, action.min);\n      break;\n    case 'swap':\n      clearAllHighlights();\n      highlightCurrentI(action.i);\n      highlightMin(action.min);\n      swaps++;\n      updateStats();\n      // animate swap visuals\n      animating = true;\n      await animateSwap(action.i, action.min);\n      // After swap we should also swap the bar DOM labels to keep indices aligned visually:\n      // Instead of reordering DOM nodes (which would change data-index), we keep positions but swapped heights already.\n      // Marking: nothing else\n      animating = false;\n      break;\n    case 'noSwap':\n      // no visual swap, just pause briefly so user can see\n      clearAllHighlights();\n      highlightCurrentI(action.i);\n      highlightMin(action.min);\n      break;\n    case 'sorted':\n      markSorted(action.index);\n      // clear min/compare highlights\n      // show i/min as '-' if index was last\n      updateIndicesDisplay('-', '-');\n      break;\n    case 'done':\n      clearAllHighlights();\n      for(let k=0;k<bars.length;k++) markSorted(k);\n      updateIndicesDisplay('-', '-');\n      running = false;\n      paused = true;\n      return;\n    default:\n      break;\n  }\n  // if autoplay running -> wait delay then proceed\n  if (running && !paused){\n    await sleep(delay);\n    // If paused/resetted mid-wait, check flags\n    if (!running || paused) return;\n    return processNext();\n  }\n}\n\n// utility sleep\nfunction sleep(ms){ return new Promise(resolve => setTimeout(resolve, ms)); }\n\n// Initialize default array\nfunction init(){\n  array = createRandomArray(parseInt(sizeRange.value));\n  renderArray(array.slice());\n  resetState();\n}\n\ngenerateBtn.addEventListener('click', ()=>{\n  array = createRandomArray(parseInt(sizeRange.value));\n  renderArray(array.slice());\n  resetState();\n});\n\n// size change regenerates\nsizeRange.addEventListener('input', ()=>{\n  array = createRandomArray(parseInt(sizeRange.value));\n  renderArray(array.slice());\n  resetState();\n});\n\n// speed change\nspeedRange.addEventListener('input', ()=>{\n  delay = parseInt(speedRange.value);\n});\n\n// Start autoplay\nstartBtn.addEventListener('click', ()=>{\n  if (!gen){\n    // use a copy of array for algorithm so UI heights reflect the array state as algorithm updates are applied\n    gen = selectionSortGenerator(array); // this generator will modify the array parameter by swapping\n  }\n  if (!running){\n    running = true;\n    paused = false;\n    processNext();\n  } else {\n    // if already running but paused, resume\n    paused = false;\n    processNext();\n  }\n});\n\n// Step: advance a single yielded action\nstepBtn.addEventListener('click', async ()=>{\n  if (!gen){\n    gen = selectionSortGenerator(array);\n  }\n  // if currently autoplaying, pause it and then step\n  running = false;\n  paused = true;\n  // One step\n  await processNext();\n});\n\n// Pause\npauseBtn.addEventListener('click', ()=>{\n  running = false;\n  paused = true;\n});\n\n// Reset: stop algorithm and re-render original array (unsorted)\nresetBtn.addEventListener('click', ()=>{\n  running = false;\n  paused = true;\n  gen = null;\n  // re-render using current array (but array might have been mutated by generator)\n  // For simplicity, generate a fresh random array of same size if current array isn't from user; otherwise we keep current array but un-sortedness cannot be restored.\n  // We'll re-generate a new random array of the same size to reset visualization.\n  array = createRandomArray(parseInt(sizeRange.value));\n  renderArray(array.slice());\n  resetState();\n});\n\n// Set custom array\nsetArrayBtn.addEventListener('click', ()=>{\n  const val = customInput.value.trim();\n  if (!val) return;\n  // parse numbers separated by commas or spaces\n  const parts = val.split(/[\\s,]+/).filter(Boolean);\n  const nums = [];\n  for(const p of parts){\n    const n = Number(p);\n    if (Number.isFinite(n)) nums.push(Math.max(1, Math.min(100, Math.round(n))));\n  }\n  if (nums.length === 0) return;\n  // if too many, clip\n  const maxN = 50;\n  if (nums.length > maxN) nums.length = maxN;\n  array = nums;\n  // update size slider to match\n  sizeRange.value = Math.max(4, Math.min(30, array.length));\n  renderArray(array.slice());\n  resetState();\n});\n\n// Shuffle current array\nrandomizeBtn.addEventListener('click', ()=>{\n  // Fisher-Yates shuffle\n  for(let i=array.length-1;i>0;i--){\n    const j = Math.floor(Math.random()*(i+1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  renderArray(array.slice());\n  resetState();\n});\n\n// Reverse array\nreverseBtn.addEventListener('click', ()=>{\n  array.reverse();\n  renderArray(array.slice());\n  resetState();\n});\n\n// Keyboard shortcuts\ndocument.addEventListener('keydown', (e)=>{\n  if (e.key === ' ') {\n    e.preventDefault();\n    // toggle start/pause\n    if (running && !paused){\n      running = false; paused = true;\n    } else {\n      if (!gen) gen = selectionSortGenerator(array);\n      running = true; paused = false; processNext();\n    }\n  } else if (e.key === 'ArrowRight') {\n    e.preventDefault();\n    // step\n    if (!gen) gen = selectionSortGenerator(array);\n    running = false; paused = true; processNext();\n  }\n});\n\n// Initialize on load\ninit();\n\n// Accessibility: announce actions (simple)\nfunction announce(message){\n  // Using aria-live region would be ideal; for simplicity update document title briefly\n  document.title = 'Selection Sort Visualizer â€” ' + message;\n  setTimeout(()=>{ document.title = 'Selection Sort Visualizer'; }, 1600);\n}\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Selection Sort"
    }
  ],
  "topic": "Selection Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}