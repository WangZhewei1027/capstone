{
  "id": "d79d15d2-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:44:30.632Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Depth-First Search (DFS)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Depth-First Search (DFS) Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f0f0f0;\n  }\n  h1 {\n    text-align: center;\n  }\n  #graph-container {\n    display: flex;\n    justify-content: center;\n    margin: 20px 0;\n  }\n  svg {\n    border: 1px solid #ccc;\n    background: #fff;\n    border-radius: 8px;\n  }\n  .node {\n    fill: #3498db;\n    stroke: #2980b9;\n    stroke-width: 2px;\n    cursor: pointer;\n    transition: fill 0.3s ease;\n  }\n  .node.visited {\n    fill: #2ecc71;\n    stroke: #27ae60;\n  }\n  .node.current {\n    fill: #e74c3c;\n    stroke: #c0392b;\n  }\n  .edge {\n    stroke: #999;\n    stroke-width: 2px;\n  }\n  #controls {\n    text-align: center;\n    margin-top: 10px;\n  }\n  button {\n    background: #2980b9;\n    color: white;\n    border: none;\n    padding: 12px 18px;\n    margin: 0 8px;\n    font-size: 16px;\n    cursor: pointer;\n    border-radius: 5px;\n  }\n  button:disabled {\n    background: #95a5a6;\n    cursor: default;\n  }\n  #log {\n    margin-top: 20px;\n    background: white;\n    border-radius: 8px;\n    max-width: 600px;\n    margin-left: auto;\n    margin-right: auto;\n    height: 150px;\n    overflow-y: auto;\n    padding: 10px;\n    border: 1px solid #ccc;\n    font-family: monospace;\n    font-size: 14px;\n  }\n  #info {\n    text-align: center;\n    max-width: 600px;\n    margin-left: auto;\n    margin-right: auto;\n    color: #555;\n  }\n  #startNode {\n    font-size: 16px;\n    padding: 8px 12px;\n    border-radius: 5px;\n    margin-left: 8px;\n    width: 50px;\n    text-align: center;\n  }\n  label {\n    font-size: 16px;\n  }\n</style>\n</head>\n<body>\n<h1>Depth-First Search (DFS) Visualization</h1>\n<div id=\"info\">\n  <p>Select start node by clicking one of the blue nodes, then click \"Start DFS\" to run the algorithm step-by-step.</p>\n  <p>Nodes will be highlighted as: <span style=\"color:#3498db;\">Blue (Unvisited)</span>, <span style=\"color:#e74c3c;\">Red (Current)</span>, <span style=\"color:#2ecc71;\">Green (Visited)</span>.</p>\n</div>\n<div id=\"graph-container\">\n  <svg width=\"600\" height=\"400\" aria-label=\"Graph visualization\">\n    <!-- Edges will go here -->\n    <!-- Nodes will go here -->\n  </svg>\n</div>\n<div id=\"controls\">\n  <button id=\"startBtn\" disabled>Start DFS</button>\n  <button id=\"nextBtn\" disabled>Next Step</button>\n  <button id=\"resetBtn\">Reset</button>\n</div>\n<div id=\"log\" aria-live=\"polite\" aria-atomic=\"true\" role=\"log\"></div>\n\n<script>\n(() => {\n  /*\n  This demo shows DFS on a fixed graph.\n  The user can select the start node by clicking a node.\n  Start DFS to see stepwise traversal.\n  */\n\n  const svgNS = \"http://www.w3.org/2000/svg\";\n\n  // Graph data: adjacency list representation\n  // We'll generate a simple undirected graph\n  const graph = {\n    nodes: [\n      { id: \"A\", x: 100, y: 100 },\n      { id: \"B\", x: 250, y: 70 },\n      { id: \"C\", x: 400, y: 100 },\n      { id: \"D\", x: 150, y: 250 },\n      { id: \"E\", x: 350, y: 250 },\n      { id: \"F\", x: 500, y: 200 },\n      { id: \"G\", x: 300, y: 350 }\n    ],\n    edges: [\n      [\"A\", \"B\"],\n      [\"A\", \"D\"],\n      [\"B\", \"C\"],\n      [\"B\", \"E\"],\n      [\"C\", \"F\"],\n      [\"D\", \"E\"],\n      [\"E\", \"F\"],\n      [\"D\", \"G\"],\n      [\"E\", \"G\"]\n    ]\n  };\n\n  // Build adjacency map for quick lookups\n  const adjacency = {};\n  graph.nodes.forEach(n => (adjacency[n.id] = []));\n  graph.edges.forEach(([u, v]) => {\n    adjacency[u].push(v);\n    adjacency[v].push(u);\n  });\n\n  // Elements\n  const svg = document.querySelector(\"svg\");\n  const startBtn = document.getElementById(\"startBtn\");\n  const nextBtn = document.getElementById(\"nextBtn\");\n  const resetBtn = document.getElementById(\"resetBtn\");\n  const logEl = document.getElementById(\"log\");\n\n  // State\n  let selectedStartNode = null;\n  let dfsStack = [];\n  let visitedSet = new Set();\n  let currentNode = null;\n  let running = false;\n\n  // Create SVG elements for edges\n  function createEdges() {\n    graph.edges.forEach(([u, v]) => {\n      const nodeU = graph.nodes.find(n => n.id === u);\n      const nodeV = graph.nodes.find(n => n.id === v);\n      const line = document.createElementNS(svgNS, \"line\");\n      line.setAttribute(\"x1\", nodeU.x);\n      line.setAttribute(\"y1\", nodeU.y);\n      line.setAttribute(\"x2\", nodeV.x);\n      line.setAttribute(\"y2\", nodeV.y);\n      line.classList.add(\"edge\");\n      svg.appendChild(line);\n    });\n  }\n\n  // Create SVG elements for nodes\n  function createNodes() {\n    graph.nodes.forEach(n => {\n      const circle = document.createElementNS(svgNS, \"circle\");\n      circle.setAttribute(\"cx\", n.x);\n      circle.setAttribute(\"cy\", n.y);\n      circle.setAttribute(\"r\", 20);\n      circle.classList.add(\"node\");\n      circle.setAttribute(\"id\", `node-${n.id}`);\n      circle.setAttribute(\"tabindex\", \"0\");\n      circle.setAttribute(\"role\", \"button\");\n      circle.setAttribute(\"aria-label\", `Node ${n.id}`);\n      circle.setAttribute(\"aria-pressed\", \"false\");\n\n      const text = document.createElementNS(svgNS, \"text\");\n      text.setAttribute(\"x\", n.x);\n      text.setAttribute(\"y\", n.y + 6);\n      text.setAttribute(\"text-anchor\", \"middle\");\n      text.setAttribute(\"font-size\", \"16\");\n      text.setAttribute(\"pointer-events\", \"none\"); // So clicks go to circle\n      text.textContent = n.id;\n\n      svg.appendChild(circle);\n      svg.appendChild(text);\n\n      circle.addEventListener(\"click\", () => {\n        if (running) return;\n        selectStartNode(n.id);\n      });\n      circle.addEventListener(\"keydown\", (evt) => {\n        if (running) return;\n        if (evt.key === \"Enter\" || evt.key === \" \") {\n          evt.preventDefault();\n          selectStartNode(n.id);\n        }\n      });\n    });\n  }\n\n  // Select start node visually and stateful\n  function selectStartNode(nodeId) {\n    if (running) return;\n    if (selectedStartNode === nodeId) return; // already selected\n\n    // Reset old selection\n    if (selectedStartNode) {\n      const old = document.getElementById(`node-${selectedStartNode}`);\n      if (old) {\n        old.setAttribute(\"aria-pressed\", \"false\");\n        old.classList.remove(\"selectedStart\");\n        old.classList.remove(\"current\");\n      }\n    }\n    selectedStartNode = nodeId;\n    startBtn.disabled = false;\n    log(`Selected start node: ${nodeId}`, true);\n\n    const newEl = document.getElementById(`node-${nodeId}`);\n    if (newEl) {\n      newEl.classList.add(\"selectedStart\");\n      newEl.setAttribute(\"aria-pressed\", \"true\");\n    }\n  }\n\n  // Update node colors (clear + set visited + current + start)\n  function updateNodeStyles() {\n    graph.nodes.forEach(n => {\n      const el = document.getElementById(`node-${n.id}`);\n      if (!el) return;\n      el.classList.remove(\"visited\", \"current\");\n      el.style.pointerEvents = running ? \"none\" : \"auto\"; // Disable clicking while running\n    });\n\n    visitedSet.forEach(id => {\n      const el = document.getElementById(`node-${id}`);\n      if (el) el.classList.add(\"visited\");\n    });\n\n    if (currentNode) {\n      const el = document.getElementById(`node-${currentNode}`);\n      if (el) el.classList.add(\"current\");\n    }\n  }\n\n  // Log messages with auto-scroll\n  function log(message, clear = false) {\n    if (clear) logEl.textContent = \"\";\n    const time = new Date().toLocaleTimeString();\n    logEl.textContent += `[${time}] ${message}\\n`;\n    logEl.scrollTop = logEl.scrollHeight;\n  }\n\n  // DFS algorithm step (explicit stack)\n  function dfsStep() {\n    if(dfsStack.length === 0) {\n      // Done\n      log(\"DFS complete! No more nodes to visit.\");\n      running = false;\n      currentNode = null;\n      updateNodeStyles();\n      nextBtn.disabled = true;\n      startBtn.disabled = true;\n      return;\n    }\n\n    currentNode = dfsStack.pop();\n    if (visitedSet.has(currentNode)) {\n      // Already visited, skip step and run next step immediately\n      return dfsStep();\n    }\n\n    // Visit this node\n    visitedSet.add(currentNode);\n    log(`Visiting node ${currentNode}`);\n\n    // Add neighbors to stack (in reverse alphabetical order for consistent order)\n    const neighbors = adjacency[currentNode]\n      .filter(n => !visitedSet.has(n))\n      .sort()\n      .reverse();\n    neighbors.forEach(n => {\n      dfsStack.push(n);\n      log(`  Pushed neighbor ${n} to stack`);\n    });\n\n    updateNodeStyles();\n  }\n\n  // Start DFS: initialize stack and visited set\n  function startDFS() {\n    if (!selectedStartNode) {\n      alert(\"Please select a start node by clicking on a node.\");\n      return;\n    }\n    running = true;\n    startBtn.disabled = true;\n    nextBtn.disabled = false;\n    resetBtn.disabled = false;\n\n    dfsStack = [selectedStartNode];\n    visitedSet = new Set();\n    currentNode = null;\n\n    log(\"Starting DFS from node \" + selectedStartNode, true);\n    updateNodeStyles();\n  }\n\n  // Reset everything\n  function reset() {\n    running = false;\n    selectedStartNode = null;\n    dfsStack = [];\n    visitedSet = new Set();\n    currentNode = null;\n\n    startBtn.disabled = true;\n    nextBtn.disabled = true;\n\n    // Remove start selection highlight\n    graph.nodes.forEach(n => {\n      const el = document.getElementById(`node-${n.id}`);\n      if (el) {\n        el.classList.remove(\"visited\", \"current\", \"selectedStart\");\n        el.setAttribute(\"aria-pressed\", \"false\");\n        el.style.pointerEvents = \"auto\";\n      }\n    });\n    log(\"Reset completed. Please select a start node by clicking on a node.\", true);\n  }\n\n  // Initialize SVG graph\n  function init() {\n    createEdges();\n    createNodes();\n    reset();\n  }\n\n  // Button handlers\n  startBtn.addEventListener(\"click\", () => {\n    if (running) return;\n    startDFS();\n  });\n\n  nextBtn.addEventListener(\"click\", () => {\n    if (!running) return;\n    dfsStep();\n  });\n\n  resetBtn.addEventListener(\"click\", () => {\n    reset();\n  });\n\n  window.addEventListener(\"load\", () => {\n    init();\n  });\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Depth-First Search (DFS)"
    }
  ],
  "topic": "Depth-First Search (DFS)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}