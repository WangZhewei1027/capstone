{
  "id": "7b3cd1f0-d360-11f0-b42e-71f0e7238799",
  "timestamp": "2025-12-07T11:34:21.911Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "K-Nearest Neighbors (KNN)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Nearest Neighbors (KNN) Demo</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n        }\n        #canvas {\n            border: 1px solid #ccc;\n            margin-top: 10px;\n        }\n        .controls {\n            margin: 20px 0;\n        }\n    </style>\n</head>\n<body>\n\n<h1>K-Nearest Neighbors (KNN) Demonstration</h1>\n<div class=\"controls\">\n    <label for=\"kValue\">K value (number of neighbors): </label>\n    <input type=\"number\" id=\"kValue\" value=\"3\" min=\"1\" max=\"10\" />\n    <button id=\"addData\">Add Data Point</button>\n</div>\n<canvas id=\"canvas\" width=\"400\" height=\"400\"></canvas>\n\n<script>\n    const canvas = document.getElementById('canvas');\n    const ctx = canvas.getContext('2d');\n\n    let dataPoints = [];\n    const colors = ['red', 'blue'];\n\n    function drawPoints() {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        dataPoints.forEach(point => {\n            ctx.fillStyle = colors[point.label];\n            ctx.beginPath();\n            ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n            ctx.fill();\n        });\n    }\n\n    function getDistance(point1, point2) {\n        return Math.sqrt(Math.pow(point1.x - point2.x, 2) + Math.pow(point1.y - point2.y, 2));\n    }\n\n    function knn(newPoint, k) {\n        const distances = dataPoints.map(point => ({\n            point,\n            distance: getDistance(point, newPoint)\n        }));\n        distances.sort((a, b) => a.distance - b.distance);\n        const neighbors = distances.slice(0, k);\n\n        const votes = {};\n        neighbors.forEach(neighbor => {\n            const label = neighbor.point.label;\n            votes[label] = (votes[label] || 0) + 1;\n        });\n\n        return Object.keys(votes).reduce((a, b) => votes[a] > votes[b] ? a : b);\n    }\n\n    function addDataPoint(x, y, label) {\n        dataPoints.push({ x, y, label });\n        drawPoints();\n    }\n\n    function handleCanvasClick(event) {\n        const rect = canvas.getBoundingClientRect();\n        const x = event.clientX - rect.left;\n        const y = event.clientY - rect.top;\n        const k = parseInt(document.getElementById('kValue').value);\n        \n        const userLabel = colors.length; // Set user-defined label based on color length\n        addDataPoint(x, y, userLabel);\n        \n        const predictedLabel = knn({ x, y }, k);\n        ctx.fillStyle = colors[predictedLabel] || 'green'; // Green for predicted label\n        ctx.beginPath();\n        ctx.arc(x, y, 10, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.strokeStyle = 'black';\n        ctx.stroke();\n    }\n\n    document.getElementById('addData').addEventListener('click', () => {\n        const k = parseInt(document.getElementById('kValue').value);\n        const randomX = Math.random() * canvas.width;\n        const randomY = Math.random() * canvas.height;\n        addDataPoint(randomX, randomY, Math.floor(Math.random() * colors.length));\n        const predictedLabel = knn({ x: randomX, y: randomY }, k);\n        ctx.fillStyle = colors[predictedLabel] || 'green';\n        ctx.beginPath();\n        ctx.arc(randomX, randomY, 10, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.strokeStyle = 'black';\n        ctx.stroke();\n    });\n\n    canvas.addEventListener('click', handleCanvasClick);\n\n    drawPoints();\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Nearest Neighbors (KNN)"
    }
  ],
  "topic": "K-Nearest Neighbors (KNN)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}