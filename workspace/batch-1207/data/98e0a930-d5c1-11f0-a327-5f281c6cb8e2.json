{
  "id": "98e0a930-d5c1-11f0-a327-5f281c6cb8e2",
  "timestamp": "2025-12-10T12:17:00.360Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Queue",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Queue Data Structure — Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --card:#0b1220;\n      --accent:#4f46e5;\n      --muted:#9aa4bd;\n      --ok:#10b981;\n      --danger:#ef4444;\n      --glass: rgba(255,255,255,0.03);\n      --slot-empty: rgba(255,255,255,0.03);\n      --slot-border: rgba(255,255,255,0.08);\n    }\n    html,body{\n      height:100%;\n      margin:0;\n      font-family: Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n      background: linear-gradient(180deg, #071129 0%, #081026 40%, #05111b 100%);\n      color:#e6eef8;\n      -webkit-font-smoothing:antialiased;\n      -moz-osx-font-smoothing:grayscale;\n    }\n    .app{\n      max-width:1000px;\n      margin:28px auto;\n      padding:20px;\n    }\n    .header{\n      display:flex;\n      align-items:baseline;\n      gap:16px;\n      margin-bottom:12px;\n    }\n    h1{font-size:20px;margin:0}\n    p.lead{margin:6px 0 18px;color:var(--muted);font-size:13px}\n    .controls{\n      display:flex;\n      gap:10px;\n      align-items:center;\n      flex-wrap:wrap;\n      margin-bottom:18px;\n    }\n    .control-row{\n      display:flex;\n      gap:8px;\n      align-items:center;\n    }\n    input[type=\"text\"], input[type=\"number\"], select{\n      padding:8px 10px;\n      border-radius:8px;\n      background:var(--glass);\n      border:1px solid var(--slot-border);\n      color:inherit;\n      outline:none;\n      width:140px;\n      box-sizing:border-box;\n    }\n    button{\n      padding:8px 12px;\n      border-radius:8px;\n      border:1px solid rgba(255,255,255,0.06);\n      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));\n      color:inherit;\n      cursor:pointer;\n      transition:transform .08s ease, box-shadow .08s ease;\n    }\n    button:active{transform:translateY(1px)}\n    button.primary{\n      background: linear-gradient(180deg, var(--accent), #4338ca);\n      box-shadow: 0 6px 18px rgba(79,70,229,0.18);\n      border: none;\n      font-weight:600;\n    }\n    .panel{\n      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));\n      border-radius:12px;\n      padding:14px;\n      border:1px solid rgba(255,255,255,0.03);\n    }\n    .viz{\n      margin-top:18px;\n      padding:18px;\n      display:flex;\n      gap:12px;\n      align-items:center;\n      justify-content:center;\n      min-height:180px;\n      position:relative;\n      overflow:visible;\n    }\n    .queue-row{\n      display:flex;\n      gap:10px;\n      align-items:center;\n    }\n    .slot{\n      width:72px;\n      height:64px;\n      border-radius:8px;\n      background:var(--slot-empty);\n      border:1px dashed var(--slot-border);\n      display:flex;\n      align-items:center;\n      justify-content:center;\n      position:relative;\n      transition:all .25s ease;\n      box-sizing:border-box;\n      font-weight:700;\n      color:#e6eef8;\n      font-size:18px;\n    }\n    .slot.filled{\n      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));\n      border:1px solid rgba(255,255,255,0.06);\n      box-shadow: 0 6px 18px rgba(2,6,23,0.5) inset;\n    }\n    .slot .idx{\n      position:absolute;\n      top:6px;\n      left:6px;\n      font-size:11px;\n      color:var(--muted);\n      font-weight:600;\n    }\n    .pointer{\n      position:absolute;\n      font-size:12px;\n      color:var(--muted);\n      top:-24px;\n      transform:translateX(-50%);\n      background:transparent;\n      padding:2px 6px;\n      border-radius:6px;\n    }\n    .pointer.front{ color: var(--ok); font-weight:700 }\n    .pointer.rear{ color: var(--accent); font-weight:700 }\n    .legend{\n      display:flex;\n      gap:12px;\n      align-items:center;\n      justify-content:center;\n      margin-top:12px;\n      color:var(--muted);\n      font-size:13px;\n    }\n    .log{\n      margin-top:14px;\n      max-height:160px;\n      overflow:auto;\n      font-family:monospace;\n      font-size:13px;\n      color:var(--muted);\n      border-radius:8px;\n      padding:10px;\n      background:rgba(255,255,255,0.01);\n      border:1px solid rgba(255,255,255,0.02);\n    }\n    .floating{\n      position:absolute;\n      pointer-events:none;\n      z-index:80;\n      transition:transform var(--dur) cubic-bezier(.2,.9,.2,1), opacity .22s ease;\n      will-change:transform, opacity;\n      padding:8px 12px;\n      border-radius:8px;\n      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));\n      box-shadow:0 10px 24px rgba(2,6,23,0.6);\n      border:1px solid rgba(255,255,255,0.04);\n      font-weight:700;\n    }\n    .small{\n      font-size:12px;\n      color:var(--muted);\n    }\n    .info {\n      margin-top:12px;\n      color:var(--muted);\n      font-size:13px;\n    }\n    .footer{\n      margin-top:18px;\n      display:flex;\n      gap:8px;\n      align-items:center;\n      justify-content:space-between;\n      color:var(--muted);\n      font-size:13px;\n    }\n    .badge{\n      padding:6px 8px;\n      border-radius:8px;\n      background:rgba(255,255,255,0.02);\n      border:1px solid rgba(255,255,255,0.03);\n      color:var(--muted);\n      font-weight:600;\n      font-size:13px;\n    }\n    .ops{\n      display:flex;\n      gap:8px;\n      align-items:center;\n      flex-wrap:wrap;\n    }\n\n    /* responsive tweak */\n    @media (max-width:680px){\n      .slot{width:56px;height:54px;font-size:16px}\n      input[type=\"text\"]{width:110px}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"app\">\n    <div class=\"header\">\n      <div>\n        <h1>Queue — Interactive Demo</h1>\n        <p class=\"lead\">A queue is a FIFO (First-In-First-Out) data structure. Use the controls below to enqueue and dequeue items and watch how front/rear move in a circular buffer visualization.</p>\n      </div>\n    </div>\n\n    <div class=\"panel\">\n      <div class=\"controls\">\n        <div class=\"control-row\">\n          <input id=\"valueInput\" type=\"text\" placeholder=\"Value to enqueue\" />\n          <button id=\"enqueueBtn\" class=\"primary\">Enqueue</button>\n          <button id=\"dequeueBtn\">Dequeue</button>\n          <button id=\"peekBtn\">Peek</button>\n          <button id=\"clearBtn\">Clear</button>\n        </div>\n\n        <div class=\"control-row\">\n          <label class=\"small\">Capacity</label>\n          <input id=\"capacityInput\" type=\"number\" value=\"7\" min=\"2\" max=\"15\" />\n          <button id=\"setCapBtn\">Reset Capacity</button>\n        </div>\n\n        <div class=\"control-row\">\n          <button id=\"fillBtn\">Fill Random</button>\n          <button id=\"randOpBtn\">Random Ops</button>\n          <label class=\"small\">Anim ms</label>\n          <input id=\"durSlider\" type=\"range\" min=\"100\" max=\"1200\" value=\"420\" />\n          <span id=\"durLabel\" class=\"small\">420</span>\n        </div>\n      </div>\n\n      <div class=\"viz panel\" id=\"viz\">\n        <div id=\"queueRow\" class=\"queue-row\" aria-live=\"polite\"></div>\n      </div>\n\n      <div class=\"legend\">\n        <div class=\"small\"><span style=\"color:var(--ok);font-weight:700\">Front</span> = next to dequeue</div>\n        <div class=\"small\"><span style=\"color:var(--accent);font-weight:700\">Rear</span> = where new items are enqueued</div>\n        <div class=\"small\">Circular buffer indexes shown in corners</div>\n      </div>\n\n      <div class=\"footer\">\n        <div class=\"badge\" id=\"status\">Size: 0 &nbsp; | &nbsp; Capacity: 7</div>\n        <div class=\"ops\">\n          <div class=\"small\">Complexity: Enqueue O(1), Dequeue O(1), Peek O(1)</div>\n        </div>\n      </div>\n\n      <div class=\"log\" id=\"log\" aria-live=\"polite\"></div>\n    </div>\n  </div>\n\n  <script>\n    // Queue implementation (circular buffer)\n    class VisualQueue {\n      constructor(capacity = 7) {\n        this.setCapacity(capacity);\n      }\n      setCapacity(cap){\n        this.capacity = Math.max(1, Math.floor(cap));\n        this._arr = new Array(this.capacity).fill(undefined);\n        this.front = 0; // index of next dequeue\n        this.rear = 0;  // index where next enqueue will write\n        this.count = 0;\n      }\n      enqueue(value){\n        if(this.isFull()) throw new Error('Queue is full');\n        this._arr[this.rear] = value;\n        this.rear = (this.rear + 1) % this.capacity;\n        this.count++;\n      }\n      dequeue(){\n        if(this.isEmpty()) throw new Error('Queue is empty');\n        const val = this._arr[this.front];\n        this._arr[this.front] = undefined;\n        this.front = (this.front + 1) % this.capacity;\n        this.count--;\n        return val;\n      }\n      peek(){\n        if(this.isEmpty()) return undefined;\n        return this._arr[this.front];\n      }\n      size(){ return this.count; }\n      isEmpty(){ return this.count === 0; }\n      isFull(){ return this.count === this.capacity; }\n      clear(){\n        this._arr.fill(undefined);\n        this.front = 0;\n        this.rear = 0;\n        this.count = 0;\n      }\n      arraySnapshot(){ return this._arr.slice(); }\n    }\n\n    // DOM elements\n    const queueRow = document.getElementById('queueRow');\n    const statusEl = document.getElementById('status');\n    const logEl = document.getElementById('log');\n    const valueInput = document.getElementById('valueInput');\n    const enqueueBtn = document.getElementById('enqueueBtn');\n    const dequeueBtn = document.getElementById('dequeueBtn');\n    const peekBtn = document.getElementById('peekBtn');\n    const clearBtn = document.getElementById('clearBtn');\n    const capacityInput = document.getElementById('capacityInput');\n    const setCapBtn = document.getElementById('setCapBtn');\n    const fillBtn = document.getElementById('fillBtn');\n    const randOpBtn = document.getElementById('randOpBtn');\n    const durSlider = document.getElementById('durSlider');\n    const durLabel = document.getElementById('durLabel');\n\n    let animDur = Number(durSlider.value);\n    durLabel.textContent = animDur;\n\n    const q = new VisualQueue(Number(capacityInput.value) || 7);\n\n    // create slots\n    function renderSlots(animated=false){\n      queueRow.innerHTML = '';\n      const arr = q.arraySnapshot();\n      arr.forEach((val, idx) => {\n        const slot = document.createElement('div');\n        slot.className = 'slot' + (val !== undefined ? ' filled' : '');\n        slot.dataset.idx = idx;\n        slot.innerHTML = '<div class=\"idx\">' + idx + '</div>' + (val === undefined ? '' : String(val));\n        queueRow.appendChild(slot);\n      });\n      // add pointers\n      updatePointers();\n      updateStatus();\n    }\n\n    function updatePointers(){\n      // remove existing pointer labels\n      document.querySelectorAll('.pointer').forEach(n => n.remove());\n      // If queue empty still show front==rear position? We'll show front marker at index \"front\" and rear marker at index \"rear - 1\" (last enqueued).\n      const cap = q.capacity;\n      // Front marker (points to element to be dequeued)\n      const frontIdx = q.front;\n      const frontSlot = queueRow.querySelector('.slot[data-idx=\"'+frontIdx+'\"]');\n      const frontPointer = document.createElement('div');\n      frontPointer.className = 'pointer front';\n      frontPointer.textContent = 'Front';\n      if(frontSlot){\n        frontSlot.appendChild(frontPointer);\n        frontPointer.style.top = '-28px';\n        frontPointer.style.left = '50%';\n      }\n      // Rear pointer - note rear points to next write index; visually show arrow at the slot where last item resides when not empty\n      let rearPosIdx = (q.rear - 1 + cap) % cap;\n      if(q.isEmpty()){\n        // empty: show rear at same as front (rear points to next write spot)\n        rearPosIdx = q.rear;\n      }\n      const rearSlot = queueRow.querySelector('.slot[data-idx=\"'+rearPosIdx+'\"]');\n      const rearPointer = document.createElement('div');\n      rearPointer.className = 'pointer rear';\n      rearPointer.textContent = 'Rear';\n      if(rearSlot){\n        rearSlot.appendChild(rearPointer);\n        rearPointer.style.top = '60px';\n        rearPointer.style.left = '50%';\n      }\n    }\n\n    function updateStatus(){\n      statusEl.innerHTML = `Size: ${q.size()} &nbsp; | &nbsp; Capacity: ${q.capacity}`;\n    }\n\n    function log(msg, type='info'){\n      const line = document.createElement('div');\n      const time = new Date().toLocaleTimeString();\n      line.textContent = `[${time}] ${msg}`;\n      line.style.color = type === 'error' ? 'var(--danger)' : 'var(--muted)';\n      logEl.prepend(line);\n    }\n\n    // Animation helpers\n    function createFloating(value){\n      const f = document.createElement('div');\n      f.className = 'floating';\n      f.style.setProperty('--dur', animDur + 'ms');\n      f.textContent = String(value);\n      document.body.appendChild(f);\n      return f;\n    }\n\n    function getSlotRect(idx){\n      const slot = queueRow.querySelector('.slot[data-idx=\"'+idx+'\"]');\n      if(!slot) return null;\n      return slot.getBoundingClientRect();\n    }\n\n    function animateEnqueue(value, targetIdx){\n      return new Promise(resolve => {\n        const inputRect = valueInput.getBoundingClientRect();\n        const targetRect = getSlotRect(targetIdx);\n        const f = createFloating(value);\n        // start at input\n        const startX = inputRect.left + inputRect.width/2;\n        const startY = inputRect.top + inputRect.height/2;\n        f.style.left = startX + 'px';\n        f.style.top = startY + 'px';\n        f.style.transform = 'translate(-50%, -50%) scale(1)';\n        f.style.opacity = '1';\n        // force reflow\n        f.getBoundingClientRect();\n        // compute target center\n        const tx = targetRect.left + targetRect.width/2;\n        const ty = targetRect.top + targetRect.height/2;\n        // animate by translating to target center via transform\n        requestAnimationFrame(()=>{\n          f.style.transition = `transform ${animDur}ms cubic-bezier(.2,.9,.2,1), opacity ${Math.max(80, animDur*0.12)}ms`;\n          const dx = tx - startX;\n          const dy = ty - startY;\n          f.style.transform = `translate(${dx}px, ${dy}px) translate(-50%, -50%) scale(0.96)`;\n        });\n        setTimeout(()=>{\n          // fade out into slot\n          // update model into DOM\n          const slot = queueRow.querySelector('.slot[data-idx=\"'+targetIdx+'\"]');\n          slot.classList.add('filled');\n          slot.innerHTML = '<div class=\"idx\">' + targetIdx + '</div>' + String(value);\n          // add tiny pop\n          slot.style.transition = 'transform 160ms ease';\n          slot.style.transform = 'scale(1.04)';\n          setTimeout(()=> slot.style.transform = '', 160);\n          f.style.opacity = '0';\n          setTimeout(()=>{ f.remove(); resolve(); }, Math.max(60, animDur*0.12 + 40));\n        }, animDur + 8);\n      });\n    }\n\n    function animateDequeue(fromIdx){\n      return new Promise(resolve => {\n        const slot = queueRow.querySelector('.slot[data-idx=\"'+fromIdx+'\"]');\n        if(!slot) { resolve(); return; }\n        const val = slot.textContent.replace(/\\d+$/, '').trim(); // fallback\n        const rect = slot.getBoundingClientRect();\n        const f = createFloating(slot.textContent.replace(/^\\d+\\s*/, ''));\n        f.style.left = rect.left + rect.width/2 + 'px';\n        f.style.top = rect.top + rect.height/2 + 'px';\n        f.style.transform = 'translate(-50%,-50%) scale(1)';\n        // animate upward + fade\n        requestAnimationFrame(()=>{\n          f.style.transition = `transform ${animDur}ms cubic-bezier(.2,.9,.2,1), opacity ${Math.max(80, animDur*0.12)}ms`;\n          f.style.transform = 'translate(-50%,-200%) scale(0.9)';\n          f.style.opacity = '0';\n        });\n        setTimeout(()=>{\n          // clear slot visually\n          slot.classList.remove('filled');\n          slot.innerHTML = '<div class=\"idx\">' + fromIdx + '</div>';\n          f.remove();\n          resolve();\n        }, animDur + 30);\n      });\n    }\n\n    // UI actions\n    async function handleEnqueue(value){\n      if(value === '' || value == null){\n        alert('Enter a value to enqueue.');\n        return;\n      }\n      if(q.isFull()){\n        log('Enqueue failed: queue is full', 'error');\n        alert('Queue is full. Increase capacity or dequeue items.');\n        return;\n      }\n      const targetIdx = q.rear;\n      // perform model change after animation to keep consistent\n      try{\n        // animate to slot\n        await animateEnqueue(value, targetIdx);\n        q.enqueue(value);\n        updatePointers();\n        updateStatus();\n        log(`Enqueued \"${value}\"`);\n      }catch(e){\n        log('Error: ' + e.message, 'error');\n      }\n    }\n\n    async function handleDequeue(){\n      if(q.isEmpty()){\n        log('Dequeue failed: queue is empty', 'error');\n        alert('Queue is empty.');\n        return;\n      }\n      const fromIdx = q.front;\n      const val = q.peek();\n      await animateDequeue(fromIdx);\n      const popped = q.dequeue();\n      updatePointers();\n      updateStatus();\n      log(`Dequeued \"${popped}\"`);\n    }\n\n    function handlePeek(){\n      if(q.isEmpty()){\n        log('Peek: queue is empty');\n        alert('Queue is empty.');\n        return;\n      }\n      const val = q.peek();\n      log(`Peek: \"${val}\"`);\n      alert('Peek -> ' + val);\n    }\n\n    function handleClear(){\n      q.clear();\n      renderSlots();\n      log('Cleared queue');\n    }\n\n    function handleSetCapacity(){\n      const cap = Number(capacityInput.value) || 1;\n      if(cap < 1) return;\n      q.setCapacity(cap);\n      renderSlots();\n      log('Capacity set to ' + cap);\n    }\n\n    function randomValue(){\n      // random small string or number\n      const pick = Math.random();\n      if(pick < 0.4) return String(Math.floor(Math.random()*90)+10);\n      if(pick < 0.8) return ['A','B','C','D','X','Y','Z'][Math.floor(Math.random()*7)];\n      return Math.random().toString(36).slice(2,6);\n    }\n\n    async function handleFillRandom(){\n      q.clear();\n      renderSlots();\n      const c = q.capacity;\n      const fillCount = Math.floor(Math.random()*(c-1))+1;\n      for(let i=0;i<fillCount;i++){\n        const v = randomValue();\n        await handleEnqueue(v);\n      }\n      log(`Filled random (${q.size()} items)`);\n    }\n\n    async function handleRandomOps(){\n      // perform a short sequence of random ops\n      const steps = 6 + Math.floor(Math.random()*6);\n      for(let i=0;i<steps;i++){\n        await new Promise(r => setTimeout(r, 120));\n        const pick = Math.random();\n        if(pick < 0.55){\n          // enqueue if not full\n          if(!q.isFull()){\n            await handleEnqueue(randomValue());\n          } else {\n            // if full, try dequeue instead\n            if(!q.isEmpty()) await handleDequeue();\n          }\n        } else {\n          // dequeue if not empty\n          if(!q.isEmpty()){\n            await handleDequeue();\n          } else {\n            if(!q.isFull()) await handleEnqueue(randomValue());\n          }\n        }\n      }\n      log('Random ops sequence finished');\n    }\n\n    // attach events\n    enqueueBtn.addEventListener('click', ()=> {\n      const v = valueInput.value.trim();\n      handleEnqueue(v);\n      valueInput.value = '';\n      valueInput.focus();\n    });\n\n    valueInput.addEventListener('keydown', (e)=>{\n      if(e.key === 'Enter') enqueueBtn.click();\n    });\n\n    dequeueBtn.addEventListener('click', ()=> handleDequeue());\n    peekBtn.addEventListener('click', ()=> handlePeek());\n    clearBtn.addEventListener('click', ()=> handleClear());\n    setCapBtn.addEventListener('click', ()=> handleSetCapacity());\n    fillBtn.addEventListener('click', ()=> handleFillRandom());\n    randOpBtn.addEventListener('click', ()=> handleRandomOps());\n\n    durSlider.addEventListener('input', ()=>{\n      animDur = Number(durSlider.value);\n      durLabel.textContent = animDur;\n    });\n\n    // init\n    renderSlots();\n    log('Queue initialized');\n\n    // make sure window resizes keep pointers correct\n    window.addEventListener('resize', ()=> updatePointers());\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Queue"
    }
  ],
  "topic": "Queue",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}