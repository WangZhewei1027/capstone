{
  "id": "f1822ad1-d366-11f0-9b19-a558354ece3e",
  "timestamp": "2025-12-07T12:22:02.786Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Huffman Coding",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Huffman Coding Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 900px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .input-section {\n            margin-bottom: 20px;\n        }\n        textarea, input {\n            width: 100%;\n            padding: 10px;\n            margin: 5px 0;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n        button {\n            background-color: #4CAF50;\n            color: white;\n            padding: 10px 15px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            margin: 5px;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        .results {\n            margin-top: 20px;\n        }\n        .tree {\n            margin: 20px 0;\n            padding: 10px;\n            background-color: #f9f9f9;\n            border-radius: 4px;\n            font-family: monospace;\n        }\n        .codes {\n            margin: 10px 0;\n        }\n        .encoded {\n            margin: 10px 0;\n            word-break: break-all;\n            background-color: #e8f4f8;\n            padding: 10px;\n            border-radius: 4px;\n        }\n        .frequency-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 10px 0;\n        }\n        .frequency-table th, .frequency-table td {\n            border: 1px solid #ddd;\n            padding: 8px;\n            text-align: left;\n        }\n        .frequency-table th {\n            background-color: #f2f2f2;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Huffman Coding Visualization</h1>\n        \n        <div class=\"input-section\">\n            <label for=\"inputText\">Enter text to encode:</label>\n            <textarea id=\"inputText\" rows=\"3\" placeholder=\"Type your text here...\">hello world</textarea>\n            <button id=\"encodeBtn\">Encode Text</button>\n            <button id=\"generateRandom\">Generate Random Sample</button>\n        </div>\n        \n        <div class=\"results\" id=\"results\" style=\"display: none;\">\n            <h2>Results</h2>\n            \n            <h3>Frequency Analysis</h3>\n            <table class=\"frequency-table\" id=\"frequencyTable\"></table>\n            \n            <h3>Huffman Codes</h3>\n            <div id=\"huffmanCodes\"></div>\n            \n            <h3>Original Text (Binary)</h3>\n            <div class=\"encoded\" id=\"originalBinary\"></div>\n            \n            <h3>Encoded Text (Huffman)</h3>\n            <div class=\"encoded\" id=\"huffmanEncoded\"></div>\n            \n            <h3>Compression Statistics</h3>\n            <div id=\"stats\"></div>\n            \n            <h3>Huffman Tree</h3>\n            <div class=\"tree\" id=\"huffmanTree\"></div>\n        </div>\n    </div>\n\n    <script>\n        class HuffmanNode {\n            constructor(char, frequency) {\n                this.char = char;\n                this.frequency = frequency;\n                this.left = null;\n                this.right = null;\n            }\n        }\n\n        class HuffmanCoding {\n            constructor() {\n                this.codes = {};\n                this.reverseCodes = {};\n            }\n\n            // Calculate frequency of each character in the text\n            calculateFrequency(text) {\n                const frequency = {};\n                for (let char of text) {\n                    frequency[char] = (frequency[char] || 0) + 1;\n                }\n                return frequency;\n            }\n\n            // Build Huffman tree from frequency table\n            buildTree(frequency) {\n                const nodes = [];\n                \n                // Create leaf nodes for each character\n                for (let char in frequency) {\n                    nodes.push(new HuffmanNode(char, frequency[char]));\n                }\n\n                // Build the tree by combining nodes with lowest frequencies\n                while (nodes.length > 1) {\n                    // Sort nodes by frequency (ascending)\n                    nodes.sort((a, b) => a.frequency - b.frequency);\n                    \n                    // Take two nodes with lowest frequency\n                    const left = nodes.shift();\n                    const right = nodes.shift();\n                    \n                    // Create a new internal node with combined frequency\n                    const parent = new HuffmanNode(null, left.frequency + right.frequency);\n                    parent.left = left;\n                    parent.right = right;\n                    \n                    // Add the new node back to the list\n                    nodes.push(parent);\n                }\n                \n                return nodes[0]; // Return root of the tree\n            }\n\n            // Generate Huffman codes by traversing the tree\n            generateCodes(node, code = '') {\n                if (node === null) return;\n                \n                // If it's a leaf node (has a character)\n                if (node.char !== null) {\n                    this.codes[node.char] = code;\n                    this.reverseCodes[code] = node.char;\n                    return;\n                }\n                \n                // Traverse left (add '0' to code)\n                this.generateCodes(node.left, code + '0');\n                // Traverse right (add '1' to code)\n                this.generateCodes(node.right, code + '1');\n            }\n\n            // Encode text using Huffman codes\n            encode(text) {\n                if (text.length === 0) return '';\n                \n                const frequency = this.calculateFrequency(text);\n                const root = this.buildTree(frequency);\n                \n                this.codes = {};\n                this.reverseCodes = {};\n                this.generateCodes(root);\n                \n                let encoded = '';\n                for (let char of text) {\n                    encoded += this.codes[char];\n                }\n                \n                return encoded;\n            }\n\n            // Decode Huffman-encoded text\n            decode(encodedText) {\n                let currentCode = '';\n                let decoded = '';\n                \n                for (let bit of encodedText) {\n                    currentCode += bit;\n                    if (this.reverseCodes[currentCode]) {\n                        decoded += this.reverseCodes[currentCode];\n                        currentCode = '';\n                    }\n                }\n                \n                return decoded;\n            }\n\n            // Generate visual representation of the tree\n            displayTree(node, prefix = '', isLeft = true) {\n                if (node === null) return '';\n                \n                let result = '';\n                if (node.char !== null) {\n                    const displayChar = node.char === ' ' ? 'SPACE' : node.char;\n                    result += prefix + (isLeft ? '├── ' : '└── ') + \n                             `'${displayChar}': ${node.frequency}\\n`;\n                } else {\n                    result += prefix + (isLeft ? '├── ' : '└── ') + \n                             `Internal: ${node.frequency}\\n`;\n                }\n                \n                if (node.left || node.right) {\n                    const newPrefix = prefix + (isLeft ? '│   ' : '    ');\n                    if (node.left) {\n                        result += this.displayTree(node.left, newPrefix, true);\n                    }\n                    if (node.right) {\n                        result += this.displayTree(node.right, newPrefix, false);\n                    }\n                }\n                \n                return result;\n            }\n        }\n\n        // DOM elements\n        const inputText = document.getElementById('inputText');\n        const encodeBtn = document.getElementById('encodeBtn');\n        const generateRandomBtn = document.getElementById('generateRandom');\n        const results = document.getElementById('results');\n        const frequencyTable = document.getElementById('frequencyTable');\n        const huffmanCodes = document.getElementById('huffmanCodes');\n        const originalBinary = document.getElementById('originalBinary');\n        const huffmanEncoded = document.getElementById('huffmanEncoded');\n        const stats = document.getElementById('stats');\n        const huffmanTree = document.getElementById('huffmanTree');\n\n        // Event listeners\n        encodeBtn.addEventListener('click', processText);\n        generateRandomBtn.addEventListener('click', generateRandomSample);\n\n        function processText() {\n            const text = inputText.value.trim();\n            if (!text) {\n                alert('Please enter some text to encode.');\n                return;\n            }\n\n            const huffman = new HuffmanCoding();\n            const encodedText = huffman.encode(text);\n            \n            // Calculate ASCII binary representation for comparison\n            let asciiBinary = '';\n            for (let char of text) {\n                asciiBinary += char.charCodeAt(0).toString(2).padStart(8, '0') + ' ';\n            }\n\n            // Display frequency table\n            const frequency = huffman.calculateFrequency(text);\n            displayFrequencyTable(frequency);\n\n            // Display Huffman codes\n            displayHuffmanCodes(huffman.codes);\n\n            // Display original binary and Huffman encoded\n            originalBinary.textContent = asciiBinary.trim();\n            huffmanEncoded.textContent = encodedText;\n\n            // Display compression statistics\n            displayStatistics(text, encodedText, huffman.codes);\n\n            // Display Huffman tree\n            const root = huffman.buildTree(frequency);\n            huffmanTree.textContent = huffman.displayTree(root);\n\n            results.style.display = 'block';\n        }\n\n        function displayFrequencyTable(frequency) {\n            frequencyTable.innerHTML = `\n                <tr>\n                    <th>Character</th>\n                    <th>Frequency</th>\n                </tr>\n            `;\n            \n            // Sort by frequency (descending)\n            const sortedChars = Object.keys(frequency).sort((a, b) => frequency[b] - frequency[a]);\n            \n            for (let char of sortedChars) {\n                const displayChar = char === ' ' ? 'SPACE' : char;\n                const row = document.createElement('tr');\n                row.innerHTML = `\n                    <td>'${displayChar}'</td>\n                    <td>${frequency[char]}</td>\n                `;\n                frequencyTable.appendChild(row);\n            }\n        }\n\n        function displayHuffmanCodes(codes) {\n            huffmanCodes.innerHTML = '';\n            \n            // Sort by code length then by character\n            const sortedChars = Object.keys(codes).sort((a, b) => {\n                if (codes[a].length !== codes[b].length) {\n                    return codes[a].length - codes[b].length;\n                }\n                return a.localeCompare(b);\n            });\n            \n            for (let char of sortedChars) {\n                const displayChar = char === ' ' ? 'SPACE' : char;\n                const codeDiv = document.createElement('div');\n                codeDiv.className = 'codes';\n                codeDiv.textContent = `'${displayChar}': ${codes[char]}`;\n                huffmanCodes.appendChild(codeDiv);\n            }\n        }\n\n        function displayStatistics(originalText, encodedText, codes) {\n            const originalSize = originalText.length * 8; // 8 bits per character in ASCII\n            const encodedSize = encodedText.length;\n            const compressionRatio = (encodedSize / originalSize * 100).toFixed(2);\n            const spaceSaved = (100 - compressionRatio).toFixed(2);\n            \n            stats.innerHTML = `\n                <p>Original size (ASCII): ${originalSize} bits</p>\n                <p>Encoded size (Huffman): ${encodedSize} bits</p>\n                <p>Compression ratio: ${compressionRatio}%</p>\n                <p>Space saved: ${spaceSaved}%</p>\n                <p>Average bits per character: ${(encodedSize / originalText.length).toFixed(2)}</p>\n            `;\n        }\n\n        function generateRandomSample() {\n            const samples = [\n                \"hello world\",\n                \"huffman coding is efficient\",\n                \"data compression algorithm\",\n                \"the quick brown fox jumps over the lazy dog\",\n                \"aaaabbbbcccdde\"\n            ];\n            \n            const randomSample = samples[Math.floor(Math.random() * samples.length)];\n            inputText.value = randomSample;\n            processText();\n        }\n\n        // Initialize with sample text\n        window.onload = processText;\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Huffman Coding"
    }
  ],
  "topic": "Huffman Coding",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}