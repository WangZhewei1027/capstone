{
  "id": "d7b39e53-d5c2-11f0-9651-0f1ae31ac260",
  "timestamp": "2025-12-10T12:24:51.143Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Radix Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Radix Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n  }\n  h1 {\n    text-align:center;\n  }\n  #inputArea {\n    margin-bottom: 10px;\n    text-align: center;\n  }\n  input[type=\"text\"] {\n    width: 300px;\n    padding: 8px;\n    font-size: 16px;\n  }\n  button {\n    padding: 8px 16px;\n    font-size: 16px;\n    margin-left: 8px;\n    cursor: pointer;\n  }\n  #arrayContainer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n  .arrayElement {\n    width: 50px;\n    height: 50px;\n    background-color: #4CAF50;\n    color: white;\n    font-weight: bold;\n    font-size: 18px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 6px;\n    transition: background-color 0.3s ease;\n  }\n  .highlight {\n    background-color: #f39c12 !important;\n  }\n  #bucketsContainer {\n    margin-top: 40px;\n    display: flex;\n    justify-content: center;\n    gap: 15px;\n    flex-wrap: wrap;\n  }\n  .bucket {\n    border: 2px solid #3498db;\n    min-width: 60px;\n    min-height: 70px;\n    border-radius: 6px;\n    padding: 5px;\n    text-align: center;\n  }\n  .bucketTitle {\n    font-weight: bold;\n    margin-bottom: 5px;\n  }\n  .bucketElements {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n  }\n  .bucketElements .arrayElement {\n    width: 40px;\n    height: 30px;\n    font-size: 14px;\n    background-color: #2980b9;\n  }\n  #status {\n    margin-top: 30px;\n    text-align: center;\n    font-size: 18px;\n    min-height: 40px;\n  }\n  #speedControl {\n    margin-top: 20px;\n    text-align:center;\n  }\n  label {\n    font-weight: bold;\n  }\n</style>\n</head>\n<body>\n<h1>Radix Sort Visualization</h1>\n\n<div id=\"inputArea\">\n  <input type=\"text\" id=\"inputArray\" placeholder=\"Enter integers separated by commas\" value=\"170,45,75,90,802,24,2,66\" />\n  <button id=\"startBtn\">Start Sorting</button>\n</div>\n\n<div id=\"speedControl\">\n  <label for=\"speedRange\">Animation Speed:</label>\n  <input type=\"range\" id=\"speedRange\" min=\"100\" max=\"2000\" value=\"600\" step=\"100\" />\n  <span id=\"speedValue\">600 ms</span>\n</div>\n\n<div id=\"status\"></div>\n\n<div id=\"arrayContainer\"></div>\n\n<div id=\"bucketsContainer\"></div>\n\n<script>\n(() => {\n  const inputArray = document.getElementById(\"inputArray\");\n  const startBtn = document.getElementById(\"startBtn\");\n  const arrayContainer = document.getElementById(\"arrayContainer\");\n  const bucketsContainer = document.getElementById(\"bucketsContainer\");\n  const status = document.getElementById(\"status\");\n  const speedRange = document.getElementById(\"speedRange\");\n  const speedValue = document.getElementById(\"speedValue\");\n\n  let animationDelay = +speedRange.value;\n\n  speedRange.addEventListener('input', () => {\n    animationDelay = +speedRange.value;\n    speedValue.textContent = animationDelay + ' ms';\n  });\n\n  // Utility function: pause with async delay\n  const delay = ms => new Promise(res => setTimeout(res, ms));\n\n  // Create array element div for visualization\n  function createArrayElement(value) {\n    const div = document.createElement('div');\n    div.className = 'arrayElement';\n    div.textContent = value;\n    return div;\n  }\n\n  // Render the main array visualization\n  function renderArray(arr, highlightIndices = []) {\n    arrayContainer.innerHTML = '';\n    arr.forEach((num, i) => {\n      const el = createArrayElement(num);\n      if (highlightIndices.includes(i)) {\n        el.classList.add('highlight');\n      }\n      arrayContainer.appendChild(el);\n    });\n  }\n\n  // Render buckets visualization\n  function renderBuckets(buckets) {\n    bucketsContainer.innerHTML = '';\n    for (let i = 0; i < 10; i++) {\n      const bucket = document.createElement('div');\n      bucket.className = 'bucket';\n      bucket.id = 'bucket-' + i;\n\n      const title = document.createElement('div');\n      title.className = 'bucketTitle';\n      title.textContent = i;\n      bucket.appendChild(title);\n\n      const bucketElements = document.createElement('div');\n      bucketElements.className = 'bucketElements';\n\n      buckets[i].forEach(value => {\n        const el = createArrayElement(value);\n        el.style.width = '40px';\n        el.style.height = '30px';\n        el.style.fontSize = '14px';\n        bucketElements.appendChild(el);\n      });\n\n      bucket.appendChild(bucketElements);\n      bucketsContainer.appendChild(bucket);\n    }\n  }\n\n  // Get digit at (exp)th place of num (exp: 1 = units, 10 = tens, etc.)\n  function getDigit(num, exp) {\n    return Math.floor(Math.abs(num) / exp) % 10;\n  }\n\n  async function radixSortVisualization(arr) {\n    let maxNum = Math.max(...arr.map(n => Math.abs(n)));\n    \n    status.textContent = \"Starting Radix Sort.\";\n    renderArray(arr);\n    await delay(animationDelay);\n\n    let exp = 1; // 1, 10, 100, ...\n    let iteration = 1;\n\n    while (Math.floor(maxNum / exp) > 0) {\n      status.textContent = `Iteration ${iteration}: Sorting by digit at place ${exp}.`;\n      // Initialize buckets (0-9)\n      let buckets = Array.from({length:10}, () => []);\n\n      // Distribute elements into buckets\n      for (let i = 0; i < arr.length; i++) {\n        renderArray(arr, [i]);\n        await delay(animationDelay / 2);\n        const digit = getDigit(arr[i], exp);\n        status.textContent = `Placing value ${arr[i]} into bucket ${digit}.`;\n        buckets[digit].push(arr[i]);\n        renderBuckets(buckets);\n        await delay(animationDelay);\n      }\n\n      // Collect from buckets back into arr\n      let idx = 0;\n      for (let i = 0; i < 10; i++) {\n        if (buckets[i].length > 0) {\n          status.textContent = `Collecting elements from bucket ${i}.`;\n          for (let val of buckets[i]) {\n            arr[idx] = val;\n            renderArray(arr, [idx]);\n            await delay(animationDelay / 2);\n            idx++;\n          }\n        }\n      }\n\n      renderArray(arr);\n      bucketsContainer.innerHTML = '';\n      exp *= 10;\n      iteration++;\n      await delay(animationDelay);\n    }\n\n    status.textContent = \"Sorting complete!\";\n    renderArray(arr);\n  }\n\n  startBtn.addEventListener('click', async () => {\n    // Disable button while sorting\n    startBtn.disabled = true;\n    status.textContent = \"\";\n    bucketsContainer.innerHTML = '';\n\n    // Parse input values\n    let raw = inputArray.value.trim();\n    if (!raw) {\n      alert(\"Please enter some integers separated by commas.\");\n      startBtn.disabled = false;\n      return;\n    }\n    let arr = raw.split(',').map(s => s.trim()).filter(s => s !== '').map(n => Number(n));\n    if (arr.some(v => Number.isNaN(v))) {\n      alert(\"Input contains invalid number(s). Please enter only integers separated by commas.\");\n      startBtn.disabled = false;\n      return;\n    }\n\n    // Handle negative numbers by offsetting\n    let minVal = Math.min(...arr);\n    let offset = 0;\n    if(minVal < 0){\n      offset = -minVal; // e.g. minVal = -50, offset = 50\n      arr = arr.map(v => v + offset);\n    }\n\n    await radixSortVisualization(arr);\n\n    // Revert offset\n    if(offset !== 0){\n      arr = arr.map(v => v - offset);\n      renderArray(arr);\n      status.textContent += \" (Negative numbers handled by offset.)\";\n    }\n\n    startBtn.disabled = false;\n  });\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Radix Sort"
    }
  ],
  "topic": "Radix Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}