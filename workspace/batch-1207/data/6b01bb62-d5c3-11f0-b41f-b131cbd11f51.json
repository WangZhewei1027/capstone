{
  "id": "6b01bb62-d5c3-11f0-b41f-b131cbd11f51",
  "timestamp": "2025-12-10T12:29:59.600Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Linear Regression",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Linear Regression Demonstration</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 900px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: white;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #2c3e50;\n            text-align: center;\n        }\n        .canvas-container {\n            position: relative;\n            margin: 20px 0;\n        }\n        canvas {\n            border: 1px solid #ddd;\n            background-color: #fafafa;\n            cursor: crosshair;\n        }\n        .controls {\n            display: flex;\n            gap: 10px;\n            margin: 15px 0;\n            flex-wrap: wrap;\n        }\n        button {\n            padding: 8px 15px;\n            background-color: #3498db;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            transition: background-color 0.3s;\n        }\n        button:hover {\n            background-color: #2980b9;\n        }\n        button.clear {\n            background-color: #e74c3c;\n        }\n        button.clear:hover {\n            background-color: #c0392b;\n        }\n        .equation {\n            font-family: monospace;\n            background-color: #f8f9fa;\n            padding: 10px;\n            border-radius: 4px;\n            margin: 10px 0;\n        }\n        .info {\n            margin-top: 20px;\n            padding: 15px;\n            background-color: #e8f4f8;\n            border-radius: 5px;\n        }\n        .dot-count {\n            margin: 10px 0;\n            font-weight: bold;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Linear Regression Demonstration</h1>\n        \n        <div class=\"info\">\n            <p><strong>Linear Regression</strong> is a statistical method used to model the relationship between a dependent variable (y) and one or more independent variables (x).</p>\n            <p><strong>Equation:</strong> y = mx + b, where m is the slope and b is the y-intercept.</p>\n            <p><strong>Instructions:</strong> Click on the canvas to add data points. Watch as the linear regression line adjusts to best fit your data.</p>\n        </div>\n        \n        <div class=\"dot-count\">Data Points: <span id=\"pointCount\">0</span></div>\n        \n        <div class=\"canvas-container\">\n            <canvas id=\"regressionCanvas\" width=\"800\" height=\"400\"></canvas>\n        </div>\n        \n        <div class=\"equation\">\n            <strong>Regression Line Equation: </strong>\n            <span id=\"equationText\">y = 0x + 0</span>\n        </div>\n        \n        <div class=\"controls\">\n            <button id=\"addRandom\">Add Random Points</button>\n            <button id=\"clearPoints\" class=\"clear\">Clear All Points</button>\n            <button id=\"showHelp\">Show Explanation</button>\n        </div>\n        \n        <div id=\"explanation\" style=\"display: none;\">\n            <h3>How Linear Regression Works</h3>\n            <p>Linear regression finds the line that minimizes the sum of squared differences between the actual data points and the predicted values on the line.</p>\n            <p><strong>Formula for slope (m):</strong> m = Σ((x - x̄)(y - ȳ)) / Σ((x - x̄)²)</p>\n            <p><strong>Formula for y-intercept (b):</strong> b = ȳ - m * x̄</p>\n            <p>Where x̄ and ȳ are the mean values of x and y respectively.</p>\n        </div>\n    </div>\n\n    <script>\n        // Canvas and context\n        const canvas = document.getElementById('regressionCanvas');\n        const ctx = canvas.getContext('2d');\n        \n        // Data points\n        let points = [];\n        \n        // Canvas dimensions\n        const canvasWidth = canvas.width;\n        const canvasHeight = canvas.height;\n        \n        // Draw coordinate system\n        function drawCoordinateSystem() {\n            ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n            \n            // Draw grid\n            ctx.strokeStyle = '#e0e0e0';\n            ctx.lineWidth = 0.5;\n            \n            // Vertical grid lines\n            for (let x = 0; x <= canvasWidth; x += 50) {\n                ctx.beginPath();\n                ctx.moveTo(x, 0);\n                ctx.lineTo(x, canvasHeight);\n                ctx.stroke();\n            }\n            \n            // Horizontal grid lines\n            for (let y = 0; y <= canvasHeight; y += 50) {\n                ctx.beginPath();\n                ctx.moveTo(0, y);\n                ctx.lineTo(canvasWidth, y);\n                ctx.stroke();\n            }\n            \n            // Draw axes\n            ctx.strokeStyle = '#000';\n            ctx.lineWidth = 2;\n            \n            // X-axis\n            ctx.beginPath();\n            ctx.moveTo(0, canvasHeight / 2);\n            ctx.lineTo(canvasWidth, canvasHeight / 2);\n            ctx.stroke();\n            \n            // Y-axis\n            ctx.beginPath();\n            ctx.moveTo(canvasWidth / 2, 0);\n            ctx.lineTo(canvasWidth / 2, canvasHeight);\n            ctx.stroke();\n            \n            // Draw axis labels\n            ctx.fillStyle = '#000';\n            ctx.font = '14px Arial';\n            ctx.fillText('x', canvasWidth - 10, canvasHeight / 2 - 10);\n            ctx.fillText('y', canvasWidth / 2 + 10, 10);\n        }\n        \n        // Convert canvas coordinates to mathematical coordinates\n        function toMathCoords(canvasX, canvasY) {\n            const mathX = (canvasX - canvasWidth / 2) / 50;\n            const mathY = (canvasHeight / 2 - canvasY) / 50;\n            return { x: mathX, y: mathY };\n        }\n        \n        // Convert mathematical coordinates to canvas coordinates\n        function toCanvasCoords(mathX, mathY) {\n            const canvasX = mathX * 50 + canvasWidth / 2;\n            const canvasY = canvasHeight / 2 - mathY * 50;\n            return { x: canvasX, y: canvasY };\n        }\n        \n        // Draw data points\n        function drawPoints() {\n            points.forEach(point => {\n                const canvasCoords = toCanvasCoords(point.x, point.y);\n                \n                ctx.fillStyle = '#e74c3c';\n                ctx.beginPath();\n                ctx.arc(canvasCoords.x, canvasCoords.y, 5, 0, 2 * Math.PI);\n                ctx.fill();\n            });\n        }\n        \n        // Calculate linear regression\n        function calculateRegression() {\n            if (points.length < 2) return { m: 0, b: 0 };\n            \n            // Calculate mean of x and y\n            const meanX = points.reduce((sum, point) => sum + point.x, 0) / points.length;\n            const meanY = points.reduce((sum, point) => sum + point.y, 0) / points.length;\n            \n            // Calculate slope (m) and y-intercept (b)\n            let numerator = 0;\n            let denominator = 0;\n            \n            points.forEach(point => {\n                numerator += (point.x - meanX) * (point.y - meanY);\n                denominator += (point.x - meanX) * (point.x - meanX);\n            });\n            \n            const m = denominator !== 0 ? numerator / denominator : 0;\n            const b = meanY - m * meanX;\n            \n            return { m, b };\n        }\n        \n        // Draw regression line\n        function drawRegressionLine() {\n            const { m, b } = calculateRegression();\n            \n            // Calculate endpoints of the line for the visible canvas\n            const leftX = -canvasWidth / (2 * 50);  // Left edge in math coordinates\n            const rightX = canvasWidth / (2 * 50);   // Right edge in math coordinates\n            \n            const leftY = m * leftX + b;\n            const rightY = m * rightX + b;\n            \n            const leftCanvas = toCanvasCoords(leftX, leftY);\n            const rightCanvas = toCanvasCoords(rightX, rightY);\n            \n            // Draw the line\n            ctx.strokeStyle = '#3498db';\n            ctx.lineWidth = 2;\n            ctx.beginPath();\n            ctx.moveTo(leftCanvas.x, leftCanvas.y);\n            ctx.lineTo(rightCanvas.x, rightCanvas.y);\n            ctx.stroke();\n            \n            // Update equation text\n            document.getElementById('equationText').textContent = \n                `y = ${m.toFixed(2)}x + ${b.toFixed(2)}`;\n        }\n        \n        // Add a point at clicked location\n        function addPoint(event) {\n            const rect = canvas.getBoundingClientRect();\n            const x = event.clientX - rect.left;\n            const y = event.clientY - rect.top;\n            \n            const mathCoords = toMathCoords(x, y);\n            points.push({ x: mathCoords.x, y: mathCoords.y });\n            \n            updateDisplay();\n        }\n        \n        // Add random points\n        function addRandomPoints() {\n            for (let i = 0; i < 10; i++) {\n                const x = (Math.random() - 0.5) * 10; // -5 to 5\n                const y = (Math.random() - 0.5) * 10; // -5 to 5\n                points.push({ x, y });\n            }\n            updateDisplay();\n        }\n        \n        // Clear all points\n        function clearPoints() {\n            points = [];\n            updateDisplay();\n        }\n        \n        // Update the display\n        function updateDisplay() {\n            drawCoordinateSystem();\n            drawPoints();\n            \n            if (points.length >= 2) {\n                drawRegressionLine();\n            }\n            \n            document.getElementById('pointCount').textContent = points.length;\n        }\n        \n        // Toggle help explanation\n        function toggleExplanation() {\n            const explanation = document.getElementById('explanation');\n            explanation.style.display = explanation.style.display === 'none' ? 'block' : 'none';\n        }\n        \n        // Initialize\n        drawCoordinateSystem();\n        \n        // Event listeners\n        canvas.addEventListener('click', addPoint);\n        document.getElementById('addRandom').addEventListener('click', addRandomPoints);\n        document.getElementById('clearPoints').addEventListener('click', clearPoints);\n        document.getElementById('showHelp').addEventListener('click', toggleExplanation);\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Linear Regression"
    }
  ],
  "topic": "Linear Regression",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}