{
  "id": "6b016d40-d5c3-11f0-b41f-b131cbd11f51",
  "timestamp": "2025-12-10T12:30:34.712Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Knapsack Problem",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Knapsack Problem Visualizer</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 900px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n            color: #333;\n        }\n        \n        h1 {\n            color: #2c3e50;\n            text-align: center;\n            border-bottom: 2px solid #3498db;\n            padding-bottom: 10px;\n        }\n        \n        .container {\n            background: white;\n            border-radius: 8px;\n            padding: 20px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            margin-bottom: 20px;\n        }\n        \n        .input-section {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 20px;\n            margin-bottom: 20px;\n        }\n        \n        @media (max-width: 600px) {\n            .input-section {\n                grid-template-columns: 1fr;\n            }\n        }\n        \n        .input-group {\n            margin-bottom: 15px;\n        }\n        \n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-weight: bold;\n        }\n        \n        input {\n            width: 100%;\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            box-sizing: border-box;\n        }\n        \n        button {\n            background-color: #3498db;\n            color: white;\n            border: none;\n            padding: 10px 15px;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            margin-right: 10px;\n        }\n        \n        button:hover {\n            background-color: #2980b9;\n        }\n        \n        button:disabled {\n            background-color: #95a5a6;\n            cursor: not-allowed;\n        }\n        \n        .items-list {\n            margin-top: 20px;\n        }\n        \n        .item {\n            background-color: #ecf0f1;\n            padding: 10px;\n            margin-bottom: 10px;\n            border-radius: 4px;\n        }\n        \n        .item-header {\n            display: flex;\n            justify-content: space-between;\n            font-weight: bold;\n            margin-bottom: 5px;\n        }\n        \n        .results {\n            margin-top: 30px;\n        }\n        \n        .knapsack-visualization {\n            margin-top: 20px;\n            border: 2px solid #3498db;\n            border-radius: 8px;\n            padding: 15px;\n            min-height: 150px;\n        }\n        \n        .selected-item {\n            display: inline-block;\n            background-color: #2ecc71;\n            color: white;\n            padding: 8px 12px;\n            margin: 5px;\n            border-radius: 4px;\n            font-weight: bold;\n        }\n        \n        .table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        \n        .table th, .table td {\n            border: 1px solid #ddd;\n            padding: 8px;\n            text-align: center;\n        }\n        \n        .table th {\n            background-color: #3498db;\n            color: white;\n        }\n        \n        .table tr:nth-child(even) {\n            background-color: #f2f2f2;\n        }\n        \n        .method-selector {\n            display: flex;\n            gap: 10px;\n            margin-bottom: 15px;\n        }\n        \n        .method-btn {\n            flex: 1;\n        }\n        \n        .active {\n            background-color: #2ecc71;\n        }\n        \n        .complexity {\n            margin-top: 10px;\n            font-style: italic;\n            color: #7f8c8d;\n        }\n    </style>\n</head>\n<body>\n    <h1>Knapsack Problem Visualizer</h1>\n    \n    <div class=\"container\">\n        <h2>Problem Setup</h2>\n        <div class=\"input-section\">\n            <div>\n                <div class=\"input-group\">\n                    <label for=\"capacity\">Knapsack Capacity:</label>\n                    <input type=\"number\" id=\"capacity\" min=\"1\" value=\"15\">\n                </div>\n                \n                <div class=\"input-group\">\n                    <label for=\"item-count\">Number of Items:</label>\n                    <input type=\"number\" id=\"item-count\" min=\"1\" max=\"10\" value=\"5\">\n                </div>\n                \n                <button id=\"generate-items\">Generate Random Items</button>\n            </div>\n            \n            <div>\n                <h3>Add Custom Item</h3>\n                <div class=\"input-group\">\n                    <label for=\"item-name\">Item Name:</label>\n                    <input type=\"text\" id=\"item-name\" placeholder=\"e.g., Laptop\">\n                </div>\n                \n                <div class=\"input-group\">\n                    <label for=\"item-weight\">Weight:</label>\n                    <input type=\"number\" id=\"item-weight\" min=\"1\" placeholder=\"e.g., 3\">\n                </div>\n                \n                <div class=\"input-group\">\n                    <label for=\"item-value\">Value:</label>\n                    <input type=\"number\" id=\"item-value\" min=\"1\" placeholder=\"e.g., 200\">\n                </div>\n                \n                <button id=\"add-item\">Add Item</button>\n            </div>\n        </div>\n        \n        <div class=\"items-list\">\n            <h3>Items</h3>\n            <div id=\"items-container\">\n                <!-- Items will be generated here -->\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"container\">\n        <h2>Solution</h2>\n        <div class=\"method-selector\">\n            <button class=\"method-btn\" id=\"solve-dp\">Solve with Dynamic Programming</button>\n            <button class=\"method-btn\" id=\"solve-greedy\">Solve with Greedy Approach</button>\n        </div>\n        \n        <div class=\"complexity\" id=\"complexity-info\">\n            <!-- Complexity information will be displayed here -->\n        </div>\n        \n        <div class=\"results\">\n            <h3>Optimal Solution</h3>\n            <div id=\"solution-info\">\n                <!-- Solution details will be displayed here -->\n            </div>\n            \n            <div class=\"knapsack-visualization\" id=\"knapsack-visual\">\n                <!-- Knapsack visualization will be displayed here -->\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // Item class to represent each item\n        class Item {\n            constructor(name, weight, value) {\n                this.name = name;\n                this.weight = weight;\n                this.value = value;\n            }\n        }\n        \n        // Knapsack solver class\n        class KnapsackSolver {\n            constructor(capacity, items) {\n                this.capacity = capacity;\n                this.items = items;\n            }\n            \n            // Dynamic Programming solution (0/1 Knapsack)\n            solveWithDP() {\n                const n = this.items.length;\n                const dp = Array(n + 1).fill().map(() => Array(this.capacity + 1).fill(0));\n                \n                // Build DP table\n                for (let i = 1; i <= n; i++) {\n                    for (let w = 1; w <= this.capacity; w++) {\n                        if (this.items[i-1].weight <= w) {\n                            dp[i][w] = Math.max(\n                                dp[i-1][w],\n                                dp[i-1][w - this.items[i-1].weight] + this.items[i-1].value\n                            );\n                        } else {\n                            dp[i][w] = dp[i-1][w];\n                        }\n                    }\n                }\n                \n                // Find selected items by backtracking\n                let selected = [];\n                let w = this.capacity;\n                \n                for (let i = n; i > 0 && w > 0; i--) {\n                    if (dp[i][w] !== dp[i-1][w]) {\n                        selected.push(this.items[i-1]);\n                        w -= this.items[i-1].weight;\n                    }\n                }\n                \n                return {\n                    maxValue: dp[n][this.capacity],\n                    selectedItems: selected,\n                    dpTable: dp\n                };\n            }\n            \n            // Greedy solution (not optimal for 0/1 knapsack but included for comparison)\n            solveWithGreedy() {\n                // Sort items by value-to-weight ratio in descending order\n                const sortedItems = [...this.items].sort((a, b) => \n                    (b.value / b.weight) - (a.value / a.weight));\n                \n                let currentWeight = 0;\n                let totalValue = 0;\n                const selected = [];\n                \n                for (const item of sortedItems) {\n                    if (currentWeight + item.weight <= this.capacity) {\n                        selected.push(item);\n                        currentWeight += item.weight;\n                        totalValue += item.value;\n                    }\n                }\n                \n                return {\n                    maxValue: totalValue,\n                    selectedItems: selected\n                };\n            }\n        }\n        \n        // DOM elements\n        const capacityInput = document.getElementById('capacity');\n        const itemCountInput = document.getElementById('item-count');\n        const generateItemsBtn = document.getElementById('generate-items');\n        const itemNameInput = document.getElementById('item-name');\n        const itemWeightInput = document.getElementById('item-weight');\n        const itemValueInput = document.getElementById('item-value');\n        const addItemBtn = document.getElementById('add-item');\n        const itemsContainer = document.getElementById('items-container');\n        const solveDPBtn = document.getElementById('solve-dp');\n        const solveGreedyBtn = document.getElementById('solve-greedy');\n        const complexityInfo = document.getElementById('complexity-info');\n        const solutionInfo = document.getElementById('solution-info');\n        const knapsackVisual = document.getElementById('knapsack-visual');\n        \n        // Store items\n        let items = [];\n        \n        // Initialize with sample items\n        function initSampleItems() {\n            items = [\n                new Item('Laptop', 3, 200),\n                new Item('Camera', 1, 100),\n                new Item('Book', 1, 20),\n                new Item('Ring', 1, 150),\n                new Item('Headphones', 2, 50)\n            ];\n            renderItems();\n        }\n        \n        // Render items to the UI\n        function renderItems() {\n            itemsContainer.innerHTML = '';\n            \n            if (items.length === 0) {\n                itemsContainer.innerHTML = '<p>No items added yet. Add items or generate random ones.</p>';\n                return;\n            }\n            \n            items.forEach((item, index) => {\n                const itemDiv = document.createElement('div');\n                itemDiv.className = 'item';\n                itemDiv.innerHTML = `\n                    <div class=\"item-header\">\n                        <span>${item.name}</span>\n                        <span>Ratio: ${(item.value / item.weight).toFixed(2)}</span>\n                    </div>\n                    <div>Weight: ${item.weight}, Value: ${item.value}</div>\n                    <button onclick=\"removeItem(${index})\" style=\"margin-top:5px; background-color:#e74c3c;\">Remove</button>\n                `;\n                itemsContainer.appendChild(itemDiv);\n            });\n        }\n        \n        // Generate random items\n        function generateRandomItems() {\n            const count = parseInt(itemCountInput.value);\n            items = [];\n            \n            const itemNames = ['Laptop', 'Camera', 'Book', 'Ring', 'Headphones', 'Phone', \n                              'Tablet', 'Watch', 'Speaker', 'Game Console'];\n            \n            for (let i = 0; i < count; i++) {\n                const name = itemNames[Math.floor(Math.random() * itemNames.length)];\n                const weight = Math.floor(Math.random() * 10) + 1;\n                const value = Math.floor(Math.random() * 200) + 10;\n                items.push(new Item(`${name} ${i+1}`, weight, value));\n            }\n            \n            renderItems();\n        }\n        \n        // Add custom item\n        function addCustomItem() {\n            const name = itemNameInput.value.trim();\n            const weight = parseInt(itemWeightInput.value);\n            const value = parseInt(itemValueInput.value);\n            \n            if (!name || isNaN(weight) || isNaN(value) || weight <= 0 || value <= 0) {\n                alert('Please enter valid item details');\n                return;\n            }\n            \n            items.push(new Item(name, weight, value));\n            renderItems();\n            \n            // Clear inputs\n            itemNameInput.value = '';\n            itemWeightInput.value = '';\n            itemValueInput.value = '';\n        }\n        \n        // Remove item\n        function removeItem(index) {\n            items.splice(index, 1);\n            renderItems();\n        }\n        \n        // Solve with Dynamic Programming\n        function solveWithDP() {\n            if (items.length === 0) {\n                alert('Please add items first');\n                return;\n            }\n            \n            const capacity = parseInt(capacityInput.value);\n            const solver = new KnapsackSolver(capacity, items);\n            const result = solver.solveWithDP();\n            \n            displaySolution(result, 'Dynamic Programming');\n            complexityInfo.innerHTML = `\n                <p><strong>Time Complexity:</strong> O(n×W) where n is number of items and W is capacity</p>\n                <p><strong>Space Complexity:</strong> O(n×W)</p>\n                <p>This approach guarantees the optimal solution for the 0/1 Knapsack problem.</p>\n            `;\n        }\n        \n        // Solve with Greedy approach\n        function solveWithGreedy() {\n            if (items.length === 0) {\n                alert('Please add items first');\n                return;\n            }\n            \n            const capacity = parseInt(capacityInput.value);\n            const solver = new KnapsackSolver(capacity, items);\n            const result = solver.solveWithGreedy();\n            \n            displaySolution(result, 'Greedy Approach');\n            complexityInfo.innerHTML = `\n                <p><strong>Time Complexity:</strong> O(n log n) mainly due to sorting</p>\n                <p><strong>Space Complexity:</strong> O(n)</p>\n                <p>This approach does not guarantee the optimal solution for the 0/1 Knapsack problem but works for the fractional version.</p>\n            `;\n        }\n        \n        // Display solution\n        function displaySolution(result, method) {\n            solutionInfo.innerHTML = `\n                <p><strong>Method:</strong> ${method}</p>\n                <p><strong>Maximum Value:</strong> ${result.maxValue}</p>\n                <p><strong>Total Weight:</strong> ${result.selectedItems.reduce((sum, item) => sum + item.weight, 0)} / ${capacityInput.value}</p>\n                <p><strong>Selected Items (${result.selectedItems.length}):</strong></p>\n            `;\n            \n            knapsackVisual.innerHTML = '';\n            \n            if (result.selectedItems.length === 0) {\n                knapsackVisual.innerHTML = '<p>No items selected. The knapsack is empty.</p>';\n            } else {\n                result.selectedItems.forEach(item => {\n                    const itemDiv = document.createElement('div');\n                    itemDiv.className = 'selected-item';\n                    itemDiv.textContent = `${item.name} (W:${item.weight}, V:${item.value})`;\n                    knapsackVisual.appendChild(itemDiv);\n                });\n            }\n            \n            // Highlight active method button\n            document.querySelectorAll('.method-btn').forEach(btn => btn.classList.remove('active'));\n            if (method === 'Dynamic Programming') {\n                solveDPBtn.classList.add('active');\n            } else {\n                solveGreedyBtn.classList.add('active');\n            }\n        }\n        \n        // Event listeners\n        generateItemsBtn.addEventListener('click', generateRandomItems);\n        addItemBtn.addEventListener('click', addCustomItem);\n        solveDPBtn.addEventListener('click', solveWithDP);\n        solveGreedyBtn.addEventListener('click', solveWithGreedy);\n        \n        // Initialize\n        initSampleItems();\n        \n        // Make removeItem function global\n        window.removeItem = removeItem;\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Knapsack Problem"
    }
  ],
  "topic": "Knapsack Problem",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}