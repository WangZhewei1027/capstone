{
  "id": "d79c2b70-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:44:08.666Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Heap (Min/Max)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Min and Max Heap Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2em;\n    max-width: 800px;\n  }\n  h1 {\n    text-align: center;\n  }\n  section {\n    margin-bottom: 2em;\n    border: 1px solid #ccc;\n    padding: 1em;\n    border-radius: 6px;\n    background: #fafafa;\n  }\n  input[type=\"number\"] {\n    width: 90px;\n    padding: 0.3em;\n    margin-right: 0.5em;\n  }\n  button {\n    padding: 0.4em 1em;\n    margin-right: 0.5em;\n    cursor: pointer;\n  }\n  .heap-array {\n    font-family: monospace;\n    background: #eee;\n    padding: 0.5em;\n    border-radius: 4px;\n    white-space: pre-wrap;\n    margin-top: 0.5em;\n    min-height: 1.4em;\n  }\n  .desc {\n    font-size: 0.9em;\n    color: #555;\n    margin-top: 0.3em;\n  }\n</style>\n</head>\n<body>\n<h1>Heap (Min & Max) Demonstration</h1>\n\n<section id=\"minHeapSection\">\n  <h2>Min Heap</h2>\n  <div>\n    <input id=\"minHeapInput\" type=\"number\" placeholder=\"Enter value\" />\n    <button onclick=\"minHeapInsert()\">Insert</button>\n    <button onclick=\"minHeapExtract()\">Extract Min</button>\n    <button onclick=\"minHeapClear()\">Clear</button>\n  </div>\n  <div class=\"desc\">The heap array stores elements as a binary heap: parent ≤ children.</div>\n  <div><strong>Heap Array:</strong></div>\n  <div id=\"minHeapArray\" class=\"heap-array\"></div>\n  <div id=\"minHeapExtracted\" class=\"desc\"></div>\n</section>\n\n<section id=\"maxHeapSection\">\n  <h2>Max Heap</h2>\n  <div>\n    <input id=\"maxHeapInput\" type=\"number\" placeholder=\"Enter value\" />\n    <button onclick=\"maxHeapInsert()\">Insert</button>\n    <button onclick=\"maxHeapExtract()\">Extract Max</button>\n    <button onclick=\"maxHeapClear()\">Clear</button>\n  </div>\n  <div class=\"desc\">The heap array stores elements as a binary heap: parent ≥ children.</div>\n  <div><strong>Heap Array:</strong></div>\n  <div id=\"maxHeapArray\" class=\"heap-array\"></div>\n  <div id=\"maxHeapExtracted\" class=\"desc\"></div>\n</section>\n\n<script>\n  // Min Heap implementation\n  class MinHeap {\n    constructor() {\n      this.heap = [];\n    }\n\n    getParentIndex(i) {\n      return Math.floor((i - 1) / 2);\n    }\n    getLeftChildIndex(i) {\n      return 2 * i + 1;\n    }\n    getRightChildIndex(i) {\n      return 2 * i + 2;\n    }\n\n    swap(i1, i2) {\n      [this.heap[i1], this.heap[i2]] = [this.heap[i2], this.heap[i1]];\n    }\n\n    insert(value) {\n      this.heap.push(value);\n      this.heapifyUp();\n    }\n\n    heapifyUp() {\n      let index = this.heap.length - 1;\n      while (\n        index > 0 &&\n        this.heap[this.getParentIndex(index)] > this.heap[index]\n      ) {\n        this.swap(index, this.getParentIndex(index));\n        index = this.getParentIndex(index);\n      }\n    }\n\n    extractMin() {\n      if (this.heap.length === 0) return null;\n      if (this.heap.length === 1) return this.heap.pop();\n\n      const min = this.heap[0];\n      this.heap[0] = this.heap.pop();\n      this.heapifyDown();\n      return min;\n    }\n\n    heapifyDown() {\n      let index = 0;\n      const length = this.heap.length;\n\n      while (true) {\n        let left = this.getLeftChildIndex(index);\n        let right = this.getRightChildIndex(index);\n        let smallest = index;\n\n        if (left < length && this.heap[left] < this.heap[smallest]) {\n          smallest = left;\n        }\n        if (right < length && this.heap[right] < this.heap[smallest]) {\n          smallest = right;\n        }\n        if (smallest !== index) {\n          this.swap(smallest, index);\n          index = smallest;\n        } else {\n          break;\n        }\n      }\n    }\n\n    clear() {\n      this.heap = [];\n    }\n\n    getHeap() {\n      return this.heap.slice();\n    }\n  }\n\n  // Max Heap implementation\n  class MaxHeap {\n    constructor() {\n      this.heap = [];\n    }\n\n    getParentIndex(i) {\n      return Math.floor((i - 1) / 2);\n    }\n    getLeftChildIndex(i) {\n      return 2 * i + 1;\n    }\n    getRightChildIndex(i) {\n      return 2 * i + 2;\n    }\n\n    swap(i1, i2) {\n      [this.heap[i1], this.heap[i2]] = [this.heap[i2], this.heap[i1]];\n    }\n\n    insert(value) {\n      this.heap.push(value);\n      this.heapifyUp();\n    }\n\n    heapifyUp() {\n      let index = this.heap.length - 1;\n      while (\n        index > 0 &&\n        this.heap[this.getParentIndex(index)] < this.heap[index]\n      ) {\n        this.swap(index, this.getParentIndex(index));\n        index = this.getParentIndex(index);\n      }\n    }\n\n    extractMax() {\n      if (this.heap.length === 0) return null;\n      if (this.heap.length === 1) return this.heap.pop();\n\n      const max = this.heap[0];\n      this.heap[0] = this.heap.pop();\n      this.heapifyDown();\n      return max;\n    }\n\n    heapifyDown() {\n      let index = 0;\n      const length = this.heap.length;\n\n      while (true) {\n        let left = this.getLeftChildIndex(index);\n        let right = this.getRightChildIndex(index);\n        let largest = index;\n\n        if (left < length && this.heap[left] > this.heap[largest]) {\n          largest = left;\n        }\n        if (right < length && this.heap[right] > this.heap[largest]) {\n          largest = right;\n        }\n        if (largest !== index) {\n          this.swap(largest, index);\n          index = largest;\n        } else {\n          break;\n        }\n      }\n    }\n\n    clear() {\n      this.heap = [];\n    }\n\n    getHeap() {\n      return this.heap.slice();\n    }\n  }\n\n  // Instances\n  const minHeap = new MinHeap();\n  const maxHeap = new MaxHeap();\n\n  // DOM elements\n  const minHeapInput = document.getElementById(\"minHeapInput\");\n  const minHeapArray = document.getElementById(\"minHeapArray\");\n  const minHeapExtracted = document.getElementById(\"minHeapExtracted\");\n\n  const maxHeapInput = document.getElementById(\"maxHeapInput\");\n  const maxHeapArray = document.getElementById(\"maxHeapArray\");\n  const maxHeapExtracted = document.getElementById(\"maxHeapExtracted\");\n\n  // Update displays\n  function updateMinHeapDisplay() {\n    minHeapArray.textContent = JSON.stringify(minHeap.getHeap(), null, 2);\n  }\n\n  function updateMaxHeapDisplay() {\n    maxHeapArray.textContent = JSON.stringify(maxHeap.getHeap(), null, 2);\n  }\n\n  // Min Heap Controls\n  function minHeapInsert() {\n    const val = Number(minHeapInput.value);\n    if (isNaN(val)) {\n      alert(\"Please enter a valid number.\");\n      return;\n    }\n    minHeap.insert(val);\n    minHeapInput.value = \"\";\n    minHeapExtracted.textContent = \"\";\n    updateMinHeapDisplay();\n  }\n\n  function minHeapExtract() {\n    const min = minHeap.extractMin();\n    if (min === null) {\n      minHeapExtracted.textContent = \"Heap is empty.\";\n    } else {\n      minHeapExtracted.textContent = \"Extracted Min: \" + min;\n    }\n    updateMinHeapDisplay();\n  }\n\n  function minHeapClear() {\n    minHeap.clear();\n    minHeapExtracted.textContent = \"\";\n    updateMinHeapDisplay();\n  }\n\n  // Max Heap Controls\n  function maxHeapInsert() {\n    const val = Number(maxHeapInput.value);\n    if (isNaN(val)) {\n      alert(\"Please enter a valid number.\");\n      return;\n    }\n    maxHeap.insert(val);\n    maxHeapInput.value = \"\";\n    maxHeapExtracted.textContent = \"\";\n    updateMaxHeapDisplay();\n  }\n\n  function maxHeapExtract() {\n    const max = maxHeap.extractMax();\n    if (max === null) {\n      maxHeapExtracted.textContent = \"Heap is empty.\";\n    } else {\n      maxHeapExtracted.textContent = \"Extracted Max: \" + max;\n    }\n    updateMaxHeapDisplay();\n  }\n\n  function maxHeapClear() {\n    maxHeap.clear();\n    maxHeapExtracted.textContent = \"\";\n    updateMaxHeapDisplay();\n  }\n\n  // Initialize display\n  updateMinHeapDisplay();\n  updateMaxHeapDisplay();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Heap (Min/Max)"
    }
  ],
  "topic": "Heap (Min/Max)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}