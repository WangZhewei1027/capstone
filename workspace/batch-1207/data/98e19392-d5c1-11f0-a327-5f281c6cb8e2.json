{
  "id": "98e19392-d5c1-11f0-a327-5f281c6cb8e2",
  "timestamp": "2025-12-10T12:17:10.646Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Union-Find (Disjoint Set)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Union-Find (Disjoint Set) Visualizer</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root {\n      --bg: #0f1724;\n      --panel: #0b1220;\n      --accent: #38bdf8;\n      --muted: #94a3b8;\n      --success: #34d399;\n      --danger: #fb7185;\n      --glass: rgba(255,255,255,0.03);\n    }\n    html,body { height:100%; margin:0; font-family:Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial; background: linear-gradient(180deg,var(--bg), #071026); color: #e6eef8; }\n    .app {\n      display:flex;\n      gap:18px;\n      padding:18px;\n      box-sizing:border-box;\n      height:100vh;\n    }\n    .left {\n      width:720px;\n      background:linear-gradient(180deg,var(--panel), rgba(255,255,255,0.02));\n      border-radius:12px;\n      padding:14px;\n      box-sizing:border-box;\n      display:flex;\n      flex-direction:column;\n      gap:12px;\n      box-shadow: 0 6px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);\n    }\n    .controls {\n      display:flex; flex-wrap:wrap; gap:10px; align-items:center;\n    }\n    .controls button, .controls input[type=\"number\"], .controls label {\n      background:transparent; color:var(--accent); border:1px solid rgba(255,255,255,0.06);\n      padding:8px 10px; border-radius:8px; cursor:pointer; font-size:13px;\n    }\n    .controls button:hover { background: rgba(255,255,255,0.02); }\n    .controls input[type=\"number\"] { width:80px; color:#dff6ff; }\n    .canvas-wrap {\n      flex:1;\n      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));\n      border-radius:10px;\n      padding:8px;\n      display:flex; align-items:center; justify-content:center; position:relative;\n    }\n    svg { width:100%; height:100%; border-radius:6px; overflow:visible; }\n    .right {\n      width:360px;\n      display:flex; flex-direction:column; gap:12px;\n    }\n    .panel {\n      background:var(--panel); border-radius:12px; padding:12px; box-sizing:border-box;\n    }\n    .small {\n      font-size:13px; color:var(--muted);\n    }\n    .arrays { display:flex; gap:10px; flex-direction:column; }\n    .array-row { display:flex; gap:6px; align-items:center; flex-wrap:wrap; }\n    .cell {\n      background:var(--glass); padding:6px 8px; border-radius:8px; font-family:monospace; font-size:13px; color:#dff6ff;\n    }\n    .node {\n      pointer-events:all;\n    }\n    .legend { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }\n    .legend .item { display:flex; gap:6px; align-items:center; font-size:13px; color:var(--muted); }\n    .dot { width:12px; height:12px; border-radius:50%; }\n    .footer { font-size:13px; color:var(--muted); }\n    .selected { outline:2px solid rgba(255,255,255,0.12); box-shadow:0 4px 14px rgba(0,0,0,0.6); }\n    .kbd { font-family:monospace; background:rgba(255,255,255,0.02); padding:2px 6px; border-radius:6px; font-size:12px; color:var(--muted); }\n    .big {\n      font-size:13px;\n      color:#dff6ff;\n    }\n    .status { font-size:13px; color:var(--muted); }\n    .btn-danger { border-color:rgba(255,120,120,0.18); color:var(--danger); }\n    .btn-success { border-color:rgba(120,255,180,0.08); color:var(--success); }\n    .toggle { display:inline-flex; gap:8px; align-items:center; }\n    .notice { font-size:12px; color:var(--muted); margin-top:6px; }\n    a { color:var(--accent); text-decoration:none; }\n    /* arrow marker */\n    marker {\n      overflow:visible;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"app\">\n    <div class=\"left\">\n      <div style=\"display:flex; justify-content:space-between; align-items:center;\">\n        <div>\n          <div style=\"font-weight:700; font-size:18px;\">Union-Find (Disjoint Set) Visualizer</div>\n          <div class=\"small\">Interactive demonstration of union by rank + path compression</div>\n        </div>\n        <div class=\"small\">Nodes: <span id=\"nodeCount\">0</span></div>\n      </div>\n\n      <div class=\"controls\">\n        <label title=\"Number of nodes to initialize\">Initial nodes:\n          <input id=\"initNum\" type=\"number\" min=\"1\" max=\"40\" value=\"8\" />\n        </label>\n        <button id=\"initBtn\" title=\"Create that many nodes (resets)\">Initialize</button>\n        <button id=\"addBtn\" title=\"Add one node\">Add Node</button>\n        <button id=\"resetBtn\" class=\"btn-danger\" title=\"Reset everything\">Reset</button>\n\n        <div style=\"width:12px;\"></div>\n\n        <button id=\"autoBtn\" title=\"Perform random unions continuously\">Auto Random Unions</button>\n        <button id=\"stepBtn\" title=\"Perform one random union\">One Random Union</button>\n\n        <div style=\"flex:1\"></div>\n\n        <div class=\"toggle\">\n          <label class=\"small\">Animate:</label>\n          <input id=\"animateToggle\" type=\"checkbox\" checked />\n        </div>\n      </div>\n\n      <div class=\"canvas-wrap panel\">\n        <svg id=\"svg\" viewBox=\"0 0 800 520\" preserveAspectRatio=\"xMidYMid meet\">\n          <defs>\n            <marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"8\" refY=\"5\" orient=\"auto\" markerUnits=\"strokeWidth\">\n              <path d=\"M0,0 L10,5 L0,10 z\" fill=\"#cfeffd\" opacity=\"0.9\"></path>\n            </marker>\n          </defs>\n          <!-- edges and nodes added by JS -->\n        </svg>\n        <div style=\"position:absolute; bottom:12px; left:12px; color:var(--muted); font-size:13px;\">\n          Click nodes to select: first selects A (blue), second selects B (orange). Use \"Union Selected\" or \"Find Selected\".\n        </div>\n      </div>\n\n      <div style=\"display:flex; gap:10px;\">\n        <button id=\"unionBtn\" class=\"btn-success\">Union Selected</button>\n        <button id=\"findBtn\">Find Selected (show path)</button>\n        <button id=\"compressBtn\">Path Compress Selected</button>\n        <button id=\"clearSelBtn\">Clear Selection</button>\n\n        <div style=\"flex:1\"></div>\n\n        <div class=\"status\">\n          Sets: <span id=\"setsCount\">0</span>\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"right\">\n      <div class=\"panel\">\n        <div style=\"display:flex; justify-content:space-between; align-items:center;\">\n          <div style=\"font-weight:700;\">Arrays</div>\n          <div class=\"small\">Representation: parent[i] and rank[i]</div>\n        </div>\n\n        <div style=\"margin-top:8px;\" class=\"arrays\">\n          <div><div class=\"small\">parent</div>\n            <div id=\"parentRow\" class=\"array-row\"></div>\n          </div>\n          <div><div class=\"small\">rank</div>\n            <div id=\"rankRow\" class=\"array-row\"></div>\n          </div>\n        </div>\n\n        <div style=\"margin-top:10px;\">\n          <div class=\"small\">Click a node to inspect details:</div>\n          <div class=\"big\" id=\"info\">No node selected</div>\n        </div>\n      </div>\n\n      <div class=\"panel\">\n        <div style=\"font-weight:700;\">Legend & Tips</div>\n        <div class=\"notice\">\n          - Uses union by rank: attach lower-rank root under higher-rank root.<br/>\n          - Path compression flattens trees during find: intermediate nodes are attached directly to root.<br/>\n          - Try selecting nodes and using Find + Path Compress to see parent changes.\n        </div>\n        <div style=\"margin-top:10px;\" class=\"legend\">\n          <div class=\"item\"><div class=\"dot\" id=\"exampleRoot\" style=\"background:#9be7ff;\"></div> set color = root</div>\n          <div class=\"item\"><svg width=\"36\" height=\"16\"><line x1=\"2\" y1=\"8\" x2=\"32\" y2=\"8\" stroke=\"#cfeffd\" stroke-width=\"2\" marker-end=\"url(#arrow)\"></line></svg> parent pointer</div>\n        </div>\n      </div>\n\n      <div class=\"panel\" style=\"display:flex; flex-direction:column; gap:8px;\">\n        <div style=\"font-weight:700;\">Code (core methods)</div>\n        <pre style=\"margin:0; background:rgba(255,255,255,0.02); padding:8px; border-radius:8px; font-size:12px; color:#cfeffd;\">\n// Path compression\nfunction find(x) {\n  if (parent[x] === x) return x;\n  return parent[x] = find(parent[x]);\n}\n\n// Union by rank\nfunction union(a,b) {\n  ra = find(a); rb = find(b);\n  if (ra === rb) return;\n  if (rank[ra] < rank[rb]) parent[ra] = rb;\n  else if (rank[rb] < rank[ra]) parent[rb] = ra;\n  else { parent[rb] = ra; rank[ra]++; }\n}\n        </pre>\n      </div>\n\n    </div>\n  </div>\n\n  <script>\n    // Union-Find Visualizer\n    (function(){\n      const svg = document.getElementById('svg');\n      const initBtn = document.getElementById('initBtn');\n      const initNum = document.getElementById('initNum');\n      const addBtn = document.getElementById('addBtn');\n      const resetBtn = document.getElementById('resetBtn');\n      const nodeCountEl = document.getElementById('nodeCount');\n      const parentRow = document.getElementById('parentRow');\n      const rankRow = document.getElementById('rankRow');\n      const info = document.getElementById('info');\n      const unionBtn = document.getElementById('unionBtn');\n      const findBtn = document.getElementById('findBtn');\n      const compressBtn = document.getElementById('compressBtn');\n      const clearSelBtn = document.getElementById('clearSelBtn');\n      const setsCountEl = document.getElementById('setsCount');\n      const autoBtn = document.getElementById('autoBtn');\n      const stepBtn = document.getElementById('stepBtn');\n      const animateToggle = document.getElementById('animateToggle');\n\n      let nodes = []; // {id, x,y, color}\n      let parent = [];\n      let rank = [];\n      let selected = []; // selected node ids (max 2)\n      let autoInterval = null;\n      const width = 800, height = 520;\n      const radius = 22;\n      const colors = [\n        '#9be7ff','#ffd99e','#c7f9cc','#f8c9ff','#ffd1d1','#c8d6ff','#ffd7a8','#b7ffd9',\n        '#fab1ff','#d6ffd6','#f6ffb9','#c7e9ff'\n      ];\n\n      function randomColor(i){ return colors[i % colors.length]; }\n\n      function init(n=8){\n        stopAuto();\n        clearSVG();\n        nodes = [];\n        parent = [];\n        rank = [];\n        selected = [];\n        for(let i=0;i<n;i++){\n          parent[i] = i;\n          rank[i] = 0;\n        }\n        // place nodes around a circle for neatness\n        const cx = width/2, cy = height/2, r = Math.min(width,height)/2 - 90;\n        for(let i=0;i<n;i++){\n          const angle = (i / n) * Math.PI*2;\n          const x = cx + Math.cos(angle) * r;\n          const y = cy + Math.sin(angle) * r;\n          nodes.push({id:i, x, y, color: randomColor(i)});\n        }\n        redraw();\n        updateArrays();\n      }\n\n      function clearSVG(){ while(svg.lastChild) svg.removeChild(svg.lastChild); // recreate defs\n        const defs = document.createElementNS(\"http://www.w3.org/2000/svg\",\"defs\");\n        defs.innerHTML = '<marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"8\" refY=\"5\" orient=\"auto\" markerUnits=\"strokeWidth\"><path d=\"M0,0 L10,5 L0,10 z\" fill=\"#cfeffd\" opacity=\"0.9\"></path></marker>';\n        svg.appendChild(defs);\n      }\n\n      function redraw(){\n        // Remove everything except defs\n        const toRemove = [];\n        for(const child of Array.from(svg.children)){\n          if(child.tagName !== 'defs') toRemove.push(child);\n        }\n        toRemove.forEach(c=>svg.removeChild(c));\n\n        // Draw edges (parent pointers) first\n        for(const node of nodes){\n          const p = parent[node.id];\n          if(p !== node.id){\n            const from = node; const to = nodes[p];\n            drawArrow(from.x, from.y, to.x, to.y, node.id, p);\n          }\n        }\n\n        // Draw nodes\n        for(const node of nodes){\n          drawNode(node);\n        }\n\n        nodeCountEl.textContent = nodes.length;\n        setsCountEl.textContent = countSets();\n      }\n\n      function drawArrow(x1,y1,x2,y2, fromId, toId){\n        // Draw a curved path for readability\n        const dx = x2 - x1, dy = y2 - y1;\n        const mx = (x1+x2)/2, my = (y1+y2)/2;\n        const nx = -dy, ny = dx; // normal\n        const len = Math.hypot(nx,ny) || 1;\n        const norm = 20; // curvature\n        const cx = mx + (nx/len)*norm;\n        const cy = my + (ny/len)*norm;\n        const path = document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");\n        const d = `M ${x1} ${y1} Q ${cx} ${cy} ${x2} ${y2}`;\n        path.setAttribute('d', d);\n        path.setAttribute('stroke','#cfeffd');\n        path.setAttribute('stroke-width','2');\n        path.setAttribute('fill','none');\n        path.setAttribute('marker-end','url(#arrow)');\n        path.setAttribute('opacity','0.9');\n        path.dataset.from = fromId;\n        path.dataset.to = toId;\n        svg.appendChild(path);\n      }\n\n      function drawNode(node){\n        const g = document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\");\n        g.setAttribute('transform', `translate(${node.x},${node.y})`);\n        g.classList.add('node');\n        g.dataset.id = node.id;\n\n        const circle = document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");\n        circle.setAttribute('r', radius);\n        circle.setAttribute('fill', node.color);\n        circle.setAttribute('stroke', '#071016');\n        circle.setAttribute('stroke-width','3');\n        circle.setAttribute('opacity','0.98');\n        g.appendChild(circle);\n\n        const labBg = document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");\n        labBg.setAttribute('r', 10);\n        labBg.setAttribute('cx', 0);\n        labBg.setAttribute('cy', 0);\n        labBg.setAttribute('fill', 'rgba(0,0,0,0.25)');\n        labBg.setAttribute('opacity','0.6');\n        labBg.setAttribute('visibility','hidden'); // optional\n        // g.appendChild(labBg);\n\n        const text = document.createElementNS(\"http://www.w3.org/2000/svg\",\"text\");\n        text.setAttribute('x', 0);\n        text.setAttribute('y', 6);\n        text.setAttribute('font-size', '14');\n        text.setAttribute('text-anchor', 'middle');\n        text.setAttribute('fill', '#041025');\n        text.setAttribute('font-weight','700');\n        text.textContent = node.id;\n        g.appendChild(text);\n\n        // small parent indicator\n        const pText = document.createElementNS(\"http://www.w3.org/2000/svg\",\"text\");\n        pText.setAttribute('x', 0);\n        pText.setAttribute('y', 36);\n        pText.setAttribute('font-size','11');\n        pText.setAttribute('text-anchor','middle');\n        pText.setAttribute('fill','#e1f7ff');\n        pText.textContent = `p=${parent[node.id]}`;\n        g.appendChild(pText);\n\n        // event handlers\n        g.style.cursor = 'pointer';\n        g.addEventListener('click', (ev)=>{\n          ev.stopPropagation();\n          onNodeClick(node.id);\n        });\n\n        svg.appendChild(g);\n\n        // attach selection outline if selected\n        if(selected.includes(node.id)){\n          const sel = document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");\n          sel.setAttribute('r', radius+6);\n          sel.setAttribute('fill','none');\n          sel.setAttribute('stroke','#ffffff');\n          sel.setAttribute('stroke-width','2');\n          sel.setAttribute('opacity','0.12');\n          g.insertBefore(sel, circle);\n        }\n      }\n\n      function onNodeClick(id){\n        if(selected.length === 0){\n          selected.push(id);\n        } else if(selected.length === 1){\n          if(selected[0] === id){\n            selected = [id]; // keep selection\n          } else {\n            selected.push(id);\n          }\n        } else {\n          selected = [id];\n        }\n        updateInfo();\n        redraw();\n      }\n\n      function updateInfo(){\n        if(selected.length === 0){\n          info.textContent = 'No node selected';\n        } else if(selected.length === 1){\n          const i = selected[0];\n          info.innerHTML = `Selected: ${i} — parent: ${parent[i]} — rank: ${rank[i]} — root: ${findNoCompress(i)}`;\n        } else {\n          const a = selected[0], b = selected[1];\n          info.innerHTML = `Selected A=${a} root=${findNoCompress(a)}, B=${b} root=${findNoCompress(b)}`;\n        }\n        redraw();\n      }\n\n      // Utility: count distinct roots\n      function countSets(){\n        const set = new Set();\n        for(let i=0;i<parent.length;i++) set.add(findNoCompress(i));\n        return set.size;\n      }\n\n      // Non-mutating find (no path compression), used for display\n      function findNoCompress(x){\n        while(parent[x] !== x) x = parent[x];\n        return x;\n      }\n\n      // Animated find showing path\n      async function animateFind(x){\n        const path = [];\n        let cur = x;\n        while(parent[cur] !== cur){\n          path.push(cur);\n          cur = parent[cur];\n        }\n        path.push(cur); // include root\n        // Highlight path\n        highlightNodes(path, '#fff49a');\n        await wait(600);\n        // Clear highlight\n        highlightNodes(path, null);\n        updateInfo();\n      }\n\n      // Path compression for a selected node (animated)\n      async function pathCompress(x){\n        const path = [];\n        let cur = x;\n        while(parent[cur] !== cur){\n          path.push(cur);\n          cur = parent[cur];\n        }\n        const root = cur;\n        if(path.length <= 1) return; // nothing to compress\n        // animate reattaching each node in path directly to root\n        for(const nodeId of path){\n          // visually show change\n          highlightNodes([nodeId], '#a6ffb3');\n          await wait(350);\n          parent[nodeId] = root;\n          redraw();\n          await wait(250);\n          highlightNodes([nodeId], null);\n        }\n        redraw();\n        updateArrays();\n        updateInfo();\n      }\n\n      // Core find (with optional compression)\n      function find(x){\n        if(parent[x] === x) return x;\n        return parent[x] = find(parent[x]);\n      }\n\n      async function unionSelected(){\n        if(selected.length < 2){\n          alert('Select two nodes first (click nodes).');\n          return;\n        }\n        const a = selected[0], b = selected[1];\n        await unionAnimate(a,b);\n      }\n\n      async function unionAnimate(a,b){\n        const ra = findNoCompress(a), rb = findNoCompress(b);\n        // highlight roots\n        highlightNodes([ra, rb], '#ffd59e');\n        await wait(600);\n        if(ra === rb){\n          // same set\n          highlightNodes([ra], '#ff9b9b');\n          await wait(500);\n          highlightNodes([ra,rb], null);\n          redraw();\n          return;\n        }\n        // Show ranks\n        // Perform union by rank\n        let attach, root;\n        if(rank[ra] < rank[rb]){\n          attach = ra; root = rb;\n        } else if(rank[rb] < rank[ra]){\n          attach = rb; root = ra;\n        } else {\n          // tie: attach rb to ra and increment rank[ra]\n          attach = rb; root = ra;\n          rank[root] += 1;\n        }\n        // animate attaching: set parent[attach] = root\n        parent[attach] = root;\n        // small animation pause\n        redraw();\n        await wait(700);\n        highlightNodes([root], '#a6ffb3');\n        await wait(400);\n        // update arrays\n        updateArrays();\n        highlightNodes([root, attach], null);\n        redraw();\n      }\n\n      function highlightNodes(list, color){\n        // recolor nodes temporarily by overriding node.color? Instead, draw overlays using SVG circles\n        // Remove previous highlights\n        for(const el of Array.from(svg.querySelectorAll('.hl'))) el.remove();\n        if(!list || list.length===0) return;\n        for(const id of list){\n          const node = nodes[id];\n          if(!node) continue;\n          const g = document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");\n          g.classList.add('hl');\n          g.setAttribute('cx', node.x);\n          g.setAttribute('cy', node.y);\n          g.setAttribute('r', radius+10);\n          g.setAttribute('fill', color || '');\n          g.setAttribute('opacity', color ? 0.25 : 0);\n          svg.appendChild(g);\n        }\n      }\n\n      function updateArrays(){\n        parentRow.innerHTML = '';\n        rankRow.innerHTML = '';\n        for(let i=0;i<parent.length;i++){\n          const c = document.createElement('div'); c.className='cell'; c.textContent = parent[i];\n          parentRow.appendChild(c);\n        }\n        for(let i=0;i<rank.length;i++){\n          const c = document.createElement('div'); c.className='cell'; c.textContent = rank[i];\n          rankRow.appendChild(c);\n        }\n        setsCountEl.textContent = countSets();\n      }\n\n      function addNode(){\n        stopAuto();\n        const id = nodes.length;\n        parent[id] = id; rank[id] = 0;\n        // place new node at random around center with slight jitter\n        const cx = width/2, cy = height/2, r = Math.min(width,height)/2 - 90;\n        const angle = Math.random()*Math.PI*2;\n        const x = cx + Math.cos(angle) * r * (0.9 + Math.random()*0.2);\n        const y = cy + Math.sin(angle) * r * (0.9 + Math.random()*0.2);\n        nodes.push({id, x, y, color: randomColor(id)});\n        redraw();\n        updateArrays();\n      }\n\n      function resetAll(){\n        stopAuto();\n        nodes = []; parent = []; rank = []; selected = [];\n        updateArrays();\n        redraw();\n        info.textContent = 'No node selected';\n      }\n\n      function wait(ms){ return new Promise(r=>setTimeout(r, ms)); }\n\n      function findSelectedAnimate(){\n        if(selected.length === 0){\n          alert('Select a node first.');\n          return;\n        }\n        const x = selected[0];\n        animateFind(x);\n      }\n\n      function compressSelected(){\n        if(selected.length === 0){\n          alert('Select a node first.');\n          return;\n        }\n        pathCompress(selected[0]);\n      }\n\n      // random union one pair (not already unioned)\n      async function randomUnionOnce(){\n        if(nodes.length < 2) return;\n        const a = Math.floor(Math.random()*nodes.length);\n        let b = Math.floor(Math.random()*nodes.length);\n        while(b === a) b = Math.floor(Math.random()*nodes.length);\n        await unionAnimate(a,b);\n        updateArrays();\n      }\n\n      function startAuto(){\n        if(autoInterval) { stopAuto(); return; }\n        autoBtn.textContent = 'Stop Auto';\n        autoInterval = setInterval(async ()=>{\n          await randomUnionOnce();\n        }, 900);\n      }\n      function stopAuto(){\n        if(autoInterval){ clearInterval(autoInterval); autoInterval = null; autoBtn.textContent = 'Auto Random Unions'; }\n      }\n\n      // event wiring\n      initBtn.addEventListener('click', ()=>init(Number(initNum.value) || 8));\n      addBtn.addEventListener('click', addNode);\n      resetBtn.addEventListener('click', resetAll);\n      unionBtn.addEventListener('click', unionSelected);\n      findBtn.addEventListener('click', findSelectedAnimate);\n      compressBtn.addEventListener('click', compressSelected);\n      clearSelBtn.addEventListener('click', ()=>{\n        selected = []; updateInfo(); redraw();\n      });\n      autoBtn.addEventListener('click', ()=>{\n        if(autoInterval) stopAuto(); else startAuto();\n      });\n      stepBtn.addEventListener('click', ()=>randomUnionOnce());\n\n      // click empty space clears selection\n      svg.addEventListener('click', (e)=>{ if(e.target === svg) { selected=[]; updateInfo(); redraw(); } });\n\n      // keyboard shortcuts\n      window.addEventListener('keydown', (e)=>{\n        if(e.key === 'u') unionSelected();\n        if(e.key === 'f') findSelectedAnimate();\n        if(e.key === 'c') compressSelected();\n        if(e.key === 'a') { if(autoInterval) stopAuto(); else startAuto(); }\n      });\n\n      // Initial\n      init(Number(initNum.value) || 8);\n      updateInfo();\n\n      // Expose some functions for console debugging\n      window.__ds = { parent, rank, nodes, findNoCompress, find, unionAnimate };\n\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Union-Find (Disjoint Set)"
    }
  ],
  "topic": "Union-Find (Disjoint Set)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}