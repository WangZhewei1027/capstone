{
  "id": "e933e9a1-d360-11f0-a097-ffdd56c22ef4",
  "timestamp": "2025-12-07T11:38:46.563Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Radix Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Radix Sort Visualizer (LSD) — Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --panel:#071129;\n      --accent:#39a7ff;\n      --muted:#94a3b8;\n      --card:#0b1220;\n      --good:#22c55e;\n      --danger:#fb7185;\n      --glass: rgba(255,255,255,0.03);\n    }\n    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial;}\n    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071126 0%, #071b2a 100%);color:#e6eef8;}\n    .container{max-width:1100px;margin:24px auto;padding:20px;}\n    header{display:flex;gap:16px;align-items:center;margin-bottom:18px;}\n    h1{font-size:20px;margin:0;}\n    .controls{display:flex;gap:14px;align-items:center;flex-wrap:wrap;}\n    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px;padding:12px;}\n    .control{display:flex;gap:8px;align-items:center;}\n    label{font-size:12px;color:var(--muted);}\n    input[type=range]{width:140px;}\n    input[type=text]{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit;padding:6px 8px;border-radius:6px;min-width:220px;}\n    button{background:var(--accent);border:none;color:#04202a;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600}\n    button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);font-weight:600}\n    button.ghost{background:transparent;border-radius:8px;padding:8px}\n    .layout{display:grid;grid-template-columns:1fr 360px;gap:14px;margin-top:18px;}\n    .visual.card{padding:16px;min-height:420px;display:flex;flex-direction:column;gap:12px}\n    .array-row{display:flex;gap:6px;align-items:end;height:140px;padding:6px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));}\n    .bar{background:linear-gradient(180deg,var(--accent),#0ba6ff);width:28px;border-radius:6px;display:flex;align-items:flex-end;justify-content:center;color:#032a36;font-weight:700;filter:drop-shadow(0 4px 8px rgba(2,6,23,0.6));transition:transform 350ms;}\n    .bar.small{width:22px;font-size:11px}\n    .value{padding:6px 4px;color:#00262a;background:rgba(255,255,255,0.9);border-radius:4px;margin-bottom:6px;font-weight:700}\n    .buckets{display:flex;gap:6px;align-items:flex-start;justify-content:flex-start;flex-wrap:nowrap;padding:6px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));min-height:120px}\n    .bucket{flex:0 0 46px;background:rgba(255,255,255,0.02);border-radius:8px;padding:6px;display:flex;flex-direction:column;gap:6px;align-items:center;min-height:80px;border:1px dashed rgba(255,255,255,0.03)}\n    .bucket .label{font-size:12px;color:var(--muted);margin-bottom:4px}\n    .bucket .item{background:var(--glass);padding:4px 6px;border-radius:6px;font-weight:700;font-size:12px;color:var(--accent);width:100%;text-align:center}\n    .sidebar.card{padding:12px;display:flex;flex-direction:column;gap:12px;height:100%}\n    .panel{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px}\n    .info{font-size:13px;color:var(--muted);line-height:1.35}\n    .pseudo{background:#001426;padding:10px;border-radius:8px;color:#bfe9ff;font-family:monospace;font-size:13px;white-space:pre-wrap;max-height:260px;overflow:auto}\n    .controls-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}\n    .status{font-size:13px;color:var(--muted);display:flex;gap:8px;align-items:center;flex-wrap:wrap}\n    .badge{padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.03);font-weight:700;color:var(--muted);font-size:13px}\n    .highlight{background:linear-gradient(90deg,#063449,#004a5f);padding:6px 8px;border-radius:8px;font-weight:700;color:#bff1ff}\n    footer{margin-top:18px;color:var(--muted);font-size:13px}\n    @media (max-width:980px){.layout{grid-template-columns:1fr;}.array-row{height:100px}.bar{width:20px}.bucket{flex:1 0 36px}}\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <header>\n      <div style=\"flex:1\">\n        <h1>Radix Sort Visualizer (LSD) — Stable integer sort by digits</h1>\n        <div class=\"info\" style=\"margin-top:6px\">\n          This interactive demo walks through Least Significant Digit (LSD) Radix Sort on non-negative integers.\n          Use controls to change the array, base (radix), and step through distribution and collection phases.\n        </div>\n      </div>\n\n      <div class=\"controls card\">\n        <div class=\"control\">\n          <label>Size</label>\n          <input id=\"sizeRange\" type=\"range\" min=\"3\" max=\"18\" value=\"10\" />\n          <span id=\"sizeValue\" class=\"badge\">10</span>\n        </div>\n\n        <div class=\"control\">\n          <label>Max value</label>\n          <input id=\"maxRange\" type=\"range\" min=\"9\" max=\"999\" value=\"99\" />\n          <span id=\"maxValue\" class=\"badge\">99</span>\n        </div>\n\n        <div class=\"control\">\n          <label>Base (radix)</label>\n          <input id=\"baseInput\" type=\"number\" min=\"2\" max=\"16\" value=\"10\" style=\"width:68px;padding:6px;border-radius:6px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit\"/>\n        </div>\n\n        <div style=\"display:flex;gap:8px;margin-top:8px;flex-wrap:wrap\">\n          <button id=\"randomBtn\">Shuffle / Randomize</button>\n          <button id=\"resetBtn\" class=\"secondary\">Reset</button>\n        </div>\n      </div>\n    </header>\n\n    <div class=\"layout\">\n      <section class=\"visual card\">\n        <div style=\"display:flex;justify-content:space-between;align-items:end\">\n          <div class=\"status\">\n            <div class=\"badge\">Radix: <span id=\"radixBadge\">10</span></div>\n            <div class=\"badge\">Steps: <span id=\"stepsBadge\">0</span></div>\n            <div class=\"badge\">State: <span id=\"stateBadge\">—</span></div>\n            <div id=\"digitBadge\" class=\"badge\">Digit: —</div>\n          </div>\n\n          <div style=\"display:flex;gap:8px;align-items:center\">\n            <label style=\"font-size:13px;color:var(--muted)\">Speed</label>\n            <input id=\"speed\" type=\"range\" min=\"200\" max=\"2000\" step=\"100\" value=\"900\" />\n            <button id=\"playBtn\" class=\"ghost\" title=\"Play/pause\">▶️</button>\n            <button id=\"prevBtn\" class=\"ghost\" title=\"Previous step\">⏮️</button>\n            <button id=\"nextBtn\" class=\"ghost\" title=\"Next step\">⏭️</button>\n          </div>\n        </div>\n\n        <div class=\"panel\">\n          <div style=\"display:flex;justify-content:space-between;align-items:center\">\n            <div style=\"font-weight:700\">Array</div>\n            <div class=\"info\" style=\"font-size:13px\">Bars are proportional to value. Values shown on top.</div>\n          </div>\n\n          <div id=\"arrayRow\" class=\"array-row\" style=\"margin-top:10px\"></div>\n        </div>\n\n        <div class=\"panel\">\n          <div style=\"display:flex;justify-content:space-between;align-items:center;margin-bottom:6px\">\n            <div style=\"font-weight:700\">Buckets</div>\n            <div id=\"phaseText\" class=\"info\" style=\"font-size:13px\">Distribution & Collection steps shown for each digit (least significant to most).</div>\n          </div>\n\n          <div id=\"buckets\" class=\"buckets\"></div>\n        </div>\n\n        <div class=\"info\" style=\"font-size:13px\">\n          Note: This demo implements LSD radix sort for non-negative integers. To handle negative numbers you'd sort positives and negatives separately (or offset values).\n        </div>\n      </section>\n\n      <aside class=\"sidebar card\">\n        <div>\n          <div style=\"display:flex;gap:8px;align-items:center;margin-bottom:8px\">\n            <input id=\"arrayInput\" type=\"text\" placeholder=\"Type numbers separated by commas (e.g. 170,45,75)\" />\n            <button id=\"setArray\" class=\"secondary\">Set</button>\n          </div>\n          <div class=\"info\">Or click Shuffle to generate a random array using selected size & max value. Use Next/Prev to step through algorithm states.</div>\n        </div>\n\n        <div>\n          <div style=\"display:flex;justify-content:space-between;align-items:center\">\n            <div style=\"font-weight:700\">Pseudo-code (LSD Radix Sort)</div>\n            <div style=\"font-size:12px;color:var(--muted)\">Stable per-digit counting using buckets</div>\n          </div>\n          <div class=\"pseudo\" id=\"pseudo\">\nfunction radixSortLSD(array, base):\n  maxVal = max(array)\n  maxDigits = number of digits of maxVal in base\n  for d = 0 to maxDigits-1:\n    // distribution\n    buckets = array of base empty queues\n    for item in array:\n      digit = (item // base^d) % base\n      buckets[digit].enqueue(item)\n    // collection in order (stable)\n    array = concat(buckets[0], buckets[1], ... , buckets[base-1])\n  return array\n          </div>\n        </div>\n\n        <div>\n          <div style=\"display:flex;justify-content:space-between;align-items:center\">\n            <div style=\"font-weight:700\">Current explanation</div>\n            <div id=\"explainShort\" class=\"badge\">—</div>\n          </div>\n          <div id=\"explainText\" class=\"info\" style=\"margin-top:8px;min-height:60px\">\n            Walk through the distribution and collection phases for each digit (starting at the least significant digit).\n          </div>\n        </div>\n\n        <footer>\n          Tip: Try small arrays and different bases (binary, octal, decimal, hex) to see how digits affect distribution.\n        </footer>\n      </aside>\n    </div>\n  </div>\n\n  <script>\n    // Radix Sort Visualizer (LSD) - Single HTML file, vanilla JS\n    (function(){\n      // DOM\n      const sizeRange = document.getElementById('sizeRange');\n      const sizeValue = document.getElementById('sizeValue');\n      const maxRange = document.getElementById('maxRange');\n      const maxValue = document.getElementById('maxValue');\n      const baseInput = document.getElementById('baseInput');\n      const radixBadge = document.getElementById('radixBadge');\n      const arrayRow = document.getElementById('arrayRow');\n      const bucketsDiv = document.getElementById('buckets');\n      const randomBtn = document.getElementById('randomBtn');\n      const resetBtn = document.getElementById('resetBtn');\n      const arrayInput = document.getElementById('arrayInput');\n      const setArrayBtn = document.getElementById('setArray');\n      const playBtn = document.getElementById('playBtn');\n      const nextBtn = document.getElementById('nextBtn');\n      const prevBtn = document.getElementById('prevBtn');\n      const speedInput = document.getElementById('speed');\n      const stepsBadge = document.getElementById('stepsBadge');\n      const stateBadge = document.getElementById('stateBadge');\n      const digitBadge = document.getElementById('digitBadge');\n      const phaseText = document.getElementById('phaseText');\n      const explainText = document.getElementById('explainText');\n\n      // Model\n      let array = [];\n      let base = parseInt(baseInput.value,10) || 10;\n      let states = []; // generated states for animation\n      let stepIndex = -1;\n      let timer = null;\n\n      // Utility\n      function randInt(max){ return Math.floor(Math.random()*(max+1)); }\n      function clamp(v,min,max){ return Math.max(min,Math.min(max,v)); }\n      function copyDeep(x){ return JSON.parse(JSON.stringify(x)); }\n\n      // Setup initial\n      function initRandom(){\n        const n = parseInt(sizeRange.value,10);\n        const maxv = parseInt(maxRange.value,10);\n        array = new Array(n).fill(0).map(()=>randInt(maxv));\n        buildStates();\n        stepIndex = -1;\n        renderStep(0); // first state (initial array)\n      }\n\n      // Build states array by simulating LSD radix sort\n      // We'll include an initial state representing the starting array (index 0).\n      // Then for each digit d:\n      //   - push distribution state: {type:'distribution', digit:d, buckets:[...], array:currentArray}\n      //   - push collection state: {type:'collection', digit:d, buckets:[...], array:newArray}\n      function buildStates(){\n        states = [];\n        const arr = array.slice();\n        states.push({type:'start', digit:null, array:arr.slice(), buckets:[]});\n        base = clamp(parseInt(baseInput.value,10)||10,2,16);\n        radixBadge.textContent = base;\n        // edge: if all zeros, maxDigits = 1\n        const maxVal = arr.length ? Math.max(...arr) : 0;\n        const maxDigits = Math.max(1, Math.floor(Math.log(maxVal)/Math.log(base))+1 || 1);\n\n        let working = arr.slice();\n        for(let d=0; d<maxDigits; d++){\n          // distribution\n          const buckets = new Array(base).fill(0).map(()=>[]);\n          for(const item of working){\n            const digit = Math.floor(item / Math.pow(base,d)) % base;\n            buckets[digit].push(item);\n          }\n          states.push({type:'distribution', digit:d, array:working.slice(), buckets:copyDeep(buckets)});\n          // collection\n          const collected = [];\n          for(let b=0;b<base;b++){\n            for(const v of buckets[b]) collected.push(v);\n          }\n          working = collected.slice();\n          states.push({type:'collection', digit:d, array:working.slice(), buckets:copyDeep(buckets)});\n        }\n        stepsBadge.textContent = states.length;\n        // reset step pointer\n        stepIndex = 0;\n      }\n\n      // Render helpers\n      function renderArray(arr, highlightIndex=null){\n        arrayRow.innerHTML = '';\n        if(!arr) return;\n        const maxVal = arr.length ? Math.max(...arr) : 1;\n        const minHeight = 18;\n        for(let i=0;i<arr.length;i++){\n          const v = arr[i];\n          const hPct = maxVal>0 ? (v / maxVal) : 0;\n          const height = Math.max(minHeight, Math.round(hPct*110)+12);\n          const bar = document.createElement('div');\n          bar.className = 'bar';\n          if(arr.length>14) bar.classList.add('small');\n          bar.style.height = height+'px';\n          bar.style.transition = 'transform 450ms, opacity 240ms';\n          // show value box on top\n          const val = document.createElement('div');\n          val.className='value';\n          val.textContent = v;\n          bar.appendChild(val);\n          if(i===highlightIndex){\n            bar.style.boxShadow = '0 0 18px rgba(255,255,255,0.06), 0 8px 16px rgba(3,128,162,0.14)';\n            bar.style.transform = 'translateY(-8px)';\n          }\n          arrayRow.appendChild(bar);\n        }\n      }\n\n      function renderBuckets(buckets){\n        bucketsDiv.innerHTML = '';\n        if(!buckets || !buckets.length){\n          // nothing to show\n          const placeholder = document.createElement('div');\n          placeholder.style.color='var(--muted)';\n          placeholder.textContent = 'Buckets will appear during distribution steps.';\n          bucketsDiv.appendChild(placeholder);\n          return;\n        }\n        for(let i=0;i<buckets.length;i++){\n          const b = document.createElement('div');\n          b.className='bucket';\n          const lbl = document.createElement('div');\n          lbl.className='label';\n          lbl.textContent = i;\n          b.appendChild(lbl);\n          const bucketItems = buckets[i];\n          if(bucketItems.length===0){\n            const p = document.createElement('div');\n            p.style.fontSize='12px';\n            p.style.color='rgba(255,255,255,0.06)';\n            p.textContent = '—';\n            b.appendChild(p);\n          } else {\n            for(const v of bucketItems){\n              const it = document.createElement('div');\n              it.className='item';\n              it.textContent = v;\n              b.appendChild(it);\n            }\n          }\n          bucketsDiv.appendChild(b);\n        }\n      }\n\n      function explainState(s){\n        if(!s) return '';\n        if(s.type==='start') return 'Initial array (unsorted).';\n        if(s.type==='distribution'){\n          return `Distribution for digit index ${s.digit} (extract digit: floor(value / ${base}^${s.digit}) % ${base}).\\nWe place each item into the bucket that matches its digit. Buckets are indexed 0..${base-1}.`;\n        }\n        if(s.type==='collection'){\n          return `Collection after placing items by digit ${s.digit}.\\nWe concatenate buckets in order: bucket 0, bucket 1, ..., bucket ${base-1}. Because we preserve the original order within each bucket, the sort is stable for this digit.`;\n        }\n        return '';\n      }\n\n      // Render a particular step in states\n      function renderStep(idx){\n        idx = clamp(idx,0,states.length-1);\n        stepIndex = idx;\n        const s = states[stepIndex];\n        stateBadge.textContent = s.type || '—';\n        digitBadge.textContent = s.digit===null ? '—' : s.digit;\n        explainText.textContent = explainState(s);\n        // Which array to show?\n        if(s.type==='distribution'){\n          renderArray(s.array);\n          renderBuckets(s.buckets);\n          phaseText.textContent = `Distribution (digit ${s.digit}). Items are placed into buckets based on the current digit.`;\n        } else if(s.type==='collection'){\n          renderArray(s.array);\n          renderBuckets(s.buckets);\n          phaseText.textContent = `Collection (digit ${s.digit}). Buckets concatenated to form next array order.`;\n        } else if(s.type==='start'){\n          renderArray(s.array);\n          renderBuckets([]);\n          phaseText.textContent = 'Initial state';\n        } else {\n          renderArray(s.array);\n          renderBuckets([]);\n        }\n        // update buttons text\n        playBtn.textContent = timer ? '⏸️' : '▶️';\n      }\n\n      // Controls\n      sizeRange.addEventListener('input',()=>{\n        sizeValue.textContent = sizeRange.value;\n      });\n\n      maxRange.addEventListener('input',()=>{\n        maxValue.textContent = maxRange.value;\n      });\n\n      randomBtn.addEventListener('click', ()=>{\n        initRandom();\n      });\n\n      resetBtn.addEventListener('click', ()=>{\n        // reset to a clean random but keep size/max/base as is\n        initRandom();\n      });\n\n      baseInput.addEventListener('change', ()=>{\n        const b = clamp(parseInt(baseInput.value||10,10),2,16);\n        baseInput.value = b;\n        radixBadge.textContent = b;\n        buildStates();\n        renderStep(0);\n      });\n\n      setArrayBtn.addEventListener('click', ()=>{\n        const raw = arrayInput.value.trim();\n        if(!raw) return;\n        const parts = raw.split(',').map(p=>p.trim()).filter(p=>p.length);\n        const parsed = [];\n        for(const p of parts){\n          const n = Number(p);\n          if(Number.isFinite(n) && n>=0 && Number.isInteger(n)) parsed.push(n);\n        }\n        if(parsed.length===0){\n          alert('Enter a comma-separated list of non-negative integers (e.g. 170,45,75).');\n          return;\n        }\n        array = parsed.slice();\n        // reflect size and max sliders\n        sizeRange.value = Math.min(18,Math.max(3,array.length));\n        sizeValue.textContent = sizeRange.value;\n        const maxv = Math.max(...array);\n        maxRange.value = Math.max(9,maxv);\n        maxValue.textContent = maxRange.value;\n        buildStates();\n        renderStep(0);\n      });\n\n      nextBtn.addEventListener('click', ()=>{\n        if(stepIndex < states.length-1){\n          renderStep(stepIndex+1);\n        } else {\n          // end reached\n          renderStep(states.length-1);\n          stopAuto();\n        }\n      });\n\n      prevBtn.addEventListener('click', ()=>{\n        if(stepIndex > 0){\n          renderStep(stepIndex-1);\n        }\n      });\n\n      playBtn.addEventListener('click', ()=>{\n        if(timer) stopAuto();\n        else startAuto();\n      });\n\n      function startAuto(){\n        if(stepIndex >= states.length-1) {\n          renderStep(0);\n        }\n        timer = setInterval(()=>{\n          if(stepIndex < states.length-1){\n            renderStep(stepIndex+1);\n          } else {\n            stopAuto();\n          }\n        }, Math.max(120, parseInt(speedInput.value,10)));\n        playBtn.textContent = '⏸️';\n      }\n      function stopAuto(){\n        if(timer){\n          clearInterval(timer);\n          timer = null;\n        }\n        playBtn.textContent = '▶️';\n      }\n\n      // react to size/max change to produce new random array\n      sizeRange.addEventListener('change', ()=>{\n        initRandom();\n      });\n      maxRange.addEventListener('change', ()=>{\n        initRandom();\n      });\n\n      // Initialize\n      initRandom();\n\n      // For clarity, expose some state while debugging (not required)\n      window._radixVisualizer = {\n        states, getState: ()=>states, getArray: ()=>array\n      };\n\n      // Accessibility / keyboard shortcuts\n      document.addEventListener('keydown',(e)=>{\n        if(e.key===' '){\n          e.preventDefault();\n          if(timer) stopAuto(); else startAuto();\n        } else if(e.key==='ArrowRight'){\n          nextBtn.click();\n        } else if(e.key==='ArrowLeft'){\n          prevBtn.click();\n        }\n      });\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Radix Sort"
    }
  ],
  "topic": "Radix Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}