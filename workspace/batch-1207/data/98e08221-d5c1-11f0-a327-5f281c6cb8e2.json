{
  "id": "98e08221-d5c1-11f0-a327-5f281c6cb8e2",
  "timestamp": "2025-12-10T12:16:50.276Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Stack",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <title>Stack Data Structure — Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n  <style>\n    :root{\n      --bg:#0f1724;\n      --card:#0b1220;\n      --accent:#6ee7b7;\n      --muted:#94a3b8;\n      --danger:#ff6b6b;\n      --glass: rgba(255,255,255,0.03);\n      --panel:#071024;\n      font-family: Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n      color-scheme: dark;\n    }\n    html,body{height:100%; margin:0; background:linear-gradient(180deg,#071428 0%, #081025 50%); color:#dbeafe;}\n    .wrap{\n      max-width:1100px; margin:28px auto; padding:20px; display:grid; grid-template-columns: 420px 1fr; gap:20px;\n    }\n    .card{\n      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));\n      border:1px solid rgba(255,255,255,0.04); padding:18px; border-radius:12px; box-shadow: 0 6px 30px rgba(2,6,23,0.6);\n    }\n    h1{margin:0 0 8px 0; font-size:20px; color:#e6f2ff;}\n    p.lead{margin:4px 0 16px 0; color:var(--muted); font-size:13px;}\n    .controls{display:flex; gap:8px; margin-bottom:12px; align-items:center; flex-wrap:wrap;}\n    input[type=\"text\"]{\n      background:var(--glass); border:1px solid rgba(255,255,255,0.04); color:inherit; padding:10px 12px; border-radius:8px; outline:none; min-width:160px;\n    }\n    button{\n      background:linear-gradient(180deg,#0ea5a3,#066b5a);\n      border:none; color:#022; padding:10px 12px; border-radius:9px; cursor:pointer; font-weight:600;\n      box-shadow: 0 6px 18px rgba(4,20,30,0.6);\n    }\n    button.ghost{background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted); padding:8px 10px;}\n    button.warn{background:linear-gradient(180deg,#f97316,#c2410c); color:white;}\n    button.danger{background:linear-gradient(180deg,#ef4444,#b91c1c); color:white;}\n    label.small{font-size:12px;color:var(--muted); display:flex; gap:8px; align-items:center;}\n    .stack-visual-wrap{display:flex; gap:20px; align-items:flex-start;}\n    .stack-area{\n      width:220px; min-height:360px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015));\n      border-radius:10px; padding:12px; border:1px solid rgba(255,255,255,0.04);\n      display:flex; flex-direction:column-reverse; align-items:center; position:relative;\n    }\n    .stack-slot{\n      width:88%; height:44px; margin:8px 0; border-radius:8px; background:linear-gradient(180deg,#061122,#07243b);\n      display:flex; align-items:center; justify-content:center; color:#e6f2ff; font-weight:700; letter-spacing:0.6px;\n      border:1px solid rgba(255,255,255,0.03); box-shadow: 0 8px 18px rgba(2,6,23,0.6);\n      transform-origin:center; transition: transform 300ms cubic-bezier(.2,.9,.3,1), opacity 250ms;\n    }\n    .slot-new { transform: translateY(-24px) scale(0.98); opacity:0; animation:slideIn 260ms forwards; }\n    @keyframes slideIn { to { transform:none; opacity:1; } }\n    .slot-pop { animation:popAway 280ms forwards; }\n    @keyframes popAway { to { transform: translateY(16px) scale(.96); opacity:0; } }\n    .top-label{ position:absolute; top:8px; left:12px; color:var(--muted); font-size:12px;}\n    .info { margin-top:8px; color:var(--muted); font-size:13px; }\n    .meta { display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; }\n    .pill{ background: rgba(255,255,255,0.02); padding:6px 8px; border-radius:8px; border:1px solid rgba(255,255,255,0.02); color:var(--muted); font-size:13px;}\n    .right{\n      display:flex; flex-direction:column; gap:14px;\n    }\n    .panel{ padding:12px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015)); border:1px solid rgba(255,255,255,0.04); }\n    .log{ max-height:180px; overflow:auto; padding:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border-radius:8px; border:1px dashed rgba(255,255,255,0.02); }\n    .log-entry{ font-size:13px; color:var(--muted); padding:6px 6px; border-radius:6px; display:flex; gap:8px; align-items:center; }\n    .log-entry .op{ min-width:58px; font-weight:700; color:#e6f2ff;}\n    .details{ display:grid; grid-template-columns: 1fr 1fr; gap:8px; margin-top:8px; }\n    pre{ overflow:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, \"Roboto Mono\", monospace; background:rgba(255,255,255,0.02); padding:10px; border-radius:8px; font-size:13px; color:#e6f2ff; border:1px solid rgba(255,255,255,0.03); }\n    .controls-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\n    .muted{ color:var(--muted); font-size:13px;}\n    .small-btn{ padding:6px 8px; border-radius:8px; background:transparent; border:1px solid rgba(255,255,255,0.03); color:var(--muted); cursor:pointer; }\n    .status{ margin-top:8px; font-size:13px; min-height:20px; color:var(--muted); }\n    .highlight{ color:var(--accent); font-weight:700; }\n    footer{ text-align:center; margin-top:18px; color:var(--muted); font-size:13px; }\n    @media (max-width:880px){ .wrap{ grid-template-columns: 1fr; padding:12px } .stack-area{ width:100% } }\n  </style>\n</head>\n<body>\n  <div class=\"wrap\">\n    <div class=\"card\">\n      <h1>Stack — LIFO (Last In, First Out)</h1>\n      <p class=\"lead\">A stack stores values with push/pop operations. This interactive demo visualizes a stack, shows the underlying array, and logs each operation.</p>\n\n      <div class=\"stack-visual-wrap\">\n        <div style=\"flex:0 0 420px;\">\n          <div class=\"controls\">\n            <input id=\"valueInput\" type=\"text\" placeholder=\"Value to push (string or number)\">\n            <button id=\"pushBtn\">Push</button>\n            <button id=\"popBtn\" class=\"ghost\">Pop</button>\n            <button id=\"peekBtn\" class=\"small-btn\">Peek</button>\n            <button id=\"clearBtn\" class=\"danger\">Clear</button>\n          </div>\n\n          <div class=\"controls\" style=\"margin-top:6px;\">\n            <label class=\"small\">Max size:\n              <input id=\"maxSizeInput\" type=\"number\" min=\"0\" placeholder=\"no limit\" style=\"width:86px; margin-left:8px; padding:8px; border-radius:6px; background:transparent; border:1px solid rgba(255,255,255,0.04);\">\n            </label>\n            <button id=\"fillRandom\" class=\"ghost\">Fill 6 random</button>\n            <button id=\"stepPush\" class=\"ghost\">Step Push</button>\n            <button id=\"stepPop\" class=\"ghost\">Step Pop</button>\n          </div>\n\n          <div style=\"display:flex; gap:12px; margin-top:12px; align-items:center;\">\n            <div class=\"panel\" style=\"flex:1;\">\n              <div class=\"meta\">\n                <div class=\"pill\">size: <span id=\"sizeBadge\" class=\"highlight\">0</span></div>\n                <div class=\"pill\">top: <span id=\"topBadge\" class=\"muted\">—</span></div>\n                <div class=\"pill\">capacity: <span id=\"capBadge\" class=\"muted\">∞</span></div>\n              </div>\n              <div class=\"status\" id=\"statusMsg\">Ready.</div>\n            </div>\n          </div>\n\n          <div style=\"margin-top:16px;\">\n            <div class=\"panel\">\n              <div class=\"muted\" style=\"font-size:13px; margin-bottom:8px;\">Operations log</div>\n              <div class=\"log\" id=\"opLog\" aria-live=\"polite\"></div>\n            </div>\n\n            <div class=\"panel\" style=\"margin-top:12px;\">\n              <div class=\"muted\" style=\"font-size:13px; margin-bottom:8px;\">Complexities</div>\n              <div style=\"display:flex; gap:8px;\">\n                <div class=\"pill\">push O(1)</div><div class=\"pill\">pop O(1)</div><div class=\"pill\">peek O(1)</div>\n              </div>\n              <div class=\"muted\" style=\"margin-top:8px; font-size:13px;\">This stack is implemented with an array under the hood — push/pop operate at the array end.</div>\n            </div>\n          </div>\n        </div>\n\n        <div style=\"flex:1;\">\n          <div class=\"card panel\">\n            <div style=\"display:flex; gap:12px; align-items:center; justify-content:space-between;\">\n              <div>\n                <div class=\"muted\">Visual Stack</div>\n                <div class=\"top-label\">TOP</div>\n              </div>\n              <div class=\"muted\">Drag values visually — click element to highlight its index</div>\n            </div>\n\n            <div style=\"display:flex; gap:16px; margin-top:12px;\">\n              <div class=\"stack-area\" id=\"stackArea\" aria-label=\"Stack visualization\" role=\"list\"></div>\n\n              <div style=\"flex:1;\">\n                <div class=\"muted\">Underlying array (snapshot)</div>\n                <pre id=\"arrayView\">[]</pre>\n\n                <div class=\"muted\" style=\"margin-top:8px;\">Select an index to inspect</div>\n                <div class=\"details\" style=\"margin-top:8px;\">\n                  <div class=\"panel\">\n                    <div class=\"muted\">peek() result</div>\n                    <div id=\"peekResult\" style=\"font-weight:700; color:var(--accent); margin-top:6px;\">—</div>\n                  </div>\n                  <div class=\"panel\">\n                    <div class=\"muted\">last operation</div>\n                    <div id=\"lastOp\" style=\"font-weight:700; margin-top:6px;\">—</div>\n                  </div>\n                </div>\n\n                <div style=\"margin-top:12px;\">\n                  <div class=\"muted\">Quick hints</div>\n                  <ul style=\"margin:8px 0 0 18px; color:var(--muted); font-size:13px;\">\n                    <li>Type value and press Push or Enter.</li>\n                    <li>Pop removes and returns the top item.</li>\n                    <li>Max size blocks push when reached (overflow).</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n\n      <footer>Interactive stack demo • LIFO behavior • Built with plain JS</footer>\n\n    </div>\n  </div>\n\n  <script>\n    // Simple Stack Demo Implementation with visualization and logging\n    (function(){\n      const valueInput = document.getElementById('valueInput');\n      const pushBtn = document.getElementById('pushBtn');\n      const popBtn = document.getElementById('popBtn');\n      const peekBtn = document.getElementById('peekBtn');\n      const clearBtn = document.getElementById('clearBtn');\n      const fillRandom = document.getElementById('fillRandom');\n      const stepPush = document.getElementById('stepPush');\n      const stepPop = document.getElementById('stepPop');\n      const maxSizeInput = document.getElementById('maxSizeInput');\n\n      const stackArea = document.getElementById('stackArea');\n      const arrayView = document.getElementById('arrayView');\n      const opLog = document.getElementById('opLog');\n      const sizeBadge = document.getElementById('sizeBadge');\n      const topBadge = document.getElementById('topBadge');\n      const capBadge = document.getElementById('capBadge');\n      const statusMsg = document.getElementById('statusMsg');\n      const peekResult = document.getElementById('peekResult');\n      const lastOp = document.getElementById('lastOp');\n\n      // Underlying stack array\n      let stack = [];\n      let lastOperation = null;\n\n      // Utility: update UI\n      function render(){\n        // visual stack (top at top)\n        stackArea.innerHTML = '';\n        const maxShow = Math.max(6, stack.length);\n        for(let i = stack.length - 1; i >= 0; i--){\n          const slot = document.createElement('div');\n          slot.className = 'stack-slot';\n          slot.textContent = String(stack[i]);\n          slot.dataset.index = i;\n          slot.title = 'index ' + i;\n          slot.addEventListener('click', () => {\n            flashSlot(slot);\n            status('Clicked index ' + i);\n          });\n          stackArea.appendChild(slot);\n        }\n        if(stack.length === 0){\n          const ghost = document.createElement('div');\n          ghost.style.opacity = 0.6;\n          ghost.style.color = 'var(--muted)';\n          ghost.textContent = 'stack empty';\n          ghost.style.marginTop = '18px';\n          stackArea.appendChild(ghost);\n        }\n\n        // array view\n        arrayView.textContent = JSON.stringify(stack, null, 2);\n\n        // badges\n        sizeBadge.textContent = stack.length;\n        topBadge.textContent = stack.length ? String(stack[stack.length-1]) : '—';\n        const cap = parseInt(maxSizeInput.value);\n        capBadge.textContent = (cap > 0) ? cap : '∞';\n\n        lastOp.textContent = lastOperation ? lastOperation : '—';\n        peekResult.textContent = stack.length ? String(stack[stack.length-1]) : '—';\n\n        // enable/disable buttons based on state\n        popBtn.disabled = stack.length === 0;\n        popBtn.style.opacity = popBtn.disabled ? 0.5 : 1;\n      }\n\n      function flashSlot(slot){\n        slot.style.boxShadow = '0 10px 40px rgba(110,231,183,0.12)';\n        slot.style.transform = 'scale(1.02)';\n        setTimeout(()=>{ slot.style.boxShadow=''; slot.style.transform=''; }, 350);\n      }\n\n      function log(op, detail){\n        const entry = document.createElement('div');\n        entry.className = 'log-entry';\n        const now = new Date();\n        const ts = now.toLocaleTimeString();\n        const opSpan = document.createElement('div'); opSpan.className='op'; opSpan.textContent = op;\n        const msg = document.createElement('div'); msg.style.whiteSpace='pre-wrap';\n        msg.innerHTML = detail + ' <span style=\"color:var(--muted); font-size:12px; margin-left:8px;\">' + ts + '</span>';\n        entry.appendChild(opSpan);\n        entry.appendChild(msg);\n        opLog.insertBefore(entry, opLog.firstChild);\n\n        // keep log to reasonable length\n        while(opLog.children.length > 150) opLog.removeChild(opLog.lastChild);\n      }\n\n      function status(text, isError){\n        statusMsg.textContent = text;\n        statusMsg.style.color = isError ? 'var(--danger)' : 'var(--muted)';\n      }\n\n      // Stack operations\n      function push(value, animate=true){\n        const cap = parseInt(maxSizeInput.value);\n        if (cap > 0 && stack.length >= cap){\n          status('Push blocked: stack overflow (max size reached)', true);\n          log('push', 'overflow — value: ' + JSON.stringify(value));\n          return false;\n        }\n        stack.push(value);\n        lastOperation = 'push ' + JSON.stringify(value);\n        log('push', 'pushed: ' + JSON.stringify(value));\n        render();\n        if(animate){\n          const slot = stackArea.querySelector('.stack-slot');\n          if(slot) {\n            slot.classList.add('slot-new');\n            setTimeout(()=>slot.classList.remove('slot-new'), 300);\n          }\n        }\n        status('Pushed ' + JSON.stringify(value));\n        return true;\n      }\n\n      function pop(animate=true){\n        if(stack.length === 0){\n          status('Pop failed: stack is empty', true);\n          log('pop', 'underflow — nothing to pop');\n          return undefined;\n        }\n        const val = stack.pop();\n        lastOperation = 'pop -> ' + JSON.stringify(val);\n        log('pop', 'popped: ' + JSON.stringify(val));\n        // animate the top slot pop by creating a temporary element that floats away\n        if(animate){\n          // create temp visual of the popped item\n          const temp = document.createElement('div');\n          temp.className = 'stack-slot slot-pop';\n          temp.textContent = String(val);\n          temp.style.position = 'absolute';\n          temp.style.left = '50%';\n          temp.style.transform = 'translateX(-50%)';\n          temp.style.top = '24px';\n          temp.style.zIndex = 9999;\n          stackArea.appendChild(temp);\n          // remove after animation\n          setTimeout(()=>{ if(temp.parentNode) temp.parentNode.removeChild(temp); }, 320);\n        }\n        render();\n        status('Popped ' + JSON.stringify(val));\n        return val;\n      }\n\n      function peek(){\n        if(stack.length === 0){\n          status('Peek: stack is empty', true);\n          log('peek', 'empty');\n          return undefined;\n        }\n        const v = stack[stack.length-1];\n        lastOperation = 'peek -> ' + JSON.stringify(v);\n        log('peek', 'top: ' + JSON.stringify(v));\n        status('Peeked ' + JSON.stringify(v));\n        render();\n        return v;\n      }\n\n      function clearStack(){\n        if(stack.length === 0){ status('Stack already empty'); return; }\n        stack = [];\n        lastOperation = 'clear';\n        log('clear', 'stack cleared');\n        render();\n        status('Stack cleared');\n      }\n\n      // Helpers for demo actions\n      function randomValue(){\n        const samples = ['apple','42','true','null','7.5','hello','{obj}','[1,2]','⚡','A'];\n        return samples[Math.floor(Math.random()*samples.length)];\n      }\n\n      // event wiring\n      pushBtn.addEventListener('click', () => {\n        const v = valueInput.value.trim();\n        const val = v === '' ? '(empty)' : parseTypedValue(v);\n        if(push(val)) valueInput.value = '';\n        valueInput.focus();\n      });\n\n      popBtn.addEventListener('click', () => pop());\n\n      peekBtn.addEventListener('click', () => {\n        const v = peek();\n        if(v !== undefined){\n          // visually flash top slot\n          const top = stackArea.querySelector('.stack-slot');\n          if(top) flashSlot(top);\n        }\n      });\n\n      clearBtn.addEventListener('click', () => {\n        clearStack();\n      });\n\n      fillRandom.addEventListener('click', () => {\n        // fill 6 random values (respect max)\n        const cap = parseInt(maxSizeInput.value) || Infinity;\n        const toAdd = Math.min(6, cap - stack.length);\n        for(let i=0;i<toAdd;i++) push(randomValue(), false);\n        render();\n        status('Filled ' + toAdd + ' random values');\n      });\n\n      stepPush.addEventListener('click', () => {\n        const val = randomValue();\n        push(val, true);\n      });\n\n      stepPop.addEventListener('click', () => {\n        pop(true);\n      });\n\n      maxSizeInput.addEventListener('change', () => {\n        const val = parseInt(maxSizeInput.value);\n        if(val > 0) capBadge.textContent = val;\n        else capBadge.textContent = '∞';\n        status('Max size set to ' + (val > 0 ? val : '∞'));\n      });\n\n      valueInput.addEventListener('keydown', (e) => {\n        if(e.key === 'Enter'){\n          pushBtn.click();\n        }\n      });\n\n      // parse basic typed values: numbers, booleans, null, JSON if possible, else string\n      function parseTypedValue(s){\n        // try JSON parse for objects/arrays/numbers/booleans/null\n        try {\n          // but treat bare words like \"hello\" as string, so only parse if looks like JSON or primitive:\n          if (/^(true|false|null|\\-?\\d+(\\.\\d+)?(\\s*)$)/i.test(s) || /^[\\[\\{].*[\\]\\}]$/.test(s) ) {\n            return JSON.parse(s);\n          }\n        } catch(e){}\n        // otherwise return raw string\n        return s;\n      }\n\n      // init: small demo sequence\n      render();\n      status('Ready — type a value and press Push, or use the buttons.');\n\n      // Expose some functions to console for experimentation\n      window.demoStack = {\n        push: (v) => { push(v); },\n        pop: () => pop(),\n        peek: () => peek(),\n        get stack(){ return stack.slice(); },\n        clear: clearStack\n      };\n\n      // small accessibility: keyboard shortcuts\n      window.addEventListener('keydown', (e) => {\n        if(e.ctrlKey && e.key === 'p') { e.preventDefault(); pushBtn.click(); }\n        if(e.ctrlKey && e.key === 'o') { e.preventDefault(); popBtn.click(); }\n      });\n\n      // simple drag-to-reorder visual cue (not changing stack) — demonstrate UI capability\n      let dragging = null;\n      stackArea.addEventListener('mousedown', (ev) => {\n        const slot = ev.target.closest('.stack-slot');\n        if(!slot) return;\n        dragging = slot;\n        slot.style.cursor = 'grabbing';\n        slot.style.opacity = 0.9;\n        slot.style.transform = 'scale(1.02)';\n      });\n      window.addEventListener('mouseup', () => {\n        if(dragging){\n          dragging.style.cursor = '';\n          dragging.style.opacity = '';\n          dragging.style.transform = '';\n          dragging = null;\n        }\n      });\n\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Stack"
    }
  ],
  "topic": "Stack",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}