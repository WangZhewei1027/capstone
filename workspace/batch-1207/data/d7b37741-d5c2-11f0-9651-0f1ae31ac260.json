{
  "id": "d7b37741-d5c2-11f0-9651-0f1ae31ac260",
  "timestamp": "2025-12-10T12:24:20.191Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Insertion Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Insertion Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f5f7fa;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n  }\n  #arrayInput {\n    width: 300px;\n    padding: 8px;\n    font-size: 16px;\n  }\n  #sortBtn {\n    padding: 8px 16px;\n    font-size: 16px;\n    margin-left: 10px;\n    cursor: pointer;\n  }\n  #bars {\n    margin-top: 40px;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    height: 300px;\n    border: 1px solid #ccc;\n    background: white;\n    max-width: 90vw;\n    overflow-x: auto;\n    padding: 10px 0;\n  }\n  .bar {\n    width: 30px;\n    margin: 0 3px;\n    background-color: #4caf50;\n    text-align: center;\n    color: white;\n    font-weight: bold;\n    border-radius: 3px 3px 0 0;\n    user-select: none;\n    position: relative;\n  }\n  .bar.current {\n    background-color: #ff5722;\n  }\n  .bar.compared {\n    background-color: #2196f3;\n  }\n  #description {\n    max-width: 600px;\n    margin: 20px auto;\n    font-size: 18px;\n    line-height: 1.4;\n    background: #e3f2fd;\n    padding: 12px 20px;\n    border-radius: 8px;\n  }\n  #speedControl {\n    margin: 20px auto;\n    max-width: 600px;\n    text-align: center;\n  }\n  #speedControl label {\n    margin-right: 10px;\n  }\n</style>\n</head>\n<body>\n<h1>Insertion Sort Visualization</h1>\n<div style=\"text-align:center;\">\n  <input id=\"arrayInput\" type=\"text\" placeholder=\"Enter numbers separated by commas\" value=\"8,5,3,7,6,2,4,1\"/>\n  <button id=\"sortBtn\">Start Sorting</button>\n</div>\n<div id=\"speedControl\">\n  <label for=\"speedRange\">Animation Speed:</label>\n  <input type=\"range\" id=\"speedRange\" min=\"50\" max=\"2000\" step=\"50\" value=\"500\" />\n  <span id=\"speedDisplay\">500 ms</span>\n</div>\n<div id=\"bars\"></div>\n<div id=\"description\">\n  Enter a sequence of numbers separated by commas above and click \"Start Sorting\" to see Insertion Sort in action.<br/>\n  The red bar is the current key being inserted; blue bars are bars being compared; green bars are sorted or untouched.\n</div>\n\n<script>\n  const barsContainer = document.getElementById('bars');\n  const input = document.getElementById('arrayInput');\n  const sortBtn = document.getElementById('sortBtn');\n  const speedRange = document.getElementById('speedRange');\n  const speedDisplay = document.getElementById('speedDisplay');\n\n  let delay = Number(speedRange.value);\n\n  speedRange.addEventListener('input', () => {\n    delay = Number(speedRange.value);\n    speedDisplay.textContent = delay + ' ms';\n  });\n\n  function createBars(arr) {\n    barsContainer.innerHTML = '';\n    let maxValue = Math.max(...arr);\n    arr.forEach(value => {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      bar.style.height = (value / maxValue) * 250 + 30 + 'px';\n      bar.textContent = value;\n      barsContainer.appendChild(bar);\n    });\n  }\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async function insertionSortVisual(arr) {\n    const bars = [...barsContainer.children];\n    for (let i = 1; i < arr.length; i++) {\n      let key = arr[i];\n      let j = i - 1;\n\n      bars[i].classList.add('current'); // key element\n      await sleep(delay);\n\n      while (j >= 0 && arr[j] > key) {\n        bars[j].classList.add('compared');\n        bars[j+1].classList.add('compared');\n        await sleep(delay);\n\n        arr[j + 1] = arr[j];\n        bars[j + 1].style.height = bars[j].style.height;\n        bars[j + 1].textContent = bars[j].textContent;\n\n        bars[j].classList.remove('compared');\n        bars[j+1].classList.remove('compared');\n\n        j--;\n      }\n      arr[j + 1] = key;\n      bars[j + 1].style.height = ((key / Math.max(...arr)) * 250 + 30) + 'px';\n      bars[j + 1].textContent = key;\n\n      bars[i].classList.remove('current');\n      await sleep(delay);\n    }\n    // Final color all bars to indicate finished sorting\n    bars.forEach(bar => bar.style.backgroundColor = '#4caf50');\n  }\n\n  function validateInput(str) {\n    if(!str.trim()) return null;\n    const parts = str.split(',').map(s => s.trim());\n    if(parts.some(p => p === '' || isNaN(Number(p)))) return null;\n    return parts.map(Number);\n  }\n\n  sortBtn.addEventListener('click', async () => {\n    const arr = validateInput(input.value);\n    if (!arr) {\n      alert('Please enter a valid sequence of numbers separated by commas!');\n      return;\n    }\n    createBars(arr);\n    sortBtn.disabled = true;\n    input.disabled = true;\n    speedRange.disabled = true;\n    await insertionSortVisual(arr);\n    sortBtn.disabled = false;\n    input.disabled = false;\n    speedRange.disabled = false;\n  });\n\n  // Initial bars on page load\n  window.onload = () => {\n    const initialArr = validateInput(input.value) || [8,5,3,7,6,2,4,1];\n    createBars(initialArr);\n  };\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Insertion Sort"
    }
  ],
  "topic": "Insertion Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}