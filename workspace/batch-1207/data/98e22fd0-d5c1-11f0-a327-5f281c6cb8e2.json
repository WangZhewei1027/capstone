{
  "id": "98e22fd0-d5c1-11f0-a327-5f281c6cb8e2",
  "timestamp": "2025-12-10T12:17:38.842Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Binary Search",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Binary Search Visualizer</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --panel:#0b1220;\n      --muted:#9aa7bb;\n      --accent:#23c4ff;\n      --good:#2dd670;\n      --bad:#ff6b6b;\n      --card:#071024;\n    }\n    html,body{height:100%; margin:0; font-family:Inter,Segoe UI,Roboto,system-ui,-apple-system,\"Helvetica Neue\",Arial; background:linear-gradient(180deg,#071026 0%, #071b2a 100%); color:#e6f0fb;}\n    .container{max-width:1100px; margin:26px auto; padding:22px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; box-shadow: 0 10px 30px rgba(2,6,23,0.6);}\n    header{display:flex; gap:20px; align-items:center; margin-bottom:16px;}\n    h1{font-size:20px; margin:0;}\n    p.lead{margin:0; color:var(--muted); font-size:13px;}\n    .controls{display:flex; gap:12px; margin:12px 0 18px; flex-wrap:wrap; align-items:center;}\n    .control{background:var(--panel); padding:10px; border-radius:8px; display:flex; gap:8px; align-items:center; color:var(--muted); font-size:13px;}\n    .control label{font-size:12px; color:var(--muted);}\n    input[type=number], input[type=text], select{background:#051522; border:1px solid rgba(255,255,255,0.04); color:#dff4ff; padding:6px 8px; border-radius:6px; outline:none; font-size:13px; width:100px;}\n    input[type=range]{width:120px;}\n    button{background:linear-gradient(180deg, #0ea5d9, #0284c7); color:#062235; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600;}\n    button.ghost{background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted); padding:8px 12px;}\n    .main{display:flex; gap:18px;}\n    .left, .right{flex:1; min-width:300px;}\n    .panel{background:var(--card); padding:14px; border-radius:10px; border:1px solid rgba(255,255,255,0.02);}\n    .array-row{display:flex; gap:8px; align-items:center; padding:16px 6px; justify-content:center; flex-wrap:wrap;}\n    .box{width:54px; height:54px; border-radius:8px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); display:flex; flex-direction:column; align-items:center; justify-content:center; border:1px solid rgba(255,255,255,0.03); color:#cfeeff; position:relative; font-weight:700; transition:all 260ms ease;}\n    .box .idx{position:absolute; top:6px; right:6px; font-size:11px; color:var(--muted); font-weight:500;}\n    .box.small{width:46px;height:46px;}\n    .box.faded{opacity:0.25; transform:scale(0.96);}\n    .box.mid{box-shadow:0 6px 26px rgba(35,196,255,0.12); border:1px solid rgba(35,196,255,0.15); transform:translateY(-6px) scale(1.02);}\n    .box.left-bound{box-shadow:0 6px 20px rgba(45,214,112,0.06); border:1px solid rgba(45,214,112,0.12);}\n    .box.right-bound{box-shadow:0 6px 20px rgba(255,107,107,0.06); border:1px solid rgba(255,107,107,0.12);}\n    .box.found{background:linear-gradient(180deg,#b8ffdf,#a9ffd0); color:#023b25; box-shadow:0 10px 30px rgba(39,186,115,0.12); border:1px solid rgba(6,38,18,0.08);}\n    .box.elim{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); opacity:0.18; color:rgba(255,255,255,0.35); transform:scale(0.96);}\n    .legend{display:flex; gap:8px; align-items:center; margin-top:10px; color:var(--muted); font-size:13px;}\n    .legend .item{display:flex; gap:8px; align-items:center;}\n    .swatch{width:16px; height:16px; border-radius:4px;}\n    .stats{display:flex; gap:12px; margin-top:10px; color:var(--muted); font-size:13px;}\n    .pseudocode{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, \"Roboto Mono\", monospace; font-size:13px; color:var(--muted); padding:10px; border-radius:8px; background:#00121a;}\n    .code-line{padding:6px 8px; border-radius:6px;}\n    .code-line.active{background:linear-gradient(90deg, rgba(35,196,255,0.09), rgba(35,196,255,0.02)); color:var(--accent); font-weight:700;}\n    .log{margin-top:10px; height:120px; overflow:auto; background:#00131a; padding:10px; border-radius:8px; color:var(--muted); font-size:13px;}\n    .footer{margin-top:14px; display:flex; gap:12px; justify-content:space-between; align-items:center; color:var(--muted); font-size:13px;}\n    a { color:var(--accent); text-decoration:none; }\n    @media (max-width:880px){\n      .main{flex-direction:column;}\n      .array-row{justify-content:flex-start; overflow:auto; padding:12px;}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <header>\n      <div>\n        <h1>Binary Search — Interactive Visualizer</h1>\n        <p class=\"lead\">Explore how binary search finds an item in a sorted array. Step through comparisons, watch indices move, and see the O(log n) behavior.</p>\n      </div>\n    </header>\n\n    <div class=\"controls\">\n      <div class=\"control\">\n        <label>Array Size</label>\n        <input id=\"size\" type=\"number\" min=\"3\" max=\"60\" value=\"15\" />\n      </div>\n\n      <div class=\"control\">\n        <label>Max gap</label>\n        <input id=\"maxGap\" type=\"number\" min=\"1\" max=\"50\" value=\"7\" />\n      </div>\n\n      <div class=\"control\">\n        <label>Generate</label>\n        <button id=\"gen\">Random Sorted Array</button>\n      </div>\n\n      <div class=\"control\">\n        <label>Target</label>\n        <input id=\"target\" type=\"text\" placeholder=\"Number to find\" />\n      </div>\n\n      <div class=\"control\">\n        <label>Search</label>\n        <button id=\"stepBtn\" class=\"ghost\">Step</button>\n        <button id=\"playBtn\">Auto Play</button>\n        <button id=\"backBtn\" class=\"ghost\">Back</button>\n        <button id=\"resetBtn\" class=\"ghost\">Reset</button>\n      </div>\n\n      <div class=\"control\">\n        <label>Speed</label>\n        <input id=\"speed\" type=\"range\" min=\"100\" max=\"2000\" value=\"700\" />\n      </div>\n    </div>\n\n    <div class=\"main\">\n      <div class=\"left\">\n        <div class=\"panel\">\n          <div style=\"display:flex; justify-content:space-between; align-items:center;\">\n            <strong>Array (sorted)</strong>\n            <div style=\"color:var(--muted); font-size:13px;\">Click a value to set as target</div>\n          </div>\n\n          <div id=\"array\" class=\"array-row\" style=\"margin-top:12px;\"></div>\n\n          <div class=\"legend\">\n            <div class=\"item\"><div class=\"swatch\" style=\"background:linear-gradient(180deg,#b8ffdf,#a9ffd0);border:1px solid rgba(6,38,18,0.08)\"></div> Found</div>\n            <div class=\"item\"><div class=\"swatch\" style=\"background:linear-gradient(180deg, rgba(35,196,255,0.15), rgba(255,255,255,0.00))\"></div> Mid</div>\n            <div class=\"item\"><div class=\"swatch\" style=\"background:rgba(45,214,112,0.12);border-radius:4px\"></div> Left bound</div>\n            <div class=\"item\"><div class=\"swatch\" style=\"background:rgba(255,107,107,0.12);border-radius:4px\"></div> Right bound</div>\n            <div class=\"item\"><div class=\"swatch\" style=\"background:rgba(255,255,255,0.04);border-radius:4px\"></div> Eliminated</div>\n          </div>\n\n          <div class=\"stats\">\n            <div id=\"status\">Status: Ready</div>\n            <div id=\"steps\">Steps: 0</div>\n            <div id=\"comparisons\">Comparisons: 0</div>\n          </div>\n\n          <div class=\"footer\" style=\"margin-top:12px;\">\n            <div style=\"max-width:60%;\">\n              <div style=\"font-weight:600\">Time complexity:</div>\n              <div style=\"font-size:13px; color:var(--muted)\">O(log n) — each step halves the search range.</div>\n            </div>\n            <div style=\"text-align:right; font-size:13px; color:var(--muted)\">\n              Tip: Binary search works only on sorted arrays.\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"right\">\n        <div class=\"panel\" style=\"margin-bottom:12px;\">\n          <strong>Pseudocode</strong>\n          <div class=\"pseudocode\" id=\"pseudocode\" style=\"margin-top:10px;\">\n            <div class=\"code-line\" data-line=\"1\">1: left = 0</div>\n            <div class=\"code-line\" data-line=\"2\">2: right = n - 1</div>\n            <div class=\"code-line\" data-line=\"3\">3: while left <= right:</div>\n            <div class=\"code-line\" data-line=\"4\">4: &nbsp;&nbsp;&nbsp;mid = floor((left + right) / 2)</div>\n            <div class=\"code-line\" data-line=\"5\">5: &nbsp;&nbsp;&nbsp;if A[mid] == target: return mid</div>\n            <div class=\"code-line\" data-line=\"6\">6: &nbsp;&nbsp;&nbsp;elif A[mid] < target: left = mid + 1</div>\n            <div class=\"code-line\" data-line=\"7\">7: &nbsp;&nbsp;&nbsp;else: right = mid - 1</div>\n            <div class=\"code-line\" data-line=\"8\">8: return not found</div>\n          </div>\n\n          <div class=\"log\" id=\"log\"></div>\n        </div>\n\n        <div class=\"panel\">\n          <strong>Controls & Details</strong>\n          <div style=\"margin-top:10px; color:var(--muted); font-size:13px;\">\n            Use Step to execute one comparison at a time. Auto Play will step automatically. You can click any value in the array to set it as the search target.\n            <div style=\"margin-top:8px;\"><strong>Current target:</strong> <span id=\"curTarget\" style=\"color:var(--accent)\">none</span></div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div style=\"margin-top:12px; color:var(--muted); font-size:13px;\">\n      Built for learning — this demo shows the index movement (left, right, mid) and which elements get eliminated at each step.\n    </div>\n  </div>\n\n  <script>\n    // Binary Search Visualizer\n    (function(){\n      // Elements\n      const arrayEl = document.getElementById('array');\n      const genBtn = document.getElementById('gen');\n      const sizeInput = document.getElementById('size');\n      const maxGapInput = document.getElementById('maxGap');\n      const stepBtn = document.getElementById('stepBtn');\n      const playBtn = document.getElementById('playBtn');\n      const backBtn = document.getElementById('backBtn');\n      const resetBtn = document.getElementById('resetBtn');\n      const targetInput = document.getElementById('target');\n      const curTargetEl = document.getElementById('curTarget');\n      const statusEl = document.getElementById('status');\n      const stepsEl = document.getElementById('steps');\n      const comparisonsEl = document.getElementById('comparisons');\n      const logEl = document.getElementById('log');\n      const speedInput = document.getElementById('speed');\n      const pseudoEls = document.querySelectorAll('.code-line');\n\n      // State\n      let A = [];\n      let n = 0;\n      let target = null;\n\n      // Search runtime state\n      let left = 0, right = -1, mid = null;\n      let comparisons = 0, steps = 0;\n      let finished = false;\n      let foundIndex = null;\n\n      // History of snapshots for stepping back/forward\n      let history = []; // each snapshot: {left,right,mid,comparisons,steps,found,desc,hl}\n      let histIndex = -1;\n\n      // Auto play\n      let playing = false;\n      let playTimer = null;\n\n      // Utilities\n      function log(msg) {\n        const d = document.createElement('div');\n        d.textContent = msg;\n        logEl.prepend(d);\n      }\n\n      function clearLog() { logEl.innerHTML = ''; }\n\n      function generateArray() {\n        n = Math.max(3, Math.min(60, parseInt(sizeInput.value) || 15));\n        const maxGap = Math.max(1, parseInt(maxGapInput.value) || 7);\n        A = [];\n        let cur = Math.floor(Math.random()*3) + 1;\n        for (let i=0;i<n;i++){\n          const gap = Math.floor(Math.random() * maxGap) + 1;\n          cur += gap;\n          A.push(cur);\n        }\n        // Reset search\n        resetSearch();\n        renderArray();\n        log(`Generated array of length ${n}.`);\n      }\n\n      function renderArray(snapshot) {\n        // snapshot optional: if provided, highlight according to it, else show default\n        arrayEl.innerHTML = '';\n        const s = snapshot || {left: left, right: right, mid: mid, found: (foundIndex !== null)};\n        for (let i=0;i<A.length;i++){\n          const b = document.createElement('div');\n          b.className = 'box';\n          b.innerHTML = `<div class=\"idx\">${i}</div><div class=\"val\">${A[i]}</div>`;\n          b.title = `index ${i} → ${A[i]}`;\n          // click to set as target\n          b.addEventListener('click', () => {\n            targetInput.value = A[i];\n            setTargetFromInput();\n          });\n\n          if (s.found && s.mid === i) {\n            b.classList.add('found');\n          } else {\n            if (s.mid === i) b.classList.add('mid');\n            if (s.left !== null && i === s.left) b.classList.add('left-bound');\n            if (s.right !== null && i === s.right) b.classList.add('right-bound');\n\n            // eliminated if outside [left,right]\n            if (s.left !== null && s.right !== null && (i < s.left || i > s.right)) {\n              b.classList.add('elim','faded');\n            }\n          }\n\n          arrayEl.appendChild(b);\n        }\n\n        // update status area\n        statusEl.textContent = finished ? (foundIndex !== null ? `Found at index ${foundIndex}` : 'Not found') : 'Searching...';\n        stepsEl.textContent = `Steps: ${steps}`;\n        comparisonsEl.textContent = `Comparisons: ${comparisons}`;\n\n        // highlight pseudocode\n        highlightLine(snapshot && snapshot.hl ? snapshot.hl : (finished?8:3));\n      }\n\n      function highlightLine(lineNumber) {\n        pseudoEls.forEach(el=>{\n          const ln = parseInt(el.getAttribute('data-line'));\n          if (ln === lineNumber) el.classList.add('active'); else el.classList.remove('active');\n        });\n      }\n\n      function resetSearch() {\n        left = 0;\n        right = A.length - 1;\n        mid = null;\n        comparisons = 0;\n        steps = 0;\n        finished = false;\n        foundIndex = null;\n        history = [];\n        histIndex = -1;\n        clearLog();\n        curTargetEl.textContent = (target===null ? 'none' : target);\n        // initial snapshot\n        pushSnapshot('Initialize search: left=0, right=n-1', 2);\n        renderArray(history[histIndex]);\n      }\n\n      function pushSnapshot(desc, hl) {\n        const snap = {\n          left: left,\n          right: right,\n          mid: mid,\n          comparisons: comparisons,\n          steps: steps,\n          found: (foundIndex !== null),\n          desc: desc || '',\n          hl: hl || 3\n        };\n        // If we've backed up and then make a new step, overwrite future history\n        if (histIndex < history.length - 1) {\n          history = history.slice(0, histIndex + 1);\n        }\n        history.push(snap);\n        histIndex = history.length - 1;\n      }\n\n      function setTargetFromInput() {\n        const raw = targetInput.value.trim();\n        if (raw === '') {\n          target = null;\n          curTargetEl.textContent = 'none';\n          return;\n        }\n        // allow only integer or float numbers\n        const v = Number(raw);\n        if (Number.isNaN(v)) {\n          alert('Target must be a number.');\n          return;\n        }\n        target = v;\n        curTargetEl.textContent = target;\n        log(`Target set to ${target}.`);\n        resetSearch();\n      }\n\n      function stepOnce() {\n        if (finished) {\n          log('Search already finished. Reset to run again.');\n          return;\n        }\n        if (target === null) {\n          alert('Please set a numeric target before searching.');\n          return;\n        }\n\n        // compute mid\n        mid = Math.floor((left + right) / 2);\n        steps++;\n        comparisons++;\n        pushSnapshot(`Compute mid=${mid}`, 4);\n        renderArray(history[histIndex]);\n\n        // small timeout to show mid before comparing\n        setTimeout(()=> {\n          const val = A[mid];\n          if (val === target) {\n            foundIndex = mid;\n            finished = true;\n            pushSnapshot(`Found target at index ${mid}`, 5);\n            log(`Step ${steps}: A[${mid}] == ${target}. Found.`);\n            renderArray(history[histIndex]);\n            stopPlaying();\n          } else if (val < target) {\n            left = mid + 1;\n            pushSnapshot(`A[${mid}] (${val}) < ${target} → move left to ${left}`, 6);\n            log(`Step ${steps}: A[${mid}] (${val}) < ${target} → left = ${left}`);\n            renderArray(history[histIndex]);\n            // check termination\n            if (left > right) {\n              finished = true;\n              pushSnapshot(`left > right → not found`, 8);\n              log(`Terminated: left (${left}) > right (${right}). Not found.`);\n              renderArray(history[histIndex]);\n              stopPlaying();\n            }\n          } else {\n            right = mid - 1;\n            pushSnapshot(`A[${mid}] (${val}) > ${target} → move right to ${right}`, 7);\n            log(`Step ${steps}: A[${mid}] (${val}) > ${target} → right = ${right}`);\n            renderArray(history[histIndex]);\n            if (left > right) {\n              finished = true;\n              pushSnapshot(`left > right → not found`, 8);\n              log(`Terminated: left (${left}) > right (${right}). Not found.`);\n              renderArray(history[histIndex]);\n              stopPlaying();\n            }\n          }\n        }, Math.max(120, Math.min(800, parseInt(speedInput.value) / 2)));\n      }\n\n      function backStep() {\n        if (histIndex <= 0) {\n          log('At the beginning - nothing to go back to.');\n          return;\n        }\n        histIndex--;\n        const s = history[histIndex];\n        // restore from snapshot\n        left = s.left;\n        right = s.right;\n        mid = s.mid;\n        comparisons = s.comparisons;\n        steps = s.steps;\n        finished = s.found || false;\n        foundIndex = s.found ? s.mid : null;\n        renderArray(s);\n        log(`Stepped back: ${s.desc || 'state restored'}`);\n      }\n\n      function resetAll() {\n        stopPlaying();\n        target = null;\n        targetInput.value = '';\n        curTargetEl.textContent = 'none';\n        generateArray();\n        clearLog();\n        pushSnapshot('Reset search', 2);\n        renderArray(history[histIndex]);\n      }\n\n      function startPlaying() {\n        if (playing) return;\n        playing = true;\n        playBtn.textContent = 'Pause';\n        const interval = Math.max(80, parseInt(speedInput.value));\n        playTimer = setInterval(()=> {\n          // If finished or no target, stop\n          if (finished) {\n            stopPlaying();\n            return;\n          }\n          // If left > right -> finished\n          if (left > right) {\n            finished = true;\n            pushSnapshot('left > right → not found', 8);\n            renderArray(history[histIndex]);\n            stopPlaying();\n            return;\n          }\n          stepOnce();\n        }, interval + 60);\n      }\n\n      function stopPlaying() {\n        playing = false;\n        playBtn.textContent = 'Auto Play';\n        if (playTimer) {\n          clearInterval(playTimer);\n          playTimer = null;\n        }\n      }\n\n      // Event handlers\n      genBtn.addEventListener('click', ()=> {\n        generateArray();\n      });\n\n      sizeInput.addEventListener('change', ()=> {\n        generateArray();\n      });\n\n      maxGapInput.addEventListener('change', ()=> {\n        generateArray();\n      });\n\n      targetInput.addEventListener('change', setTargetFromInput);\n      targetInput.addEventListener('keydown', (e)=>{\n        if (e.key === 'Enter') setTargetFromInput();\n      });\n\n      stepBtn.addEventListener('click', ()=>{\n        stopPlaying();\n        stepOnce();\n      });\n\n      playBtn.addEventListener('click', ()=>{\n        if (playing) stopPlaying(); else startPlaying();\n      });\n\n      backBtn.addEventListener('click', ()=>{\n        stopPlaying();\n        backStep();\n      });\n\n      resetBtn.addEventListener('click', ()=>{\n        resetAll();\n      });\n\n      speedInput.addEventListener('input', ()=>{\n        if (playing) {\n          stopPlaying();\n          startPlaying();\n        }\n      });\n\n      // Initialize first array\n      generateArray();\n\n      // expose for debugging (optional)\n      window.bsViz = {\n        A, generateArray, stepOnce, startPlaying, stopPlaying\n      };\n\n      // Accessibility: keyboard shortcuts\n      document.addEventListener('keydown', (e)=>{\n        if (e.key === ' ') { e.preventDefault(); stepBtn.click(); }\n        if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) { playBtn.click(); }\n      });\n\n      // Make sure initial render highlights pseudocode line 2\n      highlightLine(2);\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Binary Search"
    }
  ],
  "topic": "Binary Search",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}