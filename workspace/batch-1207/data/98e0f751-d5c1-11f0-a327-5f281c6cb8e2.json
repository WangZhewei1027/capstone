{
  "id": "98e0f751-d5c1-11f0-a327-5f281c6cb8e2",
  "timestamp": "2025-12-10T12:18:57.013Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Set",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Interactive Demo: JavaScript Set (and set operations)</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    body { font-family: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial; margin: 20px; color: #111; }\n    h1 { margin: 0 0 6px 0; font-size: 20px; }\n    p.lead { margin: 4px 0 16px 0; color: #333; max-width: 60ch; }\n    .container { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; align-items: start; }\n    .card { border: 1px solid #ddd; padding: 12px; border-radius: 8px; background: #fafafa; }\n    label { display:block; font-weight:600; margin-bottom:6px; }\n    input[type=\"text\"] { width:100%; padding:8px; box-sizing:border-box; border:1px solid #ccc; border-radius:6px; }\n    .row { display:flex; gap:8px; margin-top:8px; flex-wrap:wrap; }\n    button { padding:8px 10px; border-radius:6px; border:1px solid #bbb; background:#fff; cursor:pointer; }\n    button.primary { background:#2b8cff; color:white; border-color:#1f6fd6; }\n    button.warn { background:#fff3cd; border-color:#f0b429; }\n    .output { margin-top:10px; font-family: monospace; white-space:pre-wrap; background:#fff; padding:10px; border-radius:6px; border:1px solid #eee; max-height:240px; overflow:auto; }\n    .small { font-size:13px; color:#555; }\n    .flex { display:flex; gap:10px; align-items:center; }\n    .badge { background:#efefef; padding:3px 8px; border-radius:999px; font-weight:600; }\n    footer { margin-top:18px; font-size:13px; color:#555; }\n    .examples { display:flex; gap:8px; flex-wrap:wrap; }\n    .chip { padding:6px 8px; border-radius:6px; background:#fff; border:1px solid #eee; cursor:pointer; }\n    .muted { color:#666; font-size:13px; }\n  </style>\n</head>\n<body>\n  <h1>JavaScript Set — Interactive Demo</h1>\n  <p class=\"lead\">Play with JavaScript's Set object: create sets, see how duplicates are removed, try union/intersection/difference, and learn how Sets treat primitives and objects differently.</p>\n\n  <div class=\"container\">\n    <div class=\"card\">\n      <label>Set A (comma-separated values)</label>\n      <input id=\"inputA\" placeholder=\"e.g. apple, banana, 3, 3, true\" />\n      <div class=\"row\">\n        <button class=\"primary\" id=\"buildA\">Build Set A</button>\n        <button id=\"clearA\">Clear A</button>\n        <button id=\"addObjA\">Add two identical objects to A</button>\n        <button id=\"sampleA\">Sample A (random)</button>\n      </div>\n      <div class=\"output\" id=\"outA\"></div>\n    </div>\n\n    <div class=\"card\">\n      <label>Set B (comma-separated values)</label>\n      <input id=\"inputB\" placeholder=\"e.g. banana, orange, 3, false\" />\n      <div class=\"row\">\n        <button class=\"primary\" id=\"buildB\">Build Set B</button>\n        <button id=\"clearB\">Clear B</button>\n        <button id=\"addObjB\">Add two identical objects to B</button>\n        <button id=\"sampleB\">Sample B (random)</button>\n      </div>\n      <div class=\"output\" id=\"outB\"></div>\n    </div>\n\n    <div class=\"card\" style=\"grid-column: 1 / span 2;\">\n      <label>Set operations</label>\n      <div class=\"row\">\n        <button id=\"showUnion\" class=\"primary\">Union (A ∪ B)</button>\n        <button id=\"showInter\">Intersection (A ∩ B)</button>\n        <button id=\"showDiff\">Difference (A \\ B)</button>\n        <button id=\"showDiffBA\">Difference (B \\ A)</button>\n        <button id=\"showSym\">Symmetric Diff (A Δ B)</button>\n        <button id=\"toArray\">Convert A → Array (remove duplicates)</button>\n        <button id=\"copyA\">Copy A (shallow)</button>\n        <button id=\"iterateA\">Iterate A (for..of)</button>\n        <button id=\"clearBoth\" class=\"warn\">Clear Both</button>\n      </div>\n      <div class=\"output\" id=\"outOps\"></div>\n    </div>\n\n    <div class=\"card\">\n      <label>Quick examples</label>\n      <div class=\"examples\">\n        <div class=\"chip\" id=\"ex1\">Array→Set (dedupe)</div>\n        <div class=\"chip\" id=\"ex2\">Set of objects (reference equality)</div>\n        <div class=\"chip\" id=\"ex3\">Set add/delete/has</div>\n        <div class=\"chip\" id=\"ex4\">Preserves insertion order</div>\n      </div>\n      <div class=\"output\" id=\"outExamples\"></div>\n    </div>\n\n    <div class=\"card\">\n      <label>Notes & tips</label>\n      <div class=\"muted\">\n        - Sets only store unique values. For primitives uniqueness is by value. For objects it's by reference.<br>\n        - Use new Set(array) or spread [...new Set(array)] to remove duplicates from arrays.<br>\n        - Set preserves insertion order when iterating.<br>\n        - Sets are shallow: copied references are the same objects.\n      </div>\n    </div>\n  </div>\n\n  <footer>\n    Tip: Try entering numbers (1, 2, 2) and strings (\"1\", 1) to see that \"1\" (string) and 1 (number) are distinct.\n  </footer>\n\n  <script>\n    // Utility: parse comma-separated tokens into JS values (numbers, booleans, null, undefined, strings)\n    function parseTokens(text) {\n      if (!text) return [];\n      return text.split(',').map(t => t.trim()).filter(t => t.length > 0).map(t => {\n        // detect numeric literal (integers and floats)\n        if (/^-?\\d+(\\.\\d+)?$/.test(t)) return Number(t);\n        if (/^(true|false)$/.test(t.toLowerCase())) return t.toLowerCase() === 'true';\n        if (/^null$/i.test(t)) return null;\n        if (/^undefined$/i.test(t)) return undefined;\n        // quoted strings: \"hello\" or 'hello'\n        const m = t.match(/^\"(.*)\"$|^'(.*)'$/);\n        if (m) return m[1] ?? m[2];\n        // otherwise keep as raw string\n        return t;\n      });\n    }\n\n    // Visual representation helper\n    function repr(value) {\n      if (value === null) return 'null';\n      if (value === undefined) return 'undefined';\n      if (typeof value === 'string') return '\"' + value + '\"';\n      if (typeof value === 'object') {\n        try { return JSON.stringify(value); } catch(e) { return String(value); }\n      }\n      return String(value);\n    }\n\n    // Show set contents\n    function showSet(set) {\n      const arr = [];\n      for (const v of set) arr.push(repr(v) + ' (' + typeof v + ')');\n      return '[' + arr.join(', ') + ']  size=' + set.size;\n    }\n\n    // Basic set operations\n    function union(A, B) {\n      return new Set([...A, ...B]);\n    }\n    function intersection(A, B) {\n      return new Set([...A].filter(x => B.has(x)));\n    }\n    function difference(A, B) {\n      return new Set([...A].filter(x => !B.has(x)));\n    }\n    function symmetricDiff(A, B) {\n      return union(difference(A,B), difference(B,A));\n    }\n\n    // State\n    let setA = new Set();\n    let setB = new Set();\n\n    // Elements\n    const inputA = document.getElementById('inputA');\n    const inputB = document.getElementById('inputB');\n    const outA = document.getElementById('outA');\n    const outB = document.getElementById('outB');\n    const outOps = document.getElementById('outOps');\n    const outExamples = document.getElementById('outExamples');\n\n    // Buttons\n    document.getElementById('buildA').addEventListener('click', () => {\n      const values = parseTokens(inputA.value);\n      setA = new Set(values);\n      renderA();\n      outOps.textContent = 'Built Set A from input.';\n    });\n    document.getElementById('buildB').addEventListener('click', () => {\n      const values = parseTokens(inputB.value);\n      setB = new Set(values);\n      renderB();\n      outOps.textContent = 'Built Set B from input.';\n    });\n\n    document.getElementById('clearA').addEventListener('click', () => {\n      setA.clear();\n      renderA();\n      outOps.textContent = 'Cleared A.';\n    });\n    document.getElementById('clearB').addEventListener('click', () => {\n      setB.clear();\n      renderB();\n      outOps.textContent = 'Cleared B.';\n    });\n    document.getElementById('clearBoth').addEventListener('click', () => {\n      setA.clear(); setB.clear();\n      renderA(); renderB();\n      outOps.textContent = 'Cleared both sets.';\n    });\n\n    document.getElementById('sampleA').addEventListener('click', () => {\n      const samples = ['apple', 'banana', 'orange', 1, 2, 3, true, '1'];\n      setA = new Set([samples[Math.floor(Math.random()*samples.length)], samples[Math.floor(Math.random()*samples.length)], 'x', 'x', 2]);\n      renderA();\n      outOps.textContent = 'Sample A created (with duplicates removed).';\n    });\n    document.getElementById('sampleB').addEventListener('click', () => {\n      const samples = ['banana','pear','lemon',3,4,false,'1'];\n      setB = new Set([samples[Math.floor(Math.random()*samples.length)], samples[Math.floor(Math.random()*samples.length)], null, null]);\n      renderB();\n      outOps.textContent = 'Sample B created (with duplicates removed).';\n    });\n\n    // Add two identical-looking objects to show reference equality\n    document.getElementById('addObjA').addEventListener('click', () => {\n      const obj1 = { name: 'obj', x: 1 };\n      const obj2 = { name: 'obj', x: 1 }; // same structure but different reference\n      setA.add(obj1).add(obj2);\n      renderA();\n      outOps.textContent = 'Added two distinct object references (same properties) to A — both appear.';\n    });\n    document.getElementById('addObjB').addEventListener('click', () => {\n      const obj1 = { name: 'obj', x: 1 };\n      const obj2 = obj1; // same reference\n      setB.add(obj1).add(obj2);\n      renderB();\n      outOps.textContent = 'Added the same object reference twice to B — only one item stored.';\n    });\n\n    // Operations\n    document.getElementById('showUnion').addEventListener('click', () => {\n      const u = union(setA, setB);\n      outOps.textContent = 'Union (A ∪ B):\\n' + showSet(u);\n    });\n    document.getElementById('showInter').addEventListener('click', () => {\n      const i = intersection(setA, setB);\n      outOps.textContent = 'Intersection (A ∩ B):\\n' + showSet(i);\n    });\n    document.getElementById('showDiff').addEventListener('click', () => {\n      const d = difference(setA, setB);\n      outOps.textContent = 'Difference (A \\\\ B):\\n' + showSet(d);\n    });\n    document.getElementById('showDiffBA').addEventListener('click', () => {\n      const d = difference(setB, setA);\n      outOps.textContent = 'Difference (B \\\\ A):\\n' + showSet(d);\n    });\n    document.getElementById('showSym').addEventListener('click', () => {\n      const s = symmetricDiff(setA, setB);\n      outOps.textContent = 'Symmetric difference (A Δ B):\\n' + showSet(s);\n    });\n\n    document.getElementById('toArray').addEventListener('click', () => {\n      const arr = [...setA];\n      outOps.textContent = 'A converted to array (duplicates removed if any):\\n' + JSON.stringify(arr, null, 2) + '\\n\\nNote elements keep their types. Example: ' + showSet(setA);\n    });\n    document.getElementById('copyA').addEventListener('click', () => {\n      const copy = new Set(setA);\n      outOps.textContent = 'Shallow copy of A created. copy === setA ? (no) — but elements reference-equal for objects:';\n      outOps.textContent += '\\nOriginal A: ' + showSet(setA) + '\\nCopy: ' + showSet(copy);\n    });\n    document.getElementById('iterateA').addEventListener('click', () => {\n      let s = 'Iterating A with for..of:\\n';\n      for (const v of setA) s += '  - ' + repr(v) + ' (' + typeof v + ')\\n';\n      s += '\\nAlso demonstrating forEach (Set.prototype.forEach):\\n';\n      setA.forEach((v, same, setRef) => { s += '  * forEach value: ' + repr(v) + '\\\\n'; });\n      outOps.textContent = s;\n    });\n\n    // Example quick-chips\n    document.getElementById('ex1').addEventListener('click', () => {\n      const arr = [1,2,2,3,3,3,'a','a'];\n      const dedup = [...new Set(arr)];\n      outExamples.textContent = 'Array: ' + JSON.stringify(arr) + '\\nAfter [...new Set(array)]: ' + JSON.stringify(dedup);\n    });\n    document.getElementById('ex2').addEventListener('click', () => {\n      const a = {id:1}, b = {id:1}, c = a;\n      const s = new Set([a,b,c]);\n      outExamples.textContent = 'Objects a and b have same properties but are different references.\\nSet([a,b,c]) results in size=' + s.size + '  (' + Array.from(s).map(repr).join(', ') + ')\\nShows reference equality, not deep equality.';\n    });\n    document.getElementById('ex3').addEventListener('click', () => {\n      const s = new Set();\n      s.add(1);\n      s.add(1);\n      s.add('1');\n      s.delete(1);\n      outExamples.textContent = 'Demo add/delete/has:\\nAdded 1 twice and \"1\". After delete(1): has(1)=' + s.has(1) + ', has(\"1\")=' + s.has('1') + '\\nSet contents: ' + showSet(s);\n    });\n    document.getElementById('ex4').addEventListener('click', () => {\n      const s = new Set();\n      s.add('first');\n      s.add('second');\n      s.add('third');\n      s.delete('second');\n      s.add('second'); // re-adding goes to the end (insertion order)\n      outExamples.textContent = 'Insertion order preserved. Sequence after operations: ' + showSet(s);\n    });\n\n    // Rendering functions\n    function renderA() {\n      outA.textContent = 'A: ' + showSet(setA);\n      // show entries on separate lines\n      outA.textContent += '\\n\\nElements (in insertion order):\\n';\n      for (const v of setA) outA.textContent += '  - ' + repr(v) + ' (' + typeof v + ')\\n';\n    }\n    function renderB() {\n      outB.textContent = 'B: ' + showSet(setB);\n      outB.textContent += '\\n\\nElements (in insertion order):\\n';\n      for (const v of setB) outB.textContent += '  - ' + repr(v) + ' (' + typeof v + ')\\n';\n    }\n\n    // initial state\n    inputA.value = 'apple, banana, 3, 3, true';\n    inputB.value = 'banana, orange, 3, false';\n    document.getElementById('buildA').click();\n    document.getElementById('buildB').click();\n    outOps.textContent = 'Built initial sample sets A and B. Try operations above.';\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Set"
    }
  ],
  "topic": "Set",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}