{
  "id": "d79b8f31-d361-11f0-8438-11a56595a476",
  "timestamp": "2025-12-07T11:44:24.634Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Hash Table",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Hash Table Demo in JavaScript</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    max-width: 700px;\n  }\n  h1 {\n    text-align: center;\n  }\n  #hashTableContainer {\n    margin-top: 20px;\n  }\n  table {\n    border-collapse: collapse;\n    width: 100%;\n    margin-top: 10px;\n  }\n  th, td {\n    border: 1px solid #555;\n    padding: 8px;\n    text-align: left;\n  }\n  th {\n    background-color: #ddd;\n  }\n  input[type=\"text\"], input[type=\"number\"] {\n    padding: 6px;\n    margin: 6px 8px 6px 0;\n    width: 150px;\n  }\n  button {\n    padding: 7px 12px;\n    margin: 6px 5px 6px 0;\n  }\n  #messages {\n    margin-top: 15px;\n    min-height: 20px;\n  }\n  small {\n    color: #666;\n  }\n</style>\n</head>\n<body>\n\n<h1>Hash Table Implementation Demo</h1>\n\n<p>This demo implements a simple hash table with separate chaining in JavaScript.</p>\n\n<form id=\"formInsert\" onsubmit=\"return false;\">\n  <strong>Insert / Update Key-Value Pair</strong><br/>\n  <input type=\"text\" id=\"insertKey\" placeholder=\"Key (string)\" required />\n  <input type=\"text\" id=\"insertValue\" placeholder=\"Value (string)\" required />\n  <button onclick=\"insertKeyValue()\">Insert / Update</button>\n</form>\n\n<form id=\"formSearch\" onsubmit=\"return false;\">\n  <strong>Search by Key</strong><br/>\n  <input type=\"text\" id=\"searchKey\" placeholder=\"Key (string)\" required />\n  <button onclick=\"searchKey()\">Search</button>\n</form>\n\n<form id=\"formRemove\" onsubmit=\"return false;\">\n  <strong>Remove by Key</strong><br/>\n  <input type=\"text\" id=\"removeKey\" placeholder=\"Key (string)\" required />\n  <button onclick=\"removeKey()\">Remove</button>\n</form>\n\n<button onclick=\"clearHashTable()\" style=\"background:#c33; color:#fff;\">Clear Hash Table</button>\n\n<div id=\"messages\"></div>\n\n<div id=\"hashTableContainer\">\n  <h2>Hash Table Buckets (Separate Chaining)</h2>\n  <label>Number of Buckets:\n    <input type=\"number\" id=\"bucketCount\" value=\"8\" min=\"1\" max=\"50\" onchange=\"changeBucketCount()\" />\n  </label>\n  <small> - Increasing buckets reduces collisions but uses more memory.</small>\n  <div id=\"tableWrapper\"></div>\n</div>\n\n<script>\n/**\n * Simple Hash Table implementation with separate chaining.\n * Keys and values are strings.\n */\n\nclass HashTable {\n  constructor(size = 8) {\n    this.size = size;\n    this.buckets = Array(size).fill(null).map(() => []);\n  }\n\n  // djb2 hash function - good for strings\n  hash(key) {\n    let hash = 5381;\n    for (let i = 0; i < key.length; i++) {\n      hash = ((hash << 5) + hash) + key.charCodeAt(i); /* hash * 33 + c */\n    }\n    return Math.abs(hash) % this.size;\n  }\n\n  set(key, value) {\n    const index = this.hash(key);\n    const bucket = this.buckets[index];\n\n    for (let i=0; i < bucket.length; i++) {\n      if (bucket[i][0] === key) {\n        bucket[i][1] = value; // Update existing\n        return false; // false means updated\n      }\n    }\n    bucket.push([key, value]); // Add new\n    return true; // true means inserted new\n  }\n\n  get(key) {\n    const index = this.hash(key);\n    const bucket = this.buckets[index];\n    for (let i=0; i < bucket.length; i++) {\n      if (bucket[i][0] === key) {\n        return bucket[i][1];\n      }\n    }\n    return undefined;\n  }\n\n  remove(key) {\n    const index = this.hash(key);\n    const bucket = this.buckets[index];\n    for (let i=0; i < bucket.length; i++) {\n      if (bucket[i][0] === key) {\n        bucket.splice(i,1);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  clear() {\n    this.buckets = Array(this.size).fill(null).map(() => []);\n  }\n\n  changeSize(newSize) {\n    newSize = Math.max(1, newSize);\n    // Rehash all elements to new bucket array\n    const allItems = [];\n    for (const bucket of this.buckets) {\n      allItems.push(...bucket);\n    }\n    this.size = newSize;\n    this.buckets = Array(newSize).fill(null).map(() => []);\n    for (const [key, value] of allItems) {\n      this.set(key, value);\n    }\n  }\n}\n\nconst hashTable = new HashTable(8);\n\nconst messagesDiv = document.getElementById(\"messages\");\nconst tableWrapper = document.getElementById(\"tableWrapper\");\n\nfunction displayMessage(msg, isError = false) {\n  messagesDiv.textContent = msg;\n  messagesDiv.style.color = isError ? \"crimson\" : \"green\";\n  if (!msg) {\n    messagesDiv.style.color = \"\";\n  }\n}\n\nfunction refreshTable() {\n  const buckets = hashTable.buckets;\n  let html = '<table><thead><tr><th>Bucket #</th><th>Key => Value Pairs</th></tr></thead><tbody>';\n  for(let i = 0; i < buckets.length; i++) {\n    if (buckets[i].length === 0) {\n      html += `<tr><td>${i}</td><td><i>empty</i></td></tr>`;\n    } else {\n      const pairs = buckets[i].map(([k,v]) => `<strong>${escapeHTML(k)}</strong> =&gt; ${escapeHTML(v)}`).join(\"<br/>\");\n      html += `<tr><td>${i}</td><td>${pairs}</td></tr>`;\n    }\n  }\n  html += \"</tbody></table>\";\n  tableWrapper.innerHTML = html;\n}\n\nfunction escapeHTML(text) {\n  return text.replace(/[&<>\"'`=\\/]/g, function(s) {\n    return ({\n      '&': \"&amp;\",\n      '<': \"&lt;\",\n      '>': \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#39;\",\n      '/': \"&#x2F;\",\n      '`': \"&#96;\",\n      '=': \"&#x3D;\"\n    })[s];\n  });\n}\n\nfunction insertKeyValue() {\n  const keyInput = document.getElementById(\"insertKey\");\n  const valueInput = document.getElementById(\"insertValue\");\n  const key = keyInput.value.trim();\n  const value = valueInput.value.trim();\n\n  if (key === \"\" || value === \"\") {\n    displayMessage(\"Both key and value are required.\", true);\n    return;\n  }\n\n  const insertedNew = hashTable.set(key, value);\n  displayMessage(insertedNew ? `Inserted new key \"${key}\".` : `Updated existing key \"${key}\".`);\n  keyInput.value = \"\";\n  valueInput.value = \"\";\n  keyInput.focus();\n  refreshTable();\n}\n\nfunction searchKey() {\n  const keyInput = document.getElementById(\"searchKey\");\n  const key = keyInput.value.trim();\n  if (key === \"\") {\n    displayMessage(\"Please enter a key to search for.\", true);\n    return;\n  }\n  const value = hashTable.get(key);\n  if (value === undefined) {\n    displayMessage(`Key \"${key}\" not found.`, true);\n  } else {\n    displayMessage(`Key \"${key}\" found with value: \"${value}\".`);\n  }\n  keyInput.value = \"\";\n  keyInput.focus();\n}\n\nfunction removeKey() {\n  const keyInput = document.getElementById(\"removeKey\");\n  const key = keyInput.value.trim();\n  if (key === \"\") {\n    displayMessage(\"Please enter a key to remove.\", true);\n    return;\n  }\n  const removed = hashTable.remove(key);\n  if (removed) {\n    displayMessage(`Key \"${key}\" removed.`);\n  } else {\n    displayMessage(`Key \"${key}\" not found.`, true);\n  }\n  keyInput.value = \"\";\n  keyInput.focus();\n  refreshTable();\n}\n\nfunction clearHashTable() {\n  if(confirm(\"Are you sure you want to clear the entire hash table?\")) {\n    hashTable.clear();\n    displayMessage(\"Hash table cleared.\");\n    refreshTable();\n  }\n}\n\nfunction changeBucketCount() {\n  const bucketCountInput = document.getElementById(\"bucketCount\");\n  let newCount = parseInt(bucketCountInput.value, 10);\n  if (isNaN(newCount) || newCount < 1) {\n    newCount = 8;\n    bucketCountInput.value = newCount;\n  }\n  hashTable.changeSize(newCount);\n  displayMessage(`Number of buckets changed to ${newCount}. Table rehashed.`);\n  refreshTable();\n}\n\n// On load:\nrefreshTable();\n\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Hash Table"
    }
  ],
  "topic": "Hash Table",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}