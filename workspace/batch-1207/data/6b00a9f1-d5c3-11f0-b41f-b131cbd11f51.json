{
  "id": "6b00a9f1-d5c3-11f0-b41f-b131cbd11f51",
  "timestamp": "2025-12-10T12:30:53.114Z",
  "model": "deepseek-chat",
  "status": "success",
  "question": "Heap Sort",
  "answer": {
    "role": "assistant",
    "content": "# Heap Sort Visualization\n\nI'll create an interactive visualization of the Heap Sort algorithm that demonstrates how this sorting method works step by step.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Heap Sort Visualization</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        body {\n            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);\n            min-height: 100vh;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 20px;\n            color: white;\n        }\n        \n        .container {\n            width: 90%;\n            max-width: 1100px;\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(10px);\n            border-radius: 20px;\n            padding: 30px;\n            margin-top: 20px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n        }\n        \n        h1 {\n            text-align: center;\n            margin-bottom: 10px;\n            font-size: 2.5rem;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n        }\n        \n        .subtitle {\n            text-align: center;\n            margin-bottom: 30px;\n            font-size: 1.2rem;\n            opacity: 0.9;\n        }\n        \n        .controls {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 15px;\n            justify-content: center;\n            margin-bottom: 30px;\n            padding: 15px;\n            background: rgba(0, 0, 0, 0.2);\n            border-radius: 10px;\n        }\n        \n        button {\n            padding: 10px 20px;\n            background: #4a00e0;\n            color: white;\n            border: none;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 1rem;\n            transition: all 0.3s ease;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        \n        button:hover {\n            background: #8e2de2;\n            transform: translateY(-2px);\n        }\n        \n        button:disabled {\n            background: #6c757d;\n            cursor: not-allowed;\n            transform: none;\n        }\n        \n        .slider-container {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            margin: 10px 0;\n        }\n        \n        .slider-container label {\n            font-weight: bold;\n            min-width: 150px;\n        }\n        \n        input[type=\"range\"] {\n            width: 200px;\n        }\n        \n        .array-container {\n            display: flex;\n            justify-content: center;\n            align-items: flex-end;\n            height: 300px;\n            margin: 20px 0;\n            background: rgba(0, 0, 0, 0.2);\n            border-radius: 10px;\n            padding: 20px;\n            position: relative;\n            overflow: hidden;\n        }\n        \n        .array-bar {\n            width: 30px;\n            margin: 0 2px;\n            background: linear-gradient(to top, #00c6ff, #0072ff);\n            border-radius: 5px 5px 0 0;\n            transition: all 0.3s ease;\n            display: flex;\n            align-items: flex-end;\n            justify-content: center;\n            color: white;\n            font-weight: bold;\n            padding-bottom: 5px;\n        }\n        \n        .heap-container {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin-top: 30px;\n            background: rgba(0, 0, 0, 0.2);\n            border-radius: 10px;\n            padding: 20px;\n        }\n        \n        .heap-level {\n            display: flex;\n            justify-content: center;\n            margin: 10px 0;\n        }\n        \n        .heap-node {\n            width: 50px;\n            height: 50px;\n            background: linear-gradient(135deg, #ff7e5f, #feb47b);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin: 0 15px;\n            font-weight: bold;\n            color: white;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n            transition: all 0.3s ease;\n            position: relative;\n        }\n        \n        .heap-node.active {\n            background: linear-gradient(135deg, #ff416c, #ff4b2b);\n            transform: scale(1.2);\n            box-shadow: 0 0 15px #ff416c;\n        }\n        \n        .heap-node.swapping {\n            background: linear-gradient(135deg, #1dff6b, #00d4ff);\n        }\n        \n        .explanation {\n            margin-top: 30px;\n            padding: 20px;\n            background: rgba(0, 0, 0, 0.2);\n            border-radius: 10px;\n            line-height: 1.6;\n        }\n        \n        .explanation h2 {\n            margin-bottom: 15px;\n            color: #ffcc00;\n        }\n        \n        .explanation p {\n            margin-bottom: 15px;\n        }\n        \n        .complexity {\n            display: flex;\n            justify-content: space-around;\n            margin-top: 20px;\n            flex-wrap: wrap;\n        }\n        \n        .complexity-box {\n            background: rgba(0, 0, 0, 0.3);\n            padding: 15px;\n            border-radius: 10px;\n            text-align: center;\n            min-width: 200px;\n            margin: 10px;\n        }\n        \n        .complexity-box h3 {\n            color: #ffcc00;\n            margin-bottom: 10px;\n        }\n        \n        .step-info {\n            background: rgba(0, 0, 0, 0.3);\n            padding: 15px;\n            border-radius: 10px;\n            margin-top: 20px;\n            text-align: center;\n            font-weight: bold;\n            min-height: 60px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        \n        .connections {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n        }\n        \n        .connection-line {\n            stroke: rgba(255, 255, 255, 0.7);\n            stroke-width: 2;\n        }\n        \n        @media (max-width: 768px) {\n            .controls {\n                flex-direction: column;\n                align-items: center;\n            }\n            \n            .array-bar {\n                width: 20px;\n            }\n            \n            .heap-node {\n                width: 40px;\n                height: 40px;\n                margin: 0 10px;\n            }\n        }\n    </style>\n</head>\n<body>\n    <h1>Heap Sort Visualization</h1>\n    <p class=\"subtitle\">Watch how the Heap Sort algorithm organizes data step by step</p>\n    \n    <div class=\"container\">\n        <div class=\"controls\">\n            <button id=\"generate-btn\">Generate New Array</button>\n            <button id=\"sort-btn\">Start Heap Sort</button>\n            <button id=\"reset-btn\">Reset</button>\n            <button id=\"step-btn\">Next Step</button>\n            \n            <div class=\"slider-container\">\n                <label for=\"size-slider\">Array Size:</label>\n                <input type=\"range\" id=\"size-slider\" min=\"5\" max=\"20\" value=\"10\">\n                <span id=\"size-value\">10</span>\n            </div>\n            \n            <div class=\"slider-container\">\n                <label for=\"speed-slider\">Animation Speed:</label>\n                <input type=\"range\" id=\"speed-slider\" min=\"1\" max=\"10\" value=\"5\">\n                <span id=\"speed-value\">5</span>\n            </div>\n        </div>\n        \n        <div class=\"step-info\" id=\"step-info\">\n            Click \"Generate New Array\" to begin\n        </div>\n        \n        <div class=\"array-container\" id=\"array-container\">\n            <!-- Array bars will be generated here -->\n        </div>\n        \n        <div class=\"heap-container\">\n            <h2>Binary Heap Representation</h2>\n            <div id=\"heap-display\">\n                <!-- Heap visualization will be generated here -->\n            </div>\n            <svg class=\"connections\" id=\"heap-connections\"></svg>\n        </div>\n        \n        <div class=\"explanation\">\n            <h2>How Heap Sort Works</h2>\n            <p>Heap Sort is a comparison-based sorting algorithm that uses a binary heap data structure. It has two main phases:</p>\n            <ol>\n                <li><strong>Heapify:</strong> Build a max heap from the input data. In a max heap, the parent node is always greater than or equal to its children.</li>\n                <li><strong>Sorting:</strong> Repeatedly extract the maximum element from the heap and place it at the end of the sorted portion of the array.</li>\n            </ol>\n            <p>The algorithm continues this process until the entire array is sorted.</p>\n        </div>\n        \n        <div class=\"complexity\">\n            <div class=\"complexity-box\">\n                <h3>Time Complexity</h3>\n                <p>Best: O(n log n)</p>\n                <p>Average: O(n log n)</p>\n                <p>Worst: O(n log n)</p>\n            </div>\n            <div class=\"complexity-box\">\n                <h3>Space Complexity</h3>\n                <p>Worst: O(1)</p>\n            </div>\n            <div class=\"complexity-box\">\n                <h3>Key Characteristics</h3>\n                <p>In-place algorithm</p>\n                <p>Not stable</p>\n                <p>Comparison-based</p>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // DOM Elements\n        const arrayContainer = document.getElementById('array-container');\n        const heapDisplay = document.getElementById('heap-display');\n        const heapConnections = document.getElementById('heap-connections');\n        const generateBtn = document.getElementById('generate-btn');\n        const sortBtn = document.getElementById('sort-btn');\n        const resetBtn = document.getElementById('reset-btn');\n        const stepBtn = document.getElementById('step-btn');\n        const sizeSlider = document.getElementById('size-slider');\n        const sizeValue = document.getElementById('size-value');\n        const speedSlider = document.getElementById('speed-slider');\n        const speedValue = document.getElementById('speed-value');\n        const stepInfo = document.getElementById('step-info');\n\n        // Global variables\n        let array = [];\n        let arraySize = parseInt(sizeSlider.value);\n        let animationSpeed = 600 - (parseInt(speedSlider.value) * 50);\n        let isSorting = false;\n        let sortingSteps = [];\n        let currentStep = 0;\n        let heapArray = [];\n        let heapStructure = [];\n\n        // Initialize\n        document.addEventListener('DOMContentLoaded', () => {\n            generateNewArray();\n            updateSizeValue();\n            updateSpeedValue();\n        });\n\n        // Event listeners\n        generateBtn.addEventListener('click', generateNewArray);\n        sortBtn.addEventListener('click', startSorting);\n        resetBtn.addEventListener('click', resetSorting);\n        stepBtn.addEventListener('click', performNextStep);\n        sizeSlider.addEventListener('input', updateSizeValue);\n        speedSlider.addEventListener('input', updateSpeedValue);\n\n        // Update array size value display\n        function updateSizeValue() {\n            arraySize = parseInt(sizeSlider.value);\n            sizeValue.textContent = arraySize;\n            generateNewArray();\n        }\n\n        // Update animation speed value display\n        function updateSpeedValue() {\n            const speed = parseInt(speedSlider.value);\n            speedValue.textContent = speed;\n            animationSpeed = 600 - (speed * 50);\n        }\n\n        // Generate a new random array\n        function generateNewArray() {\n            if (isSorting) return;\n            \n            array = [];\n            for (let i = 0; i < arraySize; i++) {\n                array.push(Math.floor(Math.random() * 90) + 10);\n            }\n            \n            renderArray();\n            resetHeapDisplay();\n            stepInfo.textContent = \"New array generated. Click 'Start Heap Sort' to begin.\";\n            sortingSteps = [];\n            currentStep = 0;\n            enableButtons(true);\n        }\n\n        // Render the array as bars\n        function renderArray() {\n            arrayContainer.innerHTML = '';\n            const containerHeight = arrayContainer.clientHeight - 40;\n            const maxValue = Math.max(...array);\n            \n            array.forEach((value, index) => {\n                const bar = document.createElement('div');\n                bar.classList.add('array-bar');\n                bar.style.height = `${(value / maxValue) * containerHeight}px`;\n                bar.textContent = value;\n                bar.id = `bar-${index}`;\n                arrayContainer.appendChild(bar);\n            });\n        }\n\n        // Reset the heap display\n        function resetHeapDisplay() {\n            heapDisplay.innerHTML = '';\n            heapConnections.innerHTML = '';\n            heapArray = [...array];\n            heapStructure = [];\n            stepInfo.textContent = \"Array ready for sorting.\";\n        }\n\n        // Enable or disable buttons\n        function enableButtons(enable) {\n            generateBtn.disabled = !enable || isSorting;\n            sortBtn.disabled = !enable || isSorting;\n            stepBtn.disabled = !enable || isSorting;\n            sizeSlider.disabled = isSorting;\n        }\n\n        // Start the sorting process\n        function startSorting() {\n            if (isSorting || sortingSteps.length > 0) return;\n            \n            isSorting = true;\n            enableButtons(false);\n            stepBtn.disabled = true;\n            \n            // Generate sorting steps\n            generateSortingSteps();\n            \n            // Start animation\n            animateSorting();\n        }\n\n        // Reset the sorting process\n        function resetSorting() {\n            isSorting = false;\n            currentStep = 0;\n            sortingSteps = [];\n            generateNewArray();\n        }\n\n        // Generate all sorting steps\n        function generateSortingSteps() {\n            // Create a copy of the array to avoid modifying the original\n            const sortedArray = [...array];\n            const steps = [];\n            const n = sortedArray.length;\n            \n            // Build max heap\n            for (let i = Math.floor(n / 2) - 1; i >= 0; i--) {\n                heapify(sortedArray, n, i, steps);\n            }\n            \n            // Extract elements from heap one by one\n            for (let i = n - 1; i > 0; i--) {\n                // Move current root to end\n                steps.push({type: 'swap', indices: [0, i], heap: [...sortedArray]});\n                [sortedArray[0], sortedArray[i]] = [sortedArray[i], sortedArray[0]];\n                \n                // Call max heapify on the reduced heap\n                heapify(sortedArray, i, 0, steps);\n            }\n            \n            sortingSteps = steps;\n        }\n\n        // Heapify a subtree rooted with node i which is an index in arr[]\n        function heapify(arr, n, i, steps) {\n            let largest = i;\n            const left = 2 * i + 1;\n            const right = 2 * i + 2;\n            \n            // Mark the current node and its children for comparison\n            steps.push({type: 'compare', indices: [i, left, right], heap: [...arr]});\n            \n            // If left child is larger than root\n            if (left < n && arr[left] > arr[largest]) {\n                largest = left;\n            }\n            \n            // If right child is larger than largest so far\n            if (right < n && arr[right] > arr[largest]) {\n                largest = right;\n            }\n            \n            // If largest is not root\n            if (largest !== i) {\n                steps.push({type: 'swap', indices: [i, largest], heap: [...arr]});\n                [arr[i], arr[largest]] = [arr[largest], arr[i]];\n                \n                // Recursively heapify the affected sub-tree\n                heapify(arr, n, largest, steps);\n            }\n        }\n\n        // Animate the sorting process\n        function animateSorting() {\n            if (currentStep >= sortingSteps.length) {\n                isSorting = false;\n                stepInfo.textContent = \"Sorting completed!\";\n                enableButtons(true);\n                stepBtn.disabled = true;\n                return;\n            }\n            \n            const step = sortingSteps[currentStep];\n            highlightStep(step);\n            \n            currentStep++;\n            \n            if (isSorting) {\n                setTimeout(() => {\n                    animateSorting();\n                }, animationSpeed);\n            }\n        }\n\n        // Perform the next step when step button is clicked\n        function performNextStep() {\n            if (currentStep >= sortingSteps.length) {\n                stepInfo.textContent = \"Sorting completed!\";\n                stepBtn.disabled = true;\n                return;\n            }\n            \n            const step = sortingSteps[currentStep];\n            highlightStep(step);\n            currentStep++;\n        }\n\n        // Highlight the current step in the visualization\n        function highlightStep(step) {\n            // Update the array visualization\n            array = step.heap;\n            renderArray();\n            \n            // Update the heap visualization\n            updateHeapVisualization(step.heap);\n            \n            // Highlight the relevant elements\n            if (step.type === 'compare') {\n                const [parent, left, right] = step.indices;\n                stepInfo.textContent = `Comparing parent (${array[parent]}) with children (${left < array.length ? array[left] : 'N/A'}, ${right < array.length ? array[right] : 'N/A'})`;\n                \n                highlightArrayBar(parent, 'active');\n                if (left < array.length) highlightArrayBar(left, 'active');\n                if (right < array.length) highlightArrayBar(right, 'active');\n                \n            } else if (step.type === 'swap') {\n                const [i, j] = step.indices"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Heap Sort"
    }
  ],
  "topic": "Heap Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}