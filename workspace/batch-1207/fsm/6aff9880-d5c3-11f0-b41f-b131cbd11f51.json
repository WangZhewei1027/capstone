{
  "meta": {
    "concept": "Hash Table Visualization",
    "topic": "Hash Table",
    "educational_goal": "To demonstrate the operations of a hash table including insertion, deletion, and searching.",
    "expected_interactions": [
      "Insert",
      "Search",
      "Remove",
      "Clear Table",
      "Insert Random",
      "Show Hash Function"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "initVisualization()"
      ],
      "exit_actions": [],
      "evidence": [
        "window.onload = initVisualization;"
      ],
      "confidence": 1
    },
    {
      "id": "S1_ItemInserted",
      "label": "Item Inserted",
      "type": "normal",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "showMessage(`Inserted: \"${key}\" -> \"${value}\" at bucket ${index}`, 'found');"
      ],
      "confidence": 1
    },
    {
      "id": "S2_ItemRemoved",
      "label": "Item Removed",
      "type": "normal",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "showMessage(`Removed key: \"${key}\"`, 'found');"
      ],
      "confidence": 1
    },
    {
      "id": "S3_ItemNotFound",
      "label": "Item Not Found",
      "type": "normal",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "showMessage(`Key \"${key}\" not found`, 'not-found');"
      ],
      "confidence": 1
    },
    {
      "id": "S4_TableCleared",
      "label": "Table Cleared",
      "type": "normal",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "showMessage('Hash table cleared', 'found');"
      ],
      "confidence": 1
    },
    {
      "id": "S5_HashFunctionShown",
      "label": "Hash Function Shown",
      "type": "normal",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "showMessage(`Hash function for \"${testKey}\": ${hashValue}`, 'found');"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "Insert",
      "event_type": "click",
      "description": "Inserts a key-value pair into the hash table.",
      "trigger_selectors": [
        "button[onclick=\"insert()\"]"
      ],
      "evidence": [
        "<button onclick=\"insert()\">Insert</button>"
      ],
      "confidence": 1
    },
    {
      "id": "Search",
      "event_type": "click",
      "description": "Searches for a key in the hash table.",
      "trigger_selectors": [
        "button[onclick=\"search()\"]"
      ],
      "evidence": [
        "<button onclick=\"search()\">Search</button>"
      ],
      "confidence": 1
    },
    {
      "id": "Remove",
      "event_type": "click",
      "description": "Removes a key from the hash table.",
      "trigger_selectors": [
        "button[onclick=\"remove()\"]"
      ],
      "evidence": [
        "<button onclick=\"remove()\">Remove</button>"
      ],
      "confidence": 1
    },
    {
      "id": "ClearTable",
      "event_type": "click",
      "description": "Clears all entries in the hash table.",
      "trigger_selectors": [
        "button[onclick=\"clearTable()\"]"
      ],
      "evidence": [
        "<button class=\"operation-btn\" onclick=\"clearTable()\">Clear Table</button>"
      ],
      "confidence": 1
    },
    {
      "id": "InsertRandom",
      "event_type": "click",
      "description": "Inserts a random key-value pair into the hash table.",
      "trigger_selectors": [
        "button[onclick=\"insertRandom()\"]"
      ],
      "evidence": [
        "<button class=\"operation-btn\" onclick=\"insertRandom()\">Insert Random</button>"
      ],
      "confidence": 1
    },
    {
      "id": "ShowHashFunction",
      "event_type": "click",
      "description": "Displays the hash function details.",
      "trigger_selectors": [
        "button[onclick=\"showHashFunction()\"]"
      ],
      "evidence": [
        "<button class=\"operation-btn\" onclick=\"showHashFunction()\">Show Hash Function</button>"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_ItemInserted",
      "event": "Insert",
      "actions": [
        "updateVisualization()"
      ],
      "expected_observables": [
        "Inserted message displayed",
        "Hash table updated"
      ],
      "evidence": [
        "const index = hashTable.insert(key, value);",
        "updateVisualization();"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_ItemNotFound",
      "event": "Search",
      "actions": [],
      "expected_observables": [
        "Not found message displayed"
      ],
      "evidence": [
        "const value = hashTable.search(key);",
        "showMessage(`Key \"${key}\" not found`, 'not-found');"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_ItemRemoved",
      "event": "Remove",
      "actions": [
        "updateVisualization()"
      ],
      "expected_observables": [
        "Removed message displayed",
        "Hash table updated"
      ],
      "evidence": [
        "const removed = hashTable.remove(key);",
        "updateVisualization();"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_TableCleared",
      "event": "ClearTable",
      "actions": [
        "updateVisualization()"
      ],
      "expected_observables": [
        "Hash table cleared message displayed",
        "Hash table reset"
      ],
      "evidence": [
        "hashTable.buckets = Array.from({ length: hashTable.size }, () => []);",
        "updateVisualization();"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S1_ItemInserted",
      "event": "InsertRandom",
      "actions": [
        "updateVisualization()"
      ],
      "expected_observables": [
        "Inserted random message displayed",
        "Hash table updated"
      ],
      "evidence": [
        "const index = hashTable.insert(randomEntry.key, randomEntry.value);",
        "updateVisualization();"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_HashFunctionShown",
      "event": "ShowHashFunction",
      "actions": [],
      "expected_observables": [
        "Hash function message displayed"
      ],
      "evidence": [
        "const hashValue = hashTable.hash(testKey);",
        "showMessage(`Hash function for \"${testKey}\": ${hashValue}`, 'found');"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "button[onclick=\"insert()\"]",
      "text": "Insert",
      "attributes": {},
      "evidence": [
        "<button onclick=\"insert()\">Insert</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick=\"search()\"]",
      "text": "Search",
      "attributes": {},
      "evidence": [
        "<button onclick=\"search()\">Search</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick=\"remove()\"]",
      "text": "Remove",
      "attributes": {},
      "evidence": [
        "<button onclick=\"remove()\">Remove</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick=\"clearTable()\"]",
      "text": "Clear Table",
      "attributes": {},
      "evidence": [
        "<button class=\"operation-btn\" onclick=\"clearTable()\">Clear Table</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick=\"insertRandom()\"]",
      "text": "Insert Random",
      "attributes": {},
      "evidence": [
        "<button class=\"operation-btn\" onclick=\"insertRandom()\">Insert Random</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick=\"showHashFunction()\"]",
      "text": "Show Hash Function",
      "attributes": {},
      "evidence": [
        "<button class=\"operation-btn\" onclick=\"showHashFunction()\">Show Hash Function</button>"
      ]
    },
    {
      "type": "input",
      "selector": "input#keyInput",
      "text": "Enter key (e.g., 'apple')",
      "attributes": {
        "placeholder": "Enter key (e.g., 'apple')"
      },
      "evidence": [
        "<input type=\"text\" id=\"keyInput\" placeholder=\"Enter key (e.g., 'apple')\">"
      ]
    },
    {
      "type": "input",
      "selector": "input#valueInput",
      "text": "Enter value (e.g., 'fruit')",
      "attributes": {
        "placeholder": "Enter value (e.g., 'fruit')"
      },
      "evidence": [
        "<input type=\"text\" id=\"valueInput\" placeholder=\"Enter value (e.g., 'fruit')\">"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-06T00:00:00Z",
    "detected_components_count": 8,
    "detected_components": [
      {
        "type": "button",
        "selector": "button[onclick=\"insert()\"]",
        "text": "Insert",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick=\"search()\"]",
        "text": "Search",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick=\"remove()\"]",
        "text": "Remove",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick=\"clearTable()\"]",
        "text": "Clear Table",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick=\"insertRandom()\"]",
        "text": "Insert Random",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick=\"showHashFunction()\"]",
        "text": "Show Hash Function",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "input#keyInput",
        "text": "Enter key (e.g., 'apple')",
        "attributes": {
          "placeholder": "Enter key (e.g., 'apple')"
        }
      },
      {
        "type": "input",
        "selector": "input#valueInput",
        "text": "Enter value (e.g., 'fruit')",
        "attributes": {
          "placeholder": "Enter value (e.g., 'fruit')"
        }
      }
    ],
    "detected_event_handlers_count": 6,
    "detected_event_handlers": [
      "onclick=\"insert()\"",
      "onclick=\"search()\"",
      "onclick=\"remove()\"",
      "onclick=\"clearTable()\"",
      "onclick=\"insertRandom()\"",
      "onclick=\"showHashFunction()\""
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 6,
    "extraction_confidence": 1,
    "notes": []
  }
}