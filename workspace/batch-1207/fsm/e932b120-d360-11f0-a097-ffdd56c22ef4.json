{
  "meta": {
    "concept": "JavaScript Set — Interactive Demo",
    "topic": "Set",
    "educational_goal": "Understand and visualize set operations in JavaScript.",
    "expected_interactions": [
      "Add values to sets",
      "Remove values from sets",
      "Perform set operations",
      "Visualize results"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "renderAll()"
      ],
      "exit_actions": [],
      "evidence": [
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "id": "S1_SetA_Updated",
      "label": "Set A Updated",
      "type": "default",
      "entry_actions": [
        "renderAll()"
      ],
      "exit_actions": [],
      "evidence": [
        "A.add(v)",
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "id": "S2_SetB_Updated",
      "label": "Set B Updated",
      "type": "default",
      "entry_actions": [
        "renderAll()"
      ],
      "exit_actions": [],
      "evidence": [
        "B.add(v)",
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Result_Updated",
      "label": "Result Updated",
      "type": "default",
      "entry_actions": [
        "showResultSet()"
      ],
      "exit_actions": [],
      "evidence": [
        "showResultSet(r, label, color)"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "AddToA",
      "event_type": "click",
      "description": "Add values to Set A",
      "trigger_selectors": [
        "#toA"
      ],
      "evidence": [
        "document.getElementById('toA').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "AddToB",
      "event_type": "click",
      "description": "Add values to Set B",
      "trigger_selectors": [
        "#toB"
      ],
      "evidence": [
        "document.getElementById('toB').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "RemoveFromA",
      "event_type": "click",
      "description": "Remove values from Set A",
      "trigger_selectors": [
        "#delA"
      ],
      "evidence": [
        "document.getElementById('delA').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "RemoveFromB",
      "event_type": "click",
      "description": "Remove values from Set B",
      "trigger_selectors": [
        "#delB"
      ],
      "evidence": [
        "document.getElementById('delB').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "ClearA",
      "event_type": "click",
      "description": "Clear Set A",
      "trigger_selectors": [
        "#clearA"
      ],
      "evidence": [
        "document.getElementById('clearA').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "ClearB",
      "event_type": "click",
      "description": "Clear Set B",
      "trigger_selectors": [
        "#clearB"
      ],
      "evidence": [
        "document.getElementById('clearB').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "Union",
      "event_type": "click",
      "description": "Perform union operation",
      "trigger_selectors": [
        "#union"
      ],
      "evidence": [
        "document.getElementById('union').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "Intersection",
      "event_type": "click",
      "description": "Perform intersection operation",
      "trigger_selectors": [
        "#intersection"
      ],
      "evidence": [
        "document.getElementById('intersection').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "DifferenceAB",
      "event_type": "click",
      "description": "Perform difference A \\ B operation",
      "trigger_selectors": [
        "#diffAB"
      ],
      "evidence": [
        "document.getElementById('diffAB').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "DifferenceBA",
      "event_type": "click",
      "description": "Perform difference B \\ A operation",
      "trigger_selectors": [
        "#diffBA"
      ],
      "evidence": [
        "document.getElementById('diffBA').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "SymmetricDifference",
      "event_type": "click",
      "description": "Perform symmetric difference operation",
      "trigger_selectors": [
        "#symDiff"
      ],
      "evidence": [
        "document.getElementById('symDiff').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "IsSubset",
      "event_type": "click",
      "description": "Check if Set A is a subset of Set B",
      "trigger_selectors": [
        "#isSubset"
      ],
      "evidence": [
        "document.getElementById('isSubset').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "IsSuperset",
      "event_type": "click",
      "description": "Check if Set A is a superset of Set B",
      "trigger_selectors": [
        "#isSuperset"
      ],
      "evidence": [
        "document.getElementById('isSuperset').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "ToArray",
      "event_type": "click",
      "description": "Convert Set A to an array",
      "trigger_selectors": [
        "#toArray"
      ],
      "evidence": [
        "document.getElementById('toArray').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "PowerSet",
      "event_type": "click",
      "description": "Compute power set of Set A",
      "trigger_selectors": [
        "#powerSet"
      ],
      "evidence": [
        "document.getElementById('powerSet').addEventListener('click', ...);"
      ],
      "confidence": 1
    },
    {
      "id": "ObjectReferenceDemo",
      "event_type": "click",
      "description": "Demonstrate object reference in Set",
      "trigger_selectors": [
        "#objDemo"
      ],
      "evidence": [
        "document.getElementById('objDemo').addEventListener('click', ...);"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_SetA_Updated",
      "event": "AddToA",
      "actions": [
        "addToSet(A, vals)"
      ],
      "expected_observables": [
        "sizeA.textContent = 'size: ' + A.size"
      ],
      "evidence": [
        "A.add(v)",
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_SetB_Updated",
      "event": "AddToB",
      "actions": [
        "addToSet(B, vals)"
      ],
      "expected_observables": [
        "sizeB.textContent = 'size: ' + B.size"
      ],
      "evidence": [
        "B.add(v)",
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Updated",
      "to": "S1_SetA_Updated",
      "event": "RemoveFromA",
      "actions": [
        "removeFromSet(A, vals)"
      ],
      "expected_observables": [
        "sizeA.textContent = 'size: ' + A.size"
      ],
      "evidence": [
        "A.delete(v)",
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "from": "S2_SetB_Updated",
      "to": "S2_SetB_Updated",
      "event": "RemoveFromB",
      "actions": [
        "removeFromSet(B, vals)"
      ],
      "expected_observables": [
        "sizeB.textContent = 'size: ' + B.size"
      ],
      "evidence": [
        "B.delete(v)",
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Updated",
      "to": "S0_Idle",
      "event": "ClearA",
      "actions": [
        "clearSet(A)"
      ],
      "expected_observables": [
        "sizeA.textContent = 'size: ' + A.size"
      ],
      "evidence": [
        "A.clear()",
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "from": "S2_SetB_Updated",
      "to": "S0_Idle",
      "event": "ClearB",
      "actions": [
        "clearSet(B)"
      ],
      "expected_observables": [
        "sizeB.textContent = 'size: ' + B.size"
      ],
      "evidence": [
        "B.clear()",
        "renderAll()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "Union",
      "actions": [
        "showResultSet(r, 'A ∪ B', '#a7f3d0')"
      ],
      "expected_observables": [
        "resultArea.innerHTML = ''"
      ],
      "evidence": [
        "const r = ops.union(A,B);",
        "showResultSet(r, 'A ∪ B', '#a7f3d0')"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "Intersection",
      "actions": [
        "showResultSet(r, 'A ∩ B', '#fce7f3')"
      ],
      "expected_observables": [
        "resultArea.innerHTML = ''"
      ],
      "evidence": [
        "const r = ops.intersection(A,B);",
        "showResultSet(r, 'A ∩ B', '#fce7f3')"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "DifferenceAB",
      "actions": [
        "showResultSet(r, 'A \\ B', '#fde68a')"
      ],
      "expected_observables": [
        "resultArea.innerHTML = ''"
      ],
      "evidence": [
        "const r = ops.difference(A,B);",
        "showResultSet(r, 'A \\ B', '#fde68a')"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "DifferenceBA",
      "actions": [
        "showResultSet(r, 'B \\ A', '#fde68a')"
      ],
      "expected_observables": [
        "resultArea.innerHTML = ''"
      ],
      "evidence": [
        "const r = ops.difference(B,A);",
        "showResultSet(r, 'B \\ A', '#fde68a')"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "SymmetricDifference",
      "actions": [
        "showResultSet(r, 'Symmetric Difference', '#fbcfe8')"
      ],
      "expected_observables": [
        "resultArea.innerHTML = ''"
      ],
      "evidence": [
        "const r = ops.symmetric(A,B);",
        "showResultSet(r, 'Symmetric Difference', '#fbcfe8')"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "IsSubset",
      "actions": [
        "opResult.textContent = res ? 'Yes — A is a subset of B' : 'No — A is not a subset of B'"
      ],
      "expected_observables": [
        "opResult.textContent"
      ],
      "evidence": [
        "const res = ops.isSubset(A,B);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "IsSuperset",
      "actions": [
        "opResult.textContent = res ? 'Yes — A is a superset of B' : 'No — A is not a superset of B'"
      ],
      "expected_observables": [
        "opResult.textContent"
      ],
      "evidence": [
        "const res = ops.isSuperset(A,B);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "ToArray",
      "actions": [
        "opResult.textContent = 'A as array mapped to strings: [' + arr.join(', ') + ']'"
      ],
      "expected_observables": [
        "opResult.textContent"
      ],
      "evidence": [
        "const arr = [...A].map(x => `(${typeof x}) ${repr(x)}`);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Result_Updated",
      "event": "PowerSet",
      "actions": [
        "powerOutput.innerHTML = ''"
      ],
      "expected_observables": [
        "powerOutput.innerHTML"
      ],
      "evidence": [
        "const subsets = powerSet(A);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S1_SetA_Updated",
      "event": "ObjectReferenceDemo",
      "actions": [
        "addToSet(A, [o1, o2])"
      ],
      "expected_observables": [
        "sizeA.textContent = 'size: ' + A.size"
      ],
      "evidence": [
        "A.add(o1)",
        "A.add(o2)",
        "opResult.textContent = 'Added two objects with same content to A.'"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#valueInput",
      "text": "",
      "attributes": {
        "type": "text",
        "placeholder": "e.g. 1, \"two\", {\"x\":1}, true"
      },
      "evidence": [
        "<input id=\"valueInput\" type=\"text\" placeholder='e.g. 1, \"two\", {\"x\":1}, true' />"
      ]
    },
    {
      "type": "button",
      "selector": "#toA",
      "text": "Add to A",
      "attributes": {
        "class": ""
      },
      "evidence": [
        "<button id=\"toA\">Add to A</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#toB",
      "text": "Add to B",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"toB\" class=\"secondary\">Add to B</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#delA",
      "text": "Remove from A",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"delA\" class=\"secondary\">Remove from A</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#delB",
      "text": "Remove from B",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"delB\" class=\"secondary\">Remove from B</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearA",
      "text": "Clear A",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"clearA\" class=\"secondary\">Clear A</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearB",
      "text": "Clear B",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"clearB\" class=\"secondary\">Clear B</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#union",
      "text": "Union (A ∪ B)",
      "attributes": {
        "class": ""
      },
      "evidence": [
        "<button id=\"union\">Union (A ∪ B)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#intersection",
      "text": "Intersection (A ∩ B)",
      "attributes": {
        "class": ""
      },
      "evidence": [
        "<button id=\"intersection\">Intersection (A ∩ B)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#diffAB",
      "text": "A \\ B",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"diffAB\" class=\"secondary\">A \\ B</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#diffBA",
      "text": "B \\ A",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"diffBA\" class=\"secondary\">B \\ A</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#symDiff",
      "text": "Symmetric Diff",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"symDiff\" class=\"secondary\">Symmetric Diff</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#isSubset",
      "text": "Is A ⊆ B?",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"isSubset\" class=\"secondary\">Is A ⊆ B?</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#isSuperset",
      "text": "Is A ⊇ B?",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"isSuperset\" class=\"secondary\">Is A ⊇ B?</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#toArray",
      "text": "To Array & Map Example",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"toArray\" class=\"secondary\">To Array & Map Example</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#powerSet",
      "text": "Power Set (A)",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"powerSet\" class=\"secondary\">Power Set (A)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#objDemo",
      "text": "Add two identical-looking objects",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"objDemo\" class=\"secondary\">Add two identical-looking objects</button>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-01T12:00:00Z",
    "detected_components_count": 15,
    "detected_components": [
      {
        "type": "input",
        "selector": "#valueInput",
        "text": "",
        "attributes": {
          "type": "text",
          "placeholder": "e.g. 1, \"two\", {\"x\":1}, true"
        }
      },
      {
        "type": "button",
        "selector": "#toA",
        "text": "Add to A",
        "attributes": {
          "class": ""
        }
      },
      {
        "type": "button",
        "selector": "#toB",
        "text": "Add to B",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#delA",
        "text": "Remove from A",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#delB",
        "text": "Remove from B",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#clearA",
        "text": "Clear A",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#clearB",
        "text": "Clear B",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#union",
        "text": "Union (A ∪ B)",
        "attributes": {
          "class": ""
        }
      },
      {
        "type": "button",
        "selector": "#intersection",
        "text": "Intersection (A ∩ B)",
        "attributes": {
          "class": ""
        }
      },
      {
        "type": "button",
        "selector": "#diffAB",
        "text": "A \\ B",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#diffBA",
        "text": "B \\ A",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#symDiff",
        "text": "Symmetric Diff",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#isSubset",
        "text": "Is A ⊆ B?",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#isSuperset",
        "text": "Is A ⊇ B?",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#toArray",
        "text": "To Array & Map Example",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#powerSet",
        "text": "Power Set (A)",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#objDemo",
        "text": "Add two identical-looking objects",
        "attributes": {
          "class": "secondary"
        }
      }
    ],
    "detected_event_handlers_count": 15,
    "detected_event_handlers": [
      "document.getElementById('toA').addEventListener('click', ...);",
      "document.getElementById('toB').addEventListener('click', ...);",
      "document.getElementById('delA').addEventListener('click', ...);",
      "document.getElementById('delB').addEventListener('click', ...);",
      "document.getElementById('clearA').addEventListener('click', ...);",
      "document.getElementById('clearB').addEventListener('click', ...);",
      "document.getElementById('union').addEventListener('click', ...);",
      "document.getElementById('intersection').addEventListener('click', ...);",
      "document.getElementById('diffAB').addEventListener('click', ...);",
      "document.getElementById('diffBA').addEventListener('click', ...);",
      "document.getElementById('symDiff').addEventListener('click', ...);",
      "document.getElementById('isSubset').addEventListener('click', ...);",
      "document.getElementById('isSuperset').addEventListener('click', ...);",
      "document.getElementById('toArray').addEventListener('click', ...);",
      "document.getElementById('powerSet').addEventListener('click', ...);",
      "document.getElementById('objDemo').addEventListener('click', ...);"
    ],
    "extracted_states_count": 4,
    "extracted_transitions_count": 20,
    "extraction_confidence": 1,
    "notes": []
  }
}