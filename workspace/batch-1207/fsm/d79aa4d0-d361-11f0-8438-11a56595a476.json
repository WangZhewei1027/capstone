{
  "meta": {
    "concept": "JavaScript Array Demo",
    "topic": "Array",
    "educational_goal": "Demonstrate common array operations in JavaScript",
    "expected_interactions": [
      "Add to End",
      "Add to Start",
      "Remove Last",
      "Remove First",
      "Splice",
      "Reverse",
      "Sort",
      "Clear",
      "Map",
      "Filter",
      "Reduce"
    ]
  },
  "states": [
    {
      "id": "S0_Initial",
      "label": "Initial State",
      "type": "default",
      "entry_actions": [
        "updateDisplay()"
      ],
      "exit_actions": [],
      "evidence": [
        "updateDisplay();"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "AddToEnd",
      "event_type": "click",
      "description": "Add a value to the end of the array",
      "trigger_selectors": [
        "#addEndBtn"
      ],
      "evidence": [
        "addEndBtn.addEventListener(\"click\", () => {",
        "arr.push(val);"
      ],
      "confidence": 1
    },
    {
      "id": "AddToStart",
      "event_type": "click",
      "description": "Add a value to the start of the array",
      "trigger_selectors": [
        "#addStartBtn"
      ],
      "evidence": [
        "addStartBtn.addEventListener(\"click\", () => {",
        "arr.unshift(val);"
      ],
      "confidence": 1
    },
    {
      "id": "RemoveLast",
      "event_type": "click",
      "description": "Remove the last value from the array",
      "trigger_selectors": [
        "#removeEndBtn"
      ],
      "evidence": [
        "removeEndBtn.addEventListener(\"click\", () => {",
        "const val = arr.pop();"
      ],
      "confidence": 1
    },
    {
      "id": "RemoveFirst",
      "event_type": "click",
      "description": "Remove the first value from the array",
      "trigger_selectors": [
        "#removeStartBtn"
      ],
      "evidence": [
        "removeStartBtn.addEventListener(\"click\", () => {",
        "const val = arr.shift();"
      ],
      "confidence": 1
    },
    {
      "id": "SpliceArray",
      "event_type": "click",
      "description": "Splice the array at a given index",
      "trigger_selectors": [
        "#spliceBtn"
      ],
      "evidence": [
        "spliceBtn.addEventListener(\"click\", () => {",
        "arr.splice(index, deleteCount, ...insertVal);"
      ],
      "confidence": 1
    },
    {
      "id": "ReverseArray",
      "event_type": "click",
      "description": "Reverse the array",
      "trigger_selectors": [
        "#reverseBtn"
      ],
      "evidence": [
        "reverseBtn.addEventListener(\"click\", () => {",
        "arr.reverse();"
      ],
      "confidence": 1
    },
    {
      "id": "SortArray",
      "event_type": "click",
      "description": "Sort the array",
      "trigger_selectors": [
        "#sortBtn"
      ],
      "evidence": [
        "sortBtn.addEventListener(\"click\", () => {",
        "arr.sort((a, b) => {"
      ],
      "confidence": 1
    },
    {
      "id": "ClearArray",
      "event_type": "click",
      "description": "Clear the array",
      "trigger_selectors": [
        "#clearBtn"
      ],
      "evidence": [
        "clearBtn.addEventListener(\"click\", () => {",
        "arr = [];"
      ],
      "confidence": 1
    },
    {
      "id": "MapArray",
      "event_type": "click",
      "description": "Map the array values",
      "trigger_selectors": [
        "#mapBtn"
      ],
      "evidence": [
        "mapBtn.addEventListener(\"click\", () => {",
        "arr = arr.map(el => {"
      ],
      "confidence": 1
    },
    {
      "id": "FilterArray",
      "event_type": "click",
      "description": "Filter the array to keep only numbers",
      "trigger_selectors": [
        "#filterBtn"
      ],
      "evidence": [
        "filterBtn.addEventListener(\"click\", () => {",
        "arr = arr.filter(el => typeof el === \"number\");"
      ],
      "confidence": 1
    },
    {
      "id": "ReduceArray",
      "event_type": "click",
      "description": "Reduce the array to the sum of numbers",
      "trigger_selectors": [
        "#reduceBtn"
      ],
      "evidence": [
        "reduceBtn.addEventListener(\"click\", () => {",
        "const sum = arr.reduce((acc, cur) => {"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "AddToEnd",
      "actions": [
        "arr.push(val);",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "arr.push(val);",
        "updateDisplay(`Added to end: ${JSON.stringify(val)}`);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "AddToStart",
      "actions": [
        "arr.unshift(val);",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "arr.unshift(val);",
        "updateDisplay(`Added to start: ${JSON.stringify(val)}`);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "RemoveLast",
      "actions": [
        "arr.pop();",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "const val = arr.pop();",
        "updateDisplay(`Removed from end (pop): ${JSON.stringify(val)}`);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "RemoveFirst",
      "actions": [
        "arr.shift();",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "const val = arr.shift();",
        "updateDisplay(`Removed from start (shift): ${JSON.stringify(val)}`);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "SpliceArray",
      "actions": [
        "arr.splice(index, deleteCount, ...insertVal);",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "arr.splice(index, deleteCount, ...insertVal);",
        "updateDisplay(`Splice at index ${index}, deleted ${deleteCount} element(s): removed ${JSON.stringify(removed)}; inserted ${JSON.stringify(insertVal)}`);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "ReverseArray",
      "actions": [
        "arr.reverse();",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "arr.reverse();",
        "updateDisplay(\"Array reversed\");"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "SortArray",
      "actions": [
        "arr.sort();",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "arr.sort((a, b) => {",
        "updateDisplay(\"Array sorted (string order)\");"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "ClearArray",
      "actions": [
        "arr = []; updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "arr = [];",
        "updateDisplay(\"Array cleared\");"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "MapArray",
      "actions": [
        "arr.map();",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "arr = arr.map(el => {",
        "updateDisplay(\"Array mapped: numbers incremented by 1, strings appended with ' (mapped)' \");"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "FilterArray",
      "actions": [
        "arr.filter();",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "arr = arr.filter(el => typeof el === \"number\");",
        "updateDisplay(\"Array filtered: only numbers kept\");"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S0_Initial",
      "event": "ReduceArray",
      "actions": [
        "arr.reduce();",
        "updateDisplay();"
      ],
      "expected_observables": [
        "Updated array display"
      ],
      "evidence": [
        "const sum = arr.reduce((acc, cur) => {",
        "updateDisplay(`Reduce: Sum of numbers = ${sum}`);"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#elementInput",
      "text": "Enter value (string or number)",
      "attributes": {
        "type": "text",
        "placeholder": "Enter value (string or number)"
      },
      "evidence": [
        "<input type=\"text\" id=\"elementInput\" placeholder=\"Enter value (string or number)\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#addEndBtn",
      "text": "Add to End (push)",
      "attributes": {},
      "evidence": [
        "<button id=\"addEndBtn\">Add to End (push)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#addStartBtn",
      "text": "Add to Start (unshift)",
      "attributes": {},
      "evidence": [
        "<button id=\"addStartBtn\">Add to Start (unshift)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#removeEndBtn",
      "text": "Remove Last (pop)",
      "attributes": {},
      "evidence": [
        "<button id=\"removeEndBtn\">Remove Last (pop)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#removeStartBtn",
      "text": "Remove First (shift)",
      "attributes": {},
      "evidence": [
        "<button id=\"removeStartBtn\">Remove First (shift)</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#spliceIndex",
      "text": "Index",
      "attributes": {
        "type": "number",
        "placeholder": "Index",
        "style": "width:80px"
      },
      "evidence": [
        "<input type=\"number\" id=\"spliceIndex\" placeholder=\"Index\" style=\"width:80px\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#spliceDeleteCount",
      "text": "Delete Count",
      "attributes": {
        "type": "number",
        "placeholder": "Delete Count",
        "style": "width:100px"
      },
      "evidence": [
        "<input type=\"number\" id=\"spliceDeleteCount\" placeholder=\"Delete Count\" style=\"width:100px\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#spliceInsertValue",
      "text": "Insert value (opt)",
      "attributes": {
        "type": "text",
        "placeholder": "Insert value (opt)"
      },
      "evidence": [
        "<input type=\"text\" id=\"spliceInsertValue\" placeholder=\"Insert value (opt)\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#spliceBtn",
      "text": "Splice",
      "attributes": {},
      "evidence": [
        "<button id=\"spliceBtn\">Splice</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#reverseBtn",
      "text": "Reverse Array",
      "attributes": {},
      "evidence": [
        "<button id=\"reverseBtn\">Reverse Array</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#sortBtn",
      "text": "Sort Array",
      "attributes": {},
      "evidence": [
        "<button id=\"sortBtn\">Sort Array</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearBtn",
      "text": "Clear Array",
      "attributes": {
        "style": "background:#f44336; color:white;"
      },
      "evidence": [
        "<button id=\"clearBtn\" style=\"background:#f44336; color:white;\">Clear Array</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#mapBtn",
      "text": "Map: add \" (mapped)\" to strings, +1 to numbers",
      "attributes": {},
      "evidence": [
        "<button id=\"mapBtn\">Map: add \" (mapped)\" to strings, +1 to numbers</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#filterBtn",
      "text": "Filter: Keep only numbers",
      "attributes": {},
      "evidence": [
        "<button id=\"filterBtn\">Filter: Keep only numbers</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#reduceBtn",
      "text": "Reduce: Sum of numbers",
      "attributes": {},
      "evidence": [
        "<button id=\"reduceBtn\">Reduce: Sum of numbers</button>"
      ]
    },
    {
      "type": "div",
      "selector": "#arrayDisplay",
      "text": "[]",
      "attributes": {},
      "evidence": [
        "<div id=\"arrayDisplay\">[]</div>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-01T00:00:00Z",
    "detected_components_count": 14,
    "detected_components": [
      {
        "type": "input",
        "selector": "#elementInput"
      },
      {
        "type": "button",
        "selector": "#addEndBtn"
      },
      {
        "type": "button",
        "selector": "#addStartBtn"
      },
      {
        "type": "button",
        "selector": "#removeEndBtn"
      },
      {
        "type": "button",
        "selector": "#removeStartBtn"
      },
      {
        "type": "input",
        "selector": "#spliceIndex"
      },
      {
        "type": "input",
        "selector": "#spliceDeleteCount"
      },
      {
        "type": "input",
        "selector": "#spliceInsertValue"
      },
      {
        "type": "button",
        "selector": "#spliceBtn"
      },
      {
        "type": "button",
        "selector": "#reverseBtn"
      },
      {
        "type": "button",
        "selector": "#sortBtn"
      },
      {
        "type": "button",
        "selector": "#clearBtn"
      },
      {
        "type": "button",
        "selector": "#mapBtn"
      },
      {
        "type": "button",
        "selector": "#filterBtn"
      },
      {
        "type": "button",
        "selector": "#reduceBtn"
      },
      {
        "type": "div",
        "selector": "#arrayDisplay"
      }
    ],
    "detected_event_handlers_count": 10,
    "detected_event_handlers": [
      "addEndBtn.addEventListener(\"click\", () => {",
      "addStartBtn.addEventListener(\"click\", () => {",
      "removeEndBtn.addEventListener(\"click\", () => {",
      "removeStartBtn.addEventListener(\"click\", () => {",
      "spliceBtn.addEventListener(\"click\", () => {",
      "reverseBtn.addEventListener(\"click\", () => {",
      "sortBtn.addEventListener(\"click\", () => {",
      "clearBtn.addEventListener(\"click\", () => {",
      "mapBtn.addEventListener(\"click\", () => {",
      "filterBtn.addEventListener(\"click\", () => {",
      "reduceBtn.addEventListener(\"click\", () => {"
    ],
    "extracted_states_count": 1,
    "extracted_transitions_count": 10,
    "extraction_confidence": 1,
    "notes": []
  }
}