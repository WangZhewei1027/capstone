{
  "meta": {
    "concept": "Binary Search Visualizer",
    "topic": "Binary Search",
    "educational_goal": "To explore how binary search finds an item in a sorted array.",
    "expected_interactions": [
      "Generate random sorted array",
      "Set target number",
      "Step through comparisons",
      "Auto Play",
      "Reset search",
      "Go back a step"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "generateArray()"
      ],
      "exit_actions": [],
      "evidence": [
        "// Initialize first array",
        "generateArray();"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Searching",
      "label": "Searching",
      "type": "active",
      "entry_actions": [
        "resetSearch()"
      ],
      "exit_actions": [
        "stopPlaying()"
      ],
      "evidence": [
        "resetSearch();",
        "statusEl.textContent = 'Searching...';"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Found",
      "label": "Found",
      "type": "final",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "statusEl.textContent = 'Found at index ' + foundIndex;"
      ],
      "confidence": 1
    },
    {
      "id": "S3_NotFound",
      "label": "Not Found",
      "type": "final",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "statusEl.textContent = 'Not found';"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GenerateArray",
      "event_type": "click",
      "description": "Generate a new random sorted array",
      "trigger_selectors": [
        "#gen",
        "input#size",
        "input#maxGap"
      ],
      "evidence": [
        "genBtn.addEventListener('click', ()=> { generateArray(); });",
        "sizeInput.addEventListener('change', ()=> { generateArray(); });",
        "maxGapInput.addEventListener('change', ()=> { generateArray(); });"
      ],
      "confidence": 1
    },
    {
      "id": "SetTarget",
      "event_type": "change",
      "description": "Set the target number to search for",
      "trigger_selectors": [
        "#target"
      ],
      "evidence": [
        "targetInput.addEventListener('change', setTargetFromInput);"
      ],
      "confidence": 1
    },
    {
      "id": "Step",
      "event_type": "click",
      "description": "Step through one comparison in the search",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=> { stopPlaying(); stepOnce(); });"
      ],
      "confidence": 1
    },
    {
      "id": "AutoPlay",
      "event_type": "click",
      "description": "Start or pause the automatic play of the search",
      "trigger_selectors": [
        "#playBtn"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=> { if (playing) stopPlaying(); else startPlaying(); });"
      ],
      "confidence": 1
    },
    {
      "id": "BackStep",
      "event_type": "click",
      "description": "Go back one step in the search history",
      "trigger_selectors": [
        "#backBtn"
      ],
      "evidence": [
        "backBtn.addEventListener('click', ()=> { stopPlaying(); backStep(); });"
      ],
      "confidence": 1
    },
    {
      "id": "Reset",
      "event_type": "click",
      "description": "Reset the search and generate a new array",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=> { resetAll(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ChangeSpeed",
      "event_type": "input",
      "description": "Change the speed of the auto play",
      "trigger_selectors": [
        "#speed"
      ],
      "evidence": [
        "speedInput.addEventListener('input', ()=> { if (playing) { stopPlaying(); startPlaying(); } });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_Searching",
      "event": "GenerateArray",
      "actions": [
        "generateArray()"
      ],
      "expected_observables": [
        "Array generated",
        "Status: Ready"
      ],
      "evidence": [
        "generateArray();",
        "log(`Generated array of length ${n}.`);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Searching",
      "to": "S1_Searching",
      "event": "SetTarget",
      "actions": [
        "setTargetFromInput()"
      ],
      "expected_observables": [
        "Target set",
        "Reset search"
      ],
      "evidence": [
        "setTargetFromInput();",
        "resetSearch();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Searching",
      "to": "S1_Searching",
      "event": "Step",
      "actions": [
        "stepOnce()"
      ],
      "expected_observables": [
        "Step executed",
        "Searching..."
      ],
      "evidence": [
        "stepOnce();",
        "statusEl.textContent = 'Searching...';"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Searching",
      "to": "S2_Found",
      "event": "Step",
      "actions": [
        "stepOnce()"
      ],
      "expected_observables": [
        "Found at index X"
      ],
      "evidence": [
        "foundIndex = mid;",
        "finished = true;"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Searching",
      "to": "S3_NotFound",
      "event": "Step",
      "actions": [
        "stepOnce()"
      ],
      "expected_observables": [
        "Not found"
      ],
      "evidence": [
        "finished = true;",
        "log(`Terminated: left (${left}) > right (${right}). Not found.`);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Searching",
      "to": "S1_Searching",
      "event": "AutoPlay",
      "actions": [
        "startPlaying()"
      ],
      "expected_observables": [
        "Auto play started"
      ],
      "evidence": [
        "startPlaying();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Searching",
      "to": "S1_Searching",
      "event": "BackStep",
      "actions": [
        "backStep()"
      ],
      "expected_observables": [
        "Stepped back"
      ],
      "evidence": [
        "backStep();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Searching",
      "to": "S0_Idle",
      "event": "Reset",
      "actions": [
        "resetAll()"
      ],
      "expected_observables": [
        "Search reset",
        "New array generated"
      ],
      "evidence": [
        "resetAll();"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "input#size",
      "text": "Array Size",
      "attributes": {
        "type": "number",
        "min": "3",
        "max": "60",
        "value": "15"
      },
      "evidence": [
        "<input id=\"size\" type=\"number\" min=\"3\" max=\"60\" value=\"15\" />"
      ]
    },
    {
      "type": "input",
      "selector": "input#maxGap",
      "text": "Max gap",
      "attributes": {
        "type": "number",
        "min": "1",
        "max": "50",
        "value": "7"
      },
      "evidence": [
        "<input id=\"maxGap\" type=\"number\" min=\"1\" max=\"50\" value=\"7\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#gen",
      "text": "Random Sorted Array",
      "attributes": {},
      "evidence": [
        "<button id=\"gen\">Random Sorted Array</button>"
      ]
    },
    {
      "type": "input",
      "selector": "input#target",
      "text": "Target",
      "attributes": {
        "type": "text",
        "placeholder": "Number to find"
      },
      "evidence": [
        "<input id=\"target\" type=\"text\" placeholder=\"Number to find\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "Step",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"stepBtn\" class=\"ghost\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#playBtn",
      "text": "Auto Play",
      "attributes": {},
      "evidence": [
        "<button id=\"playBtn\">Auto Play</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#backBtn",
      "text": "Back",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"backBtn\" class=\"ghost\">Back</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"resetBtn\" class=\"ghost\">Reset</button>"
      ]
    },
    {
      "type": "input",
      "selector": "input#speed",
      "text": "Speed",
      "attributes": {
        "type": "range",
        "min": "100",
        "max": "2000",
        "value": "700"
      },
      "evidence": [
        "<input id=\"speed\" type=\"range\" min=\"100\" max=\"2000\" value=\"700\" />"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-04T00:00:00Z",
    "detected_components_count": 8,
    "detected_components": [
      {
        "type": "input",
        "selector": "input#size",
        "text": "Array Size",
        "attributes": {
          "type": "number",
          "min": "3",
          "max": "60",
          "value": "15"
        }
      },
      {
        "type": "input",
        "selector": "input#maxGap",
        "text": "Max gap",
        "attributes": {
          "type": "number",
          "min": "1",
          "max": "50",
          "value": "7"
        }
      },
      {
        "type": "button",
        "selector": "#gen",
        "text": "Random Sorted Array",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "input#target",
        "text": "Target",
        "attributes": {
          "type": "text",
          "placeholder": "Number to find"
        }
      },
      {
        "type": "button",
        "selector": "#stepBtn",
        "text": "Step",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#playBtn",
        "text": "Auto Play",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#backBtn",
        "text": "Back",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Reset",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "input",
        "selector": "input#speed",
        "text": "Speed",
        "attributes": {
          "type": "range",
          "min": "100",
          "max": "2000",
          "value": "700"
        }
      }
    ],
    "detected_event_handlers_count": 7,
    "detected_event_handlers": [
      "genBtn.addEventListener('click', ()=> { generateArray(); });",
      "sizeInput.addEventListener('change', ()=> { generateArray(); });",
      "maxGapInput.addEventListener('change', ()=> { generateArray(); });",
      "targetInput.addEventListener('change', setTargetFromInput);",
      "stepBtn.addEventListener('click', ()=> { stopPlaying(); stepOnce(); });",
      "playBtn.addEventListener('click', ()=> { if (playing) stopPlaying(); else startPlaying(); });",
      "backBtn.addEventListener('click', ()=> { stopPlaying(); backStep(); });",
      "resetBtn.addEventListener('click', ()=> { resetAll(); });",
      "speedInput.addEventListener('input', ()=> { if (playing) { stopPlaying(); startPlaying(); } });"
    ],
    "extracted_states_count": 4,
    "extracted_transitions_count": 8,
    "extraction_confidence": 1,
    "notes": []
  }
}