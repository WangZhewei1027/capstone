{
  "meta": {
    "concept": "Bellman-Ford Algorithm Visualization",
    "topic": "Graph Algorithms",
    "educational_goal": "To visualize and understand the Bellman-Ford algorithm for finding shortest paths in a graph.",
    "expected_interactions": [
      "Initialize Graph",
      "Run Bellman-Ford",
      "Step Forward",
      "Reset"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "initializeGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "window.onload = initializeGraph();"
      ],
      "confidence": 1
    },
    {
      "id": "S1_GraphInitialized",
      "label": "Graph Initialized",
      "type": "intermediate",
      "entry_actions": [
        "drawGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "document.getElementById('stepInfo').innerHTML = `<strong>Graph Initialized:</strong><br> Nodes: ${nodeCount}<br> Edges: ${graph.length}<br> Start Node: ${startNode}<br> Distances initialized: ${distances.join(', ')}`;"
      ],
      "confidence": 1
    },
    {
      "id": "S2_BellmanFordRunning",
      "label": "Bellman-Ford Running",
      "type": "intermediate",
      "entry_actions": [
        "drawGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "for (let i = 0; i < nodeCount - 1; i++) {",
        "currentStep++; drawGraph();"
      ],
      "confidence": 1
    },
    {
      "id": "S3_SteppingForward",
      "label": "Stepping Forward",
      "type": "intermediate",
      "entry_actions": [
        "drawGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "if (currentStep < totalSteps) {",
        "document.getElementById('stepInfo').innerHTML = `<strong>Step ${currentStep + 1}:</strong><br> Iteration: ${iteration + 1}<br> Processing edge: ${edge.from} â†’ ${edge.to} (weight: ${edge.weight})<br> Current distances: [${distances.join(', ')}]`;"
      ],
      "confidence": 1
    },
    {
      "id": "S4_ResultsDisplayed",
      "label": "Results Displayed",
      "type": "final",
      "entry_actions": [
        "displayResults()"
      ],
      "exit_actions": [],
      "evidence": [
        "document.getElementById('algorithmOutput').innerHTML = output;"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "InitializeGraph",
      "event_type": "click",
      "description": "User initializes the graph with provided input.",
      "trigger_selectors": [
        "button[onclick='initializeGraph()']"
      ],
      "evidence": [
        "<button onclick=\"initializeGraph()\">Initialize Graph</button>"
      ],
      "confidence": 1
    },
    {
      "id": "RunBellmanFord",
      "event_type": "click",
      "description": "User runs the Bellman-Ford algorithm.",
      "trigger_selectors": [
        "button[onclick='runBellmanFord()']"
      ],
      "evidence": [
        "<button onclick=\"runBellmanFord()\">Run Bellman-Ford</button>"
      ],
      "confidence": 1
    },
    {
      "id": "StepForward",
      "event_type": "click",
      "description": "User steps forward through the algorithm iterations.",
      "trigger_selectors": [
        "button[onclick='stepForward()']"
      ],
      "evidence": [
        "<button onclick=\"stepForward()\">Step Forward</button>"
      ],
      "confidence": 1
    },
    {
      "id": "Reset",
      "event_type": "click",
      "description": "User resets the algorithm and graph.",
      "trigger_selectors": [
        "button[onclick='reset()']"
      ],
      "evidence": [
        "<button onclick=\"reset()\">Reset</button>"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_GraphInitialized",
      "event": "InitializeGraph",
      "actions": [
        "initializeGraph()"
      ],
      "expected_observables": [
        "Graph is initialized with user input."
      ],
      "evidence": [
        "<button onclick=\"initializeGraph()\">Initialize Graph</button>"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphInitialized",
      "to": "S2_BellmanFordRunning",
      "event": "RunBellmanFord",
      "actions": [
        "runBellmanFord()"
      ],
      "expected_observables": [
        "Bellman-Ford algorithm is running."
      ],
      "evidence": [
        "<button onclick=\"runBellmanFord()\">Run Bellman-Ford</button>"
      ],
      "confidence": 1
    },
    {
      "from": "S2_BellmanFordRunning",
      "to": "S3_SteppingForward",
      "event": "StepForward",
      "actions": [
        "stepForward()"
      ],
      "expected_observables": [
        "User steps through the algorithm."
      ],
      "evidence": [
        "<button onclick=\"stepForward()\">Step Forward</button>"
      ],
      "confidence": 1
    },
    {
      "from": "S3_SteppingForward",
      "to": "S4_ResultsDisplayed",
      "event": "StepForward",
      "actions": [
        "displayResults()"
      ],
      "expected_observables": [
        "Results of the algorithm are displayed."
      ],
      "evidence": [
        "document.getElementById('algorithmOutput').innerHTML = output;"
      ],
      "confidence": 1
    },
    {
      "from": "S4_ResultsDisplayed",
      "to": "S1_GraphInitialized",
      "event": "Reset",
      "actions": [
        "reset()"
      ],
      "expected_observables": [
        "Graph is reset."
      ],
      "evidence": [
        "<button onclick=\"reset()\">Reset</button>"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "textarea",
      "selector": "#graphInput",
      "text": "",
      "attributes": {
        "rows": "10",
        "placeholder": "Enter graph in format:\n0,1,4\n0,2,2\n1,2,-3\n1,3,2\n2,3,1\nWhere each line is: source,destination,weight"
      },
      "evidence": [
        "<textarea id=\"graphInput\" rows=\"10\" placeholder=\"Enter graph in format:...\">"
      ]
    },
    {
      "type": "input",
      "selector": "#nodeCount",
      "text": "",
      "attributes": {
        "type": "number",
        "value": "4",
        "min": "2",
        "max": "10"
      },
      "evidence": [
        "<input type=\"number\" id=\"nodeCount\" value=\"4\" min=\"2\" max=\"10\">"
      ]
    },
    {
      "type": "input",
      "selector": "#startNode",
      "text": "",
      "attributes": {
        "type": "number",
        "value": "0",
        "min": "0",
        "max": "9"
      },
      "evidence": [
        "<input type=\"number\" id=\"startNode\" value=\"0\" min=\"0\" max=\"9\">"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick='initializeGraph()']",
      "text": "Initialize Graph",
      "attributes": {},
      "evidence": [
        "<button onclick=\"initializeGraph()\">Initialize Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick='runBellmanFord()']",
      "text": "Run Bellman-Ford",
      "attributes": {},
      "evidence": [
        "<button onclick=\"runBellmanFord()\">Run Bellman-Ford</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick='stepForward()']",
      "text": "Step Forward",
      "attributes": {},
      "evidence": [
        "<button onclick=\"stepForward()\">Step Forward</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick='reset()']",
      "text": "Reset",
      "attributes": {},
      "evidence": [
        "<button onclick=\"reset()\">Reset</button>"
      ]
    },
    {
      "type": "div",
      "selector": "#stepInfo",
      "text": "",
      "attributes": {},
      "evidence": [
        "<div class=\"step-info\" id=\"stepInfo\">"
      ]
    },
    {
      "type": "canvas",
      "selector": "#graphCanvas",
      "text": "",
      "attributes": {
        "width": "600",
        "height": "400"
      },
      "evidence": [
        "<canvas id=\"graphCanvas\" width=\"600\" height=\"400\"></canvas>"
      ]
    },
    {
      "type": "div",
      "selector": "#graphElements",
      "text": "",
      "attributes": {},
      "evidence": [
        "<div id=\"graphElements\"></div>"
      ]
    },
    {
      "type": "div",
      "selector": "#algorithmOutput",
      "text": "",
      "attributes": {},
      "evidence": [
        "<div id=\"algorithmOutput\"></div>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-03T00:00:00Z",
    "detected_components_count": 9,
    "detected_components": [
      {
        "type": "textarea",
        "selector": "#graphInput"
      },
      {
        "type": "input",
        "selector": "#nodeCount"
      },
      {
        "type": "input",
        "selector": "#startNode"
      },
      {
        "type": "button",
        "selector": "button[onclick='initializeGraph()']"
      },
      {
        "type": "button",
        "selector": "button[onclick='runBellmanFord()']"
      },
      {
        "type": "button",
        "selector": "button[onclick='stepForward()']"
      },
      {
        "type": "button",
        "selector": "button[onclick='reset()']"
      },
      {
        "type": "div",
        "selector": "#stepInfo"
      },
      {
        "type": "canvas",
        "selector": "#graphCanvas"
      },
      {
        "type": "div",
        "selector": "#graphElements"
      },
      {
        "type": "div",
        "selector": "#algorithmOutput"
      }
    ],
    "detected_event_handlers_count": 4,
    "detected_event_handlers": [
      "onclick=\"initializeGraph()\"",
      "onclick=\"runBellmanFord()\"",
      "onclick=\"stepForward()\"",
      "onclick=\"reset()\""
    ],
    "extracted_states_count": 5,
    "extracted_transitions_count": 5,
    "extraction_confidence": 1,
    "notes": []
  }
}