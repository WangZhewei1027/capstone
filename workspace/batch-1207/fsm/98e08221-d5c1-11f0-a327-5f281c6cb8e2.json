{
  "meta": {
    "concept": "Stack Data Structure â€” Interactive Demo",
    "topic": "Stack",
    "educational_goal": "To demonstrate the LIFO behavior of a stack through interactive operations.",
    "expected_interactions": [
      "Push values onto the stack",
      "Pop values from the stack",
      "Peek at the top value",
      "Clear the stack",
      "Fill the stack with random values"
    ]
  },
  "states": [
    {
      "id": "S0_Ready",
      "label": "Ready",
      "type": "normal",
      "entry_actions": [
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "status('Ready.')"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Overflow",
      "label": "Overflow",
      "type": "error",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "status('Push blocked: stack overflow (max size reached)', true)"
      ],
      "confidence": 1
    },
    {
      "id": "S2_EmptyStack",
      "label": "Empty Stack",
      "type": "error",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "status('Pop failed: stack is empty', true)",
        "status('Peek: stack is empty', true)"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "PushEvent",
      "event_type": "click",
      "description": "Push a value onto the stack",
      "trigger_selectors": [
        "#pushBtn"
      ],
      "evidence": [
        "pushBtn.addEventListener('click', () => {",
        "const v = valueInput.value.trim();"
      ],
      "confidence": 1
    },
    {
      "id": "PopEvent",
      "event_type": "click",
      "description": "Pop a value from the stack",
      "trigger_selectors": [
        "#popBtn"
      ],
      "evidence": [
        "popBtn.addEventListener('click', () => pop());"
      ],
      "confidence": 1
    },
    {
      "id": "PeekEvent",
      "event_type": "click",
      "description": "Peek at the top value of the stack",
      "trigger_selectors": [
        "#peekBtn"
      ],
      "evidence": [
        "peekBtn.addEventListener('click', () => {",
        "const v = peek();"
      ],
      "confidence": 1
    },
    {
      "id": "ClearEvent",
      "event_type": "click",
      "description": "Clear the stack",
      "trigger_selectors": [
        "#clearBtn"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', () => {",
        "clearStack();"
      ],
      "confidence": 1
    },
    {
      "id": "FillRandomEvent",
      "event_type": "click",
      "description": "Fill the stack with 6 random values",
      "trigger_selectors": [
        "#fillRandom"
      ],
      "evidence": [
        "fillRandom.addEventListener('click', () => {",
        "const cap = parseInt(maxSizeInput.value) || Infinity;"
      ],
      "confidence": 1
    },
    {
      "id": "StepPushEvent",
      "event_type": "click",
      "description": "Step push a random value onto the stack",
      "trigger_selectors": [
        "#stepPush"
      ],
      "evidence": [
        "stepPush.addEventListener('click', () => {",
        "const val = randomValue();"
      ],
      "confidence": 1
    },
    {
      "id": "StepPopEvent",
      "event_type": "click",
      "description": "Step pop a value from the stack",
      "trigger_selectors": [
        "#stepPop"
      ],
      "evidence": [
        "stepPop.addEventListener('click', () => {",
        "pop(true);"
      ],
      "confidence": 1
    },
    {
      "id": "MaxSizeChangeEvent",
      "event_type": "change",
      "description": "Change the maximum size of the stack",
      "trigger_selectors": [
        "#maxSizeInput"
      ],
      "evidence": [
        "maxSizeInput.addEventListener('change', () => {",
        "const val = parseInt(maxSizeInput.value);"
      ],
      "confidence": 1
    },
    {
      "id": "ValueInputEnterEvent",
      "event_type": "keydown",
      "description": "Press Enter in the value input to push",
      "trigger_selectors": [
        "#valueInput"
      ],
      "evidence": [
        "valueInput.addEventListener('keydown', (e) => {",
        "if(e.key === 'Enter'){",
        "pushBtn.click();"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Ready",
      "to": "S0_Ready",
      "event": "PushEvent",
      "actions": [
        "push(value)"
      ],
      "expected_observables": [
        "status('Pushed ...')"
      ],
      "evidence": [
        "push(value)"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S0_Ready",
      "event": "PopEvent",
      "actions": [
        "pop()"
      ],
      "expected_observables": [
        "status('Popped ...')"
      ],
      "evidence": [
        "pop()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S0_Ready",
      "event": "PeekEvent",
      "actions": [
        "peek()"
      ],
      "expected_observables": [
        "status('Peeked ...')"
      ],
      "evidence": [
        "peek()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S0_Ready",
      "event": "ClearEvent",
      "actions": [
        "clearStack()"
      ],
      "expected_observables": [
        "status('Stack cleared')"
      ],
      "evidence": [
        "clearStack()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S0_Ready",
      "event": "FillRandomEvent",
      "actions": [
        "fill random values"
      ],
      "expected_observables": [
        "status('Filled ... random values')"
      ],
      "evidence": [
        "fillRandom.addEventListener('click', () => {",
        "push(randomValue(), false);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S0_Ready",
      "event": "StepPushEvent",
      "actions": [
        "step push"
      ],
      "expected_observables": [
        "status('Pushed ...')"
      ],
      "evidence": [
        "stepPush.addEventListener('click', () => {",
        "push(val, true);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S0_Ready",
      "event": "StepPopEvent",
      "actions": [
        "step pop"
      ],
      "expected_observables": [
        "status('Popped ...')"
      ],
      "evidence": [
        "stepPop.addEventListener('click', () => {",
        "pop(true);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S1_Overflow",
      "event": "PushEvent",
      "guard": "stack.length >= cap",
      "actions": [],
      "expected_observables": [
        "status('Push blocked: stack overflow (max size reached)', true)"
      ],
      "evidence": [
        "if (cap > 0 && stack.length >= cap){"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S2_EmptyStack",
      "event": "PopEvent",
      "guard": "stack.length === 0",
      "actions": [],
      "expected_observables": [
        "status('Pop failed: stack is empty', true)"
      ],
      "evidence": [
        "if(stack.length === 0){"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Ready",
      "to": "S2_EmptyStack",
      "event": "PeekEvent",
      "guard": "stack.length === 0",
      "actions": [],
      "expected_observables": [
        "status('Peek: stack is empty', true)"
      ],
      "evidence": [
        "if(stack.length === 0){"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#valueInput",
      "text": "Value to push (string or number)",
      "attributes": {
        "type": "text",
        "placeholder": "Value to push (string or number)"
      },
      "evidence": [
        "<input id=\"valueInput\" type=\"text\" placeholder=\"Value to push (string or number)\">"
      ]
    },
    {
      "type": "input",
      "selector": "#maxSizeInput",
      "text": "Max size",
      "attributes": {
        "type": "number",
        "min": "0",
        "placeholder": "no limit"
      },
      "evidence": [
        "<input id=\"maxSizeInput\" type=\"number\" min=\"0\" placeholder=\"no limit\">"
      ]
    },
    {
      "type": "button",
      "selector": "#pushBtn",
      "text": "Push",
      "attributes": {},
      "evidence": [
        "<button id=\"pushBtn\">Push</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#popBtn",
      "text": "Pop",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"popBtn\" class=\"ghost\">Pop</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#peekBtn",
      "text": "Peek",
      "attributes": {
        "class": "small-btn"
      },
      "evidence": [
        "<button id=\"peekBtn\" class=\"small-btn\">Peek</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearBtn",
      "text": "Clear",
      "attributes": {
        "class": "danger"
      },
      "evidence": [
        "<button id=\"clearBtn\" class=\"danger\">Clear</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#fillRandom",
      "text": "Fill 6 random",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"fillRandom\" class=\"ghost\">Fill 6 random</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepPush",
      "text": "Step Push",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"stepPush\" class=\"ghost\">Step Push</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepPop",
      "text": "Step Pop",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"stepPop\" class=\"ghost\">Step Pop</button>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-01T00:00:00Z",
    "detected_components_count": 8,
    "detected_components": [
      {
        "type": "input",
        "selector": "#valueInput",
        "text": "Value to push (string or number)",
        "attributes": {
          "type": "text",
          "placeholder": "Value to push (string or number)"
        }
      },
      {
        "type": "input",
        "selector": "#maxSizeInput",
        "text": "Max size",
        "attributes": {
          "type": "number",
          "min": "0",
          "placeholder": "no limit"
        }
      },
      {
        "type": "button",
        "selector": "#pushBtn",
        "text": "Push",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#popBtn",
        "text": "Pop",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#peekBtn",
        "text": "Peek",
        "attributes": {
          "class": "small-btn"
        }
      },
      {
        "type": "button",
        "selector": "#clearBtn",
        "text": "Clear",
        "attributes": {
          "class": "danger"
        }
      },
      {
        "type": "button",
        "selector": "#fillRandom",
        "text": "Fill 6 random",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#stepPush",
        "text": "Step Push",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#stepPop",
        "text": "Step Pop",
        "attributes": {
          "class": "ghost"
        }
      }
    ],
    "detected_event_handlers_count": 9,
    "detected_event_handlers": [
      "pushBtn.addEventListener('click', () => {",
      "popBtn.addEventListener('click', () => pop());",
      "peekBtn.addEventListener('click', () => {",
      "clearBtn.addEventListener('click', () => {",
      "fillRandom.addEventListener('click', () => {",
      "stepPush.addEventListener('click', () => {",
      "stepPop.addEventListener('click', () => {",
      "maxSizeInput.addEventListener('change', () => {",
      "valueInput.addEventListener('keydown', (e) => {"
    ],
    "extracted_states_count": 3,
    "extracted_transitions_count": 14,
    "extraction_confidence": 1,
    "notes": []
  }
}