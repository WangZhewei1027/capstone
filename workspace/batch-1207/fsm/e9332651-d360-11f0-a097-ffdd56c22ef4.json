{
  "meta": {
    "concept": "Interactive Weighted Graph Demo",
    "topic": "Weighted Graph",
    "educational_goal": "Understand graph algorithms and manipulation through an interactive interface.",
    "expected_interactions": [
      "Add Node",
      "Add Edge",
      "Move Node",
      "Delete Node/Edge",
      "Run Dijkstra",
      "Run Prim's MST",
      "Generate Random Graph",
      "Clear Graph"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "renderPage()"
      ],
      "exit_actions": [],
      "evidence": [
        "<div class=\"title\">Interactive Weighted Graph</div>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_AddNode",
      "label": "Add Node",
      "type": "interaction",
      "entry_actions": [
        "setMode('add')"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"mode-add\" class=\"mode-toggle active\" title=\"Add node\">Add Node</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S2_AddEdge",
      "label": "Add Edge",
      "type": "interaction",
      "entry_actions": [
        "setMode('edge')"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"mode-edge\" class=\"mode-toggle\" title=\"Add edge (click two nodes)\">Add Edge</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Move",
      "label": "Move",
      "type": "interaction",
      "entry_actions": [
        "setMode('move')"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"mode-move\" class=\"mode-toggle\" title=\"Move nodes\">Move</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Delete",
      "label": "Delete",
      "type": "interaction",
      "entry_actions": [
        "setMode('del')"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"mode-del\" class=\"mode-toggle\" title=\"Delete node/edge\">Delete</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S5_Dijkstra",
      "label": "Dijkstra Mode",
      "type": "interaction",
      "entry_actions": [
        "startDijkstraMode()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"dijkstra\" class=\"primary\">Dijkstra (Shortest Path)</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S6_Prim",
      "label": "Prim's MST Mode",
      "type": "interaction",
      "entry_actions": [
        "runPrimMST()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"prim\">Prim's MST</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S7_Clear",
      "label": "Clear Graph",
      "type": "interaction",
      "entry_actions": [
        "clearGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"clear\" title=\"Clear graph\">Clear</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S8_Random",
      "label": "Random Graph",
      "type": "interaction",
      "entry_actions": [
        "generateRandomGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"random\" title=\"Generate random graph\">Random</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S9_AnimateSteps",
      "label": "Toggle Step Animation",
      "type": "interaction",
      "entry_actions": [
        "toggleStepAnimation()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"animate-steps\">Toggle Step Animation</button>"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "Click_AddNode",
      "event_type": "click",
      "description": "Click to add a node on the canvas.",
      "trigger_selectors": [
        "#mode-add"
      ],
      "evidence": [
        "modeButtons.add.addEventListener('click', ()=> setMode(MODE_ADD));"
      ],
      "confidence": 1
    },
    {
      "id": "Click_AddEdge",
      "event_type": "click",
      "description": "Click to add an edge between two nodes.",
      "trigger_selectors": [
        "#mode-edge"
      ],
      "evidence": [
        "modeButtons.edge.addEventListener('click', ()=> setMode(MODE_EDGE));"
      ],
      "confidence": 1
    },
    {
      "id": "Click_Move",
      "event_type": "click",
      "description": "Click to move nodes.",
      "trigger_selectors": [
        "#mode-move"
      ],
      "evidence": [
        "modeButtons.move.addEventListener('click', ()=> setMode(MODE_MOVE));"
      ],
      "confidence": 1
    },
    {
      "id": "Click_Delete",
      "event_type": "click",
      "description": "Click to delete a node or edge.",
      "trigger_selectors": [
        "#mode-del"
      ],
      "evidence": [
        "modeButtons.del.addEventListener('click', ()=> setMode(MODE_DEL));"
      ],
      "confidence": 1
    },
    {
      "id": "Click_Dijkstra",
      "event_type": "click",
      "description": "Click to run Dijkstra's algorithm.",
      "trigger_selectors": [
        "#dijkstra"
      ],
      "evidence": [
        "document.getElementById('dijkstra').addEventListener('click', ()=>{ startDijkstraMode(); });"
      ],
      "confidence": 1
    },
    {
      "id": "Click_Prim",
      "event_type": "click",
      "description": "Click to run Prim's Minimum Spanning Tree algorithm.",
      "trigger_selectors": [
        "#prim"
      ],
      "evidence": [
        "document.getElementById('prim').addEventListener('click', ()=>{ runPrimMST(); });"
      ],
      "confidence": 1
    },
    {
      "id": "Click_Clear",
      "event_type": "click",
      "description": "Click to clear the graph.",
      "trigger_selectors": [
        "#clear"
      ],
      "evidence": [
        "document.getElementById('clear').addEventListener('click', ()=>{ clearGraph(); });"
      ],
      "confidence": 1
    },
    {
      "id": "Click_Random",
      "event_type": "click",
      "description": "Click to generate a random graph.",
      "trigger_selectors": [
        "#random"
      ],
      "evidence": [
        "document.getElementById('random').addEventListener('click', ()=>{ generateRandomGraph(); });"
      ],
      "confidence": 1
    },
    {
      "id": "Click_AnimateSteps",
      "event_type": "click",
      "description": "Click to toggle step animation.",
      "trigger_selectors": [
        "#animate-steps"
      ],
      "evidence": [
        "document.getElementById('animate-steps').addEventListener('click', ()=>{ toggleStepAnimation(); });"
      ],
      "confidence": 1
    },
    {
      "id": "Change_DefaultWeight",
      "event_type": "change",
      "description": "Change the default weight for edges.",
      "trigger_selectors": [
        "#default-weight"
      ],
      "evidence": [
        "document.getElementById('default-weight').addEventListener('change', (e)=>{ defaultWeight = Math.max(0, Number(e.target.value) || 0); });"
      ],
      "confidence": 1
    },
    {
      "id": "Change_Directed",
      "event_type": "change",
      "description": "Toggle directed edges.",
      "trigger_selectors": [
        "#directed"
      ],
      "evidence": [
        "document.getElementById('directed').addEventListener('change', (e)=>{ directed = e.target.checked; });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_AddNode",
      "event": "Click_AddNode",
      "actions": [
        "setMode('add')"
      ],
      "expected_observables": [
        "Mode: Add Node"
      ],
      "evidence": [
        "modeButtons.add.addEventListener('click', ()=> setMode(MODE_ADD));"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_AddEdge",
      "event": "Click_AddEdge",
      "actions": [
        "setMode('edge')"
      ],
      "expected_observables": [
        "Mode: Add Edge"
      ],
      "evidence": [
        "modeButtons.edge.addEventListener('click', ()=> setMode(MODE_EDGE));"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Move",
      "event": "Click_Move",
      "actions": [
        "setMode('move')"
      ],
      "expected_observables": [
        "Mode: Move"
      ],
      "evidence": [
        "modeButtons.move.addEventListener('click', ()=> setMode(MODE_MOVE));"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_Delete",
      "event": "Click_Delete",
      "actions": [
        "setMode('del')"
      ],
      "expected_observables": [
        "Mode: Delete"
      ],
      "evidence": [
        "modeButtons.del.addEventListener('click', ()=> setMode(MODE_DEL));"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_Dijkstra",
      "event": "Click_Dijkstra",
      "actions": [
        "startDijkstraMode()"
      ],
      "expected_observables": [
        "Dijkstra: Click source node then target node on canvas."
      ],
      "evidence": [
        "document.getElementById('dijkstra').addEventListener('click', ()=>{ startDijkstraMode(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S6_Prim",
      "event": "Click_Prim",
      "actions": [
        "runPrimMST()"
      ],
      "expected_observables": [
        "Prim MST done"
      ],
      "evidence": [
        "document.getElementById('prim').addEventListener('click', ()=>{ runPrimMST(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S7_Clear",
      "event": "Click_Clear",
      "actions": [
        "clearGraph()"
      ],
      "expected_observables": [
        "Graph cleared"
      ],
      "evidence": [
        "document.getElementById('clear').addEventListener('click', ()=>{ clearGraph(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S8_Random",
      "event": "Click_Random",
      "actions": [
        "generateRandomGraph()"
      ],
      "expected_observables": [
        "Random graph generated"
      ],
      "evidence": [
        "document.getElementById('random').addEventListener('click', ()=>{ generateRandomGraph(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S9_AnimateSteps",
      "event": "Click_AnimateSteps",
      "actions": [
        "toggleStepAnimation()"
      ],
      "expected_observables": [
        "Step animation ON/OFF"
      ],
      "evidence": [
        "document.getElementById('animate-steps').addEventListener('click', ()=>{ toggleStepAnimation(); });"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#mode-add",
      "text": "Add Node",
      "attributes": {
        "title": "Add node"
      },
      "evidence": [
        "<button id=\"mode-add\" class=\"mode-toggle active\" title=\"Add node\">Add Node</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#mode-edge",
      "text": "Add Edge",
      "attributes": {
        "title": "Add edge (click two nodes)"
      },
      "evidence": [
        "<button id=\"mode-edge\" class=\"mode-toggle\" title=\"Add edge (click two nodes)\">Add Edge</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#mode-move",
      "text": "Move",
      "attributes": {
        "title": "Move nodes"
      },
      "evidence": [
        "<button id=\"mode-move\" class=\"mode-toggle\" title=\"Move nodes\">Move</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#mode-del",
      "text": "Delete",
      "attributes": {
        "title": "Delete node/edge"
      },
      "evidence": [
        "<button id=\"mode-del\" class=\"mode-toggle\" title=\"Delete node/edge\">Delete</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#dijkstra",
      "text": "Dijkstra (Shortest Path)",
      "attributes": {},
      "evidence": [
        "<button id=\"dijkstra\" class=\"primary\">Dijkstra (Shortest Path)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#prim",
      "text": "Prim's MST",
      "attributes": {},
      "evidence": [
        "<button id=\"prim\">Prim's MST</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clear",
      "text": "Clear",
      "attributes": {
        "title": "Clear graph"
      },
      "evidence": [
        "<button id=\"clear\" title=\"Clear graph\">Clear</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#random",
      "text": "Random",
      "attributes": {
        "title": "Generate random graph"
      },
      "evidence": [
        "<button id=\"random\" title=\"Generate random graph\">Random</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#animate-steps",
      "text": "Toggle Step Animation",
      "attributes": {},
      "evidence": [
        "<button id=\"animate-steps\">Toggle Step Animation</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#default-weight",
      "text": "",
      "attributes": {
        "type": "number",
        "min": "1",
        "value": "1",
        "style": "width:70px"
      },
      "evidence": [
        "<input id=\"default-weight\" type=\"number\" min=\"1\" value=\"1\" style=\"width:70px\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#directed",
      "text": "",
      "attributes": {
        "type": "checkbox"
      },
      "evidence": [
        "<input id=\"directed\" type=\"checkbox\" />"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-06T00:00:00Z",
    "detected_components_count": 10,
    "detected_components": [
      {
        "type": "button",
        "selector": "#mode-add",
        "text": "Add Node",
        "attributes": {
          "title": "Add node"
        }
      },
      {
        "type": "button",
        "selector": "#mode-edge",
        "text": "Add Edge",
        "attributes": {
          "title": "Add edge (click two nodes)"
        }
      },
      {
        "type": "button",
        "selector": "#mode-move",
        "text": "Move",
        "attributes": {
          "title": "Move nodes"
        }
      },
      {
        "type": "button",
        "selector": "#mode-del",
        "text": "Delete",
        "attributes": {
          "title": "Delete node/edge"
        }
      },
      {
        "type": "button",
        "selector": "#dijkstra",
        "text": "Dijkstra (Shortest Path)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#prim",
        "text": "Prim's MST",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#clear",
        "text": "Clear",
        "attributes": {
          "title": "Clear graph"
        }
      },
      {
        "type": "button",
        "selector": "#random",
        "text": "Random",
        "attributes": {
          "title": "Generate random graph"
        }
      },
      {
        "type": "button",
        "selector": "#animate-steps",
        "text": "Toggle Step Animation",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "#default-weight",
        "text": "",
        "attributes": {
          "type": "number",
          "min": "1",
          "value": "1",
          "style": "width:70px"
        }
      },
      {
        "type": "input",
        "selector": "#directed",
        "text": "",
        "attributes": {
          "type": "checkbox"
        }
      }
    ],
    "detected_event_handlers_count": 11,
    "detected_event_handlers": [
      "modeButtons.add.addEventListener('click', ()=> setMode(MODE_ADD));",
      "modeButtons.edge.addEventListener('click', ()=> setMode(MODE_EDGE));",
      "modeButtons.move.addEventListener('click', ()=> setMode(MODE_MOVE));",
      "modeButtons.del.addEventListener('click', ()=> setMode(MODE_DEL));",
      "document.getElementById('dijkstra').addEventListener('click', ()=>{ startDijkstraMode(); });",
      "document.getElementById('prim').addEventListener('click', ()=>{ runPrimMST(); });",
      "document.getElementById('clear').addEventListener('click', ()=>{ clearGraph(); });",
      "document.getElementById('random').addEventListener('click', ()=>{ generateRandomGraph(); });",
      "document.getElementById('animate-steps').addEventListener('click', ()=>{ toggleStepAnimation(); });",
      "document.getElementById('default-weight').addEventListener('change', (e)=>{ defaultWeight = Math.max(0, Number(e.target.value) || 0); });",
      "document.getElementById('directed').addEventListener('change', (e)=>{ directed = e.target.checked; });"
    ],
    "extracted_states_count": 10,
    "extracted_transitions_count": 10,
    "extraction_confidence": 1,
    "notes": []
  }
}