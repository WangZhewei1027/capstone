{
  "meta": {
    "concept": "Interactive Demo: JavaScript Set (and set operations)",
    "topic": "Set",
    "educational_goal": "To demonstrate the functionality and operations of JavaScript's Set object.",
    "expected_interactions": [
      "Build Set A",
      "Build Set B",
      "Clear A",
      "Clear B",
      "Add two identical objects to A",
      "Add two identical objects to B",
      "Sample A",
      "Sample B",
      "Union (A ∪ B)",
      "Intersection (A ∩ B)",
      "Difference (A \\ B)",
      "Difference (B \\ A)",
      "Symmetric Diff (A Δ B)",
      "Convert A → Array",
      "Copy A",
      "Iterate A",
      "Clear Both"
    ]
  },
  "states": [
    {
      "id": "S0_Initial",
      "label": "Initial State",
      "type": "default",
      "entry_actions": [
        "renderA()",
        "renderB()"
      ],
      "exit_actions": [],
      "evidence": [
        "inputA.value = 'apple, banana, 3, 3, true';",
        "inputB.value = 'banana, orange, 3, false';",
        "document.getElementById('buildA').click();",
        "document.getElementById('buildB').click();"
      ],
      "confidence": 1
    },
    {
      "id": "S1_SetA_Built",
      "label": "Set A Built",
      "type": "default",
      "entry_actions": [
        "renderA()"
      ],
      "exit_actions": [],
      "evidence": [
        "setA = new Set(values);",
        "outOps.textContent = 'Built Set A from input.';"
      ],
      "confidence": 1
    },
    {
      "id": "S2_SetB_Built",
      "label": "Set B Built",
      "type": "default",
      "entry_actions": [
        "renderB()"
      ],
      "exit_actions": [],
      "evidence": [
        "setB = new Set(values);",
        "outOps.textContent = 'Built Set B from input.';"
      ],
      "confidence": 1
    },
    {
      "id": "S3_SetA_Cleared",
      "label": "Set A Cleared",
      "type": "default",
      "entry_actions": [
        "renderA()"
      ],
      "exit_actions": [],
      "evidence": [
        "setA.clear();",
        "outOps.textContent = 'Cleared A.';"
      ],
      "confidence": 1
    },
    {
      "id": "S4_SetB_Cleared",
      "label": "Set B Cleared",
      "type": "default",
      "entry_actions": [
        "renderB()"
      ],
      "exit_actions": [],
      "evidence": [
        "setB.clear();",
        "outOps.textContent = 'Cleared B.';"
      ],
      "confidence": 1
    },
    {
      "id": "S5_Both_Sets_Cleared",
      "label": "Both Sets Cleared",
      "type": "default",
      "entry_actions": [
        "renderA()",
        "renderB()"
      ],
      "exit_actions": [],
      "evidence": [
        "setA.clear(); setB.clear();",
        "outOps.textContent = 'Cleared both sets.';"
      ],
      "confidence": 1
    },
    {
      "id": "S6_SampledA",
      "label": "Sampled Set A",
      "type": "default",
      "entry_actions": [
        "renderA()"
      ],
      "exit_actions": [],
      "evidence": [
        "setA = new Set([samples[Math.floor(Math.random()*samples.length)], samples[Math.floor(Math.random()*samples.length)], 'x', 'x', 2]);",
        "outOps.textContent = 'Sample A created (with duplicates removed).';"
      ],
      "confidence": 1
    },
    {
      "id": "S7_SampledB",
      "label": "Sampled Set B",
      "type": "default",
      "entry_actions": [
        "renderB()"
      ],
      "exit_actions": [],
      "evidence": [
        "setB = new Set([samples[Math.floor(Math.random()*samples.length)], samples[Math.floor(Math.random()*samples.length)], null, null]);",
        "outOps.textContent = 'Sample B created (with duplicates removed).';"
      ],
      "confidence": 1
    },
    {
      "id": "S8_ObjA_Added",
      "label": "Objects Added to A",
      "type": "default",
      "entry_actions": [
        "renderA()"
      ],
      "exit_actions": [],
      "evidence": [
        "setA.add(obj1).add(obj2);",
        "outOps.textContent = 'Added two distinct object references (same properties) to A — both appear.';"
      ],
      "confidence": 1
    },
    {
      "id": "S9_ObjB_Added",
      "label": "Objects Added to B",
      "type": "default",
      "entry_actions": [
        "renderB()"
      ],
      "exit_actions": [],
      "evidence": [
        "setB.add(obj1).add(obj2);",
        "outOps.textContent = 'Added the same object reference twice to B — only one item stored.';"
      ],
      "confidence": 1
    },
    {
      "id": "S10_Union_Shown",
      "label": "Union Shown",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "const u = union(setA, setB);",
        "outOps.textContent = 'Union (A ∪ B):\\n' + showSet(u);"
      ],
      "confidence": 1
    },
    {
      "id": "S11_Intersection_Shown",
      "label": "Intersection Shown",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "const i = intersection(setA, setB);",
        "outOps.textContent = 'Intersection (A ∩ B):\\n' + showSet(i);"
      ],
      "confidence": 1
    },
    {
      "id": "S12_Difference_A_B_Shown",
      "label": "Difference A \\ B Shown",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "const d = difference(setA, setB);",
        "outOps.textContent = 'Difference (A \\ B):\\n' + showSet(d);"
      ],
      "confidence": 1
    },
    {
      "id": "S13_Difference_B_A_Shown",
      "label": "Difference B \\ A Shown",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "const d = difference(setB, setA);",
        "outOps.textContent = 'Difference (B \\ A):\\n' + showSet(d);"
      ],
      "confidence": 1
    },
    {
      "id": "S14_Symmetric_Diff_Shown",
      "label": "Symmetric Difference Shown",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "const s = symmetricDiff(setA, setB);",
        "outOps.textContent = 'Symmetric difference (A Δ B):\\n' + showSet(s);"
      ],
      "confidence": 1
    },
    {
      "id": "S15_A_Converted_To_Array",
      "label": "A Converted to Array",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "const arr = [...setA];",
        "outOps.textContent = 'A converted to array (duplicates removed if any):\\n' + JSON.stringify(arr, null, 2) + '\\n\\nNote elements keep their types. Example: ' + showSet(setA);"
      ],
      "confidence": 1
    },
    {
      "id": "S16_A_Copied",
      "label": "A Copied",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "const copy = new Set(setA);",
        "outOps.textContent = 'Shallow copy of A created. copy === setA ? (no) — but elements reference-equal for objects:';"
      ],
      "confidence": 1
    },
    {
      "id": "S17_A_Iterated",
      "label": "A Iterated",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "let s = 'Iterating A with for..of:\\n';",
        "setA.forEach((v, same, setRef) => { s += '  * forEach value: ' + repr(v) + '\\n'; });"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "BuildA_Click",
      "event_type": "click",
      "description": "Build Set A from input values.",
      "trigger_selectors": [
        "#buildA"
      ],
      "evidence": [
        "document.getElementById('buildA').addEventListener('click', () => { const values = parseTokens(inputA.value); setA = new Set(values); renderA(); outOps.textContent = 'Built Set A from input.'; });"
      ],
      "confidence": 1
    },
    {
      "id": "BuildB_Click",
      "event_type": "click",
      "description": "Build Set B from input values.",
      "trigger_selectors": [
        "#buildB"
      ],
      "evidence": [
        "document.getElementById('buildB').addEventListener('click', () => { const values = parseTokens(inputB.value); setB = new Set(values); renderB(); outOps.textContent = 'Built Set B from input.'; });"
      ],
      "confidence": 1
    },
    {
      "id": "ClearA_Click",
      "event_type": "click",
      "description": "Clear Set A.",
      "trigger_selectors": [
        "#clearA"
      ],
      "evidence": [
        "document.getElementById('clearA').addEventListener('click', () => { setA.clear(); renderA(); outOps.textContent = 'Cleared A.'; });"
      ],
      "confidence": 1
    },
    {
      "id": "ClearB_Click",
      "event_type": "click",
      "description": "Clear Set B.",
      "trigger_selectors": [
        "#clearB"
      ],
      "evidence": [
        "document.getElementById('clearB').addEventListener('click', () => { setB.clear(); renderB(); outOps.textContent = 'Cleared B.'; });"
      ],
      "confidence": 1
    },
    {
      "id": "ClearBoth_Click",
      "event_type": "click",
      "description": "Clear both sets.",
      "trigger_selectors": [
        "#clearBoth"
      ],
      "evidence": [
        "document.getElementById('clearBoth').addEventListener('click', () => { setA.clear(); setB.clear(); renderA(); renderB(); outOps.textContent = 'Cleared both sets.'; });"
      ],
      "confidence": 1
    },
    {
      "id": "SampleA_Click",
      "event_type": "click",
      "description": "Sample Set A with random values.",
      "trigger_selectors": [
        "#sampleA"
      ],
      "evidence": [
        "document.getElementById('sampleA').addEventListener('click', () => { const samples = ['apple', 'banana', 'orange', 1, 2, 3, true, '1']; setA = new Set([samples[Math.floor(Math.random()*samples.length)], samples[Math.floor(Math.random()*samples.length)], 'x', 'x', 2]); renderA(); outOps.textContent = 'Sample A created (with duplicates removed).'; });"
      ],
      "confidence": 1
    },
    {
      "id": "SampleB_Click",
      "event_type": "click",
      "description": "Sample Set B with random values.",
      "trigger_selectors": [
        "#sampleB"
      ],
      "evidence": [
        "document.getElementById('sampleB').addEventListener('click', () => { const samples = ['banana','pear','lemon',3,4,false,'1']; setB = new Set([samples[Math.floor(Math.random()*samples.length)], samples[Math.floor(Math.random()*samples.length)], null, null]); renderB(); outOps.textContent = 'Sample B created (with duplicates removed).'; });"
      ],
      "confidence": 1
    },
    {
      "id": "AddObjA_Click",
      "event_type": "click",
      "description": "Add two identical objects to Set A.",
      "trigger_selectors": [
        "#addObjA"
      ],
      "evidence": [
        "document.getElementById('addObjA').addEventListener('click', () => { const obj1 = { name: 'obj', x: 1 }; const obj2 = { name: 'obj', x: 1 }; setA.add(obj1).add(obj2); renderA(); outOps.textContent = 'Added two distinct object references (same properties) to A — both appear.'; });"
      ],
      "confidence": 1
    },
    {
      "id": "AddObjB_Click",
      "event_type": "click",
      "description": "Add two identical objects to Set B.",
      "trigger_selectors": [
        "#addObjB"
      ],
      "evidence": [
        "document.getElementById('addObjB').addEventListener('click', () => { const obj1 = { name: 'obj', x: 1 }; const obj2 = obj1; setB.add(obj1).add(obj2); renderB(); outOps.textContent = 'Added the same object reference twice to B — only one item stored.'; });"
      ],
      "confidence": 1
    },
    {
      "id": "ShowUnion_Click",
      "event_type": "click",
      "description": "Show the union of Set A and Set B.",
      "trigger_selectors": [
        "#showUnion"
      ],
      "evidence": [
        "document.getElementById('showUnion').addEventListener('click', () => { const u = union(setA, setB); outOps.textContent = 'Union (A ∪ B):\\n' + showSet(u); });"
      ],
      "confidence": 1
    },
    {
      "id": "ShowIntersection_Click",
      "event_type": "click",
      "description": "Show the intersection of Set A and Set B.",
      "trigger_selectors": [
        "#showInter"
      ],
      "evidence": [
        "document.getElementById('showInter').addEventListener('click', () => { const i = intersection(setA, setB); outOps.textContent = 'Intersection (A ∩ B):\\n' + showSet(i); });"
      ],
      "confidence": 1
    },
    {
      "id": "ShowDifferenceA_B_Click",
      "event_type": "click",
      "description": "Show the difference of Set A and Set B.",
      "trigger_selectors": [
        "#showDiff"
      ],
      "evidence": [
        "document.getElementById('showDiff').addEventListener('click', () => { const d = difference(setA, setB); outOps.textContent = 'Difference (A \\ B):\\n' + showSet(d); });"
      ],
      "confidence": 1
    },
    {
      "id": "ShowDifferenceB_A_Click",
      "event_type": "click",
      "description": "Show the difference of Set B and Set A.",
      "trigger_selectors": [
        "#showDiffBA"
      ],
      "evidence": [
        "document.getElementById('showDiffBA').addEventListener('click', () => { const d = difference(setB, setA); outOps.textContent = 'Difference (B \\ A):\\n' + showSet(d); });"
      ],
      "confidence": 1
    },
    {
      "id": "ShowSymmetricDiff_Click",
      "event_type": "click",
      "description": "Show the symmetric difference of Set A and Set B.",
      "trigger_selectors": [
        "#showSym"
      ],
      "evidence": [
        "document.getElementById('showSym').addEventListener('click', () => { const s = symmetricDiff(setA, setB); outOps.textContent = 'Symmetric difference (A Δ B):\\n' + showSet(s); });"
      ],
      "confidence": 1
    },
    {
      "id": "ConvertAToArray_Click",
      "event_type": "click",
      "description": "Convert Set A to an array.",
      "trigger_selectors": [
        "#toArray"
      ],
      "evidence": [
        "document.getElementById('toArray').addEventListener('click', () => { const arr = [...setA]; outOps.textContent = 'A converted to array (duplicates removed if any):\\n' + JSON.stringify(arr, null, 2) + '\\n\\nNote elements keep their types. Example: ' + showSet(setA); });"
      ],
      "confidence": 1
    },
    {
      "id": "CopyA_Click",
      "event_type": "click",
      "description": "Copy Set A.",
      "trigger_selectors": [
        "#copyA"
      ],
      "evidence": [
        "document.getElementById('copyA').addEventListener('click', () => { const copy = new Set(setA); outOps.textContent = 'Shallow copy of A created. copy === setA ? (no) — but elements reference-equal for objects:'; });"
      ],
      "confidence": 1
    },
    {
      "id": "IterateA_Click",
      "event_type": "click",
      "description": "Iterate over Set A.",
      "trigger_selectors": [
        "#iterateA"
      ],
      "evidence": [
        "document.getElementById('iterateA').addEventListener('click', () => { let s = 'Iterating A with for..of:\\n'; for (const v of setA) s += '  - ' + repr(v) + ' (' + typeof v + ')\\n'; outOps.textContent = s; });"
      ],
      "confidence": 1
    },
    {
      "id": "Ex1_Click",
      "event_type": "click",
      "description": "Show example 1.",
      "trigger_selectors": [
        "#ex1"
      ],
      "evidence": [
        "document.getElementById('ex1').addEventListener('click', () => { const arr = [1,2,2,3,3,3,'a','a']; const dedup = [...new Set(arr)]; outExamples.textContent = 'Array: ' + JSON.stringify(arr) + '\\nAfter [...new Set(array)]: ' + JSON.stringify(dedup); });"
      ],
      "confidence": 1
    },
    {
      "id": "Ex2_Click",
      "event_type": "click",
      "description": "Show example 2.",
      "trigger_selectors": [
        "#ex2"
      ],
      "evidence": [
        "document.getElementById('ex2').addEventListener('click', () => { const a = {id:1}, b = {id:1}, c = a; const s = new Set([a,b,c]); outExamples.textContent = 'Objects a and b have same properties but are different references.\\nSet([a,b,c]) results in size=' + s.size + '  (' + Array.from(s).map(repr).join(', ') + ')\nShows reference equality, not deep equality.'; });"
      ],
      "confidence": 1
    },
    {
      "id": "Ex3_Click",
      "event_type": "click",
      "description": "Show example 3.",
      "trigger_selectors": [
        "#ex3"
      ],
      "evidence": [
        "document.getElementById('ex3').addEventListener('click', () => { const s = new Set(); s.add(1); s.add(1); s.add('1'); s.delete(1); outExamples.textContent = 'Demo add/delete/has:\\nAdded 1 twice and \"1\". After delete(1): has(1)=' + s.has(1) + ', has(\"1\")=' + s.has('1') + '\\nSet contents: ' + showSet(s); });"
      ],
      "confidence": 1
    },
    {
      "id": "Ex4_Click",
      "event_type": "click",
      "description": "Show example 4.",
      "trigger_selectors": [
        "#ex4"
      ],
      "evidence": [
        "document.getElementById('ex4').addEventListener('click', () => { const s = new Set(); s.add('first'); s.add('second'); s.add('third'); s.delete('second'); s.add('second'); outExamples.textContent = 'Insertion order preserved. Sequence after operations: ' + showSet(s); });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Initial",
      "to": "S1_SetA_Built",
      "event": "BuildA_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('buildA').addEventListener('click', () => { const values = parseTokens(inputA.value); setA = new Set(values); renderA(); outOps.textContent = 'Built Set A from input.'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Initial",
      "to": "S2_SetB_Built",
      "event": "BuildB_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('buildB').addEventListener('click', () => { const values = parseTokens(inputB.value); setB = new Set(values); renderB(); outOps.textContent = 'Built Set B from input.'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S3_SetA_Cleared",
      "event": "ClearA_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('clearA').addEventListener('click', () => { setA.clear(); renderA(); outOps.textContent = 'Cleared A.'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_SetB_Built",
      "to": "S4_SetB_Cleared",
      "event": "ClearB_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('clearB').addEventListener('click', () => { setB.clear(); renderB(); outOps.textContent = 'Cleared B.'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S5_Both_Sets_Cleared",
      "event": "ClearBoth_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('clearBoth').addEventListener('click', () => { setA.clear(); setB.clear(); renderA(); renderB(); outOps.textContent = 'Cleared both sets.'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S6_SampledA",
      "event": "SampleA_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('sampleA').addEventListener('click', () => { const samples = ['apple', 'banana', 'orange', 1, 2, 3, true, '1']; setA = new Set([samples[Math.floor(Math.random()*samples.length)], samples[Math.floor(Math.random()*samples.length)], 'x', 'x', 2]); renderA(); outOps.textContent = 'Sample A created (with duplicates removed).'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_SetB_Built",
      "to": "S7_SampledB",
      "event": "SampleB_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('sampleB').addEventListener('click', () => { const samples = ['banana','pear','lemon',3,4,false,'1']; setB = new Set([samples[Math.floor(Math.random()*samples.length)], samples[Math.floor(Math.random()*samples.length)], null, null]); renderB(); outOps.textContent = 'Sample B created (with duplicates removed).'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S8_ObjA_Added",
      "event": "AddObjA_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('addObjA').addEventListener('click', () => { const obj1 = { name: 'obj', x: 1 }; const obj2 = { name: 'obj', x: 1 }; setA.add(obj1).add(obj2); renderA(); outOps.textContent = 'Added two distinct object references (same properties) to A — both appear.'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_SetB_Built",
      "to": "S9_ObjB_Added",
      "event": "AddObjB_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('addObjB').addEventListener('click', () => { const obj1 = { name: 'obj', x: 1 }; const obj2 = obj1; setB.add(obj1).add(obj2); renderB(); outOps.textContent = 'Added the same object reference twice to B — only one item stored.'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S10_Union_Shown",
      "event": "ShowUnion_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('showUnion').addEventListener('click', () => { const u = union(setA, setB); outOps.textContent = 'Union (A ∪ B):\\n' + showSet(u); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S11_Intersection_Shown",
      "event": "ShowIntersection_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('showInter').addEventListener('click', () => { const i = intersection(setA, setB); outOps.textContent = 'Intersection (A ∩ B):\\n' + showSet(i); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S12_Difference_A_B_Shown",
      "event": "ShowDifferenceA_B_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('showDiff').addEventListener('click', () => { const d = difference(setA, setB); outOps.textContent = 'Difference (A \\ B):\\n' + showSet(d); });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_SetB_Built",
      "to": "S13_Difference_B_A_Shown",
      "event": "ShowDifferenceB_A_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('showDiffBA').addEventListener('click', () => { const d = difference(setB, setA); outOps.textContent = 'Difference (B \\ A):\\n' + showSet(d); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S14_Symmetric_Diff_Shown",
      "event": "ShowSymmetricDiff_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('showSym').addEventListener('click', () => { const s = symmetricDiff(setA, setB); outOps.textContent = 'Symmetric difference (A Δ B):\\n' + showSet(s); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S15_A_Converted_To_Array",
      "event": "ConvertAToArray_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('toArray').addEventListener('click', () => { const arr = [...setA]; outOps.textContent = 'A converted to array (duplicates removed if any):\\n' + JSON.stringify(arr, null, 2) + '\\n\\nNote elements keep their types. Example: ' + showSet(setA); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S16_A_Copied",
      "event": "CopyA_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('copyA').addEventListener('click', () => { const copy = new Set(setA); outOps.textContent = 'Shallow copy of A created. copy === setA ? (no) — but elements reference-equal for objects:'; });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_SetA_Built",
      "to": "S17_A_Iterated",
      "event": "IterateA_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('iterateA').addEventListener('click', () => { let s = 'Iterating A with for..of:\\n'; for (const v of setA) s += '  - ' + repr(v) + ' (' + typeof v + ')\\n'; outOps.textContent = s; });"
      ],
      "confidence": 1
    },
    {
      "from": "S6_SampledA",
      "to": "S1_SetA_Built",
      "event": "BuildA_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('buildA').addEventListener('click', () => { const values = parseTokens(inputA.value); setA = new Set(values); renderA(); outOps.textContent = 'Built Set A from input.'; });"
      ],
      "confidence": 0.8
    },
    {
      "from": "S7_SampledB",
      "to": "S2_SetB_Built",
      "event": "BuildB_Click",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "document.getElementById('buildB').addEventListener('click', () => { const values = parseTokens(inputB.value); setB = new Set(values); renderB(); outOps.textContent = 'Built Set B from input.'; });"
      ],
      "confidence": 0.8
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#inputA",
      "text": "Set A (comma-separated values)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "input",
      "selector": "#inputB",
      "text": "Set B (comma-separated values)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#buildA",
      "text": "Build Set A",
      "attributes": {
        "class": "primary"
      },
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#clearA",
      "text": "Clear A",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#addObjA",
      "text": "Add two identical objects to A",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#sampleA",
      "text": "Sample A (random)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#buildB",
      "text": "Build Set B",
      "attributes": {
        "class": "primary"
      },
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#clearB",
      "text": "Clear B",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#addObjB",
      "text": "Add two identical objects to B",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#sampleB",
      "text": "Sample B (random)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#showUnion",
      "text": "Union (A ∪ B)",
      "attributes": {
        "class": "primary"
      },
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#showInter",
      "text": "Intersection (A ∩ B)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#showDiff",
      "text": "Difference (A \\ B)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#showDiffBA",
      "text": "Difference (B \\ A)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#showSym",
      "text": "Symmetric Diff (A Δ B)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#toArray",
      "text": "Convert A → Array (remove duplicates)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#copyA",
      "text": "Copy A (shallow)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#iterateA",
      "text": "Iterate A (for..of)",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "button",
      "selector": "#clearBoth",
      "text": "Clear Both",
      "attributes": {
        "class": "warn"
      },
      "evidence": []
    },
    {
      "type": "div",
      "selector": ".output",
      "text": "",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "div",
      "selector": ".chip",
      "text": "Quick examples",
      "attributes": {},
      "evidence": []
    },
    {
      "type": "div",
      "selector": ".muted",
      "text": "Notes & tips",
      "attributes": {},
      "evidence": []
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-03T00:00:00Z",
    "detected_components_count": 20,
    "detected_components": [
      {
        "type": "input",
        "selector": "#inputA",
        "text": "Set A (comma-separated values)",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "#inputB",
        "text": "Set B (comma-separated values)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#buildA",
        "text": "Build Set A",
        "attributes": {
          "class": "primary"
        }
      },
      {
        "type": "button",
        "selector": "#clearA",
        "text": "Clear A",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#addObjA",
        "text": "Add two identical objects to A",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#sampleA",
        "text": "Sample A (random)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#buildB",
        "text": "Build Set B",
        "attributes": {
          "class": "primary"
        }
      },
      {
        "type": "button",
        "selector": "#clearB",
        "text": "Clear B",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#addObjB",
        "text": "Add two identical objects to B",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#sampleB",
        "text": "Sample B (random)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#showUnion",
        "text": "Union (A ∪ B)",
        "attributes": {
          "class": "primary"
        }
      },
      {
        "type": "button",
        "selector": "#showInter",
        "text": "Intersection (A ∩ B)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#showDiff",
        "text": "Difference (A \\ B)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#showDiffBA",
        "text": "Difference (B \\ A)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#showSym",
        "text": "Symmetric Diff (A Δ B)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#toArray",
        "text": "Convert A → Array (remove duplicates)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#copyA",
        "text": "Copy A (shallow)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#iterateA",
        "text": "Iterate A (for..of)",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#clearBoth",
        "text": "Clear Both",
        "attributes": {
          "class": "warn"
        }
      },
      {
        "type": "div",
        "selector": ".output",
        "text": "",
        "attributes": {}
      },
      {
        "type": "div",
        "selector": ".chip",
        "text": "Quick examples",
        "attributes": {}
      },
      {
        "type": "div",
        "selector": ".muted",
        "text": "Notes & tips",
        "attributes": {}
      }
    ],
    "detected_event_handlers_count": 20,
    "detected_event_handlers": [
      "document.getElementById('buildA').addEventListener('click', ...)",
      "document.getElementById('buildB').addEventListener('click', ...)",
      "document.getElementById('clearA').addEventListener('click', ...)",
      "document.getElementById('clearB').addEventListener('click', ...)",
      "document.getElementById('clearBoth').addEventListener('click', ...)",
      "document.getElementById('sampleA').addEventListener('click', ...)",
      "document.getElementById('sampleB').addEventListener('click', ...)",
      "document.getElementById('addObjA').addEventListener('click', ...)",
      "document.getElementById('addObjB').addEventListener('click', ...)",
      "document.getElementById('showUnion').addEventListener('click', ...)",
      "document.getElementById('showInter').addEventListener('click', ...)",
      "document.getElementById('showDiff').addEventListener('click', ...)",
      "document.getElementById('showDiffBA').addEventListener('click', ...)",
      "document.getElementById('showSym').addEventListener('click', ...)",
      "document.getElementById('toArray').addEventListener('click', ...)",
      "document.getElementById('copyA').addEventListener('click', ...)",
      "document.getElementById('iterateA').addEventListener('click', ...)",
      "document.getElementById('ex1').addEventListener('click', ...)",
      "document.getElementById('ex2').addEventListener('click', ...)",
      "document.getElementById('ex3').addEventListener('click', ...)",
      "document.getElementById('ex4').addEventListener('click', ...)"
    ],
    "extracted_states_count": 18,
    "extracted_transitions_count": 38,
    "extraction_confidence": 1,
    "notes": []
  }
}