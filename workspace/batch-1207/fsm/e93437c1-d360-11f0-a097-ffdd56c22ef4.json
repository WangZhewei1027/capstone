{
  "meta": {
    "concept": "Bellman-Ford Algorithm Visualizer",
    "topic": "Graph Algorithms",
    "educational_goal": "To visualize the Bellman-Ford algorithm and understand its workings through interactive graph manipulation.",
    "expected_interactions": [
      "Add Node",
      "Add Edge",
      "Select/Move",
      "Delete",
      "Step",
      "Next Iteration",
      "Run",
      "Auto",
      "Reset",
      "Highlight Shortest Tree",
      "Clear Highlights",
      "Load Presets"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"addNodeBtn\">Add Node</button>",
        "<button id=\"addEdgeBtn\">Add Edge</button>",
        "<button id=\"selectBtn\" class=\"active\">Select/Move</button>",
        "<button id=\"delBtn\" class=\"\">Delete</button>",
        "<button id=\"stepBtn\">Step</button>",
        "<button id=\"iterBtn\">Next Iteration</button>",
        "<button id=\"runBtn\">Run</button>",
        "<button id=\"autoBtn\">Auto</button>",
        "<button id=\"resetBtn\" class=\"btn-danger\">Reset</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_AddNode",
      "label": "Adding Node",
      "type": "default",
      "entry_actions": [
        "setMode('addNode')"
      ],
      "exit_actions": [
        "setMode('select')"
      ],
      "evidence": [
        "addNodeBtn.addEventListener('click', ()=>setMode('addNode'));"
      ],
      "confidence": 1
    },
    {
      "id": "S2_AddEdge",
      "label": "Adding Edge",
      "type": "default",
      "entry_actions": [
        "setMode('addEdge')"
      ],
      "exit_actions": [
        "setMode('select')"
      ],
      "evidence": [
        "addEdgeBtn.addEventListener('click', ()=>setMode('addEdge'));"
      ],
      "confidence": 1
    },
    {
      "id": "S3_SelectMove",
      "label": "Select/Move",
      "type": "default",
      "entry_actions": [
        "setMode('select')"
      ],
      "exit_actions": [],
      "evidence": [
        "selectBtn.addEventListener('click', ()=>setMode('select'));"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Delete",
      "label": "Deleting",
      "type": "default",
      "entry_actions": [
        "setMode('delete')"
      ],
      "exit_actions": [],
      "evidence": [
        "delBtn.addEventListener('click', ()=>setMode('delete'));"
      ],
      "confidence": 1
    },
    {
      "id": "S5_Step",
      "label": "Stepping Through Algorithm",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; stepOnce(); });"
      ],
      "confidence": 1
    },
    {
      "id": "S6_NextIteration",
      "label": "Next Iteration",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "iterBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; iterateOnce(); });"
      ],
      "confidence": 1
    },
    {
      "id": "S7_Run",
      "label": "Running Algorithm",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "runBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; runToCompletion(); });"
      ],
      "confidence": 1
    },
    {
      "id": "S8_Auto",
      "label": "Auto Running",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "autoBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; if (!autoRunning) { autoRunning = true; ... } else { autoRunning = false; ... } });"
      ],
      "confidence": 1
    },
    {
      "id": "S9_Reset",
      "label": "Resetting Algorithm",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ if (confirm('Reset algorithm state (keeps graph)?')) { ... } });"
      ],
      "confidence": 1
    },
    {
      "id": "S10_HighlightPath",
      "label": "Highlighting Shortest Path",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "markPathBtn.addEventListener('click', ()=>{ state.treeHighlight = !state.treeHighlight; render(); });"
      ],
      "confidence": 1
    },
    {
      "id": "S11_ClearHighlights",
      "label": "Clearing Highlights",
      "type": "default",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "clearHighlightsBtn.addEventListener('click', ()=>{ state.treeHighlight = false; render(); });"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "ADD_NODE",
      "event_type": "click",
      "description": "Add a new node to the graph.",
      "trigger_selectors": [
        "#addNodeBtn"
      ],
      "evidence": [
        "addNodeBtn.addEventListener('click', ()=>setMode('addNode'));"
      ],
      "confidence": 1
    },
    {
      "id": "ADD_EDGE",
      "event_type": "click",
      "description": "Add a new edge between two nodes.",
      "trigger_selectors": [
        "#addEdgeBtn"
      ],
      "evidence": [
        "addEdgeBtn.addEventListener('click', ()=>setMode('addEdge'));"
      ],
      "confidence": 1
    },
    {
      "id": "SELECT_MOVE",
      "event_type": "click",
      "description": "Select or move existing nodes.",
      "trigger_selectors": [
        "#selectBtn"
      ],
      "evidence": [
        "selectBtn.addEventListener('click', ()=>setMode('select'));"
      ],
      "confidence": 1
    },
    {
      "id": "DELETE",
      "event_type": "click",
      "description": "Delete a node or edge.",
      "trigger_selectors": [
        "#delBtn"
      ],
      "evidence": [
        "delBtn.addEventListener('click', ()=>setMode('delete'));"
      ],
      "confidence": 1
    },
    {
      "id": "STEP",
      "event_type": "click",
      "description": "Step through the algorithm one iteration.",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; stepOnce(); });"
      ],
      "confidence": 1
    },
    {
      "id": "NEXT_ITERATION",
      "event_type": "click",
      "description": "Perform the next iteration of the algorithm.",
      "trigger_selectors": [
        "#iterBtn"
      ],
      "evidence": [
        "iterBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; iterateOnce(); });"
      ],
      "confidence": 1
    },
    {
      "id": "RUN",
      "event_type": "click",
      "description": "Run the algorithm to completion.",
      "trigger_selectors": [
        "#runBtn"
      ],
      "evidence": [
        "runBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; runToCompletion(); });"
      ],
      "confidence": 1
    },
    {
      "id": "AUTO",
      "event_type": "click",
      "description": "Automatically run the algorithm.",
      "trigger_selectors": [
        "#autoBtn"
      ],
      "evidence": [
        "autoBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; ... });"
      ],
      "confidence": 1
    },
    {
      "id": "RESET",
      "event_type": "click",
      "description": "Reset the algorithm state.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ if (confirm('Reset algorithm state (keeps graph)?')) { ... });"
      ],
      "confidence": 1
    },
    {
      "id": "HIGHLIGHT_PATH",
      "event_type": "click",
      "description": "Highlight the shortest path tree.",
      "trigger_selectors": [
        "#markPathBtn"
      ],
      "evidence": [
        "markPathBtn.addEventListener('click', ()=>{ state.treeHighlight = !state.treeHighlight; render(); });"
      ],
      "confidence": 1
    },
    {
      "id": "CLEAR_HIGHLIGHTS",
      "event_type": "click",
      "description": "Clear highlights from the graph.",
      "trigger_selectors": [
        "#clearHighlights"
      ],
      "evidence": [
        "clearHighlightsBtn.addEventListener('click', ()=>{ state.treeHighlight = false; render(); });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_AddNode",
      "event": "ADD_NODE",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "addNodeBtn.addEventListener('click', ()=>setMode('addNode'));"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_AddEdge",
      "event": "ADD_EDGE",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "addEdgeBtn.addEventListener('click', ()=>setMode('addEdge'));"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_SelectMove",
      "event": "SELECT_MOVE",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "selectBtn.addEventListener('click', ()=>setMode('select'));"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_Delete",
      "event": "DELETE",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "delBtn.addEventListener('click', ()=>setMode('delete'));"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_Step",
      "event": "STEP",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; stepOnce(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S6_NextIteration",
      "event": "NEXT_ITERATION",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "iterBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; iterateOnce(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S7_Run",
      "event": "RUN",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "runBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; runToCompletion(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S8_Auto",
      "event": "AUTO",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "autoBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S9_Reset",
      "event": "RESET",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ if (confirm('Reset algorithm state (keeps graph)?')) { ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S10_HighlightPath",
      "event": "HIGHLIGHT_PATH",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "markPathBtn.addEventListener('click', ()=>{ state.treeHighlight = !state.treeHighlight; render(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S11_ClearHighlights",
      "event": "CLEAR_HIGHLIGHTS",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "clearHighlightsBtn.addEventListener('click', ()=>{ state.treeHighlight = false; render(); });"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#addNodeBtn",
      "text": "Add Node",
      "attributes": {},
      "evidence": [
        "<button id=\"addNodeBtn\">Add Node</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#addEdgeBtn",
      "text": "Add Edge",
      "attributes": {},
      "evidence": [
        "<button id=\"addEdgeBtn\">Add Edge</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#selectBtn",
      "text": "Select/Move",
      "attributes": {},
      "evidence": [
        "<button id=\"selectBtn\" class=\"active\">Select/Move</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#delBtn",
      "text": "Delete",
      "attributes": {},
      "evidence": [
        "<button id=\"delBtn\" class=\"\">Delete</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "Step",
      "attributes": {},
      "evidence": [
        "<button id=\"stepBtn\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#iterBtn",
      "text": "Next Iteration",
      "attributes": {},
      "evidence": [
        "<button id=\"iterBtn\">Next Iteration</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runBtn",
      "text": "Run",
      "attributes": {},
      "evidence": [
        "<button id=\"runBtn\">Run</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#autoBtn",
      "text": "Auto",
      "attributes": {},
      "evidence": [
        "<button id=\"autoBtn\">Auto</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {
        "class": "btn-danger"
      },
      "evidence": [
        "<button id=\"resetBtn\" class=\"btn-danger\">Reset</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#markPathBtn",
      "text": "Highlight Shortest Tree",
      "attributes": {},
      "evidence": [
        "<button id=\"markPathBtn\">Highlight Shortest Tree</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearHighlights",
      "text": "Clear Highlights",
      "attributes": {},
      "evidence": [
        "<button id=\"clearHighlights\">Clear Highlights</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#preset1",
      "text": "Example 1",
      "attributes": {},
      "evidence": [
        "<button id=\"preset1\">Example 1</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#preset2",
      "text": "Negative Cycle",
      "attributes": {},
      "evidence": [
        "<button id=\"preset2\">Negative Cycle</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearBtn",
      "text": "Clear",
      "attributes": {},
      "evidence": [
        "<button id=\"clearBtn\">Clear</button>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-06T00:00:00Z",
    "detected_components_count": 12,
    "detected_components": [
      {
        "type": "button",
        "selector": "#addNodeBtn",
        "text": "Add Node",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#addEdgeBtn",
        "text": "Add Edge",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#selectBtn",
        "text": "Select/Move",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#delBtn",
        "text": "Delete",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#stepBtn",
        "text": "Step",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#iterBtn",
        "text": "Next Iteration",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#runBtn",
        "text": "Run",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#autoBtn",
        "text": "Auto",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Reset",
        "attributes": {
          "class": "btn-danger"
        }
      },
      {
        "type": "button",
        "selector": "#markPathBtn",
        "text": "Highlight Shortest Tree",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#clearHighlights",
        "text": "Clear Highlights",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#preset1",
        "text": "Example 1",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#preset2",
        "text": "Negative Cycle",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#clearBtn",
        "text": "Clear",
        "attributes": {}
      }
    ],
    "detected_event_handlers_count": 12,
    "detected_event_handlers": [
      "addNodeBtn.addEventListener('click', ()=>setMode('addNode'));",
      "addEdgeBtn.addEventListener('click', ()=>setMode('addEdge'));",
      "selectBtn.addEventListener('click', ()=>setMode('select'));",
      "delBtn.addEventListener('click', ()=>setMode('delete'));",
      "stepBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; stepOnce(); });",
      "iterBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; iterateOnce(); });",
      "runBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; runToCompletion(); });",
      "autoBtn.addEventListener('click', ()=>{ if (!initCheckSource()) return; ... });",
      "resetBtn.addEventListener('click', ()=>{ if (confirm('Reset algorithm state (keeps graph)?')) { ... });",
      "markPathBtn.addEventListener('click', ()=>{ state.treeHighlight = !state.treeHighlight; render(); });",
      "clearHighlightsBtn.addEventListener('click', ()=>{ state.treeHighlight = false; render(); });"
    ],
    "extracted_states_count": 12,
    "extracted_transitions_count": 12,
    "extraction_confidence": 1,
    "notes": []
  }
}