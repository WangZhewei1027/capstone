{
  "meta": {
    "concept": "Heap Data Structure Visualization",
    "topic": "Heap (Min/Max)",
    "educational_goal": "To visualize and understand the operations of Min and Max heaps.",
    "expected_interactions": [
      "Insert value",
      "Extract root",
      "Clear heap",
      "Generate random heap",
      "Switch heap type"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "visualizeHeap()"
      ],
      "exit_actions": [],
      "evidence": [
        "Started with Min Heap"
      ],
      "confidence": 1
    },
    {
      "id": "S1_MinHeap",
      "label": "Min Heap",
      "type": "heap",
      "entry_actions": [
        "updateHeapTypeButtons()",
        "visualizeHeap()"
      ],
      "exit_actions": [],
      "evidence": [
        "Switched to Min Heap"
      ],
      "confidence": 1
    },
    {
      "id": "S2_MaxHeap",
      "label": "Max Heap",
      "type": "heap",
      "entry_actions": [
        "updateHeapTypeButtons()",
        "visualizeHeap()"
      ],
      "exit_actions": [],
      "evidence": [
        "Switched to Max Heap"
      ],
      "confidence": 1
    },
    {
      "id": "S3_ValueInserted",
      "label": "Value Inserted",
      "type": "heap",
      "entry_actions": [
        "visualizeHeap()"
      ],
      "exit_actions": [],
      "evidence": [
        "Inserted value into Min Heap",
        "Inserted value into Max Heap"
      ],
      "confidence": 1
    },
    {
      "id": "S4_RootExtracted",
      "label": "Root Extracted",
      "type": "heap",
      "entry_actions": [
        "visualizeHeap()"
      ],
      "exit_actions": [],
      "evidence": [
        "Extracted root value from Min Heap",
        "Extracted root value from Max Heap"
      ],
      "confidence": 1
    },
    {
      "id": "S5_HeapCleared",
      "label": "Heap Cleared",
      "type": "heap",
      "entry_actions": [
        "visualizeHeap()"
      ],
      "exit_actions": [],
      "evidence": [
        "Cleared heap"
      ],
      "confidence": 1
    },
    {
      "id": "S6_RandomHeapGenerated",
      "label": "Random Heap Generated",
      "type": "heap",
      "entry_actions": [
        "visualizeHeap()"
      ],
      "exit_actions": [],
      "evidence": [
        "Generated random Min Heap with X nodes",
        "Generated random Max Heap with X nodes"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "SwitchHeapType",
      "event_type": "click",
      "description": "Switch between Min Heap and Max Heap",
      "trigger_selectors": [
        ".heap-type-btn"
      ],
      "evidence": [
        "btn.addEventListener('click', () => { heap.type = btn.dataset.type; })"
      ],
      "confidence": 1
    },
    {
      "id": "InsertValue",
      "event_type": "click",
      "description": "Insert a value into the heap",
      "trigger_selectors": [
        "#insert-btn"
      ],
      "evidence": [
        "insertBtn.addEventListener('click', () => { heap.insert(value); })"
      ],
      "confidence": 1
    },
    {
      "id": "ExtractRoot",
      "event_type": "click",
      "description": "Extract the root value from the heap",
      "trigger_selectors": [
        "#extract-btn"
      ],
      "evidence": [
        "extractBtn.addEventListener('click', () => { heap.extractRoot(); })"
      ],
      "confidence": 1
    },
    {
      "id": "ClearHeap",
      "event_type": "click",
      "description": "Clear the heap",
      "trigger_selectors": [
        "#clear-btn"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', () => { heap.clear(); })"
      ],
      "confidence": 1
    },
    {
      "id": "GenerateRandomHeap",
      "event_type": "click",
      "description": "Generate a random heap",
      "trigger_selectors": [
        "#random-btn"
      ],
      "evidence": [
        "randomBtn.addEventListener('click', () => { heap.clear(); })"
      ],
      "confidence": 1
    },
    {
      "id": "InsertValueEnter",
      "event_type": "keypress",
      "description": "Insert value by pressing Enter",
      "trigger_selectors": [
        "#value-input"
      ],
      "evidence": [
        "valueInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') { insertBtn.click(); } })"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_MinHeap",
      "event": "SwitchHeapType",
      "actions": [
        "addToHistory('Switched to Min Heap')"
      ],
      "expected_observables": [
        "Heap visualization updated to Min Heap"
      ],
      "evidence": [
        "heapTypeBtns.forEach(btn => { btn.addEventListener('click', () => { heap.type = btn.dataset.type; }) })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_MaxHeap",
      "event": "SwitchHeapType",
      "actions": [
        "addToHistory('Switched to Max Heap')"
      ],
      "expected_observables": [
        "Heap visualization updated to Max Heap"
      ],
      "evidence": [
        "heapTypeBtns.forEach(btn => { btn.addEventListener('click', () => { heap.type = btn.dataset.type; }) })"
      ],
      "confidence": 1
    },
    {
      "from": "S1_MinHeap",
      "to": "S3_ValueInserted",
      "event": "InsertValue",
      "actions": [
        "addToHistory('Inserted value into Min Heap')"
      ],
      "expected_observables": [
        "Heap visualization updated with new value"
      ],
      "evidence": [
        "insertBtn.addEventListener('click', () => { heap.insert(value); })"
      ],
      "confidence": 1
    },
    {
      "from": "S2_MaxHeap",
      "to": "S3_ValueInserted",
      "event": "InsertValue",
      "actions": [
        "addToHistory('Inserted value into Max Heap')"
      ],
      "expected_observables": [
        "Heap visualization updated with new value"
      ],
      "evidence": [
        "insertBtn.addEventListener('click', () => { heap.insert(value); })"
      ],
      "confidence": 1
    },
    {
      "from": "S1_MinHeap",
      "to": "S4_RootExtracted",
      "event": "ExtractRoot",
      "actions": [
        "addToHistory('Extracted root value from Min Heap')"
      ],
      "expected_observables": [
        "Heap visualization updated after extraction"
      ],
      "evidence": [
        "extractBtn.addEventListener('click', () => { heap.extractRoot(); })"
      ],
      "confidence": 1
    },
    {
      "from": "S2_MaxHeap",
      "to": "S4_RootExtracted",
      "event": "ExtractRoot",
      "actions": [
        "addToHistory('Extracted root value from Max Heap')"
      ],
      "expected_observables": [
        "Heap visualization updated after extraction"
      ],
      "evidence": [
        "extractBtn.addEventListener('click', () => { heap.extractRoot(); })"
      ],
      "confidence": 1
    },
    {
      "from": "S1_MinHeap",
      "to": "S5_HeapCleared",
      "event": "ClearHeap",
      "actions": [
        "addToHistory('Cleared heap')"
      ],
      "expected_observables": [
        "Heap visualization shows empty"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', () => { heap.clear(); })"
      ],
      "confidence": 1
    },
    {
      "from": "S2_MaxHeap",
      "to": "S5_HeapCleared",
      "event": "ClearHeap",
      "actions": [
        "addToHistory('Cleared heap')"
      ],
      "expected_observables": [
        "Heap visualization shows empty"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', () => { heap.clear(); })"
      ],
      "confidence": 1
    },
    {
      "from": "S1_MinHeap",
      "to": "S6_RandomHeapGenerated",
      "event": "GenerateRandomHeap",
      "actions": [
        "addToHistory('Generated random Min Heap with X nodes')"
      ],
      "expected_observables": [
        "Heap visualization shows random Min Heap"
      ],
      "evidence": [
        "randomBtn.addEventListener('click', () => { heap.clear(); })"
      ],
      "confidence": 1
    },
    {
      "from": "S2_MaxHeap",
      "to": "S6_RandomHeapGenerated",
      "event": "GenerateRandomHeap",
      "actions": [
        "addToHistory('Generated random Max Heap with X nodes')"
      ],
      "expected_observables": [
        "Heap visualization shows random Max Heap"
      ],
      "evidence": [
        "randomBtn.addEventListener('click', () => { heap.clear(); })"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#insert-btn",
      "text": "Insert Value",
      "attributes": {},
      "evidence": [
        "<button id=\"insert-btn\">Insert Value</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#extract-btn",
      "text": "Extract Root",
      "attributes": {},
      "evidence": [
        "<button id=\"extract-btn\">Extract Root</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clear-btn",
      "text": "Clear Heap",
      "attributes": {},
      "evidence": [
        "<button id=\"clear-btn\">Clear Heap</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#random-btn",
      "text": "Generate Random Heap",
      "attributes": {},
      "evidence": [
        "<button id=\"random-btn\">Generate Random Heap</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#value-input",
      "text": "Enter a number",
      "attributes": {
        "type": "number",
        "min": "-999",
        "max": "999"
      },
      "evidence": [
        "<input type=\"number\" id=\"value-input\" placeholder=\"Enter a number\" min=\"-999\" max=\"999\">"
      ]
    },
    {
      "type": "button",
      "selector": ".heap-type-btn",
      "text": "Min Heap",
      "attributes": {
        "data-type": "min"
      },
      "evidence": [
        "<button class=\"heap-type-btn active\" data-type=\"min\">Min Heap</button>"
      ]
    },
    {
      "type": "button",
      "selector": ".heap-type-btn",
      "text": "Max Heap",
      "attributes": {
        "data-type": "max"
      },
      "evidence": [
        "<button class=\"heap-type-btn\" data-type=\"max\">Max Heap</button>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T00:00:00Z",
    "detected_components_count": 6,
    "detected_components": [
      {
        "type": "button",
        "selector": "#insert-btn",
        "text": "Insert Value",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#extract-btn",
        "text": "Extract Root",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#clear-btn",
        "text": "Clear Heap",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#random-btn",
        "text": "Generate Random Heap",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "#value-input",
        "text": "Enter a number",
        "attributes": {
          "type": "number",
          "min": "-999",
          "max": "999"
        }
      },
      {
        "type": "button",
        "selector": ".heap-type-btn",
        "text": "Min Heap",
        "attributes": {
          "data-type": "min"
        }
      },
      {
        "type": "button",
        "selector": ".heap-type-btn",
        "text": "Max Heap",
        "attributes": {
          "data-type": "max"
        }
      }
    ],
    "detected_event_handlers_count": 7,
    "detected_event_handlers": [
      "heapTypeBtns.forEach(btn => { btn.addEventListener('click', () => { heap.type = btn.dataset.type; }) })",
      "insertBtn.addEventListener('click', () => { heap.insert(value); })",
      "extractBtn.addEventListener('click', () => { heap.extractRoot(); })",
      "clearBtn.addEventListener('click', () => { heap.clear(); })",
      "randomBtn.addEventListener('click', () => { heap.clear(); })",
      "valueInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') { insertBtn.click(); } })"
    ],
    "extracted_states_count": 7,
    "extracted_transitions_count": 12,
    "extraction_confidence": 1,
    "notes": []
  }
}