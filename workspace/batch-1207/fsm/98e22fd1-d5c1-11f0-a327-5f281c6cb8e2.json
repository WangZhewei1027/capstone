{
  "meta": {
    "concept": "Depth-First Search (DFS) Visualizer",
    "topic": "Depth-First Search",
    "educational_goal": "Visualize the Depth-First Search algorithm using both recursive and iterative methods.",
    "expected_interactions": [
      "Generate graph",
      "Randomize graph",
      "Set start node",
      "Run DFS",
      "Step through DFS",
      "Play DFS",
      "Reset visualization"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "resetAnimationState()"
      ],
      "exit_actions": [],
      "evidence": [
        "// initial generation",
        "resetAnimationState();"
      ],
      "confidence": 1
    },
    {
      "id": "S1_GraphGenerated",
      "label": "Graph Generated",
      "type": "default",
      "entry_actions": [
        "drawGraph()",
        "populateStartSelect()"
      ],
      "exit_actions": [],
      "evidence": [
        "generateGraph()"
      ],
      "confidence": 1
    },
    {
      "id": "S2_DFSRunning",
      "label": "DFS Running",
      "type": "default",
      "entry_actions": [
        "prepareAndRun()",
        "applySnapshot(curStep)"
      ],
      "exit_actions": [],
      "evidence": [
        "runBtn.addEventListener('click', ()=>{ prepareAndRun(); });"
      ],
      "confidence": 1
    },
    {
      "id": "S3_DFSStepping",
      "label": "DFS Stepping",
      "type": "default",
      "entry_actions": [
        "doStep()"
      ],
      "exit_actions": [],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ doStep(); });"
      ],
      "confidence": 1
    },
    {
      "id": "S4_DFSPlaying",
      "label": "DFS Playing",
      "type": "default",
      "entry_actions": [
        "doPlay()"
      ],
      "exit_actions": [],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ doPlay(); });"
      ],
      "confidence": 1
    },
    {
      "id": "S5_AdjacencyInput",
      "label": "Adjacency Input Provided",
      "type": "default",
      "entry_actions": [
        "generateGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "adjInput.addEventListener('change', ()=>{ generateGraph(); });"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GenerateGraph",
      "event_type": "click",
      "description": "Generate a new graph based on the current settings.",
      "trigger_selectors": [
        "#gen"
      ],
      "evidence": [
        "genBtn.addEventListener('click', ()=>{ generateGraph(); });"
      ],
      "confidence": 1
    },
    {
      "id": "RandomizeGraph",
      "event_type": "click",
      "description": "Randomize the density of the graph while keeping the node count.",
      "trigger_selectors": [
        "#randomize"
      ],
      "evidence": [
        "randomizeBtn.addEventListener('click', ()=>{ densityInput.value = (Math.random()*0.6 + 0.05).toFixed(2); generateGraph(); });"
      ],
      "confidence": 1
    },
    {
      "id": "SetStartNode",
      "event_type": "change",
      "description": "Set the start node for the DFS algorithm.",
      "trigger_selectors": [
        "#startNode"
      ],
      "evidence": [
        "startSelect.addEventListener('change', highlightStartSelect);"
      ],
      "confidence": 1
    },
    {
      "id": "RunDFS",
      "event_type": "click",
      "description": "Run the DFS algorithm from the selected start node.",
      "trigger_selectors": [
        "#run"
      ],
      "evidence": [
        "runBtn.addEventListener('click', ()=>{ prepareAndRun(); });"
      ],
      "confidence": 1
    },
    {
      "id": "StepDFS",
      "event_type": "click",
      "description": "Step through the DFS algorithm one step at a time.",
      "trigger_selectors": [
        "#step"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ doStep(); });"
      ],
      "confidence": 1
    },
    {
      "id": "PlayDFS",
      "event_type": "click",
      "description": "Play through the DFS algorithm automatically.",
      "trigger_selectors": [
        "#play"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ doPlay(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ResetVisualization",
      "event_type": "click",
      "description": "Reset the visualization to the initial state.",
      "trigger_selectors": [
        "#reset"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ resetAnimationState(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ChangeDensity",
      "event_type": "input",
      "description": "Change the density of the graph.",
      "trigger_selectors": [
        "#density"
      ],
      "evidence": [
        "densityInput.addEventListener('input', ()=>{ densityLabel.textContent = densityInput.value; });"
      ],
      "confidence": 1
    },
    {
      "id": "ChangeNodeCount",
      "event_type": "change",
      "description": "Change the number of nodes in the graph.",
      "trigger_selectors": [
        "#nodeCount"
      ],
      "evidence": [
        "nodeCountInput.addEventListener('change', ()=>{ nodeCountInput.value = clamp(Number(nodeCountInput.value)||9, 3, 32); });"
      ],
      "confidence": 1
    },
    {
      "id": "ChangeAlgorithm",
      "event_type": "change",
      "description": "Change the algorithm used for DFS.",
      "trigger_selectors": [
        "#algo"
      ],
      "evidence": [
        "algoSelect.addEventListener('change', ()=>{ algoLabel.textContent = algoSelect.value === 'recursive' ? 'Recursive DFS' : 'Iterative DFS'; });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_GraphGenerated",
      "event": "GenerateGraph",
      "actions": [
        "generateGraph()"
      ],
      "expected_observables": [
        "Graph is drawn",
        "Start node options populated"
      ],
      "evidence": [
        "generateGraph()"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S2_DFSRunning",
      "event": "RunDFS",
      "actions": [
        "prepareAndRun()"
      ],
      "expected_observables": [
        "DFS algorithm is prepared and run"
      ],
      "evidence": [
        "runBtn.addEventListener('click', ()=>{ prepareAndRun(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S3_DFSStepping",
      "event": "StepDFS",
      "actions": [
        "doStep()"
      ],
      "expected_observables": [
        "Next step of DFS is executed"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ doStep(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S4_DFSPlaying",
      "event": "PlayDFS",
      "actions": [
        "doPlay()"
      ],
      "expected_observables": [
        "DFS is played automatically"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ doPlay(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_DFSRunning",
      "to": "S3_DFSStepping",
      "event": "StepDFS",
      "actions": [
        "doStep()"
      ],
      "expected_observables": [
        "Next step of DFS is executed"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ doStep(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_DFSRunning",
      "to": "S4_DFSPlaying",
      "event": "PlayDFS",
      "actions": [
        "doPlay()"
      ],
      "expected_observables": [
        "DFS is played automatically"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ doPlay(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_DFSStepping",
      "to": "S2_DFSRunning",
      "event": "RunDFS",
      "actions": [
        "prepareAndRun()"
      ],
      "expected_observables": [
        "DFS algorithm is prepared and run"
      ],
      "evidence": [
        "runBtn.addEventListener('click', ()=>{ prepareAndRun(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S4_DFSPlaying",
      "to": "S2_DFSRunning",
      "event": "StepDFS",
      "actions": [
        "doStep()"
      ],
      "expected_observables": [
        "Next step of DFS is executed"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ doStep(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S4_DFSPlaying",
      "to": "S4_DFSPlaying",
      "event": "PlayDFS",
      "actions": [
        "doPlay()"
      ],
      "expected_observables": [
        "DFS continues playing"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ doPlay(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S5_AdjacencyInput",
      "event": "ChangeAdjacencyInput",
      "actions": [
        "generateGraph()"
      ],
      "expected_observables": [
        "Graph is generated based on adjacency input"
      ],
      "evidence": [
        "adjInput.addEventListener('change', ()=>{ generateGraph(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S5_AdjacencyInput",
      "to": "S1_GraphGenerated",
      "event": "GenerateGraph",
      "actions": [
        "generateGraph()"
      ],
      "expected_observables": [
        "Graph is drawn",
        "Start node options populated"
      ],
      "evidence": [
        "generateGraph()"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#gen",
      "text": "Generate",
      "attributes": {},
      "evidence": [
        "<button id=\"gen\" class=\"big-btn\">Generate</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#randomize",
      "text": "Randomize",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"randomize\" class=\"ghost\">Randomize</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#run",
      "text": "Run",
      "attributes": {
        "class": "big-btn"
      },
      "evidence": [
        "<button id=\"run\" class=\"big-btn\">Run</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#step",
      "text": "Step",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"step\" class=\"ghost\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#play",
      "text": "Play",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"play\" class=\"ghost\">Play</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#reset",
      "text": "Reset",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"reset\" class=\"ghost\">Reset</button>"
      ]
    },
    {
      "type": "select",
      "selector": "#algo",
      "text": "Algorithm",
      "attributes": {},
      "evidence": [
        "<select id=\"algo\">"
      ]
    },
    {
      "type": "input",
      "selector": "#nodeCount",
      "text": "",
      "attributes": {
        "type": "number",
        "min": "3",
        "max": "32",
        "value": "9"
      },
      "evidence": [
        "<input id=\"nodeCount\" type=\"number\" min=\"3\" max=\"32\" value=\"9\"/>"
      ]
    },
    {
      "type": "input",
      "selector": "#density",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "0",
        "max": "1",
        "step": "0.05",
        "value": "0.25"
      },
      "evidence": [
        "<input id=\"density\" type=\"range\" min=\"0\" max=\"1\" step=\"0.05\" value=\"0.25\"/>"
      ]
    },
    {
      "type": "select",
      "selector": "#startNode",
      "text": "Start node",
      "attributes": {},
      "evidence": [
        "<select id=\"startNode\"></select>"
      ]
    },
    {
      "type": "textarea",
      "selector": "#adjInput",
      "text": "Optional custom adjacency list: one line per node: neighbors separated by spaces",
      "attributes": {
        "placeholder": "Optional custom adjacency list: one line per node: neighbors separated by spaces"
      },
      "evidence": [
        "<textarea id=\"adjInput\" placeholder=\"Optional custom adjacency list: one line per node: neighbors separated by spaces\"></textarea>"
      ]
    },
    {
      "type": "input",
      "selector": "#speed",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "50",
        "max": "2000",
        "step": "50",
        "value": "650"
      },
      "evidence": [
        "<input id=\"speed\" type=\"range\" min=\"50\" max=\"2000\" step=\"50\" value=\"650\"/>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T12:00:00Z",
    "detected_components_count": 10,
    "detected_components": [
      {
        "type": "button",
        "selector": "#gen",
        "text": "Generate",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#randomize",
        "text": "Randomize",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#run",
        "text": "Run",
        "attributes": {
          "class": "big-btn"
        }
      },
      {
        "type": "button",
        "selector": "#step",
        "text": "Step",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#play",
        "text": "Play",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#reset",
        "text": "Reset",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "select",
        "selector": "#algo",
        "text": "Algorithm",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "#nodeCount",
        "text": "",
        "attributes": {
          "type": "number",
          "min": "3",
          "max": "32",
          "value": "9"
        }
      },
      {
        "type": "input",
        "selector": "#density",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "0",
          "max": "1",
          "step": "0.05",
          "value": "0.25"
        }
      },
      {
        "type": "select",
        "selector": "#startNode",
        "text": "Start node",
        "attributes": {}
      },
      {
        "type": "textarea",
        "selector": "#adjInput",
        "text": "Optional custom adjacency list: one line per node: neighbors separated by spaces",
        "attributes": {
          "placeholder": "Optional custom adjacency list: one line per node: neighbors separated by spaces"
        }
      },
      {
        "type": "input",
        "selector": "#speed",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "50",
          "max": "2000",
          "step": "50",
          "value": "650"
        }
      }
    ],
    "detected_event_handlers_count": 10,
    "detected_event_handlers": [
      "genBtn.addEventListener('click', ()=>{ generateGraph(); });",
      "randomizeBtn.addEventListener('click', ()=>{ densityInput.value = (Math.random()*0.6 + 0.05).toFixed(2); generateGraph(); });",
      "startSelect.addEventListener('change', highlightStartSelect);",
      "runBtn.addEventListener('click', ()=>{ prepareAndRun(); });",
      "stepBtn.addEventListener('click', ()=>{ doStep(); });",
      "playBtn.addEventListener('click', ()=>{ doPlay(); });",
      "resetBtn.addEventListener('click', ()=>{ resetAnimationState(); });",
      "densityInput.addEventListener('input', ()=>{ densityLabel.textContent = densityInput.value; });",
      "nodeCountInput.addEventListener('change', ()=>{ nodeCountInput.value = clamp(Number(nodeCountInput.value)||9, 3, 32); });",
      "algoSelect.addEventListener('change', ()=>{ algoLabel.textContent = algoSelect.value === 'recursive' ? 'Recursive DFS' : 'Iterative DFS'; });"
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 10,
    "extraction_confidence": 1,
    "notes": []
  }
}