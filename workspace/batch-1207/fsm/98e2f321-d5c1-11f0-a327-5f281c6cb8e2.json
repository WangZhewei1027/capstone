{
  "meta": {
    "concept": "K-Means Clustering Interactive Demo",
    "topic": "K-Means Clustering",
    "educational_goal": "To visualize the K-Means clustering algorithm interactively.",
    "expected_interactions": [
      "Generate dataset",
      "Run clustering algorithm",
      "Step through iterations",
      "Reset the demo",
      "Clear points",
      "Adjust parameters"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "renderPage()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"generate\" class=\"small\">Generate</button>",
        "<button id=\"play\" class=\"small\">Run</button>",
        "<button id=\"step\" class=\"small secondary\">Step</button>",
        "<button id=\"reset\" class=\"small secondary\">Reset</button>",
        "<button id=\"clear\" class=\"small secondary\">Clear Points</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Generating",
      "label": "Generating Dataset",
      "type": "intermediate",
      "entry_actions": [
        "generateDataset()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"generate\" class=\"small\">Generate</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Running",
      "label": "Running Algorithm",
      "type": "intermediate",
      "entry_actions": [
        "play()"
      ],
      "exit_actions": [
        "stop()"
      ],
      "evidence": [
        "<button id=\"play\" class=\"small\">Run</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Stepping",
      "label": "Stepping Through Iterations",
      "type": "intermediate",
      "entry_actions": [
        "iterateOnce()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"step\" class=\"small secondary\">Step</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Resetting",
      "label": "Resetting",
      "type": "intermediate",
      "entry_actions": [
        "reset()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"reset\" class=\"small secondary\">Reset</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S5_Clearing",
      "label": "Clearing Points",
      "type": "intermediate",
      "entry_actions": [
        "clearPoints()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"clear\" class=\"small secondary\">Clear Points</button>"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GenerateClick",
      "event_type": "click",
      "description": "Generate a new dataset.",
      "trigger_selectors": [
        "#generate"
      ],
      "evidence": [
        "generateBtn.addEventListener('click', ()=>{ reset(); generateDataset(); });"
      ],
      "confidence": 1
    },
    {
      "id": "PlayClick",
      "event_type": "click",
      "description": "Run the K-Means algorithm.",
      "trigger_selectors": [
        "#play"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ if(running) stop(); else play(); });"
      ],
      "confidence": 1
    },
    {
      "id": "StepClick",
      "event_type": "click",
      "description": "Step through one iteration of the algorithm.",
      "trigger_selectors": [
        "#step"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ stop(); if(centers.length === 0) initCenters(); iterateOnce(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ResetClick",
      "event_type": "click",
      "description": "Reset the demo to initial state.",
      "trigger_selectors": [
        "#reset"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', reset);"
      ],
      "confidence": 1
    },
    {
      "id": "ClearClick",
      "event_type": "click",
      "description": "Clear all points from the canvas.",
      "trigger_selectors": [
        "#clear"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', ()=>{ stop(); points = []; centers = []; iter = 0; computeSSELabel(); updateCenterDisplay(); draw(); });"
      ],
      "confidence": 1
    },
    {
      "id": "MouseDownCanvas",
      "event_type": "mousedown",
      "description": "Add a new point or start dragging an existing point.",
      "trigger_selectors": [
        "#canvas"
      ],
      "evidence": [
        "canvas.addEventListener('mousedown', (e) => { ... });"
      ],
      "confidence": 1
    },
    {
      "id": "MouseMoveWindow",
      "event_type": "mousemove",
      "description": "Move an existing point while dragging.",
      "trigger_selectors": [
        "window"
      ],
      "evidence": [
        "window.addEventListener('mousemove', (e) => { ... });"
      ],
      "confidence": 1
    },
    {
      "id": "MouseUpWindow",
      "event_type": "mouseup",
      "description": "Release a point after dragging.",
      "trigger_selectors": [
        "window"
      ],
      "evidence": [
        "window.addEventListener('mouseup', (e) => { ... });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_Generating",
      "event": "GenerateClick",
      "actions": [
        "reset()",
        "generateDataset()"
      ],
      "expected_observables": [
        "New dataset generated."
      ],
      "evidence": [
        "generateBtn.addEventListener('click', ()=>{ reset(); generateDataset(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_Running",
      "event": "PlayClick",
      "actions": [
        "play()"
      ],
      "expected_observables": [
        "Algorithm is running."
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ if(running) stop(); else play(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_Resetting",
      "event": "ResetClick",
      "actions": [
        "reset()"
      ],
      "expected_observables": [
        "Demo reset."
      ],
      "evidence": [
        "resetBtn.addEventListener('click', reset);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_Clearing",
      "event": "ClearClick",
      "actions": [
        "clearPoints()"
      ],
      "expected_observables": [
        "All points cleared."
      ],
      "evidence": [
        "clearBtn.addEventListener('click', ()=>{ stop(); points = []; centers = []; iter = 0; computeSSELabel(); updateCenterDisplay(); draw(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Running",
      "to": "S3_Stepping",
      "event": "StepClick",
      "actions": [
        "stop()",
        "iterateOnce()"
      ],
      "expected_observables": [
        "Stepped through one iteration."
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{ stop(); if(centers.length === 0) initCenters(); iterateOnce(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Running",
      "to": "S0_Idle",
      "event": "MouseDownCanvas",
      "actions": [
        "stop()"
      ],
      "expected_observables": [
        "Algorithm paused."
      ],
      "evidence": [
        "canvas.addEventListener('mousedown', (e) => { ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Stepping",
      "to": "S2_Running",
      "event": "PlayClick",
      "actions": [
        "play()"
      ],
      "expected_observables": [
        "Algorithm is running."
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ if(running) stop(); else play(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Stepping",
      "to": "S0_Idle",
      "event": "MouseUpWindow",
      "actions": [
        "computeSSELabel()",
        "draw()"
      ],
      "expected_observables": [
        "Point position updated."
      ],
      "evidence": [
        "window.addEventListener('mouseup', (e) => { ... });"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#generate",
      "text": "Generate",
      "attributes": {
        "class": "small"
      },
      "evidence": [
        "<button id=\"generate\" class=\"small\">Generate</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#play",
      "text": "Run",
      "attributes": {
        "class": "small"
      },
      "evidence": [
        "<button id=\"play\" class=\"small\">Run</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#step",
      "text": "Step",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"step\" class=\"small secondary\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#reset",
      "text": "Reset",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"reset\" class=\"small secondary\">Reset</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clear",
      "text": "Clear Points",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"clear\" class=\"small secondary\">Clear Points</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#pointsCount",
      "text": "",
      "attributes": {
        "type": "number",
        "min": "5",
        "max": "2000",
        "value": "200"
      },
      "evidence": [
        "<input id=\"pointsCount\" type=\"number\" min=\"5\" max=\"2000\" value=\"200\" title=\"Number of points\">"
      ]
    },
    {
      "type": "input",
      "selector": "#kRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "1",
        "max": "12",
        "value": "4"
      },
      "evidence": [
        "<input id=\"kRange\" type=\"range\" min=\"1\" max=\"12\" value=\"4\">"
      ]
    },
    {
      "type": "input",
      "selector": "#speed",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "50",
        "max": "2000",
        "value": "400"
      },
      "evidence": [
        "<input id=\"speed\" type=\"range\" min=\"50\" max=\"2000\" value=\"400\">"
      ]
    },
    {
      "type": "input",
      "selector": "#maxIter",
      "text": "",
      "attributes": {
        "type": "number",
        "min": "1",
        "max": "1000",
        "value": "100"
      },
      "evidence": [
        "<input id=\"maxIter\" type=\"number\" min=\"1\" max=\"1000\" value=\"100\" style=\"width:80px;\">"
      ]
    },
    {
      "type": "select",
      "selector": "#dataType",
      "text": "",
      "attributes": {},
      "evidence": [
        "<select id=\"dataType\">"
      ]
    },
    {
      "type": "select",
      "selector": "#initMethod",
      "text": "",
      "attributes": {},
      "evidence": [
        "<select id=\"initMethod\">"
      ]
    },
    {
      "type": "canvas",
      "selector": "#canvas",
      "text": "",
      "attributes": {
        "width": "900",
        "height": "620"
      },
      "evidence": [
        "<canvas id=\"canvas\" width=\"900\" height=\"620\"></canvas>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T00:00:00Z",
    "detected_components_count": 12,
    "detected_components": [
      {
        "type": "button",
        "selector": "#generate",
        "text": "Generate",
        "attributes": {
          "class": "small"
        }
      },
      {
        "type": "button",
        "selector": "#play",
        "text": "Run",
        "attributes": {
          "class": "small"
        }
      },
      {
        "type": "button",
        "selector": "#step",
        "text": "Step",
        "attributes": {
          "class": "small secondary"
        }
      },
      {
        "type": "button",
        "selector": "#reset",
        "text": "Reset",
        "attributes": {
          "class": "small secondary"
        }
      },
      {
        "type": "button",
        "selector": "#clear",
        "text": "Clear Points",
        "attributes": {
          "class": "small secondary"
        }
      },
      {
        "type": "input",
        "selector": "#pointsCount",
        "text": "",
        "attributes": {
          "type": "number",
          "min": "5",
          "max": "2000",
          "value": "200"
        }
      },
      {
        "type": "input",
        "selector": "#kRange",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "1",
          "max": "12",
          "value": "4"
        }
      },
      {
        "type": "input",
        "selector": "#speed",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "50",
          "max": "2000",
          "value": "400"
        }
      },
      {
        "type": "input",
        "selector": "#maxIter",
        "text": "",
        "attributes": {
          "type": "number",
          "min": "1",
          "max": "1000",
          "value": "100"
        }
      },
      {
        "type": "select",
        "selector": "#dataType",
        "text": "",
        "attributes": {}
      },
      {
        "type": "select",
        "selector": "#initMethod",
        "text": "",
        "attributes": {}
      },
      {
        "type": "canvas",
        "selector": "#canvas",
        "text": "",
        "attributes": {
          "width": "900",
          "height": "620"
        }
      }
    ],
    "detected_event_handlers_count": 8,
    "detected_event_handlers": [
      "generateBtn.addEventListener('click', ()=>{ reset(); generateDataset(); });",
      "playBtn.addEventListener('click', ()=>{ if(running) stop(); else play(); });",
      "stepBtn.addEventListener('click', ()=>{ stop(); if(centers.length === 0) initCenters(); iterateOnce(); });",
      "resetBtn.addEventListener('click', reset);",
      "clearBtn.addEventListener('click', ()=>{ stop(); points = []; centers = []; iter = 0; computeSSELabel(); updateCenterDisplay(); draw(); });",
      "kRange.addEventListener('input', () => { updateParamsFromUI(); updateColors(); updateCenterDisplay(); draw(); });",
      "canvas.addEventListener('mousedown', (e) => { ... });",
      "window.addEventListener('mousemove', (e) => { ... });"
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 8,
    "extraction_confidence": 1,
    "notes": [
      "All interactive elements and event handlers were successfully identified.",
      "The FSM captures all major interactions within the application.",
      "No external scripts were referenced, ensuring full confidence in the extraction."
    ]
  }
}