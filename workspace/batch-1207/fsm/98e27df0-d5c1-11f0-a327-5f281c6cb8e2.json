{
  "meta": {
    "concept": "Prim's Algorithm Interactive Demo",
    "topic": "Prim's Algorithm",
    "educational_goal": "To visualize Prim's algorithm for finding the minimum spanning tree.",
    "expected_interactions": [
      "Click a node to choose start",
      "Step through the algorithm",
      "Auto run the algorithm",
      "Reset the algorithm"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "renderPage()"
      ],
      "exit_actions": [],
      "evidence": [
        "<div class=\"hint\" id=\"hint\">Click a node to set start â€¢ Step through Prim's algorithm</div>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Algorithm_Initialized",
      "label": "Algorithm Initialized",
      "type": "intermediate",
      "entry_actions": [
        "initializePrim()"
      ],
      "exit_actions": [],
      "evidence": [
        "if(startNode === null) { log('Choose a start node first.'); return false; }"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Algorithm_Finished",
      "label": "Algorithm Finished",
      "type": "final",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "log('Algorithm finished.');"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "NodeClick",
      "event_type": "click",
      "description": "Click a node to choose it as the starting point.",
      "trigger_selectors": [
        "#graphCanvas"
      ],
      "evidence": [
        "canvas.addEventListener('click', (ev)=>{",
        "for(const n of nodes){",
        "if(Math.sqrt(dx*dx+dy*dy) < 22){ startWith(n.id); draw(); return; }"
      ],
      "confidence": 1
    },
    {
      "id": "StepButtonClick",
      "event_type": "click",
      "description": "Click to step through the algorithm.",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>{",
        "step();"
      ],
      "confidence": 1
    },
    {
      "id": "AutoRunButtonClick",
      "event_type": "click",
      "description": "Click to start or pause the auto run.",
      "trigger_selectors": [
        "#runBtn"
      ],
      "evidence": [
        "runBtn.addEventListener('click', ()=>{",
        "startAutoRun();"
      ],
      "confidence": 1
    },
    {
      "id": "ResetButtonClick",
      "event_type": "click",
      "description": "Click to reset the algorithm.",
      "trigger_selectors": [
        "#resetAlgBtn"
      ],
      "evidence": [
        "resetAlgBtn.addEventListener('click', ()=>{",
        "resetAlgorithm();"
      ],
      "confidence": 1
    },
    {
      "id": "GenerateButtonClick",
      "event_type": "click",
      "description": "Click to regenerate the graph.",
      "trigger_selectors": [
        "#regenBtn"
      ],
      "evidence": [
        "regenBtn.addEventListener('click', regenGraph);"
      ],
      "confidence": 1
    },
    {
      "id": "RandomStartButtonClick",
      "event_type": "click",
      "description": "Click to set a random start node.",
      "trigger_selectors": [
        "#randomStartBtn"
      ],
      "evidence": [
        "randomStartBtn.addEventListener('click', ()=>{",
        "const r = randInt(0, N-1); startWith(r);"
      ],
      "confidence": 1
    },
    {
      "id": "NodesRangeChange",
      "event_type": "change",
      "description": "Change the number of nodes in the graph.",
      "trigger_selectors": [
        "#nodesRange"
      ],
      "evidence": [
        "nodesRange.addEventListener('change', regenGraph);"
      ],
      "confidence": 1
    },
    {
      "id": "DensityRangeChange",
      "event_type": "change",
      "description": "Change the edge density of the graph.",
      "trigger_selectors": [
        "#densityRange"
      ],
      "evidence": [
        "densityRange.addEventListener('change', regenGraph);"
      ],
      "confidence": 1
    },
    {
      "id": "MaxWeightChange",
      "event_type": "change",
      "description": "Change the maximum weight of edges.",
      "trigger_selectors": [
        "#maxW"
      ],
      "evidence": [
        "maxW.addEventListener('change', regenGraph);"
      ],
      "confidence": 1
    },
    {
      "id": "SpeedRangeChange",
      "event_type": "input",
      "description": "Change the speed of the auto run.",
      "trigger_selectors": [
        "#speedRange"
      ],
      "evidence": [
        "speedRange.addEventListener('input', ()=>{",
        "speedVal.textContent = speedRange.value + 'ms';"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_Algorithm_Initialized",
      "event": "NodeClick",
      "actions": [
        "startWith(n.id)"
      ],
      "expected_observables": [
        "Start node set to V{n.id}."
      ],
      "evidence": [
        "startWith(n.id);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Algorithm_Initialized",
      "to": "S1_Algorithm_Initialized",
      "event": "StepButtonClick",
      "actions": [
        "step()"
      ],
      "expected_observables": [
        "Algorithm initialized."
      ],
      "evidence": [
        "step();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Algorithm_Initialized",
      "to": "S2_Algorithm_Finished",
      "event": "AutoRunButtonClick",
      "actions": [
        "startAutoRun()"
      ],
      "expected_observables": [
        "Running algorithm."
      ],
      "evidence": [
        "startAutoRun();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Algorithm_Initialized",
      "to": "S0_Idle",
      "event": "ResetButtonClick",
      "actions": [
        "resetAlgorithm()"
      ],
      "expected_observables": [
        "Algorithm reset."
      ],
      "evidence": [
        "resetAlgorithm();"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S0_Idle",
      "event": "GenerateButtonClick",
      "actions": [
        "regenGraph()"
      ],
      "expected_observables": [
        "Graph regenerated."
      ],
      "evidence": [
        "regenGraph();"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S1_Algorithm_Initialized",
      "event": "RandomStartButtonClick",
      "actions": [
        "startWith(r)"
      ],
      "expected_observables": [
        "Random start node selected."
      ],
      "evidence": [
        "startWith(r);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Algorithm_Initialized",
      "to": "S1_Algorithm_Initialized",
      "event": "NodesRangeChange",
      "actions": [
        "regenGraph()"
      ],
      "expected_observables": [
        "Node count updated."
      ],
      "evidence": [
        "nodesRange.addEventListener('change', regenGraph);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Algorithm_Initialized",
      "to": "S1_Algorithm_Initialized",
      "event": "DensityRangeChange",
      "actions": [
        "regenGraph()"
      ],
      "expected_observables": [
        "Edge density updated."
      ],
      "evidence": [
        "densityRange.addEventListener('change', regenGraph);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Algorithm_Initialized",
      "to": "S1_Algorithm_Initialized",
      "event": "MaxWeightChange",
      "actions": [
        "regenGraph()"
      ],
      "expected_observables": [
        "Max weight updated."
      ],
      "evidence": [
        "maxW.addEventListener('change', regenGraph);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Algorithm_Initialized",
      "to": "S1_Algorithm_Initialized",
      "event": "SpeedRangeChange",
      "actions": [
        "updateStats()"
      ],
      "expected_observables": [
        "Speed updated."
      ],
      "evidence": [
        "speedRange.addEventListener('input', ()=>{",
        "speedVal.textContent = speedRange.value + 'ms';"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#regenBtn",
      "text": "Generate Graph",
      "attributes": {},
      "evidence": [
        "<button class=\"btn primary\" id=\"regenBtn\">Generate Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#randomStartBtn",
      "text": "Random Start",
      "attributes": {},
      "evidence": [
        "<button class=\"btn\" id=\"randomStartBtn\">Random Start</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "Step",
      "attributes": {},
      "evidence": [
        "<button class=\"btn primary\" id=\"stepBtn\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runBtn",
      "text": "Auto Run",
      "attributes": {},
      "evidence": [
        "<button class=\"btn primary\" id=\"runBtn\">Auto Run</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetAlgBtn",
      "text": "Reset",
      "attributes": {},
      "evidence": [
        "<button class=\"btn warn\" id=\"resetAlgBtn\">Reset</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#nodesRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "4",
        "max": "18",
        "value": "8"
      },
      "evidence": [
        "<input id=\"nodesRange\" type=\"range\" min=\"4\" max=\"18\" value=\"8\">"
      ]
    },
    {
      "type": "input",
      "selector": "#densityRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "10",
        "max": "90",
        "value": "45"
      },
      "evidence": [
        "<input id=\"densityRange\" type=\"range\" min=\"10\" max=\"90\" value=\"45\">"
      ]
    },
    {
      "type": "input",
      "selector": "#maxW",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "5",
        "max": "100",
        "value": "40"
      },
      "evidence": [
        "<input id=\"maxW\" type=\"range\" min=\"5\" max=\"100\" value=\"40\">"
      ]
    },
    {
      "type": "input",
      "selector": "#speedRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "100",
        "max": "2000",
        "value": "600"
      },
      "evidence": [
        "<input id=\"speedRange\" type=\"range\" min=\"100\" max=\"2000\" value=\"600\">"
      ]
    },
    {
      "type": "canvas",
      "selector": "#graphCanvas",
      "text": "",
      "attributes": {
        "width": "900",
        "height": "700"
      },
      "evidence": [
        "<canvas id=\"graphCanvas\" width=\"900\" height=\"700\"></canvas>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-01T00:00:00Z",
    "detected_components_count": 10,
    "detected_components": [
      {
        "type": "button",
        "selector": "#regenBtn"
      },
      {
        "type": "button",
        "selector": "#randomStartBtn"
      },
      {
        "type": "button",
        "selector": "#stepBtn"
      },
      {
        "type": "button",
        "selector": "#runBtn"
      },
      {
        "type": "button",
        "selector": "#resetAlgBtn"
      },
      {
        "type": "input",
        "selector": "#nodesRange"
      },
      {
        "type": "input",
        "selector": "#densityRange"
      },
      {
        "type": "input",
        "selector": "#maxW"
      },
      {
        "type": "input",
        "selector": "#speedRange"
      },
      {
        "type": "canvas",
        "selector": "#graphCanvas"
      }
    ],
    "detected_event_handlers_count": 13,
    "detected_event_handlers": [
      "canvas.addEventListener('click', (ev)=>{",
      "nodesRange.addEventListener('input', ()=>{",
      "nodesRange.addEventListener('change', regenGraph);",
      "densityRange.addEventListener('input', ()=>{",
      "densityRange.addEventListener('change', regenGraph);",
      "maxW.addEventListener('input', ()=>{",
      "maxW.addEventListener('change', regenGraph);",
      "regenBtn.addEventListener('click', regenGraph);",
      "randomStartBtn.addEventListener('click', ()=>{",
      "stepBtn.addEventListener('click', ()=>{",
      "runBtn.addEventListener('click', ()=>{",
      "resetAlgBtn.addEventListener('click', ()=>{",
      "speedRange.addEventListener('input', ()=>{"
    ],
    "extracted_states_count": 3,
    "extracted_transitions_count": 10,
    "extraction_confidence": 1,
    "notes": []
  }
}