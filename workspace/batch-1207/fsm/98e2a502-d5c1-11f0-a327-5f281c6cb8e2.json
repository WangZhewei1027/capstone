{
  "meta": {
    "concept": "Recursion Playground — Interactive Demos",
    "topic": "Recursion",
    "educational_goal": "To demonstrate and visualize recursion concepts such as call stacks and recursion trees.",
    "expected_interactions": [
      "Run Recursive Factorial",
      "Show Iterative",
      "Run Naive Recursion",
      "Run Memoized",
      "Show Recursion Tree",
      "Generate Sorted Array",
      "Run Recursive Binary Search",
      "Redraw",
      "Run sumRange",
      "Step-through"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "renderPage()"
      ],
      "exit_actions": [],
      "evidence": [
        "<body>",
        "<header>",
        "<main>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Factorial_Running",
      "label": "Factorial Running",
      "type": "active",
      "entry_actions": [
        "clearChildren(factStackEl)",
        "factOutputEl.textContent = 'Running recursive factorial...'"
      ],
      "exit_actions": [
        "factOutputEl.textContent = `Result: ${n}! = ${result}`"
      ],
      "evidence": [
        "el('runFact').addEventListener('click', async () => {",
        "factOutputEl.textContent = 'Running recursive factorial...'"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Factorial_Iterative",
      "label": "Factorial Iterative",
      "type": "active",
      "entry_actions": [
        "el('factOutput').textContent = `Iterative result: ${n}! = ${acc}\nTrace:\n` + log.join('\n')"
      ],
      "exit_actions": [],
      "evidence": [
        "el('runFactIter').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Fibonacci_Naive",
      "label": "Fibonacci Naive Running",
      "type": "active",
      "entry_actions": [
        "fibOutputEl.textContent = 'Running naive recursive Fibonacci...'"
      ],
      "exit_actions": [
        "fibOutputEl.textContent = `fib(${n}) = ${res}`"
      ],
      "evidence": [
        "el('runFib').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Fibonacci_Memoized",
      "label": "Fibonacci Memoized Running",
      "type": "active",
      "entry_actions": [
        "fibOutputEl.textContent = 'Running memoized Fibonacci...'"
      ],
      "exit_actions": [
        "fibOutputEl.textContent = `fib(${n}) = ${res}\nMemo entries: ${memo.size}`"
      ],
      "evidence": [
        "el('runFibMemo').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "S5_Binary_Search_Generating",
      "label": "Binary Search Generating Array",
      "type": "active",
      "entry_actions": [
        "currentArray = genArray(size)",
        "renderArray()"
      ],
      "exit_actions": [],
      "evidence": [
        "el('genArray').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "S6_Binary_Search_Running",
      "label": "Binary Search Running",
      "type": "active",
      "entry_actions": [
        "bsTraceEl.innerHTML = ''"
      ],
      "exit_actions": [],
      "evidence": [
        "el('runBS').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "S7_FracTree_Running",
      "label": "Fractal Tree Drawing",
      "type": "active",
      "entry_actions": [
        "drawTree()"
      ],
      "exit_actions": [],
      "evidence": [
        "el('drawTree').addEventListener('click', drawTree);"
      ],
      "confidence": 1
    },
    {
      "id": "S8_SumRange_Running",
      "label": "Sum Range Running",
      "type": "active",
      "entry_actions": [
        "srOutput.textContent = 'Running sumRange...'"
      ],
      "exit_actions": [
        "srOutput.textContent = `sumRange(${a}, ${b}) = ${res}`"
      ],
      "evidence": [
        "el('runSumRange').addEventListener('click', async () => {"
      ],
      "confidence": 1
    },
    {
      "id": "S9_SumRange_StepThrough",
      "label": "Sum Range Step Through",
      "type": "active",
      "entry_actions": [
        "srOutput.textContent = 'Step mode — press Step-through again to advance.'"
      ],
      "exit_actions": [],
      "evidence": [
        "el('stepSumRange').addEventListener('click', () => {"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "RunRecursiveFactorial",
      "event_type": "click",
      "description": "Triggers the recursive factorial calculation.",
      "trigger_selectors": [
        "#runFact"
      ],
      "evidence": [
        "el('runFact').addEventListener('click', async () => {"
      ],
      "confidence": 1
    },
    {
      "id": "ShowIterativeFactorial",
      "event_type": "click",
      "description": "Triggers the iterative factorial calculation.",
      "trigger_selectors": [
        "#runFactIter"
      ],
      "evidence": [
        "el('runFactIter').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "RunNaiveFibonacci",
      "event_type": "click",
      "description": "Triggers the naive Fibonacci calculation.",
      "trigger_selectors": [
        "#runFib"
      ],
      "evidence": [
        "el('runFib').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "RunMemoizedFibonacci",
      "event_type": "click",
      "description": "Triggers the memoized Fibonacci calculation.",
      "trigger_selectors": [
        "#runFibMemo"
      ],
      "evidence": [
        "el('runFibMemo').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "GenerateSortedArray",
      "event_type": "click",
      "description": "Generates a sorted array for binary search.",
      "trigger_selectors": [
        "#genArray"
      ],
      "evidence": [
        "el('genArray').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "RunRecursiveBinarySearch",
      "event_type": "click",
      "description": "Triggers the recursive binary search.",
      "trigger_selectors": [
        "#runBS"
      ],
      "evidence": [
        "el('runBS').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "id": "RedrawFractalTree",
      "event_type": "click",
      "description": "Redraws the fractal tree based on the current depth.",
      "trigger_selectors": [
        "#drawTree"
      ],
      "evidence": [
        "el('drawTree').addEventListener('click', drawTree);"
      ],
      "confidence": 1
    },
    {
      "id": "RunSumRange",
      "event_type": "click",
      "description": "Triggers the sumRange calculation.",
      "trigger_selectors": [
        "#runSumRange"
      ],
      "evidence": [
        "el('runSumRange').addEventListener('click', async () => {"
      ],
      "confidence": 1
    },
    {
      "id": "StepThroughSumRange",
      "event_type": "click",
      "description": "Steps through the sumRange calculation.",
      "trigger_selectors": [
        "#stepSumRange"
      ],
      "evidence": [
        "el('stepSumRange').addEventListener('click', () => {"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_Factorial_Running",
      "event": "RunRecursiveFactorial",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('runFact').addEventListener('click', async () => {"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Factorial_Running",
      "to": "S2_Factorial_Iterative",
      "event": "ShowIterativeFactorial",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('runFactIter').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Fibonacci_Naive",
      "event": "RunNaiveFibonacci",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('runFib').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_Fibonacci_Memoized",
      "event": "RunMemoizedFibonacci",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('runFibMemo').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_Binary_Search_Generating",
      "event": "GenerateSortedArray",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('genArray').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "from": "S5_Binary_Search_Generating",
      "to": "S6_Binary_Search_Running",
      "event": "RunRecursiveBinarySearch",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('runBS').addEventListener('click', () => {"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S7_FracTree_Running",
      "event": "RedrawFractalTree",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('drawTree').addEventListener('click', drawTree);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S8_SumRange_Running",
      "event": "RunSumRange",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('runSumRange').addEventListener('click', async () => {"
      ],
      "confidence": 1
    },
    {
      "from": "S8_SumRange_Running",
      "to": "S9_SumRange_StepThrough",
      "event": "StepThroughSumRange",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el('stepSumRange').addEventListener('click', () => {"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#factN",
      "text": "n (integer ≥ 0)",
      "attributes": {
        "type": "number",
        "value": "6",
        "min": "0",
        "step": "1"
      },
      "evidence": [
        "<input type=\"number\" id=\"factN\" value=\"6\" min=\"0\" step=\"1\">"
      ]
    },
    {
      "type": "input",
      "selector": "#fibN",
      "text": "n (recommended ≤ 35 for naive)",
      "attributes": {
        "type": "number",
        "value": "28",
        "min": "0",
        "step": "1"
      },
      "evidence": [
        "<input type=\"number\" id=\"fibN\" value=\"28\" min=\"0\" step=\"1\">"
      ]
    },
    {
      "type": "input",
      "selector": "#bsSize",
      "text": "Array size",
      "attributes": {
        "type": "number",
        "value": "15",
        "min": "3",
        "step": "1"
      },
      "evidence": [
        "<input type=\"number\" id=\"bsSize\" value=\"15\" min=\"3\" step=\"1\">"
      ]
    },
    {
      "type": "input",
      "selector": "#bsTarget",
      "text": "Target (value in array)",
      "attributes": {
        "type": "number",
        "value": "0",
        "step": "1"
      },
      "evidence": [
        "<input type=\"number\" id=\"bsTarget\" value=\"0\" step=\"1\">"
      ]
    },
    {
      "type": "input",
      "selector": "#treeDepth",
      "text": "Depth",
      "attributes": {
        "type": "range",
        "min": "0",
        "max": "12",
        "value": "8"
      },
      "evidence": [
        "<input id=\"treeDepth\" type=\"range\" min=\"0\" max=\"12\" value=\"8\" style=\"width:100%;\">"
      ]
    },
    {
      "type": "input",
      "selector": "#srA",
      "text": "a",
      "attributes": {
        "type": "number",
        "value": "1"
      },
      "evidence": [
        "<input type=\"number\" id=\"srA\" value=\"1\">"
      ]
    },
    {
      "type": "input",
      "selector": "#srB",
      "text": "b",
      "attributes": {
        "type": "number",
        "value": "6"
      },
      "evidence": [
        "<input type=\"number\" id=\"srB\" value=\"6\">"
      ]
    },
    {
      "type": "button",
      "selector": "#runFact",
      "text": "Run Recursive Factorial",
      "attributes": {},
      "evidence": [
        "<button id=\"runFact\">Run Recursive Factorial</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runFactIter",
      "text": "Show Iterative",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"runFactIter\" class=\"secondary\">Show Iterative</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runFib",
      "text": "Run Naive Recursion",
      "attributes": {},
      "evidence": [
        "<button id=\"runFib\">Run Naive Recursion</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runFibMemo",
      "text": "Run Memoized",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"runFibMemo\" class=\"secondary\">Run Memoized</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#showFibTree",
      "text": "Show Recursion Tree (n ≤ 8)",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"showFibTree\" class=\"secondary\">Show Recursion Tree (n ≤ 8)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#genArray",
      "text": "Generate Sorted Array",
      "attributes": {},
      "evidence": [
        "<button id=\"genArray\">Generate Sorted Array</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runBS",
      "text": "Run Recursive Binary Search",
      "attributes": {},
      "evidence": [
        "<button id=\"runBS\">Run Recursive Binary Search</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#drawTree",
      "text": "Redraw",
      "attributes": {},
      "evidence": [
        "<button id=\"drawTree\">Redraw</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runSumRange",
      "text": "Run sumRange",
      "attributes": {},
      "evidence": [
        "<button id=\"runSumRange\">Run sumRange</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepSumRange",
      "text": "Step-through",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"stepSumRange\" class=\"secondary\">Step-through</button>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-10T00:00:00Z",
    "detected_components_count": 15,
    "detected_components": [
      {
        "type": "input",
        "selector": "#factN",
        "text": "n (integer ≥ 0)",
        "attributes": {
          "type": "number",
          "value": "6",
          "min": "0",
          "step": "1"
        }
      },
      {
        "type": "input",
        "selector": "#fibN",
        "text": "n (recommended ≤ 35 for naive)",
        "attributes": {
          "type": "number",
          "value": "28",
          "min": "0",
          "step": "1"
        }
      },
      {
        "type": "input",
        "selector": "#bsSize",
        "text": "Array size",
        "attributes": {
          "type": "number",
          "value": "15",
          "min": "3",
          "step": "1"
        }
      },
      {
        "type": "input",
        "selector": "#bsTarget",
        "text": "Target (value in array)",
        "attributes": {
          "type": "number",
          "value": "0",
          "step": "1"
        }
      },
      {
        "type": "input",
        "selector": "#treeDepth",
        "text": "Depth",
        "attributes": {
          "type": "range",
          "min": "0",
          "max": "12",
          "value": "8"
        }
      },
      {
        "type": "input",
        "selector": "#srA",
        "text": "a",
        "attributes": {
          "type": "number",
          "value": "1"
        }
      },
      {
        "type": "input",
        "selector": "#srB",
        "text": "b",
        "attributes": {
          "type": "number",
          "value": "6"
        }
      },
      {
        "type": "button",
        "selector": "#runFact",
        "text": "Run Recursive Factorial",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#runFactIter",
        "text": "Show Iterative",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#runFib",
        "text": "Run Naive Recursion",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#runFibMemo",
        "text": "Run Memoized",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#showFibTree",
        "text": "Show Recursion Tree (n ≤ 8)",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#genArray",
        "text": "Generate Sorted Array",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#runBS",
        "text": "Run Recursive Binary Search",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#drawTree",
        "text": "Redraw",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#runSumRange",
        "text": "Run sumRange",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#stepSumRange",
        "text": "Step-through",
        "attributes": {
          "class": "secondary"
        }
      }
    ],
    "detected_event_handlers_count": 15,
    "detected_event_handlers": [
      "el('runFact').addEventListener('click', async () => {",
      "el('runFactIter').addEventListener('click', () => {",
      "el('runFib').addEventListener('click', () => {",
      "el('runFibMemo').addEventListener('click', () => {",
      "el('genArray').addEventListener('click', () => {",
      "el('runBS').addEventListener('click', () => {",
      "el('drawTree').addEventListener('click', drawTree);",
      "el('runSumRange').addEventListener('click', async () => {",
      "el('stepSumRange').addEventListener('click', () => {"
    ],
    "extracted_states_count": 10,
    "extracted_transitions_count": 9,
    "extraction_confidence": 1,
    "notes": []
  }
}