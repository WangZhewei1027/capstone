{
  "meta": {
    "concept": "Kruskal's Algorithm Interactive Demo",
    "topic": "Kruskal's Algorithm",
    "educational_goal": "Understand and visualize Kruskal's algorithm for finding the Minimum Spanning Tree.",
    "expected_interactions": [
      "Generate Random Graph",
      "Load Sample Graph",
      "Reset Algorithm",
      "Step through Algorithm",
      "Auto Play",
      "Run to Completion",
      "Drag Nodes"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "Current edge: <span id=\"currentEdge\">â€”</span>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_GraphGenerated",
      "label": "Graph Generated",
      "type": "default",
      "entry_actions": [
        "buildGraph()",
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "nodes = []",
        "edges = []"
      ],
      "confidence": 1
    },
    {
      "id": "S2_AlgorithmReset",
      "label": "Algorithm Reset",
      "type": "default",
      "entry_actions": [
        "resetAlgorithm()",
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "for(let e of edges) e._state = null;"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Stepping",
      "label": "Stepping Through Algorithm",
      "type": "default",
      "entry_actions": [
        "step()",
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "if(edgeIndex >= sortedEdges.length)"
      ],
      "confidence": 1
    },
    {
      "id": "S4_AutoPlaying",
      "label": "Auto Playing",
      "type": "default",
      "entry_actions": [
        "autoStep()"
      ],
      "exit_actions": [],
      "evidence": [
        "if(!playing) return;"
      ],
      "confidence": 1
    },
    {
      "id": "S5_Completed",
      "label": "Completed",
      "type": "final",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "currentEdgeSpan.textContent = 'Done';"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GenerateRandomGraph",
      "event_type": "click",
      "description": "Generate a random graph based on the node count and edge probability.",
      "trigger_selectors": [
        "#randBtn"
      ],
      "evidence": [
        "randBtn.addEventListener('click', ()=> { generateRandomGraph(parseInt(nodeCountInput.value), parseFloat(edgeProbInput.value)); });"
      ],
      "confidence": 1
    },
    {
      "id": "LoadSampleGraph",
      "event_type": "click",
      "description": "Load a sample graph for visualization.",
      "trigger_selectors": [
        "#sampleBtn"
      ],
      "evidence": [
        "sampleBtn.addEventListener('click', ()=> { createSampleGraph(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ResetAlgorithm",
      "event_type": "click",
      "description": "Reset the algorithm and clear the current graph.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=> { resetAlgorithm(); });"
      ],
      "confidence": 1
    },
    {
      "id": "StepAlgorithm",
      "event_type": "click",
      "description": "Step through the algorithm one edge at a time.",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=> { step(); });"
      ],
      "confidence": 1
    },
    {
      "id": "AutoPlay",
      "event_type": "click",
      "description": "Automatically play through the algorithm.",
      "trigger_selectors": [
        "#playBtn"
      ],
      "evidence": [
        "playBtn.addEventListener('click', togglePlay);"
      ],
      "confidence": 1
    },
    {
      "id": "RunToCompletion",
      "event_type": "click",
      "description": "Run the algorithm to completion without stepping.",
      "trigger_selectors": [
        "#finishBtn"
      ],
      "evidence": [
        "finishBtn.addEventListener('click', runToCompletion);"
      ],
      "confidence": 1
    },
    {
      "id": "NodeCountChange",
      "event_type": "input",
      "description": "Change the number of nodes in the graph.",
      "trigger_selectors": [
        "#nodeCount"
      ],
      "evidence": [
        "nodeCountInput.addEventListener('input', ()=>{ nodeCountLabel.textContent = nodeCountInput.value; });"
      ],
      "confidence": 1
    },
    {
      "id": "EdgeProbabilityChange",
      "event_type": "input",
      "description": "Change the edge density probability.",
      "trigger_selectors": [
        "#edgeProb"
      ],
      "evidence": [
        "edgeProbInput.addEventListener('input', ()=>{ edgeProbLabel.textContent = edgeProbInput.value; });"
      ],
      "confidence": 1
    },
    {
      "id": "SpeedChange",
      "event_type": "input",
      "description": "Change the speed of the autoplay.",
      "trigger_selectors": [
        "#speed"
      ],
      "evidence": [
        "speedInput.addEventListener('input', ()=>{ speedLabel.textContent = speedInput.value + ' ms/step'; });"
      ],
      "confidence": 1
    },
    {
      "id": "NodeDragStart",
      "event_type": "mousedown",
      "description": "Start dragging a node.",
      "trigger_selectors": [
        "#svg"
      ],
      "evidence": [
        "g.addEventListener('mousedown', (ev)=> { dragging = {id: node.id, offsetX: ev.offsetX - node.x, offsetY: ev.offsetY - node.y}; ev.stopPropagation(); });"
      ],
      "confidence": 1
    },
    {
      "id": "NodeDragMove",
      "event_type": "mousemove",
      "description": "Move a node while dragging.",
      "trigger_selectors": [
        "document"
      ],
      "evidence": [
        "document.addEventListener('mousemove', onDocMouseMove);"
      ],
      "confidence": 1
    },
    {
      "id": "NodeDragEnd",
      "event_type": "mouseup",
      "description": "End dragging a node.",
      "trigger_selectors": [
        "document"
      ],
      "evidence": [
        "document.addEventListener('mouseup', onDocMouseUp);"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_GraphGenerated",
      "event": "GenerateRandomGraph",
      "actions": [
        "generateRandomGraph(parseInt(nodeCountInput.value), parseFloat(edgeProbInput.value))"
      ],
      "expected_observables": [
        "Graph is displayed with nodes and edges."
      ],
      "evidence": [
        "randBtn.addEventListener('click', ()=> { generateRandomGraph(parseInt(nodeCountInput.value), parseFloat(edgeProbInput.value)); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S1_GraphGenerated",
      "event": "LoadSampleGraph",
      "actions": [
        "createSampleGraph()"
      ],
      "expected_observables": [
        "Sample graph is displayed."
      ],
      "evidence": [
        "sampleBtn.addEventListener('click', ()=> { createSampleGraph(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S2_AlgorithmReset",
      "event": "ResetAlgorithm",
      "actions": [
        "resetAlgorithm()"
      ],
      "expected_observables": [
        "Algorithm is reset, edges are cleared."
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=> { resetAlgorithm(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S3_Stepping",
      "event": "StepAlgorithm",
      "actions": [
        "step()"
      ],
      "expected_observables": [
        "Next edge is considered."
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=> { step(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S4_AutoPlaying",
      "event": "AutoPlay",
      "actions": [
        "togglePlay()"
      ],
      "expected_observables": [
        "Algorithm is running automatically."
      ],
      "evidence": [
        "playBtn.addEventListener('click', togglePlay);"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Stepping",
      "to": "S3_Stepping",
      "event": "StepAlgorithm",
      "actions": [
        "step()"
      ],
      "expected_observables": [
        "Next edge is considered."
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=> { step(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Stepping",
      "to": "S5_Completed",
      "event": "NodeDragEnd",
      "actions": [
        "render()"
      ],
      "expected_observables": [
        "Algorithm completes."
      ],
      "evidence": [
        "currentEdgeSpan.textContent = 'Done';"
      ],
      "confidence": 1
    },
    {
      "from": "S4_AutoPlaying",
      "to": "S4_AutoPlaying",
      "event": "NodeDragMove",
      "actions": [
        "autoStep()"
      ],
      "expected_observables": [
        "Next edge is considered automatically."
      ],
      "evidence": [
        "if(!playing) return;"
      ],
      "confidence": 1
    },
    {
      "from": "S4_AutoPlaying",
      "to": "S5_Completed",
      "event": "NodeDragEnd",
      "actions": [
        "render()"
      ],
      "expected_observables": [
        "Algorithm completes."
      ],
      "evidence": [
        "currentEdgeSpan.textContent = 'Done';"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#randBtn",
      "text": "Generate Random Graph",
      "attributes": {},
      "evidence": [
        "<button id=\"randBtn\">Generate Random Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#sampleBtn",
      "text": "Load Sample Graph",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"sampleBtn\" class=\"secondary\">Load Sample Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset Algorithm",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"resetBtn\" class=\"secondary\">Reset Algorithm</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "Step",
      "attributes": {
        "class": "small-btn"
      },
      "evidence": [
        "<button id=\"stepBtn\" class=\"small-btn\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#playBtn",
      "text": "Auto Play",
      "attributes": {
        "class": "small-btn"
      },
      "evidence": [
        "<button id=\"playBtn\" class=\"small-btn\">Auto Play</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#finishBtn",
      "text": "Run to Completion",
      "attributes": {
        "class": "small-btn secondary"
      },
      "evidence": [
        "<button id=\"finishBtn\" class=\"small-btn secondary\">Run to Completion</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#nodeCount",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "2",
        "max": "12",
        "value": "8"
      },
      "evidence": [
        "<input id=\"nodeCount\" type=\"range\" min=\"2\" max=\"12\" value=\"8\">"
      ]
    },
    {
      "type": "input",
      "selector": "#edgeProb",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "0.05",
        "max": "1",
        "step": "0.05",
        "value": "0.45"
      },
      "evidence": [
        "<input id=\"edgeProb\" type=\"range\" min=\"0.05\" max=\"1\" step=\"0.05\" value=\"0.45\">"
      ]
    },
    {
      "type": "input",
      "selector": "#speed",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "200",
        "max": "2000",
        "step": "100",
        "value": "800"
      },
      "evidence": [
        "<input id=\"speed\" type=\"range\" min=\"200\" max=\"2000\" step=\"100\" value=\"800\">"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T00:00:00Z",
    "detected_components_count": 8,
    "detected_components": [
      {
        "type": "button",
        "selector": "#randBtn",
        "text": "Generate Random Graph",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#sampleBtn",
        "text": "Load Sample Graph",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Reset Algorithm",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#stepBtn",
        "text": "Step",
        "attributes": {
          "class": "small-btn"
        }
      },
      {
        "type": "button",
        "selector": "#playBtn",
        "text": "Auto Play",
        "attributes": {
          "class": "small-btn"
        }
      },
      {
        "type": "button",
        "selector": "#finishBtn",
        "text": "Run to Completion",
        "attributes": {
          "class": "small-btn secondary"
        }
      },
      {
        "type": "input",
        "selector": "#nodeCount",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "2",
          "max": "12",
          "value": "8"
        }
      },
      {
        "type": "input",
        "selector": "#edgeProb",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "0.05",
          "max": "1",
          "step": "0.05",
          "value": "0.45"
        }
      },
      {
        "type": "input",
        "selector": "#speed",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "200",
          "max": "2000",
          "step": "100",
          "value": "800"
        }
      }
    ],
    "detected_event_handlers_count": 12,
    "detected_event_handlers": [
      "randBtn.addEventListener('click', ()=> { generateRandomGraph(parseInt(nodeCountInput.value), parseFloat(edgeProbInput.value)); });",
      "sampleBtn.addEventListener('click', ()=> { createSampleGraph(); });",
      "resetBtn.addEventListener('click', ()=> { resetAlgorithm(); });",
      "stepBtn.addEventListener('click', ()=> { step(); });",
      "playBtn.addEventListener('click', togglePlay);",
      "finishBtn.addEventListener('click', runToCompletion);",
      "nodeCountInput.addEventListener('input', ()=>{ nodeCountLabel.textContent = nodeCountInput.value; });",
      "edgeProbInput.addEventListener('input', ()=>{ edgeProbLabel.textContent = edgeProbInput.value; });",
      "speedInput.addEventListener('input', ()=>{ speedLabel.textContent = speedInput.value + ' ms/step'; });",
      "g.addEventListener('mousedown', (ev)=> { dragging = {id: node.id, offsetX: ev.offsetX - node.x, offsetY: ev.offsetY - node.y}; ev.stopPropagation(); });",
      "document.addEventListener('mousemove', onDocMouseMove);",
      "document.addEventListener('mouseup', onDocMouseUp);"
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 9,
    "extraction_confidence": 1,
    "notes": []
  }
}