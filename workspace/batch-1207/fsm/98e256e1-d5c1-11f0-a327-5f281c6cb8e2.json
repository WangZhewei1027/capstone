{
  "meta": {
    "concept": "Floyd–Warshall Algorithm Interactive Demo",
    "topic": "Floyd-Warshall Algorithm",
    "educational_goal": "To demonstrate the Floyd-Warshall algorithm for finding shortest paths in a graph.",
    "expected_interactions": [
      "Generate random graph",
      "Load example graph",
      "Apply matrix",
      "Initialize algorithm",
      "Step through algorithm",
      "Play through algorithm",
      "Run to end",
      "Reset the demo",
      "Show path between vertices",
      "Export JSON",
      "Load JSON"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "createAdjMatrix(N)",
        "updateSelectors()",
        "enableControls(true)"
      ],
      "exit_actions": [],
      "evidence": [
        "createAdjMatrix(N);",
        "updateSelectors();",
        "enableControls(true);"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Initialized",
      "label": "Initialized",
      "type": "intermediate",
      "entry_actions": [
        "readAdjacency()",
        "pushState(dist, nextm, {k:-1, current:null, updated:null, note:'Initial matrices'})",
        "log('Initialized matrices. Ready to step.')",
        "renderAll()",
        "enableControls(true)"
      ],
      "exit_actions": [],
      "evidence": [
        "initializeFW();",
        "log('Initialized matrices. Ready to step.');"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Running",
      "label": "Running",
      "type": "intermediate",
      "entry_actions": [
        "runAndRecord()"
      ],
      "exit_actions": [],
      "evidence": [
        "runAndRecord();"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Stepping",
      "label": "Stepping",
      "type": "intermediate",
      "entry_actions": [
        "renderFromHistoryIndex(stepIndex)"
      ],
      "exit_actions": [],
      "evidence": [
        "stepFwdBtn.addEventListener('click', ()=>{ if(stepIndex < history.length-1){ stepIndex++; renderFromHistoryIndex(stepIndex); } });",
        "stepBackBtn.addEventListener('click', ()=>{ if(stepIndex > 0){ stepIndex--; renderFromHistoryIndex(stepIndex); } });"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Playing",
      "label": "Playing",
      "type": "intermediate",
      "entry_actions": [
        "playStep()"
      ],
      "exit_actions": [],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ if(playing){ stopPlay(); return; } playing = true; playStep(); });"
      ],
      "confidence": 1
    },
    {
      "id": "S5_PathShown",
      "label": "Path Shown",
      "type": "final",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "showPathBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GenerateRandomGraph",
      "event_type": "click",
      "description": "Generate a random graph based on user inputs.",
      "trigger_selectors": [
        "#randBtn"
      ],
      "evidence": [
        "randBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "LoadExampleGraph",
      "event_type": "click",
      "description": "Load a preset example graph.",
      "trigger_selectors": [
        "#presetBtn"
      ],
      "evidence": [
        "presetBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "ApplyMatrix",
      "event_type": "click",
      "description": "Apply the adjacency matrix from user inputs.",
      "trigger_selectors": [
        "#applyBtn"
      ],
      "evidence": [
        "applyBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "InitializeAlgorithm",
      "event_type": "click",
      "description": "Initialize the Floyd-Warshall algorithm.",
      "trigger_selectors": [
        "#initBtn"
      ],
      "evidence": [
        "initBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "StepForward",
      "event_type": "click",
      "description": "Step forward in the algorithm visualization.",
      "trigger_selectors": [
        "#stepFwd"
      ],
      "evidence": [
        "stepFwdBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "StepBackward",
      "event_type": "click",
      "description": "Step backward in the algorithm visualization.",
      "trigger_selectors": [
        "#stepBack"
      ],
      "evidence": [
        "stepBackBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "PlayAlgorithm",
      "event_type": "click",
      "description": "Play through the algorithm steps automatically.",
      "trigger_selectors": [
        "#playBtn"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "RunToEnd",
      "event_type": "click",
      "description": "Run the algorithm to completion.",
      "trigger_selectors": [
        "#runFull"
      ],
      "evidence": [
        "runFullBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "ResetDemo",
      "event_type": "click",
      "description": "Reset the demo to its initial state.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "ShowPath",
      "event_type": "click",
      "description": "Show the shortest path between selected vertices.",
      "trigger_selectors": [
        "#showPath"
      ],
      "evidence": [
        "showPathBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "ExportJSON",
      "event_type": "click",
      "description": "Export the current matrices as JSON.",
      "trigger_selectors": [
        "#exportBtn"
      ],
      "evidence": [
        "exportBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "id": "LoadJSON",
      "event_type": "click",
      "description": "Load a JSON representation of matrices.",
      "trigger_selectors": [
        "#loadBtn"
      ],
      "evidence": [
        "loadBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_Initialized",
      "event": "InitializeAlgorithm",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "initBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Initialized",
      "to": "S2_Running",
      "event": "RunToEnd",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "runFullBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Running",
      "to": "S3_Stepping",
      "event": "StepForward",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "stepFwdBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Stepping",
      "to": "S4_Playing",
      "event": "PlayAlgorithm",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S4_Playing",
      "to": "S3_Stepping",
      "event": "StepForward",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "stepFwdBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S4_Playing",
      "to": "S3_Stepping",
      "event": "StepBackward",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "stepBackBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Stepping",
      "to": "S5_PathShown",
      "event": "ShowPath",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "showPathBtn.addEventListener('click', ()=>{ ... });"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#nInput",
      "text": "",
      "attributes": {
        "type": "number",
        "min": "1",
        "max": "12",
        "value": "5"
      },
      "evidence": [
        "<input id=\"nInput\" type=\"number\" min=\"1\" max=\"12\" value=\"5\" style=\"width:72px;margin-left:8px\"/>"
      ]
    },
    {
      "type": "input",
      "selector": "#directed",
      "text": "",
      "attributes": {
        "type": "checkbox",
        "checked": "true"
      },
      "evidence": [
        "<input id=\"directed\" type=\"checkbox\" checked style=\"margin-left:8px\"/>"
      ]
    },
    {
      "type": "select",
      "selector": "#density",
      "text": "",
      "attributes": {},
      "evidence": [
        "<select id=\"density\" style=\"margin-left:8px\">"
      ]
    },
    {
      "type": "input",
      "selector": "#wmin",
      "text": "",
      "attributes": {
        "type": "number",
        "value": "-5"
      },
      "evidence": [
        "<input id=\"wmin\" type=\"number\" value=\"-5\" style=\"width:64px;margin-left:8px\"/>"
      ]
    },
    {
      "type": "input",
      "selector": "#wmax",
      "text": "",
      "attributes": {
        "type": "number",
        "value": "12"
      },
      "evidence": [
        "<input id=\"wmax\" type=\"number\" value=\"12\" style=\"width:64px;margin-left:8px\"/>"
      ]
    },
    {
      "type": "button",
      "selector": "#randBtn",
      "text": "Generate Random",
      "attributes": {
        "class": "small"
      },
      "evidence": [
        "<button id=\"randBtn\" class=\"small\">Generate Random</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#presetBtn",
      "text": "Load Example",
      "attributes": {
        "class": "small ghost"
      },
      "evidence": [
        "<button id=\"presetBtn\" class=\"small ghost\">Load Example</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#applyBtn",
      "text": "Apply Matrix",
      "attributes": {
        "class": "small"
      },
      "evidence": [
        "<button id=\"applyBtn\" class=\"small\">Apply Matrix</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#initBtn",
      "text": "Initialize",
      "attributes": {},
      "evidence": [
        "<button id=\"initBtn\">Initialize</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBack",
      "text": "Step ◀",
      "attributes": {
        "class": "ghost small",
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"stepBack\" class=\"ghost small\" disabled>Step ◀</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepFwd",
      "text": "Step ▶",
      "attributes": {
        "class": "ghost small",
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"stepFwd\" class=\"ghost small\" disabled>Step ▶</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#playBtn",
      "text": "Play",
      "attributes": {
        "class": "ghost small",
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"playBtn\" class=\"ghost small\" disabled>Play</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runFull",
      "text": "Run to End",
      "attributes": {
        "class": "small"
      },
      "evidence": [
        "<button id=\"runFull\" class=\"small\">Run to End</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {
        "class": "ghost small"
      },
      "evidence": [
        "<button id=\"resetBtn\" class=\"ghost small\">Reset</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#showPath",
      "text": "Show Path",
      "attributes": {
        "class": "small",
        "title": "Reconstruct shortest path"
      },
      "evidence": [
        "<button id=\"showPath\" class=\"small\" title=\"Reconstruct shortest path\">Show Path</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#exportBtn",
      "text": "Export JSON",
      "attributes": {
        "class": "ghost small",
        "title": "Export current matrices as JSON"
      },
      "evidence": [
        "<button id=\"exportBtn\" class=\"ghost small\" title=\"Export current matrices as JSON\">Export JSON</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#loadBtn",
      "text": "Load JSON",
      "attributes": {
        "class": "ghost small",
        "title": "Load JSON (paste)"
      },
      "evidence": [
        "<button id=\"loadBtn\" class=\"ghost small\" title=\"Load JSON (paste)\">Load JSON</button>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-04T00:00:00Z",
    "detected_components_count": 14,
    "detected_components": [
      {
        "type": "input",
        "selector": "#nInput",
        "text": "",
        "attributes": {
          "type": "number",
          "min": "1",
          "max": "12",
          "value": "5"
        }
      },
      {
        "type": "input",
        "selector": "#directed",
        "text": "",
        "attributes": {
          "type": "checkbox",
          "checked": "true"
        }
      },
      {
        "type": "select",
        "selector": "#density",
        "text": "",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "#wmin",
        "text": "",
        "attributes": {
          "type": "number",
          "value": "-5"
        }
      },
      {
        "type": "input",
        "selector": "#wmax",
        "text": "",
        "attributes": {
          "type": "number",
          "value": "12"
        }
      },
      {
        "type": "button",
        "selector": "#randBtn",
        "text": "Generate Random",
        "attributes": {
          "class": "small"
        }
      },
      {
        "type": "button",
        "selector": "#presetBtn",
        "text": "Load Example",
        "attributes": {
          "class": "small ghost"
        }
      },
      {
        "type": "button",
        "selector": "#applyBtn",
        "text": "Apply Matrix",
        "attributes": {
          "class": "small"
        }
      },
      {
        "type": "button",
        "selector": "#initBtn",
        "text": "Initialize",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#stepBack",
        "text": "Step ◀",
        "attributes": {
          "class": "ghost small",
          "disabled": "true"
        }
      },
      {
        "type": "button",
        "selector": "#stepFwd",
        "text": "Step ▶",
        "attributes": {
          "class": "ghost small",
          "disabled": "true"
        }
      },
      {
        "type": "button",
        "selector": "#playBtn",
        "text": "Play",
        "attributes": {
          "class": "ghost small",
          "disabled": "true"
        }
      },
      {
        "type": "button",
        "selector": "#runFull",
        "text": "Run to End",
        "attributes": {
          "class": "small"
        }
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Reset",
        "attributes": {
          "class": "ghost small"
        }
      },
      {
        "type": "button",
        "selector": "#showPath",
        "text": "Show Path",
        "attributes": {
          "class": "small",
          "title": "Reconstruct shortest path"
        }
      },
      {
        "type": "button",
        "selector": "#exportBtn",
        "text": "Export JSON",
        "attributes": {
          "class": "ghost small",
          "title": "Export current matrices as JSON"
        }
      },
      {
        "type": "button",
        "selector": "#loadBtn",
        "text": "Load JSON",
        "attributes": {
          "class": "ghost small",
          "title": "Load JSON (paste)"
        }
      }
    ],
    "detected_event_handlers_count": 10,
    "detected_event_handlers": [
      "randBtn.addEventListener('click', ()=>{ ... });",
      "presetBtn.addEventListener('click', ()=>{ ... });",
      "applyBtn.addEventListener('click', ()=>{ ... });",
      "initBtn.addEventListener('click', ()=>{ ... });",
      "stepFwdBtn.addEventListener('click', ()=>{ ... });",
      "stepBackBtn.addEventListener('click', ()=>{ ... });",
      "playBtn.addEventListener('click', ()=>{ ... });",
      "runFullBtn.addEventListener('click', ()=>{ ... });",
      "resetBtn.addEventListener('click', ()=>{ ... });",
      "showPathBtn.addEventListener('click', ()=>{ ... });",
      "exportBtn.addEventListener('click', ()=>{ ... });",
      "loadBtn.addEventListener('click', ()=>{ ... });"
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 9,
    "extraction_confidence": 1,
    "notes": []
  }
}