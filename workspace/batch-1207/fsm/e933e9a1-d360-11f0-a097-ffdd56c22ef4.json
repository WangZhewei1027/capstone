{
  "meta": {
    "concept": "Radix Sort Visualizer (LSD) — Interactive Demo",
    "topic": "Radix Sort",
    "educational_goal": "To demonstrate the process of Least Significant Digit (LSD) Radix Sort on non-negative integers.",
    "expected_interactions": [
      "Change array size",
      "Change maximum value",
      "Change base (radix)",
      "Shuffle/Randomize array",
      "Reset array",
      "Set custom array",
      "Step through sorting algorithm",
      "Play/Pause sorting animation"
    ]
  },
  "states": [
    {
      "id": "S0_Start",
      "label": "Start",
      "type": "initial",
      "entry_actions": [
        "initRandom()"
      ],
      "exit_actions": [],
      "evidence": [
        "states.push({type:'start', digit:null, array:arr.slice(), buckets:[]});"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Distribution",
      "label": "Distribution",
      "type": "processing",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "states.push({type:'distribution', digit:d, array:working.slice(), buckets:copyDeep(buckets)});"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Collection",
      "label": "Collection",
      "type": "processing",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "states.push({type:'collection', digit:d, array:working.slice(), buckets:copyDeep(buckets)});"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "SizeChange",
      "event_type": "input",
      "description": "Change the size of the array.",
      "trigger_selectors": [
        "#sizeRange"
      ],
      "evidence": [
        "sizeRange.addEventListener('input',()=>{ sizeValue.textContent = sizeRange.value; });"
      ],
      "confidence": 1
    },
    {
      "id": "MaxValueChange",
      "event_type": "input",
      "description": "Change the maximum value of the array elements.",
      "trigger_selectors": [
        "#maxRange"
      ],
      "evidence": [
        "maxRange.addEventListener('input',()=>{ maxValue.textContent = maxRange.value; });"
      ],
      "confidence": 1
    },
    {
      "id": "BaseChange",
      "event_type": "change",
      "description": "Change the base (radix) for sorting.",
      "trigger_selectors": [
        "#baseInput"
      ],
      "evidence": [
        "baseInput.addEventListener('change',()=>{ const b = clamp(parseInt(baseInput.value||10,10),2,16); baseInput.value = b; radixBadge.textContent = b; buildStates(); renderStep(0); });"
      ],
      "confidence": 1
    },
    {
      "id": "ShuffleArray",
      "event_type": "click",
      "description": "Shuffle or randomize the array.",
      "trigger_selectors": [
        "#randomBtn"
      ],
      "evidence": [
        "randomBtn.addEventListener('click', ()=>{ initRandom(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ResetArray",
      "event_type": "click",
      "description": "Reset the array to a new random array.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ initRandom(); });"
      ],
      "confidence": 1
    },
    {
      "id": "SetArray",
      "event_type": "click",
      "description": "Set a custom array from user input.",
      "trigger_selectors": [
        "#setArray"
      ],
      "evidence": [
        "setArrayBtn.addEventListener('click', ()=>{ const raw = arrayInput.value.trim(); if(!raw) return; const parts = raw.split(',').map(p=>p.trim()).filter(p=>p.length); ... });"
      ],
      "confidence": 1
    },
    {
      "id": "NextStep",
      "event_type": "click",
      "description": "Go to the next step in the sorting process.",
      "trigger_selectors": [
        "#nextBtn"
      ],
      "evidence": [
        "nextBtn.addEventListener('click', ()=>{ if(stepIndex < states.length-1){ renderStep(stepIndex+1); } else { renderStep(states.length-1); stopAuto(); } });"
      ],
      "confidence": 1
    },
    {
      "id": "PrevStep",
      "event_type": "click",
      "description": "Go to the previous step in the sorting process.",
      "trigger_selectors": [
        "#prevBtn"
      ],
      "evidence": [
        "prevBtn.addEventListener('click', ()=>{ if(stepIndex > 0){ renderStep(stepIndex-1); } });"
      ],
      "confidence": 1
    },
    {
      "id": "PlayPause",
      "event_type": "click",
      "description": "Play or pause the sorting animation.",
      "trigger_selectors": [
        "#playBtn"
      ],
      "evidence": [
        "playBtn.addEventListener('click', ()=>{ if(timer) stopAuto(); else startAuto(); });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Start",
      "to": "S1_Distribution",
      "event": "ShuffleArray",
      "actions": [
        "initRandom()"
      ],
      "expected_observables": [
        "Initial array displayed"
      ],
      "evidence": [
        "randomBtn.addEventListener('click', ()=>{ initRandom(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Distribution",
      "to": "S2_Collection",
      "event": "NextStep",
      "actions": [
        "renderStep(stepIndex+1)"
      ],
      "expected_observables": [
        "Next state displayed"
      ],
      "evidence": [
        "nextBtn.addEventListener('click', ()=>{ if(stepIndex < states.length-1){ renderStep(stepIndex+1); } });"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Collection",
      "to": "S1_Distribution",
      "event": "NextStep",
      "actions": [
        "renderStep(stepIndex+1)"
      ],
      "expected_observables": [
        "Next state displayed"
      ],
      "evidence": [
        "nextBtn.addEventListener('click', ()=>{ if(stepIndex < states.length-1){ renderStep(stepIndex+1); } });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Distribution",
      "to": "S0_Start",
      "event": "ResetArray",
      "actions": [
        "initRandom()"
      ],
      "expected_observables": [
        "Initial array displayed"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ initRandom(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Start",
      "to": "S1_Distribution",
      "event": "SetArray",
      "actions": [
        "buildStates()",
        "renderStep(0)"
      ],
      "expected_observables": [
        "Initial array displayed"
      ],
      "evidence": [
        "setArrayBtn.addEventListener('click', ()=>{ const raw = arrayInput.value.trim(); ... });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Distribution",
      "to": "S1_Distribution",
      "event": "BaseChange",
      "actions": [
        "buildStates()",
        "renderStep(0)"
      ],
      "expected_observables": [
        "Updated radix displayed"
      ],
      "evidence": [
        "baseInput.addEventListener('change',()=>{ ... });"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#sizeRange",
      "text": "Size",
      "attributes": {
        "type": "range",
        "min": "3",
        "max": "18",
        "value": "10"
      },
      "evidence": [
        "<input id=\"sizeRange\" type=\"range\" min=\"3\" max=\"18\" value=\"10\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#maxRange",
      "text": "Max value",
      "attributes": {
        "type": "range",
        "min": "9",
        "max": "999",
        "value": "99"
      },
      "evidence": [
        "<input id=\"maxRange\" type=\"range\" min=\"9\" max=\"999\" value=\"99\" />"
      ]
    },
    {
      "type": "input",
      "selector": "#baseInput",
      "text": "Base (radix)",
      "attributes": {
        "type": "number",
        "min": "2",
        "max": "16",
        "value": "10"
      },
      "evidence": [
        "<input id=\"baseInput\" type=\"number\" min=\"2\" max=\"16\" value=\"10\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#randomBtn",
      "text": "Shuffle / Randomize",
      "attributes": {},
      "evidence": [
        "<button id=\"randomBtn\">Shuffle / Randomize</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"resetBtn\" class=\"secondary\">Reset</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#arrayInput",
      "text": "Type numbers separated by commas",
      "attributes": {
        "type": "text",
        "placeholder": "Type numbers separated by commas (e.g. 170,45,75)"
      },
      "evidence": [
        "<input id=\"arrayInput\" type=\"text\" placeholder=\"Type numbers separated by commas (e.g. 170,45,75)\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#setArray",
      "text": "Set",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"setArray\" class=\"secondary\">Set</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#nextBtn",
      "text": "Next step",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"nextBtn\" class=\"ghost\" title=\"Next step\">⏭️</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#prevBtn",
      "text": "Previous step",
      "attributes": {
        "class": "ghost"
      },
      "evidence": [
        "<button id=\"prevBtn\" class=\"ghost\" title=\"Previous step\">⏮️</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#playBtn",
      "text": "Play/pause",
      "attributes": {
        "class": "ghost",
        "title": "Play/pause"
      },
      "evidence": [
        "<button id=\"playBtn\" class=\"ghost\" title=\"Play/pause\">▶️</button>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-03T00:00:00Z",
    "detected_components_count": 10,
    "detected_components": [
      {
        "type": "input",
        "selector": "#sizeRange",
        "text": "Size",
        "attributes": {
          "type": "range",
          "min": "3",
          "max": "18",
          "value": "10"
        }
      },
      {
        "type": "input",
        "selector": "#maxRange",
        "text": "Max value",
        "attributes": {
          "type": "range",
          "min": "9",
          "max": "999",
          "value": "99"
        }
      },
      {
        "type": "input",
        "selector": "#baseInput",
        "text": "Base (radix)",
        "attributes": {
          "type": "number",
          "min": "2",
          "max": "16",
          "value": "10"
        }
      },
      {
        "type": "button",
        "selector": "#randomBtn",
        "text": "Shuffle / Randomize",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Reset",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "input",
        "selector": "#arrayInput",
        "text": "Type numbers separated by commas",
        "attributes": {
          "type": "text",
          "placeholder": "Type numbers separated by commas (e.g. 170,45,75)"
        }
      },
      {
        "type": "button",
        "selector": "#setArray",
        "text": "Set",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#nextBtn",
        "text": "Next step",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#prevBtn",
        "text": "Previous step",
        "attributes": {
          "class": "ghost"
        }
      },
      {
        "type": "button",
        "selector": "#playBtn",
        "text": "Play/pause",
        "attributes": {
          "class": "ghost",
          "title": "Play/pause"
        }
      }
    ],
    "detected_event_handlers_count": 10,
    "detected_event_handlers": [
      "sizeRange.addEventListener('input',()=>{ sizeValue.textContent = sizeRange.value; });",
      "maxRange.addEventListener('input',()=>{ maxValue.textContent = maxRange.value; });",
      "baseInput.addEventListener('change',()=>{ const b = clamp(parseInt(baseInput.value||10,10),2,16); baseInput.value = b; radixBadge.textContent = b; buildStates(); renderStep(0); });",
      "randomBtn.addEventListener('click', ()=>{ initRandom(); });",
      "resetBtn.addEventListener('click', ()=>{ initRandom(); });",
      "setArrayBtn.addEventListener('click', ()=>{ const raw = arrayInput.value.trim(); ... });",
      "nextBtn.addEventListener('click', ()=>{ if(stepIndex < states.length-1){ renderStep(stepIndex+1); } });",
      "prevBtn.addEventListener('click', ()=>{ if(stepIndex > 0){ renderStep(stepIndex-1); } });",
      "playBtn.addEventListener('click', ()=>{ if(timer) stopAuto(); else startAuto(); });",
      "sizeRange.addEventListener('change', ()=>{ initRandom(); });",
      "maxRange.addEventListener('change', ()=>{ initRandom(); });"
    ],
    "extracted_states_count": 3,
    "extracted_transitions_count": 7,
    "extraction_confidence": 1,
    "notes": [
      "All interactive elements and their behaviors were captured.",
      "No external scripts were referenced.",
      "The FSM reflects all observed interactive behaviors."
    ]
  }
}