{
  "meta": {
    "concept": "Queue Demonstration",
    "topic": "Queue",
    "educational_goal": "Explore the queue data structure. Enqueue, dequeue, peek and visualize both a dynamic (array-based) queue and a fixed-size circular queue with indices.",
    "expected_interactions": [
      "Enqueue values",
      "Dequeue values",
      "Peek at the front value",
      "Switch between queue implementations",
      "Reset the queue",
      "Fill the queue with random values",
      "Clear the queue",
      "Toggle autoplay for enqueue/dequeue"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "resetQueue()"
      ],
      "exit_actions": [],
      "evidence": [
        "resetQueue()"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Enqueue",
      "label": "Enqueue",
      "type": "action",
      "entry_actions": [
        "doEnqueue()"
      ],
      "exit_actions": [],
      "evidence": [
        "doEnqueue(val)"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Dequeue",
      "label": "Dequeue",
      "type": "action",
      "entry_actions": [
        "doDequeue()"
      ],
      "exit_actions": [],
      "evidence": [
        "doDequeue()"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Peek",
      "label": "Peek",
      "type": "action",
      "entry_actions": [
        "doPeek()"
      ],
      "exit_actions": [],
      "evidence": [
        "doPeek()"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Reset",
      "label": "Reset",
      "type": "action",
      "entry_actions": [
        "resetQueue()"
      ],
      "exit_actions": [],
      "evidence": [
        "resetQueue()"
      ],
      "confidence": 1
    },
    {
      "id": "S5_FillRandom",
      "label": "Fill Random",
      "type": "action",
      "entry_actions": [
        "fillRandom()"
      ],
      "exit_actions": [],
      "evidence": [
        "fillRandom()"
      ],
      "confidence": 1
    },
    {
      "id": "S6_Clear",
      "label": "Clear",
      "type": "action",
      "entry_actions": [
        "clearQ()"
      ],
      "exit_actions": [],
      "evidence": [
        "clearQ()"
      ],
      "confidence": 1
    },
    {
      "id": "S7_Autoplay",
      "label": "Autoplay",
      "type": "action",
      "entry_actions": [
        "startAutoplay()"
      ],
      "exit_actions": [
        "stopAutoplay()"
      ],
      "evidence": [
        "startAutoplay()",
        "stopAutoplay()"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "ENQUEUE_CLICK",
      "event_type": "click",
      "description": "User clicks the Enqueue button",
      "trigger_selectors": [
        "#enqueueBtn"
      ],
      "evidence": [
        "enqueueBtn.addEventListener('click', ()=>{ const v = valueInput.value.trim(); doEnqueue(v); valueInput.value=''; });"
      ],
      "confidence": 1
    },
    {
      "id": "DEQUEUE_CLICK",
      "event_type": "click",
      "description": "User clicks the Dequeue button",
      "trigger_selectors": [
        "#dequeueBtn"
      ],
      "evidence": [
        "dequeueBtn.addEventListener('click', doDequeue);"
      ],
      "confidence": 1
    },
    {
      "id": "PEEK_CLICK",
      "event_type": "click",
      "description": "User clicks the Peek button",
      "trigger_selectors": [
        "#peekBtn"
      ],
      "evidence": [
        "peekBtn.addEventListener('click', doPeek);"
      ],
      "confidence": 1
    },
    {
      "id": "RESET_CLICK",
      "event_type": "click",
      "description": "User clicks the Reset button",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ resetQueue(); });"
      ],
      "confidence": 1
    },
    {
      "id": "FILL_RANDOM_CLICK",
      "event_type": "click",
      "description": "User clicks the Fill Random button",
      "trigger_selectors": [
        "#fillBtn"
      ],
      "evidence": [
        "fillBtn.addEventListener('click', fillRandom);"
      ],
      "confidence": 1
    },
    {
      "id": "CLEAR_CLICK",
      "event_type": "click",
      "description": "User clicks the Clear button",
      "trigger_selectors": [
        "#clearBtn"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', clearQ);"
      ],
      "confidence": 1
    },
    {
      "id": "AUTOPLAY_CLICK",
      "event_type": "click",
      "description": "User clicks the Auto-run button",
      "trigger_selectors": [
        "#autoplayBtn"
      ],
      "evidence": [
        "autoplayBtn.addEventListener('click', ()=>{ autoplay = !autoplay; });"
      ],
      "confidence": 1
    },
    {
      "id": "IMPLEMENTATION_CHANGE",
      "event_type": "change",
      "description": "User changes the queue implementation",
      "trigger_selectors": [
        "#implSelect"
      ],
      "evidence": [
        "implSelect.addEventListener('change', ()=>{ resetQueue(); });"
      ],
      "confidence": 1
    },
    {
      "id": "CAPACITY_CHANGE",
      "event_type": "change",
      "description": "User changes the capacity for circular queue",
      "trigger_selectors": [
        "#capInput"
      ],
      "evidence": [
        "capInput.addEventListener('change', ()=>{ resetQueue(); });"
      ],
      "confidence": 1
    },
    {
      "id": "SPEED_CHANGE",
      "event_type": "input",
      "description": "User changes the speed for autoplay",
      "trigger_selectors": [
        "#speedRange"
      ],
      "evidence": [
        "speedRange.addEventListener('input', ()=>{ speed = parseInt(speedRange.value,10); });"
      ],
      "confidence": 1
    },
    {
      "id": "VALUE_INPUT_KEYDOWN",
      "event_type": "keydown",
      "description": "User presses Enter in the value input",
      "trigger_selectors": [
        "#valueInput"
      ],
      "evidence": [
        "valueInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ enqueueBtn.click(); } });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_Enqueue",
      "event": "ENQUEUE_CLICK",
      "actions": [
        "doEnqueue()"
      ],
      "expected_observables": [
        "Queue updated with new value"
      ],
      "evidence": [
        "doEnqueue(val)"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_Dequeue",
      "event": "DEQUEUE_CLICK",
      "actions": [
        "doDequeue()"
      ],
      "expected_observables": [
        "Queue updated after dequeue"
      ],
      "evidence": [
        "doDequeue()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Peek",
      "event": "PEEK_CLICK",
      "actions": [
        "doPeek()"
      ],
      "expected_observables": [
        "Peeked value displayed"
      ],
      "evidence": [
        "doPeek()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_Reset",
      "event": "RESET_CLICK",
      "actions": [
        "resetQueue()"
      ],
      "expected_observables": [
        "Queue reset to initial state"
      ],
      "evidence": [
        "resetQueue()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_FillRandom",
      "event": "FILL_RANDOM_CLICK",
      "actions": [
        "fillRandom()"
      ],
      "expected_observables": [
        "Queue filled with random values"
      ],
      "evidence": [
        "fillRandom()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S6_Clear",
      "event": "CLEAR_CLICK",
      "actions": [
        "clearQ()"
      ],
      "expected_observables": [
        "Queue cleared"
      ],
      "evidence": [
        "clearQ()"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S7_Autoplay",
      "event": "AUTOPLAY_CLICK",
      "actions": [
        "startAutoplay()"
      ],
      "expected_observables": [
        "Autoplay started"
      ],
      "evidence": [
        "startAutoplay()"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Enqueue",
      "to": "S0_Idle",
      "event": "ENQUEUE_CLICK",
      "actions": [],
      "expected_observables": [
        "Queue updated with new value"
      ],
      "evidence": [
        "doEnqueue(val)"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Dequeue",
      "to": "S0_Idle",
      "event": "DEQUEUE_CLICK",
      "actions": [],
      "expected_observables": [
        "Queue updated after dequeue"
      ],
      "evidence": [
        "doDequeue()"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Peek",
      "to": "S0_Idle",
      "event": "PEEK_CLICK",
      "actions": [],
      "expected_observables": [
        "Peeked value displayed"
      ],
      "evidence": [
        "doPeek()"
      ],
      "confidence": 1
    },
    {
      "from": "S4_Reset",
      "to": "S0_Idle",
      "event": "RESET_CLICK",
      "actions": [],
      "expected_observables": [
        "Queue reset to initial state"
      ],
      "evidence": [
        "resetQueue()"
      ],
      "confidence": 1
    },
    {
      "from": "S5_FillRandom",
      "to": "S0_Idle",
      "event": "FILL_RANDOM_CLICK",
      "actions": [],
      "expected_observables": [
        "Queue filled with random values"
      ],
      "evidence": [
        "fillRandom()"
      ],
      "confidence": 1
    },
    {
      "from": "S6_Clear",
      "to": "S0_Idle",
      "event": "CLEAR_CLICK",
      "actions": [],
      "expected_observables": [
        "Queue cleared"
      ],
      "evidence": [
        "clearQ()"
      ],
      "confidence": 1
    },
    {
      "from": "S7_Autoplay",
      "to": "S0_Idle",
      "event": "AUTOPLAY_CLICK",
      "actions": [
        "stopAutoplay()"
      ],
      "expected_observables": [
        "Autoplay stopped"
      ],
      "evidence": [
        "stopAutoplay()"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "select",
      "selector": "#implSelect",
      "text": "Choose queue implementation",
      "attributes": {},
      "evidence": [
        "<select id=\"implSelect\" title=\"Choose queue implementation\">"
      ]
    },
    {
      "type": "input",
      "selector": "#valueInput",
      "text": "Value to enqueue (string/number)",
      "attributes": {
        "type": "text",
        "placeholder": "Value to enqueue (string/number)"
      },
      "evidence": [
        "<input id=\"valueInput\" type=\"text\" placeholder=\"Value to enqueue (string/number)\">"
      ]
    },
    {
      "type": "button",
      "selector": "#enqueueBtn",
      "text": "Enqueue",
      "attributes": {},
      "evidence": [
        "<button id=\"enqueueBtn\">Enqueue</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#dequeueBtn",
      "text": "Dequeue",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"dequeueBtn\" class=\"secondary\">Dequeue</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#peekBtn",
      "text": "Peek",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"peekBtn\" class=\"secondary\">Peek</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#capInput",
      "text": "Capacity (for circular)",
      "attributes": {
        "type": "number",
        "min": "2",
        "max": "20",
        "value": "7"
      },
      "evidence": [
        "<input id=\"capInput\" type=\"number\" min=\"2\" max=\"20\" value=\"7\">"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"resetBtn\" class=\"secondary\">Reset</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#fillBtn",
      "text": "Fill random",
      "attributes": {
        "class": "secondary small"
      },
      "evidence": [
        "<button id=\"fillBtn\" class=\"secondary small\">Fill random</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearBtn",
      "text": "Clear",
      "attributes": {
        "class": "warn small"
      },
      "evidence": [
        "<button id=\"clearBtn\" class=\"warn small\">Clear</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#autoplayBtn",
      "text": "Auto-run",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"autoplayBtn\" class=\"small secondary\">Auto-run</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#speedRange",
      "text": "Speed",
      "attributes": {
        "type": "range",
        "min": "200",
        "max": "2000",
        "value": "900"
      },
      "evidence": [
        "<input id=\"speedRange\" type=\"range\" min=\"200\" max=\"2000\" value=\"900\">"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-10T00:00:00Z",
    "detected_components_count": 10,
    "detected_components": [
      {
        "type": "select",
        "selector": "#implSelect"
      },
      {
        "type": "input",
        "selector": "#valueInput"
      },
      {
        "type": "button",
        "selector": "#enqueueBtn"
      },
      {
        "type": "button",
        "selector": "#dequeueBtn"
      },
      {
        "type": "button",
        "selector": "#peekBtn"
      },
      {
        "type": "input",
        "selector": "#capInput"
      },
      {
        "type": "button",
        "selector": "#resetBtn"
      },
      {
        "type": "button",
        "selector": "#fillBtn"
      },
      {
        "type": "button",
        "selector": "#clearBtn"
      },
      {
        "type": "button",
        "selector": "#autoplayBtn"
      },
      {
        "type": "input",
        "selector": "#speedRange"
      }
    ],
    "detected_event_handlers_count": 12,
    "detected_event_handlers": [
      "enqueueBtn.addEventListener('click', ()=>{ const v = valueInput.value.trim(); doEnqueue(v); valueInput.value=''; });",
      "dequeueBtn.addEventListener('click', doDequeue);",
      "peekBtn.addEventListener('click', doPeek);",
      "resetBtn.addEventListener('click', ()=>{ resetQueue(); });",
      "fillBtn.addEventListener('click', fillRandom);",
      "clearBtn.addEventListener('click', clearQ);",
      "autoplayBtn.addEventListener('click', ()=>{ autoplay = !autoplay; });",
      "implSelect.addEventListener('change', ()=>{ resetQueue(); });",
      "capInput.addEventListener('change', ()=>{ resetQueue(); });",
      "speedRange.addEventListener('input', ()=>{ speed = parseInt(speedRange.value,10); });",
      "valueInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ enqueueBtn.click(); } });"
    ],
    "extracted_states_count": 8,
    "extracted_transitions_count": 19,
    "extraction_confidence": 1,
    "notes": []
  }
}