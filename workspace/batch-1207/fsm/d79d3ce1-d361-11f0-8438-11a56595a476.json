{
  "meta": {
    "concept": "Dijkstra's Algorithm Demo",
    "topic": "Dijkstra's Algorithm",
    "educational_goal": "To visualize Dijkstra's algorithm for finding the shortest path in a graph.",
    "expected_interactions": [
      "Select start and end nodes",
      "Run Dijkstra algorithm",
      "Reset graph"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "drawGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "logEl.textContent = 'Select start and end nodes and click \"Run Dijkstra\" to see the shortest path and the algorithm steps.';"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Running",
      "label": "Running",
      "type": "active",
      "entry_actions": [
        "clearLog()",
        "drawGraph()"
      ],
      "exit_actions": [
        "log(`No more reachable nodes. Ending algorithm.`);"
      ],
      "evidence": [
        "running = true;",
        "await runDijkstra(start, end);"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Completed",
      "label": "Completed",
      "type": "final",
      "entry_actions": [
        "log(`Reached destination node ${end}.\n`);"
      ],
      "exit_actions": [],
      "evidence": [
        "log(`Shortest path: ${path.join(' -> ')}`);",
        "log(`Total path cost: ${distances[end]}`);"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Reset",
      "label": "Reset",
      "type": "active",
      "entry_actions": [
        "reset()"
      ],
      "exit_actions": [],
      "evidence": [
        "reset();"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "RunDijkstra",
      "event_type": "click",
      "description": "User clicks the 'Run Dijkstra' button to start the algorithm.",
      "trigger_selectors": [
        "#runBtn"
      ],
      "evidence": [
        "runBtn.addEventListener('click', async () => {",
        "if(running) return;"
      ],
      "confidence": 1
    },
    {
      "id": "ResetGraph",
      "event_type": "click",
      "description": "User clicks the 'Reset Graph' button to reset the visualization.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', () => {",
        "if(running) return;"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_Running",
      "event": "RunDijkstra",
      "actions": [
        "clearLog()",
        "drawGraph()"
      ],
      "expected_observables": [
        "Algorithm starts running",
        "Log is cleared"
      ],
      "evidence": [
        "await runDijkstra(start, end);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Running",
      "to": "S2_Completed",
      "event": "RunDijkstra",
      "actions": [
        "log(`Reached destination node ${end}.\n`);"
      ],
      "expected_observables": [
        "Shortest path is displayed",
        "Total path cost is displayed"
      ],
      "evidence": [
        "log(`Shortest path: ${path.join(' -> ')}`);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Running",
      "to": "S1_Running",
      "event": "RunDijkstra",
      "actions": [
        "drawGraph(u, considerEdges, path);"
      ],
      "expected_observables": [
        "Current node is visualized",
        "Log updates with current node"
      ],
      "evidence": [
        "log(`Visiting node ${u} with current distance ${minDist}.`);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Reset",
      "event": "ResetGraph",
      "actions": [
        "reset()"
      ],
      "expected_observables": [
        "Graph is reset",
        "Log is cleared"
      ],
      "evidence": [
        "reset();"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#runBtn",
      "text": "Run Dijkstra",
      "attributes": {},
      "evidence": [
        "<button id=\"runBtn\">Run Dijkstra</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset Graph",
      "attributes": {},
      "evidence": [
        "<button id=\"resetBtn\">Reset Graph</button>"
      ]
    },
    {
      "type": "select",
      "selector": "#startNode",
      "text": "Start Node",
      "attributes": {},
      "evidence": [
        "<select id=\"startNode\"></select>"
      ]
    },
    {
      "type": "select",
      "selector": "#endNode",
      "text": "End Node",
      "attributes": {},
      "evidence": [
        "<select id=\"endNode\"></select>"
      ]
    },
    {
      "type": "canvas",
      "selector": "#graphCanvas",
      "text": "",
      "attributes": {
        "width": "900",
        "height": "600",
        "aria-label": "Graph Visualization"
      },
      "evidence": [
        "<canvas id=\"graphCanvas\" width=\"900\" height=\"600\" aria-label=\"Graph Visualization\"></canvas>"
      ]
    },
    {
      "type": "other",
      "selector": "#log",
      "text": "",
      "attributes": {
        "aria-live": "polite",
        "aria-atomic": "true",
        "role": "log",
        "tabindex": "0"
      },
      "evidence": [
        "<div id=\"log\" aria-live=\"polite\" aria-atomic=\"true\" role=\"log\" tabindex=\"0\"></div>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2024-03-12T12:00:00Z",
    "detected_components_count": 5,
    "detected_components": [
      {
        "type": "button",
        "selector": "#runBtn"
      },
      {
        "type": "button",
        "selector": "#resetBtn"
      },
      {
        "type": "select",
        "selector": "#startNode"
      },
      {
        "type": "select",
        "selector": "#endNode"
      },
      {
        "type": "canvas",
        "selector": "#graphCanvas"
      },
      {
        "type": "other",
        "selector": "#log"
      }
    ],
    "detected_event_handlers_count": 2,
    "detected_event_handlers": [
      "runBtn.addEventListener('click', async () => {",
      "resetBtn.addEventListener('click', () => {"
    ],
    "extracted_states_count": 4,
    "extracted_transitions_count": 4,
    "extraction_confidence": 1,
    "notes": [
      "All interactive elements and event handlers were successfully identified.",
      "State transitions are clearly defined based on user interactions.",
      "The FSM accurately reflects the interactive behavior of the application."
    ]
  }
}