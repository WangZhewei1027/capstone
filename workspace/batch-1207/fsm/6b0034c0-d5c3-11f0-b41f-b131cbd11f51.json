{
  "meta": {
    "concept": "Weighted Graph Visualization",
    "topic": "Graph Algorithms",
    "educational_goal": "To visualize and interact with weighted graphs and understand Dijkstra's algorithm.",
    "expected_interactions": [
      "Add Node",
      "Add Edge",
      "Clear Graph",
      "Run Dijkstra's Algorithm",
      "Reset"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "renderPage()"
      ],
      "exit_actions": [],
      "evidence": [
        "this.mode = 'addNode';",
        "this.mode = 'addEdge';",
        "this.mode = 'dijkstra';"
      ],
      "confidence": 1
    },
    {
      "id": "S1_AddNode",
      "label": "Add Node Mode",
      "type": "interaction",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "this.mode = 'addNode';"
      ],
      "confidence": 1
    },
    {
      "id": "S2_AddEdge",
      "label": "Add Edge Mode",
      "type": "interaction",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "this.mode = 'addEdge';"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Dijkstra",
      "label": "Dijkstra Mode",
      "type": "interaction",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "this.mode = 'dijkstra';"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "AddNode",
      "event_type": "click",
      "description": "Click to add a node on the canvas.",
      "trigger_selectors": [
        "#graphCanvas"
      ],
      "evidence": [
        "this.canvas.addEventListener('click', (e) => this.handleCanvasClick(e));"
      ],
      "confidence": 1
    },
    {
      "id": "AddNodeBtnClick",
      "event_type": "click",
      "description": "Click the Add Node button.",
      "trigger_selectors": [
        "#addNodeBtn"
      ],
      "evidence": [
        "document.getElementById('addNodeBtn').addEventListener('click', () => { this.mode = 'addNode'; this.updateButtons(); });"
      ],
      "confidence": 1
    },
    {
      "id": "AddEdgeBtnClick",
      "event_type": "click",
      "description": "Click the Add Edge button.",
      "trigger_selectors": [
        "#addEdgeBtn"
      ],
      "evidence": [
        "document.getElementById('addEdgeBtn').addEventListener('click', () => { this.mode = 'addEdge'; this.selectedNodes = []; this.updateButtons(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ClearBtnClick",
      "event_type": "click",
      "description": "Click the Clear Graph button.",
      "trigger_selectors": [
        "#clearBtn"
      ],
      "evidence": [
        "document.getElementById('clearBtn').addEventListener('click', () => { this.nodes = []; this.edges = []; this.selectedNodes = []; this.startNode = null; this.draw(); });"
      ],
      "confidence": 1
    },
    {
      "id": "DijkstraBtnClick",
      "event_type": "click",
      "description": "Click the Run Dijkstra's Algorithm button.",
      "trigger_selectors": [
        "#dijkstraBtn"
      ],
      "evidence": [
        "document.getElementById('dijkstraBtn').addEventListener('click', () => { this.mode = 'dijkstra'; this.selectedNodes = []; this.updateButtons(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ResetBtnClick",
      "event_type": "click",
      "description": "Click the Reset button.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "document.getElementById('resetBtn').addEventListener('click', () => { this.selectedNodes = []; this.startNode = null; this.draw(); });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_AddNode",
      "event": "AddNodeBtnClick",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "this.mode = 'addNode';"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_AddEdge",
      "event": "AddEdgeBtnClick",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "this.mode = 'addEdge';"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Dijkstra",
      "event": "DijkstraBtnClick",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "this.mode = 'dijkstra';"
      ],
      "confidence": 1
    },
    {
      "from": "S1_AddNode",
      "to": "S1_AddNode",
      "event": "AddNode",
      "actions": [
        "addNode(x, y)"
      ],
      "expected_observables": [],
      "evidence": [
        "this.addNode(x, y);"
      ],
      "confidence": 1
    },
    {
      "from": "S2_AddEdge",
      "to": "S2_AddEdge",
      "event": "AddNode",
      "actions": [
        "handleEdgeModeClick(x, y)"
      ],
      "expected_observables": [],
      "evidence": [
        "this.handleEdgeModeClick(x, y);"
      ],
      "confidence": 1
    },
    {
      "from": "S2_AddEdge",
      "to": "S2_AddEdge",
      "event": "AddEdge",
      "actions": [
        "addEdge(node1, node2, weight)"
      ],
      "expected_observables": [],
      "evidence": [
        "this.addEdge(this.selectedNodes[0], this.selectedNodes[1], parseInt(weight));"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Dijkstra",
      "to": "S3_Dijkstra",
      "event": "AddNode",
      "actions": [
        "handleDijkstraModeClick(x, y)"
      ],
      "expected_observables": [],
      "evidence": [
        "this.handleDijkstraModeClick(x, y);"
      ],
      "confidence": 1
    },
    {
      "from": "S3_Dijkstra",
      "to": "S3_Dijkstra",
      "event": "RunDijkstra",
      "actions": [
        "runDijkstra()"
      ],
      "expected_observables": [],
      "evidence": [
        "this.runDijkstra();"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#addNodeBtn",
      "text": "Add Node",
      "attributes": {},
      "evidence": [
        "<button id=\"addNodeBtn\">Add Node</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#addEdgeBtn",
      "text": "Add Edge",
      "attributes": {},
      "evidence": [
        "<button id=\"addEdgeBtn\">Add Edge</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearBtn",
      "text": "Clear Graph",
      "attributes": {},
      "evidence": [
        "<button id=\"clearBtn\">Clear Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#dijkstraBtn",
      "text": "Run Dijkstra's Algorithm",
      "attributes": {},
      "evidence": [
        "<button id=\"dijkstraBtn\">Run Dijkstra's Algorithm</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {},
      "evidence": [
        "<button id=\"resetBtn\">Reset</button>"
      ]
    },
    {
      "type": "canvas",
      "selector": "#graphCanvas",
      "text": "",
      "attributes": {
        "width": "1000",
        "height": "600"
      },
      "evidence": [
        "<canvas id=\"graphCanvas\" width=\"1000\" height=\"600\"></canvas>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T12:00:00Z",
    "detected_components_count": 6,
    "detected_components": [
      {
        "type": "button",
        "selector": "#addNodeBtn"
      },
      {
        "type": "button",
        "selector": "#addEdgeBtn"
      },
      {
        "type": "button",
        "selector": "#clearBtn"
      },
      {
        "type": "button",
        "selector": "#dijkstraBtn"
      },
      {
        "type": "button",
        "selector": "#resetBtn"
      },
      {
        "type": "canvas",
        "selector": "#graphCanvas"
      }
    ],
    "detected_event_handlers_count": 6,
    "detected_event_handlers": [
      "this.canvas.addEventListener('click', (e) => this.handleCanvasClick(e));",
      "document.getElementById('addNodeBtn').addEventListener('click', () => { this.mode = 'addNode'; this.updateButtons(); });",
      "document.getElementById('addEdgeBtn').addEventListener('click', () => { this.mode = 'addEdge'; this.selectedNodes = []; this.updateButtons(); });",
      "document.getElementById('clearBtn').addEventListener('click', () => { this.nodes = []; this.edges = []; this.selectedNodes = []; this.startNode = null; this.draw(); });",
      "document.getElementById('dijkstraBtn').addEventListener('click', () => { this.mode = 'dijkstra'; this.selectedNodes = []; this.updateButtons(); });",
      "document.getElementById('resetBtn').addEventListener('click', () => { this.selectedNodes = []; this.startNode = null; this.draw(); });"
    ],
    "extracted_states_count": 4,
    "extracted_transitions_count": 9,
    "extraction_confidence": 1,
    "notes": []
  }
}