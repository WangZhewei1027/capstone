{
  "meta": {
    "concept": "Topological Sort â€” Interactive Demo",
    "topic": "Topological Sort",
    "educational_goal": "To demonstrate the topological sorting of a directed acyclic graph (DAG) interactively.",
    "expected_interactions": [
      "Add Node",
      "Add Edge",
      "Delete Mode",
      "Clear Graph",
      "Generate Random DAG",
      "Kahn's Algorithm Step-by-Step",
      "Run Kahn's Algorithm",
      "Full Kahn (instant)",
      "DFS Topological Sort",
      "Compare Algorithms"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "<span id=\"algoStatus\">idle</span>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_AddNode",
      "label": "Add Node Mode",
      "type": "mode",
      "entry_actions": [
        "setMode('addNode')"
      ],
      "exit_actions": [
        "setMode(null)"
      ],
      "evidence": [
        "onclick=\"setMode(mode==='addNode'?null:'addNode')\""
      ],
      "confidence": 1
    },
    {
      "id": "S2_AddEdge",
      "label": "Add Edge Mode",
      "type": "mode",
      "entry_actions": [
        "setMode('addEdge')"
      ],
      "exit_actions": [
        "setMode(null)"
      ],
      "evidence": [
        "onclick=\"setMode(mode==='addEdge'?null:'addEdge')\""
      ],
      "confidence": 1
    },
    {
      "id": "S3_DeleteMode",
      "label": "Delete Mode",
      "type": "mode",
      "entry_actions": [
        "setMode('delete')"
      ],
      "exit_actions": [
        "setMode(null)"
      ],
      "evidence": [
        "onclick=\"setMode(mode==='delete'?null:'delete')\""
      ],
      "confidence": 1
    },
    {
      "id": "S4_KahnRunning",
      "label": "Kahn's Algorithm Running",
      "type": "algorithm",
      "entry_actions": [
        "initKahn()"
      ],
      "exit_actions": [
        "resetKahn()"
      ],
      "evidence": [
        "<span id=\"algoStatus\">kahn initialized</span>"
      ],
      "confidence": 1
    },
    {
      "id": "S5_DFSRunning",
      "label": "DFS Running",
      "type": "algorithm",
      "entry_actions": [
        "dfsTopo()"
      ],
      "exit_actions": [],
      "evidence": [
        "alert('Topological order (DFS): ...')"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "AddNode",
      "event_type": "click",
      "description": "Trigger to add a new node to the graph.",
      "trigger_selectors": [
        "#btnAddNode"
      ],
      "evidence": [
        "<button id=\"btnAddNode\" class=\"small\">Add Node</button>"
      ],
      "confidence": 1
    },
    {
      "id": "AddEdge",
      "event_type": "click",
      "description": "Trigger to add a new edge between nodes.",
      "trigger_selectors": [
        "#btnAddEdge"
      ],
      "evidence": [
        "<button id=\"btnAddEdge\" class=\"small\">Add Edge</button>"
      ],
      "confidence": 1
    },
    {
      "id": "DeleteMode",
      "event_type": "click",
      "description": "Trigger to enter delete mode for removing nodes or edges.",
      "trigger_selectors": [
        "#btnDelete"
      ],
      "evidence": [
        "<button id=\"btnDelete\" class=\"small\">Delete Mode</button>"
      ],
      "confidence": 1
    },
    {
      "id": "ClearGraph",
      "event_type": "click",
      "description": "Trigger to clear the entire graph.",
      "trigger_selectors": [
        "#btnClear"
      ],
      "evidence": [
        "<button id=\"btnClear\" class=\"small\">Clear Graph</button>"
      ],
      "confidence": 1
    },
    {
      "id": "GenerateRandomDAG",
      "event_type": "click",
      "description": "Trigger to generate a random directed acyclic graph.",
      "trigger_selectors": [
        "#btnRand"
      ],
      "evidence": [
        "<button id=\"btnRand\" class=\"small\">Generate</button>"
      ],
      "confidence": 1
    },
    {
      "id": "KahnReset",
      "event_type": "click",
      "description": "Reset Kahn's algorithm state.",
      "trigger_selectors": [
        "#kahnReset"
      ],
      "evidence": [
        "<button id=\"kahnReset\" class=\"small\">Reset</button>"
      ],
      "confidence": 1
    },
    {
      "id": "KahnStep",
      "event_type": "click",
      "description": "Step through Kahn's algorithm.",
      "trigger_selectors": [
        "#kahnStep"
      ],
      "evidence": [
        "<button id=\"kahnStep\" class=\"small\">Step</button>"
      ],
      "confidence": 1
    },
    {
      "id": "KahnPlay",
      "event_type": "click",
      "description": "Play Kahn's algorithm in a continuous manner.",
      "trigger_selectors": [
        "#kahnPlay"
      ],
      "evidence": [
        "<button id=\"kahnPlay\" class=\"small\">Play</button>"
      ],
      "confidence": 1
    },
    {
      "id": "KahnRunToEnd",
      "event_type": "click",
      "description": "Run Kahn's algorithm to completion.",
      "trigger_selectors": [
        "#kahnRun"
      ],
      "evidence": [
        "<button id=\"kahnRun\" class=\"small\">Run to End</button>"
      ],
      "confidence": 1
    },
    {
      "id": "FullKahn",
      "event_type": "click",
      "description": "Run Kahn's algorithm instantly.",
      "trigger_selectors": [
        "#btnKahnFull"
      ],
      "evidence": [
        "<button id=\"btnKahnFull\" class=\"small\">Full Kahn (instant)</button>"
      ],
      "confidence": 1
    },
    {
      "id": "DFS",
      "event_type": "click",
      "description": "Run DFS topological sort.",
      "trigger_selectors": [
        "#btnDFS"
      ],
      "evidence": [
        "<button id=\"btnDFS\" class=\"small\">DFS Topo</button>"
      ],
      "confidence": 1
    },
    {
      "id": "CompareAlgorithms",
      "event_type": "click",
      "description": "Compare results of Kahn's and DFS algorithms.",
      "trigger_selectors": [
        "#btnCompare"
      ],
      "evidence": [
        "<button id=\"btnCompare\" class=\"small\">Compare</button>"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_AddNode",
      "event": "AddNode",
      "actions": [
        "setMode('addNode')"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">idle</span>"
      ],
      "evidence": [
        "onclick=\"setMode(mode==='addNode'?null:'addNode')\""
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_AddEdge",
      "event": "AddEdge",
      "actions": [
        "setMode('addEdge')"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">idle</span>"
      ],
      "evidence": [
        "onclick=\"setMode(mode==='addEdge'?null:'addEdge')\""
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_DeleteMode",
      "event": "DeleteMode",
      "actions": [
        "setMode('delete')"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">idle</span>"
      ],
      "evidence": [
        "onclick=\"setMode(mode==='delete'?null:'delete')\""
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S0_Idle",
      "event": "ClearGraph",
      "actions": [
        "clearGraph()"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">idle</span>"
      ],
      "evidence": [
        "onclick=\"if(confirm('Clear graph?')) clearGraph();\""
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S0_Idle",
      "event": "GenerateRandomDAG",
      "actions": [
        "randomDAG(n, p)"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">idle</span>"
      ],
      "evidence": [
        "onclick=\"randomDAG(n,p)\""
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_KahnRunning",
      "event": "KahnReset",
      "actions": [
        "resetKahn()"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">kahn initialized</span>"
      ],
      "evidence": [
        "onclick=\"resetKahn()\""
      ],
      "confidence": 1
    },
    {
      "from": "S4_KahnRunning",
      "to": "S4_KahnRunning",
      "event": "KahnStep",
      "actions": [
        "kahnStepOnce()"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">removed ...</span>"
      ],
      "evidence": [
        "onclick=\"kahnStepOnce()\""
      ],
      "confidence": 1
    },
    {
      "from": "S4_KahnRunning",
      "to": "S4_KahnRunning",
      "event": "KahnPlay",
      "actions": [
        "kahnPlayToggle()"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">removed ...</span>"
      ],
      "evidence": [
        "onclick=\"kahnPlayToggle()\""
      ],
      "confidence": 1
    },
    {
      "from": "S4_KahnRunning",
      "to": "S4_KahnRunning",
      "event": "KahnRunToEnd",
      "actions": [
        "kahnRunToEnd()"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">done</span>"
      ],
      "evidence": [
        "onclick=\"kahnRunToEnd()\""
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_KahnRunning",
      "event": "FullKahn",
      "actions": [
        "kahnFullInstant()"
      ],
      "expected_observables": [
        "<span id=\"algoStatus\">complete</span>"
      ],
      "evidence": [
        "onclick=\"kahnFullInstant()\""
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_DFSRunning",
      "event": "DFS",
      "actions": [
        "dfsTopo()"
      ],
      "expected_observables": [
        "alert('Topological order (DFS): ...')"
      ],
      "evidence": [
        "onclick=\"dfsTopo()\""
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S0_Idle",
      "event": "CompareAlgorithms",
      "actions": [
        "compareAlgorithms()"
      ],
      "expected_observables": [
        "alert('Kahn: ...')"
      ],
      "evidence": [
        "onclick=\"compareAlgorithms()\""
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#btnAddNode",
      "text": "Add Node",
      "attributes": {},
      "evidence": [
        "<button id=\"btnAddNode\" class=\"small\">Add Node</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btnAddEdge",
      "text": "Add Edge",
      "attributes": {},
      "evidence": [
        "<button id=\"btnAddEdge\" class=\"small\">Add Edge</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btnDelete",
      "text": "Delete Mode",
      "attributes": {},
      "evidence": [
        "<button id=\"btnDelete\" class=\"small\">Delete Mode</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btnClear",
      "text": "Clear Graph",
      "attributes": {},
      "evidence": [
        "<button id=\"btnClear\" class=\"small\">Clear Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btnRand",
      "text": "Generate",
      "attributes": {},
      "evidence": [
        "<button id=\"btnRand\" class=\"small\">Generate</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#kahnReset",
      "text": "Reset",
      "attributes": {},
      "evidence": [
        "<button id=\"kahnReset\" class=\"small\">Reset</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#kahnStep",
      "text": "Step",
      "attributes": {},
      "evidence": [
        "<button id=\"kahnStep\" class=\"small\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#kahnPlay",
      "text": "Play",
      "attributes": {},
      "evidence": [
        "<button id=\"kahnPlay\" class=\"small\">Play</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#kahnRun",
      "text": "Run to End",
      "attributes": {},
      "evidence": [
        "<button id=\"kahnRun\" class=\"small\">Run to End</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btnKahnFull",
      "text": "Full Kahn (instant)",
      "attributes": {},
      "evidence": [
        "<button id=\"btnKahnFull\" class=\"small\">Full Kahn (instant)</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btnDFS",
      "text": "DFS Topo",
      "attributes": {},
      "evidence": [
        "<button id=\"btnDFS\" class=\"small\">DFS Topo</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btnCompare",
      "text": "Compare",
      "attributes": {},
      "evidence": [
        "<button id=\"btnCompare\" class=\"small\">Compare</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#randN",
      "text": "",
      "attributes": {
        "type": "number",
        "value": "6",
        "min": "1",
        "style": "width:72px"
      },
      "evidence": [
        "<input id=\"randN\" type=\"number\" value=\"6\" min=\"1\" style=\"width:72px\"/>"
      ]
    },
    {
      "type": "input",
      "selector": "#randP",
      "text": "",
      "attributes": {
        "type": "number",
        "value": "30",
        "min": "0",
        "max": "100",
        "style": "width:72px"
      },
      "evidence": [
        "<input id=\"randP\" type=\"number\" value=\"30\" min=\"0\" max=\"100\" style=\"width:72px\"/>"
      ]
    },
    {
      "type": "input",
      "selector": "#playSpeed",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "100",
        "max": "2000",
        "value": "800"
      },
      "evidence": [
        "<input id=\"playSpeed\" type=\"range\" min=\"100\" max=\"2000\" value=\"800\" />"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-03T12:00:00Z",
    "detected_components_count": 12,
    "detected_components": [
      {
        "type": "button",
        "selector": "#btnAddNode"
      },
      {
        "type": "button",
        "selector": "#btnAddEdge"
      },
      {
        "type": "button",
        "selector": "#btnDelete"
      },
      {
        "type": "button",
        "selector": "#btnClear"
      },
      {
        "type": "button",
        "selector": "#btnRand"
      },
      {
        "type": "button",
        "selector": "#kahnReset"
      },
      {
        "type": "button",
        "selector": "#kahnStep"
      },
      {
        "type": "button",
        "selector": "#kahnPlay"
      },
      {
        "type": "button",
        "selector": "#kahnRun"
      },
      {
        "type": "button",
        "selector": "#btnKahnFull"
      },
      {
        "type": "button",
        "selector": "#btnDFS"
      },
      {
        "type": "button",
        "selector": "#btnCompare"
      },
      {
        "type": "input",
        "selector": "#randN"
      },
      {
        "type": "input",
        "selector": "#randP"
      },
      {
        "type": "input",
        "selector": "#playSpeed"
      }
    ],
    "detected_event_handlers_count": 18,
    "detected_event_handlers": [
      "onclick=\"setMode(mode==='addNode'?null:'addNode')\"",
      "onclick=\"setMode(mode==='addEdge'?null:'addEdge')\"",
      "onclick=\"setMode(mode==='delete'?null:'delete')\"",
      "onclick=\"if(confirm('Clear graph?')) clearGraph();\"",
      "onclick=\"randomDAG(n,p)\"",
      "onclick=\"resetKahn()\"",
      "onclick=\"kahnStepOnce()\"",
      "onclick=\"kahnPlayToggle()\"",
      "onclick=\"kahnRunToEnd()\"",
      "onclick=\"kahnFullInstant()\"",
      "onclick=\"dfsTopo()\"",
      "onclick=\"compareAlgorithms()\""
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 12,
    "extraction_confidence": 1,
    "notes": []
  }
}