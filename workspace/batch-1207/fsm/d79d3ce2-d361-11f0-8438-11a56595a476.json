{
  "meta": {
    "concept": "Bellman-Ford Algorithm Visualization",
    "topic": "Graph Algorithms",
    "educational_goal": "To visualize the Bellman-Ford algorithm step-by-step.",
    "expected_interactions": [
      "Generate Graph",
      "Select Start Vertex",
      "Run Algorithm",
      "Next Step",
      "Reset Algorithm"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "renderPage()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"btn-generate\">Generate Graph</button>",
        "<button id=\"btn-start\" disabled>Run Bellman-Ford Step-by-Step</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_GraphGenerated",
      "label": "Graph Generated",
      "type": "normal",
      "entry_actions": [
        "displayDistances()",
        "updateStartVertexOptions(vertexCount)"
      ],
      "exit_actions": [],
      "evidence": [
        "messagesDiv.textContent = \"Graph generated successfully.\";"
      ],
      "confidence": 1
    },
    {
      "id": "S2_AlgorithmRunning",
      "label": "Algorithm Running",
      "type": "normal",
      "entry_actions": [
        "appendMessage(`Started Bellman-Ford from vertex ${startVertex}.`)",
        "displayDistances()"
      ],
      "exit_actions": [],
      "evidence": [
        "isRunning = true;",
        "btnNext.disabled = false;"
      ],
      "confidence": 1
    },
    {
      "id": "S3_NegativeCycleDetected",
      "label": "Negative Cycle Detected",
      "type": "error",
      "entry_actions": [
        "appendMessage(\"Negative weight cycle detected! Algorithm terminated.\");"
      ],
      "exit_actions": [],
      "evidence": [
        "negativeCycleDetected = true;"
      ],
      "confidence": 1
    },
    {
      "id": "S4_AlgorithmComplete",
      "label": "Algorithm Complete",
      "type": "normal",
      "entry_actions": [
        "appendMessage(\"No negative weight cycles detected. Algorithm complete.\");"
      ],
      "exit_actions": [],
      "evidence": [
        "stepInfoDiv.textContent = \"Algorithm complete: Shortest distances finalized.\";"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GenerateGraph",
      "event_type": "click",
      "description": "Generate the graph based on user input.",
      "trigger_selectors": [
        "#btn-generate"
      ],
      "evidence": [
        "btnGenerate.addEventListener(\"click\", () => { resetAlgorithm(); generateGraph(); });"
      ],
      "confidence": 1
    },
    {
      "id": "StartAlgorithm",
      "event_type": "click",
      "description": "Start the Bellman-Ford algorithm.",
      "trigger_selectors": [
        "#btn-start"
      ],
      "evidence": [
        "btnStart.addEventListener(\"click\", () => { ... });"
      ],
      "confidence": 1
    },
    {
      "id": "NextStep",
      "event_type": "click",
      "description": "Proceed to the next step in the algorithm.",
      "trigger_selectors": [
        "#btn-next"
      ],
      "evidence": [
        "btnNext.addEventListener(\"click\", () => { nextStep(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ResetAlgorithm",
      "event_type": "click",
      "description": "Reset the algorithm and the graph.",
      "trigger_selectors": [
        "#btn-reset"
      ],
      "evidence": [
        "btnReset.addEventListener(\"click\", () => { resetAlgorithm(); });"
      ],
      "confidence": 1
    },
    {
      "id": "SelectStartVertex",
      "event_type": "change",
      "description": "Select the start vertex from the dropdown.",
      "trigger_selectors": [
        "#start-vertex"
      ],
      "evidence": [
        "startVertexSelect.addEventListener(\"change\", e => { selectStartVertex(parseInt(e.target.value)); });"
      ],
      "confidence": 1
    },
    {
      "id": "NodeClick",
      "event_type": "click",
      "description": "Select a start vertex by clicking on a node.",
      "trigger_selectors": [
        ".node"
      ],
      "evidence": [
        "nodeElements.forEach((nodeEl, i) => { nodeEl.onclick = () => { selectStartVertex(i); }; });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_GraphGenerated",
      "event": "GenerateGraph",
      "actions": [
        "resetAlgorithm()",
        "generateGraph()"
      ],
      "expected_observables": [
        "Graph generated successfully."
      ],
      "evidence": [
        "messagesDiv.textContent = \"Graph generated successfully.\";"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S2_AlgorithmRunning",
      "event": "StartAlgorithm",
      "actions": [
        "initializeAlgorithm()"
      ],
      "expected_observables": [
        "Starting Bellman-Ford from vertex ..."
      ],
      "evidence": [
        "appendMessage(`Started Bellman-Ford from vertex ${startVertex}...`);"
      ],
      "confidence": 1
    },
    {
      "from": "S2_AlgorithmRunning",
      "to": "S3_NegativeCycleDetected",
      "event": "NextStep",
      "actions": [
        "stepRelaxEdge()"
      ],
      "expected_observables": [
        "Negative weight cycle detected! Algorithm terminated."
      ],
      "evidence": [
        "appendMessage(\"Negative weight cycle detected! Algorithm terminated.\");"
      ],
      "confidence": 1
    },
    {
      "from": "S2_AlgorithmRunning",
      "to": "S4_AlgorithmComplete",
      "event": "NextStep",
      "actions": [
        "stepRelaxEdge()"
      ],
      "expected_observables": [
        "No negative weight cycles detected. Algorithm complete."
      ],
      "evidence": [
        "appendMessage(\"No negative weight cycles detected. Algorithm complete.\");"
      ],
      "confidence": 1
    },
    {
      "from": "S2_AlgorithmRunning",
      "to": "S2_AlgorithmRunning",
      "event": "NextStep",
      "actions": [
        "stepRelaxEdge()"
      ],
      "expected_observables": [],
      "evidence": [
        "stepRelaxEdge();"
      ],
      "confidence": 0.8
    },
    {
      "from": "S2_AlgorithmRunning",
      "to": "S0_Idle",
      "event": "ResetAlgorithm",
      "actions": [
        "resetAlgorithm()"
      ],
      "expected_observables": [],
      "evidence": [
        "resetAlgorithm();"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#btn-generate",
      "text": "Generate Graph",
      "attributes": {},
      "evidence": [
        "<button id=\"btn-generate\">Generate Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btn-start",
      "text": "Run Bellman-Ford Step-by-Step",
      "attributes": {
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"btn-start\" disabled>Run Bellman-Ford Step-by-Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btn-next",
      "text": "Next Step",
      "attributes": {
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"btn-next\" disabled>Next Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#btn-reset",
      "text": "Reset",
      "attributes": {
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"btn-reset\" disabled>Reset</button>"
      ]
    },
    {
      "type": "select",
      "selector": "#start-vertex",
      "text": "",
      "attributes": {},
      "evidence": [
        "<select id=\"start-vertex\"></select>"
      ]
    },
    {
      "type": "input",
      "selector": "#vertex-count",
      "text": "",
      "attributes": {
        "type": "number",
        "min": "2",
        "max": "20",
        "value": "5"
      },
      "evidence": [
        "<input type=\"number\" id=\"vertex-count\" min=\"2\" max=\"20\" value=\"5\" />"
      ]
    },
    {
      "type": "textarea",
      "selector": "#edge-list",
      "text": "",
      "attributes": {
        "placeholder": "Example:\n0 1 6\n0 2 7\n1 2 8\n1 3 5\n1 4 -4\n2 3 -3\n2 4 9\n3 1 -2\n4 0 2\n4 3 7"
      },
      "evidence": [
        "<textarea id=\"edge-list\" placeholder=\"Example:\n0 1 6\n0 2 7\n1 2 8\n1 3 5\n1 4 -4\n2 3 -3\n2 4 9\n3 1 -2\n4 0 2\n4 3 7\"></textarea>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T12:00:00Z",
    "detected_components_count": 6,
    "detected_components": [
      {
        "type": "button",
        "selector": "#btn-generate"
      },
      {
        "type": "button",
        "selector": "#btn-start"
      },
      {
        "type": "button",
        "selector": "#btn-next"
      },
      {
        "type": "button",
        "selector": "#btn-reset"
      },
      {
        "type": "select",
        "selector": "#start-vertex"
      },
      {
        "type": "input",
        "selector": "#vertex-count"
      },
      {
        "type": "textarea",
        "selector": "#edge-list"
      }
    ],
    "detected_event_handlers_count": 6,
    "detected_event_handlers": [
      "btnGenerate.addEventListener(\"click\", () => { resetAlgorithm(); generateGraph(); });",
      "btnStart.addEventListener(\"click\", () => { ... });",
      "btnNext.addEventListener(\"click\", () => { nextStep(); });",
      "btnReset.addEventListener(\"click\", () => { resetAlgorithm(); });",
      "startVertexSelect.addEventListener(\"change\", e => { selectStartVertex(parseInt(e.target.value)); });",
      "nodeElements.forEach((nodeEl, i) => { nodeEl.onclick = () => { selectStartVertex(i); }; });"
    ],
    "extracted_states_count": 5,
    "extracted_transitions_count": 6,
    "extraction_confidence": 1,
    "notes": []
  }
}