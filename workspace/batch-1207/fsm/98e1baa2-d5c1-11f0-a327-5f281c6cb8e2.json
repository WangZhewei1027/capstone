{
  "meta": {
    "concept": "Selection Sort Visualizer",
    "topic": "Sorting Algorithms",
    "educational_goal": "To visualize the selection sort algorithm and its steps.",
    "expected_interactions": [
      "Play",
      "Pause",
      "Step",
      "Shuffle",
      "Change Size",
      "Change Speed",
      "Toggle Order",
      "Custom Input"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "renderBars()"
      ],
      "exit_actions": [],
      "evidence": [
        "barsEl.innerHTML = '';",
        "generateArray(parseInt(sizeRange.value,10));"
      ],
      "confidence": 1
    },
    {
      "id": "S1_Running",
      "label": "Running",
      "type": "active",
      "entry_actions": [
        "startPlay()"
      ],
      "exit_actions": [
        "pausePlay()"
      ],
      "evidence": [
        "running = true;",
        "playBtn.disabled = true;"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Paused",
      "label": "Paused",
      "type": "active",
      "entry_actions": [
        "pausePlay()"
      ],
      "exit_actions": [],
      "evidence": [
        "running = false;",
        "playBtn.disabled = false;"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Stepping",
      "label": "Stepping",
      "type": "active",
      "entry_actions": [
        "stepOnce()"
      ],
      "exit_actions": [],
      "evidence": [
        "processAction(res.value);"
      ],
      "confidence": 1
    },
    {
      "id": "S4_Shuffled",
      "label": "Shuffled",
      "type": "active",
      "entry_actions": [
        "generateArray(parseInt(sizeRange.value,10));"
      ],
      "exit_actions": [],
      "evidence": [
        "arr = [];",
        "resetState();"
      ],
      "confidence": 1
    },
    {
      "id": "S5_CustomInput",
      "label": "Custom Input",
      "type": "active",
      "entry_actions": [
        "generateArray(parseInt(sizeRange.value,10));"
      ],
      "exit_actions": [],
      "evidence": [
        "arr = nums.slice();",
        "renderBars();"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "Play",
      "event_type": "click",
      "description": "Starts the selection sort animation.",
      "trigger_selectors": [
        "#playBtn"
      ],
      "evidence": [
        "playBtn.addEventListener('click', startPlay);"
      ],
      "confidence": 1
    },
    {
      "id": "Pause",
      "event_type": "click",
      "description": "Pauses the selection sort animation.",
      "trigger_selectors": [
        "#pauseBtn"
      ],
      "evidence": [
        "pauseBtn.addEventListener('click', pausePlay);"
      ],
      "confidence": 1
    },
    {
      "id": "Step",
      "event_type": "click",
      "description": "Steps through the selection sort algorithm one action at a time.",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', stepOnce);"
      ],
      "confidence": 1
    },
    {
      "id": "Shuffle",
      "event_type": "click",
      "description": "Resets and shuffles the array.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ generateArray(parseInt(sizeRange.value,10)); });"
      ],
      "confidence": 1
    },
    {
      "id": "ChangeSize",
      "event_type": "input",
      "description": "Changes the size of the array.",
      "trigger_selectors": [
        "#sizeRange"
      ],
      "evidence": [
        "sizeRange.addEventListener('input', ()=>{ sizeLabel.textContent = sizeRange.value; });"
      ],
      "confidence": 1
    },
    {
      "id": "ChangeSpeed",
      "event_type": "input",
      "description": "Changes the speed of the sorting animation.",
      "trigger_selectors": [
        "#speedRange"
      ],
      "evidence": [
        "speedRange.addEventListener('input', ()=>{ speedLabel.textContent = speedRange.value + ' ms'; });"
      ],
      "confidence": 1
    },
    {
      "id": "ToggleOrder",
      "event_type": "change",
      "description": "Toggles between ascending and descending order for sorting.",
      "trigger_selectors": [
        "#orderToggle"
      ],
      "evidence": [
        "orderToggle.addEventListener('change', ()=>{ resetState(); });"
      ],
      "confidence": 1
    },
    {
      "id": "CustomInput",
      "event_type": "click",
      "description": "Prompts for custom input to set the array.",
      "trigger_selectors": [
        "#randomInputBtn"
      ],
      "evidence": [
        "randomInputBtn.addEventListener('click', ()=>{ const val = prompt('Enter comma-separated integers...'); });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_Running",
      "event": "Play",
      "actions": [
        "startPlay()"
      ],
      "expected_observables": [
        "Animation starts",
        "Play button disabled"
      ],
      "evidence": [
        "playBtn.addEventListener('click', startPlay);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Running",
      "to": "S2_Paused",
      "event": "Pause",
      "actions": [
        "pausePlay()"
      ],
      "expected_observables": [
        "Animation paused",
        "Play button enabled"
      ],
      "evidence": [
        "pauseBtn.addEventListener('click', pausePlay);"
      ],
      "confidence": 1
    },
    {
      "from": "S2_Paused",
      "to": "S1_Running",
      "event": "Play",
      "actions": [
        "startPlay()"
      ],
      "expected_observables": [
        "Animation resumes",
        "Play button disabled"
      ],
      "evidence": [
        "playBtn.addEventListener('click', startPlay);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Running",
      "to": "S3_Stepping",
      "event": "Step",
      "actions": [
        "stepOnce()"
      ],
      "expected_observables": [
        "Single step executed"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', stepOnce);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_Running",
      "to": "S4_Shuffled",
      "event": "Shuffle",
      "actions": [
        "generateArray(parseInt(sizeRange.value,10));"
      ],
      "expected_observables": [
        "Array shuffled",
        "Animation stopped"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', ()=>{ generateArray(parseInt(sizeRange.value,10)); });"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_CustomInput",
      "event": "CustomInput",
      "actions": [
        "generateArray(parseInt(sizeRange.value,10));"
      ],
      "expected_observables": [
        "Custom input processed"
      ],
      "evidence": [
        "randomInputBtn.addEventListener('click', ()=>{ const val = prompt('Enter comma-separated integers...'); });"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#playBtn",
      "text": "Play",
      "attributes": {},
      "evidence": [
        "<button id=\"playBtn\">Play</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#pauseBtn",
      "text": "Pause",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"pauseBtn\" class=\"secondary\">Pause</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "Step",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"stepBtn\" class=\"secondary\">Step</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Shuffle",
      "attributes": {},
      "evidence": [
        "<button id=\"resetBtn\">Shuffle</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#sizeRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "5",
        "max": "80",
        "value": "30"
      },
      "evidence": [
        "<input id=\"sizeRange\" type=\"range\" min=\"5\" max=\"80\" value=\"30\">"
      ]
    },
    {
      "type": "input",
      "selector": "#speedRange",
      "text": "",
      "attributes": {
        "type": "range",
        "min": "50",
        "max": "1500",
        "value": "350"
      },
      "evidence": [
        "<input id=\"speedRange\" type=\"range\" min=\"50\" max=\"1500\" value=\"350\">"
      ]
    },
    {
      "type": "input",
      "selector": "#orderToggle",
      "text": "",
      "attributes": {
        "type": "checkbox",
        "checked": "true"
      },
      "evidence": [
        "<input id=\"orderToggle\" type=\"checkbox\" checked>"
      ]
    },
    {
      "type": "button",
      "selector": "#randomInputBtn",
      "text": "Custom Input",
      "attributes": {
        "class": "secondary"
      },
      "evidence": [
        "<button id=\"randomInputBtn\" class=\"secondary\">Custom Input</button>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T12:00:00Z",
    "detected_components_count": 8,
    "detected_components": [
      {
        "type": "button",
        "selector": "#playBtn",
        "text": "Play",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#pauseBtn",
        "text": "Pause",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#stepBtn",
        "text": "Step",
        "attributes": {
          "class": "secondary"
        }
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Shuffle",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "#sizeRange",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "5",
          "max": "80",
          "value": "30"
        }
      },
      {
        "type": "input",
        "selector": "#speedRange",
        "text": "",
        "attributes": {
          "type": "range",
          "min": "50",
          "max": "1500",
          "value": "350"
        }
      },
      {
        "type": "input",
        "selector": "#orderToggle",
        "text": "",
        "attributes": {
          "type": "checkbox",
          "checked": "true"
        }
      },
      {
        "type": "button",
        "selector": "#randomInputBtn",
        "text": "Custom Input",
        "attributes": {
          "class": "secondary"
        }
      }
    ],
    "detected_event_handlers_count": 8,
    "detected_event_handlers": [
      "playBtn.addEventListener('click', startPlay);",
      "pauseBtn.addEventListener('click', pausePlay);",
      "stepBtn.addEventListener('click', stepOnce);",
      "resetBtn.addEventListener('click', ()=>{ generateArray(parseInt(sizeRange.value,10)); });",
      "sizeRange.addEventListener('input', ()=>{ sizeLabel.textContent = sizeRange.value; });",
      "speedRange.addEventListener('input', ()=>{ speedLabel.textContent = speedRange.value + ' ms'; });",
      "orderToggle.addEventListener('change', ()=>{ resetState(); });",
      "randomInputBtn.addEventListener('click', ()=>{ const val = prompt('Enter comma-separated integers...'); });"
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 7,
    "extraction_confidence": 1,
    "notes": []
  }
}