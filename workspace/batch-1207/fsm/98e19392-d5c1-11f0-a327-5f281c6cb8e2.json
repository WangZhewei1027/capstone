{
  "meta": {
    "concept": "Union-Find (Disjoint Set) Visualizer",
    "topic": "Union-Find",
    "educational_goal": "To visualize and understand the Union-Find algorithm with path compression and union by rank.",
    "expected_interactions": [
      "Initialize nodes",
      "Add nodes",
      "Reset",
      "Perform unions",
      "Find selected nodes",
      "Path compress selected nodes",
      "Clear selection",
      "Toggle auto random unions"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "init(8)"
      ],
      "exit_actions": [],
      "evidence": [
        "Initial nodes: <input id=\"initNum\" type=\"number\" min=\"1\" max=\"40\" value=\"8\" />",
        "button id=\"initBtn\" title=\"Create that many nodes (resets)\""
      ],
      "confidence": 1
    },
    {
      "id": "S1_NodesInitialized",
      "label": "Nodes Initialized",
      "type": "normal",
      "entry_actions": [
        "redraw()",
        "updateArrays()"
      ],
      "exit_actions": [],
      "evidence": [
        "nodes = [];",
        "parent = [];",
        "rank = [];"
      ],
      "confidence": 1
    },
    {
      "id": "S2_NodeAdded",
      "label": "Node Added",
      "type": "normal",
      "entry_actions": [
        "redraw()",
        "updateArrays()"
      ],
      "exit_actions": [],
      "evidence": [
        "button id=\"addBtn\" title=\"Add one node\""
      ],
      "confidence": 1
    },
    {
      "id": "S3_SelectionMade",
      "label": "Selection Made",
      "type": "normal",
      "entry_actions": [
        "updateInfo()",
        "redraw()"
      ],
      "exit_actions": [],
      "evidence": [
        "g.addEventListener('click', (ev)=>{ ev.stopPropagation(); onNodeClick(node.id); });"
      ],
      "confidence": 1
    },
    {
      "id": "S4_UnionSelected",
      "label": "Union Selected",
      "type": "normal",
      "entry_actions": [
        "unionAnimate(a,b)"
      ],
      "exit_actions": [],
      "evidence": [
        "button id=\"unionBtn\" class=\"btn-success\""
      ],
      "confidence": 1
    },
    {
      "id": "S5_FindSelected",
      "label": "Find Selected",
      "type": "normal",
      "entry_actions": [
        "animateFind(x)"
      ],
      "exit_actions": [],
      "evidence": [
        "button id=\"findBtn\""
      ],
      "confidence": 1
    },
    {
      "id": "S6_PathCompressSelected",
      "label": "Path Compress Selected",
      "type": "normal",
      "entry_actions": [
        "pathCompress(selected[0])"
      ],
      "exit_actions": [],
      "evidence": [
        "button id=\"compressBtn\""
      ],
      "confidence": 1
    },
    {
      "id": "S7_AutoRandomUnions",
      "label": "Auto Random Unions",
      "type": "normal",
      "entry_actions": [
        "startAuto()"
      ],
      "exit_actions": [],
      "evidence": [
        "button id=\"autoBtn\" title=\"Perform random unions continuously\""
      ],
      "confidence": 1
    },
    {
      "id": "S8_Reset",
      "label": "Reset",
      "type": "normal",
      "entry_actions": [
        "resetAll()"
      ],
      "exit_actions": [],
      "evidence": [
        "button id=\"resetBtn\" class=\"btn-danger\" title=\"Reset everything\""
      ],
      "confidence": 1
    },
    {
      "id": "S9_ClearSelection",
      "label": "Clear Selection",
      "type": "normal",
      "entry_actions": [
        "selected = []; updateInfo(); redraw();"
      ],
      "exit_actions": [],
      "evidence": [
        "button id=\"clearSelBtn\""
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "InitializeNodes",
      "event_type": "click",
      "description": "Initialize the nodes based on the input value.",
      "trigger_selectors": [
        "#initBtn"
      ],
      "evidence": [
        "initBtn.addEventListener('click', ()=>init(Number(initNum.value) || 8));"
      ],
      "confidence": 1
    },
    {
      "id": "AddNode",
      "event_type": "click",
      "description": "Add a new node to the visualization.",
      "trigger_selectors": [
        "#addBtn"
      ],
      "evidence": [
        "addBtn.addEventListener('click', addNode);"
      ],
      "confidence": 1
    },
    {
      "id": "ResetAll",
      "event_type": "click",
      "description": "Reset the entire visualization.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', resetAll);"
      ],
      "confidence": 1
    },
    {
      "id": "UnionSelected",
      "event_type": "click",
      "description": "Perform union operation on the selected nodes.",
      "trigger_selectors": [
        "#unionBtn"
      ],
      "evidence": [
        "unionBtn.addEventListener('click', unionSelected);"
      ],
      "confidence": 1
    },
    {
      "id": "FindSelected",
      "event_type": "click",
      "description": "Find the selected node and show its path.",
      "trigger_selectors": [
        "#findBtn"
      ],
      "evidence": [
        "findBtn.addEventListener('click', findSelectedAnimate);"
      ],
      "confidence": 1
    },
    {
      "id": "PathCompressSelected",
      "event_type": "click",
      "description": "Compress the path for the selected node.",
      "trigger_selectors": [
        "#compressBtn"
      ],
      "evidence": [
        "compressBtn.addEventListener('click', compressSelected);"
      ],
      "confidence": 1
    },
    {
      "id": "ClearSelection",
      "event_type": "click",
      "description": "Clear the current selection of nodes.",
      "trigger_selectors": [
        "#clearSelBtn"
      ],
      "evidence": [
        "clearSelBtn.addEventListener('click', ()=>{ selected = []; updateInfo(); redraw(); });"
      ],
      "confidence": 1
    },
    {
      "id": "AutoRandomUnions",
      "event_type": "click",
      "description": "Start or stop automatic random unions.",
      "trigger_selectors": [
        "#autoBtn"
      ],
      "evidence": [
        "autoBtn.addEventListener('click', ()=>{ if(autoInterval) stopAuto(); else startAuto(); });"
      ],
      "confidence": 1
    },
    {
      "id": "StepRandomUnion",
      "event_type": "click",
      "description": "Perform one random union operation.",
      "trigger_selectors": [
        "#stepBtn"
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>randomUnionOnce());"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_NodesInitialized",
      "event": "InitializeNodes",
      "actions": [
        "init(Number(initNum.value) || 8)"
      ],
      "expected_observables": [
        "Nodes are initialized and displayed."
      ],
      "evidence": [
        "initBtn.addEventListener('click', ()=>init(Number(initNum.value) || 8));"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NodesInitialized",
      "to": "S2_NodeAdded",
      "event": "AddNode",
      "actions": [
        "addNode()"
      ],
      "expected_observables": [
        "A new node is added to the visualization."
      ],
      "evidence": [
        "addBtn.addEventListener('click', addNode);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NodesInitialized",
      "to": "S8_Reset",
      "event": "ResetAll",
      "actions": [
        "resetAll()"
      ],
      "expected_observables": [
        "All nodes and states are reset."
      ],
      "evidence": [
        "resetBtn.addEventListener('click', resetAll);"
      ],
      "confidence": 1
    },
    {
      "from": "S3_SelectionMade",
      "to": "S4_UnionSelected",
      "event": "UnionSelected",
      "actions": [
        "unionAnimate(a,b)"
      ],
      "expected_observables": [
        "The selected nodes are united."
      ],
      "evidence": [
        "unionBtn.addEventListener('click', unionSelected);"
      ],
      "confidence": 1
    },
    {
      "from": "S3_SelectionMade",
      "to": "S5_FindSelected",
      "event": "FindSelected",
      "actions": [
        "animateFind(x)"
      ],
      "expected_observables": [
        "The path to the selected node is displayed."
      ],
      "evidence": [
        "findBtn.addEventListener('click', findSelectedAnimate);"
      ],
      "confidence": 1
    },
    {
      "from": "S3_SelectionMade",
      "to": "S6_PathCompressSelected",
      "event": "PathCompressSelected",
      "actions": [
        "pathCompress(selected[0])"
      ],
      "expected_observables": [
        "The path for the selected node is compressed."
      ],
      "evidence": [
        "compressBtn.addEventListener('click', compressSelected);"
      ],
      "confidence": 1
    },
    {
      "from": "S3_SelectionMade",
      "to": "S9_ClearSelection",
      "event": "ClearSelection",
      "actions": [
        "selected = []; updateInfo(); redraw();"
      ],
      "expected_observables": [
        "The selection of nodes is cleared."
      ],
      "evidence": [
        "clearSelBtn.addEventListener('click', ()=>{ selected = []; updateInfo(); redraw(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NodesInitialized",
      "to": "S7_AutoRandomUnions",
      "event": "AutoRandomUnions",
      "actions": [
        "startAuto()"
      ],
      "expected_observables": [
        "Automatic random unions start or stop."
      ],
      "evidence": [
        "autoBtn.addEventListener('click', ()=>{ if(autoInterval) stopAuto(); else startAuto(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NodesInitialized",
      "to": "S1_NodesInitialized",
      "event": "StepRandomUnion",
      "actions": [
        "randomUnionOnce()"
      ],
      "expected_observables": [
        "One random union operation is performed."
      ],
      "evidence": [
        "stepBtn.addEventListener('click', ()=>randomUnionOnce());"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "#initBtn",
      "text": "Initialize",
      "attributes": {
        "title": "Create that many nodes (resets)"
      },
      "evidence": [
        "button id=\"initBtn\" title=\"Create that many nodes (resets)\""
      ]
    },
    {
      "type": "button",
      "selector": "#addBtn",
      "text": "Add Node",
      "attributes": {
        "title": "Add one node"
      },
      "evidence": [
        "button id=\"addBtn\" title=\"Add one node\""
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {
        "class": "btn-danger",
        "title": "Reset everything"
      },
      "evidence": [
        "button id=\"resetBtn\" class=\"btn-danger\" title=\"Reset everything\""
      ]
    },
    {
      "type": "button",
      "selector": "#autoBtn",
      "text": "Auto Random Unions",
      "attributes": {
        "title": "Perform random unions continuously"
      },
      "evidence": [
        "button id=\"autoBtn\" title=\"Perform random unions continuously\""
      ]
    },
    {
      "type": "button",
      "selector": "#stepBtn",
      "text": "One Random Union",
      "attributes": {
        "title": "Perform one random union"
      },
      "evidence": [
        "button id=\"stepBtn\" title=\"Perform one random union\""
      ]
    },
    {
      "type": "button",
      "selector": "#unionBtn",
      "text": "Union Selected",
      "attributes": {
        "class": "btn-success"
      },
      "evidence": [
        "button id=\"unionBtn\" class=\"btn-success\""
      ]
    },
    {
      "type": "button",
      "selector": "#findBtn",
      "text": "Find Selected",
      "attributes": {},
      "evidence": [
        "button id=\"findBtn\""
      ]
    },
    {
      "type": "button",
      "selector": "#compressBtn",
      "text": "Path Compress Selected",
      "attributes": {},
      "evidence": [
        "button id=\"compressBtn\""
      ]
    },
    {
      "type": "button",
      "selector": "#clearSelBtn",
      "text": "Clear Selection",
      "attributes": {},
      "evidence": [
        "button id=\"clearSelBtn\""
      ]
    },
    {
      "type": "input",
      "selector": "#initNum",
      "text": "",
      "attributes": {
        "type": "number",
        "min": "1",
        "max": "40",
        "value": "8"
      },
      "evidence": [
        "<input id=\"initNum\" type=\"number\" min=\"1\" max=\"40\" value=\"8\" />"
      ]
    },
    {
      "type": "svg",
      "selector": "#svg",
      "text": "",
      "attributes": {
        "viewBox": "0 0 800 520",
        "preserveAspectRatio": "xMidYMid meet"
      },
      "evidence": [
        "<svg id=\"svg\" viewBox=\"0 0 800 520\" preserveAspectRatio=\"xMidYMid meet\">"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-01T00:00:00Z",
    "detected_components_count": 10,
    "detected_components": [
      {
        "type": "button",
        "selector": "#initBtn",
        "text": "Initialize",
        "attributes": {
          "title": "Create that many nodes (resets)"
        }
      },
      {
        "type": "button",
        "selector": "#addBtn",
        "text": "Add Node",
        "attributes": {
          "title": "Add one node"
        }
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Reset",
        "attributes": {
          "class": "btn-danger",
          "title": "Reset everything"
        }
      },
      {
        "type": "button",
        "selector": "#autoBtn",
        "text": "Auto Random Unions",
        "attributes": {
          "title": "Perform random unions continuously"
        }
      },
      {
        "type": "button",
        "selector": "#stepBtn",
        "text": "One Random Union",
        "attributes": {
          "title": "Perform one random union"
        }
      },
      {
        "type": "button",
        "selector": "#unionBtn",
        "text": "Union Selected",
        "attributes": {
          "class": "btn-success"
        }
      },
      {
        "type": "button",
        "selector": "#findBtn",
        "text": "Find Selected",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#compressBtn",
        "text": "Path Compress Selected",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#clearSelBtn",
        "text": "Clear Selection",
        "attributes": {}
      },
      {
        "type": "input",
        "selector": "#initNum",
        "text": "",
        "attributes": {
          "type": "number",
          "min": "1",
          "max": "40",
          "value": "8"
        }
      },
      {
        "type": "svg",
        "selector": "#svg",
        "text": "",
        "attributes": {
          "viewBox": "0 0 800 520",
          "preserveAspectRatio": "xMidYMid meet"
        }
      }
    ],
    "detected_event_handlers_count": 9,
    "detected_event_handlers": [
      "initBtn.addEventListener('click', ()=>init(Number(initNum.value) || 8));",
      "addBtn.addEventListener('click', addNode);",
      "resetBtn.addEventListener('click', resetAll);",
      "unionBtn.addEventListener('click', unionSelected);",
      "findBtn.addEventListener('click', findSelectedAnimate);",
      "compressBtn.addEventListener('click', compressSelected);",
      "clearSelBtn.addEventListener('click', ()=>{ selected = []; updateInfo(); redraw(); });",
      "autoBtn.addEventListener('click', ()=>{ if(autoInterval) stopAuto(); else startAuto(); });",
      "stepBtn.addEventListener('click', ()=>randomUnionOnce());"
    ],
    "extracted_states_count": 10,
    "extracted_transitions_count": 9,
    "extraction_confidence": 1,
    "notes": []
  }
}