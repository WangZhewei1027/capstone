{
  "meta": {
    "concept": "Binary Tree (BST) Visualizer",
    "topic": "Binary Tree",
    "educational_goal": "Interactive demonstration of a Binary Search Tree: insert, delete, search, traversals, and animations.",
    "expected_interactions": [
      "Insert a value",
      "Delete a value",
      "Search for a value",
      "Build a tree from a list",
      "Generate a preset tree",
      "Clear the tree",
      "Perform traversals"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "default",
      "entry_actions": [
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "setLastOp('Initial demo tree')"
      ],
      "confidence": 1
    },
    {
      "id": "S1_TreeModified",
      "label": "Tree Modified",
      "type": "default",
      "entry_actions": [
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "setLastOp(`Inserted ${v}`)",
        "setLastOp(`Deleted ${v}`)",
        "setLastOp(`Built from list (${nums.length} values)`)",
        "setLastOp('Generated random tree')",
        "setLastOp('Generated sorted tree (degenerate)')",
        "setLastOp('Generated balanced tree')",
        "setLastOp('Cleared tree')"
      ],
      "confidence": 1
    },
    {
      "id": "S2_Searching",
      "label": "Searching",
      "type": "default",
      "entry_actions": [
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "setLastOp(`Found ${v}`)",
        "setLastOp(`${v} not found`)"
      ],
      "confidence": 1
    },
    {
      "id": "S3_Traversing",
      "label": "Traversing",
      "type": "default",
      "entry_actions": [
        "render()"
      ],
      "exit_actions": [],
      "evidence": [
        "setLastOp('Inorder traversal')",
        "setLastOp('Preorder traversal')",
        "setLastOp('Postorder traversal')",
        "setLastOp('Level-order traversal')"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "InsertValue",
      "event_type": "click",
      "description": "Insert a value into the tree.",
      "trigger_selectors": [
        "#insertBtn"
      ],
      "evidence": [
        "insertBtn.addEventListener('click', ()=>{ const v = Number(valueInput.value); ... })"
      ],
      "confidence": 1
    },
    {
      "id": "DeleteValue",
      "event_type": "click",
      "description": "Delete a value from the tree.",
      "trigger_selectors": [
        "#deleteBtn"
      ],
      "evidence": [
        "deleteBtn.addEventListener('click', ()=>{ const v = Number(valueInput.value); ... })"
      ],
      "confidence": 1
    },
    {
      "id": "SearchValue",
      "event_type": "click",
      "description": "Search for a value in the tree.",
      "trigger_selectors": [
        "#searchBtn"
      ],
      "evidence": [
        "searchBtn.addEventListener('click', async ()=>{ const v = Number(searchInput.value); ... })"
      ],
      "confidence": 1
    },
    {
      "id": "BuildTree",
      "event_type": "click",
      "description": "Build a tree from a list of values.",
      "trigger_selectors": [
        "#buildBtn"
      ],
      "evidence": [
        "buildBtn.addEventListener('click', ()=>{ const text = bulkInput.value.trim(); ... })"
      ],
      "confidence": 1
    },
    {
      "id": "GeneratePreset",
      "event_type": "click",
      "description": "Generate a preset tree.",
      "trigger_selectors": [
        "#presetBtn"
      ],
      "evidence": [
        "presetBtn.addEventListener('click', ()=>{ const sel = presetSelect.value; ... })"
      ],
      "confidence": 1
    },
    {
      "id": "ClearTree",
      "event_type": "click",
      "description": "Clear the tree.",
      "trigger_selectors": [
        "#clearBtn"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', ()=>{ tree.root = null; ... })"
      ],
      "confidence": 1
    },
    {
      "id": "PreorderTraversal",
      "event_type": "click",
      "description": "Perform a preorder traversal.",
      "trigger_selectors": [
        "#preBtn"
      ],
      "evidence": [
        "preBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })"
      ],
      "confidence": 1
    },
    {
      "id": "InorderTraversal",
      "event_type": "click",
      "description": "Perform an inorder traversal.",
      "trigger_selectors": [
        "#inBtn"
      ],
      "evidence": [
        "inBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })"
      ],
      "confidence": 1
    },
    {
      "id": "PostorderTraversal",
      "event_type": "click",
      "description": "Perform a postorder traversal.",
      "trigger_selectors": [
        "#postBtn"
      ],
      "evidence": [
        "postBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })"
      ],
      "confidence": 1
    },
    {
      "id": "LevelOrderTraversal",
      "event_type": "click",
      "description": "Perform a level-order traversal.",
      "trigger_selectors": [
        "#levelBtn"
      ],
      "evidence": [
        "levelBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })"
      ],
      "confidence": 1
    },
    {
      "id": "NodeClick",
      "event_type": "click",
      "description": "Click a node to delete it.",
      "trigger_selectors": [
        "g.node"
      ],
      "evidence": [
        "g.addEventListener('click', (ev)=> { ev.stopPropagation(); ... })"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_TreeModified",
      "event": "InsertValue",
      "actions": [
        "insertBtn.click()"
      ],
      "expected_observables": [
        "Tree updated with new value"
      ],
      "evidence": [
        "insertBtn.addEventListener('click', ()=>{ const v = Number(valueInput.value); ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S1_TreeModified",
      "event": "DeleteValue",
      "actions": [
        "deleteBtn.click()"
      ],
      "expected_observables": [
        "Tree updated with deleted value"
      ],
      "evidence": [
        "deleteBtn.addEventListener('click', ()=>{ const v = Number(valueInput.value); ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_Searching",
      "event": "SearchValue",
      "actions": [
        "searchBtn.click()"
      ],
      "expected_observables": [
        "Search result displayed"
      ],
      "evidence": [
        "searchBtn.addEventListener('click', async ()=>{ const v = Number(searchInput.value); ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S1_TreeModified",
      "event": "BuildTree",
      "actions": [
        "buildBtn.click()"
      ],
      "expected_observables": [
        "Tree built from input values"
      ],
      "evidence": [
        "buildBtn.addEventListener('click', ()=>{ const text = bulkInput.value.trim(); ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S1_TreeModified",
      "event": "GeneratePreset",
      "actions": [
        "presetBtn.click()"
      ],
      "expected_observables": [
        "Preset tree generated"
      ],
      "evidence": [
        "presetBtn.addEventListener('click', ()=>{ const sel = presetSelect.value; ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S1_TreeModified",
      "to": "S0_Idle",
      "event": "ClearTree",
      "actions": [
        "clearBtn.click()"
      ],
      "expected_observables": [
        "Tree cleared"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', ()=>{ tree.root = null; ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Traversing",
      "event": "PreorderTraversal",
      "actions": [
        "preBtn.click()"
      ],
      "expected_observables": [
        "Nodes visited in preorder"
      ],
      "evidence": [
        "preBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Traversing",
      "event": "InorderTraversal",
      "actions": [
        "inBtn.click()"
      ],
      "expected_observables": [
        "Nodes visited in inorder"
      ],
      "evidence": [
        "inBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Traversing",
      "event": "PostorderTraversal",
      "actions": [
        "postBtn.click()"
      ],
      "expected_observables": [
        "Nodes visited in postorder"
      ],
      "evidence": [
        "postBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_Traversing",
      "event": "LevelOrderTraversal",
      "actions": [
        "levelBtn.click()"
      ],
      "expected_observables": [
        "Nodes visited in level-order"
      ],
      "evidence": [
        "levelBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S1_TreeModified",
      "event": "NodeClick",
      "actions": [
        "g.node.click()"
      ],
      "expected_observables": [
        "Node deleted"
      ],
      "evidence": [
        "g.addEventListener('click', (ev)=> { ev.stopPropagation(); ... })"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#valueInput",
      "text": "Insert a value (integer)",
      "attributes": {
        "type": "number",
        "placeholder": "e.g. 42"
      },
      "evidence": [
        "<input id=\"valueInput\" type=\"number\" placeholder=\"e.g. 42\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#insertBtn",
      "text": "Insert",
      "attributes": {
        "class": "small"
      },
      "evidence": [
        "<button id=\"insertBtn\" class=\"small\">Insert</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#deleteBtn",
      "text": "Delete",
      "attributes": {
        "class": "small ghost"
      },
      "evidence": [
        "<button id=\"deleteBtn\" class=\"small ghost\">Delete</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#searchInput",
      "text": "Search value",
      "attributes": {
        "type": "number",
        "placeholder": "Search value"
      },
      "evidence": [
        "<input id=\"searchInput\" type=\"number\" placeholder=\"Search value\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#searchBtn",
      "text": "Search",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"searchBtn\" class=\"small secondary\">Search</button>"
      ]
    },
    {
      "type": "input",
      "selector": "#bulkInput",
      "text": "Comma-separated e.g. 8,3,10,1,6",
      "attributes": {
        "type": "text",
        "placeholder": "Comma-separated e.g. 8,3,10,1,6"
      },
      "evidence": [
        "<input id=\"bulkInput\" type=\"text\" placeholder=\"Comma-separated e.g. 8,3,10,1,6\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#buildBtn",
      "text": "Build",
      "attributes": {
        "class": "small"
      },
      "evidence": [
        "<button id=\"buildBtn\" class=\"small\">Build</button>"
      ]
    },
    {
      "type": "select",
      "selector": "#presetSelect",
      "text": "Build / randomize",
      "attributes": {},
      "evidence": [
        "<select id=\"presetSelect\"><option value=\"random\">Random 10</option><option value=\"sorted\">Sorted 10</option><option value=\"balanced\">Balanced 15</option></select>"
      ]
    },
    {
      "type": "button",
      "selector": "#presetBtn",
      "text": "Generate",
      "attributes": {
        "class": "small"
      },
      "evidence": [
        "<button id=\"presetBtn\" class=\"small\">Generate</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearBtn",
      "text": "Clear",
      "attributes": {
        "class": "small warn"
      },
      "evidence": [
        "<button id=\"clearBtn\" class=\"small warn\">Clear</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#preBtn",
      "text": "Preorder",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"preBtn\" class=\"small secondary\">Preorder</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#inBtn",
      "text": "Inorder",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"inBtn\" class=\"small secondary\">Inorder</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#postBtn",
      "text": "Postorder",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"postBtn\" class=\"small secondary\">Postorder</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#levelBtn",
      "text": "Level",
      "attributes": {
        "class": "small secondary"
      },
      "evidence": [
        "<button id=\"levelBtn\" class=\"small secondary\">Level</button>"
      ]
    },
    {
      "type": "other",
      "selector": "#canvasWrap",
      "text": "Tree visualization",
      "attributes": {},
      "evidence": [
        "<main class=\"canvas-wrap\" id=\"canvasWrap\" aria-label=\"Tree visualization\">"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T12:00:00Z",
    "detected_components_count": 14,
    "detected_components": [
      {
        "type": "input",
        "selector": "#valueInput",
        "text": "Insert a value (integer)",
        "attributes": {
          "type": "number",
          "placeholder": "e.g. 42"
        }
      },
      {
        "type": "button",
        "selector": "#insertBtn",
        "text": "Insert",
        "attributes": {
          "class": "small"
        }
      },
      {
        "type": "button",
        "selector": "#deleteBtn",
        "text": "Delete",
        "attributes": {
          "class": "small ghost"
        }
      },
      {
        "type": "input",
        "selector": "#searchInput",
        "text": "Search value",
        "attributes": {
          "type": "number",
          "placeholder": "Search value"
        }
      },
      {
        "type": "button",
        "selector": "#searchBtn",
        "text": "Search",
        "attributes": {
          "class": "small secondary"
        }
      },
      {
        "type": "input",
        "selector": "#bulkInput",
        "text": "Comma-separated e.g. 8,3,10,1,6",
        "attributes": {
          "type": "text",
          "placeholder": "Comma-separated e.g. 8,3,10,1,6"
        }
      },
      {
        "type": "button",
        "selector": "#buildBtn",
        "text": "Build",
        "attributes": {
          "class": "small"
        }
      },
      {
        "type": "select",
        "selector": "#presetSelect",
        "text": "Build / randomize",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#presetBtn",
        "text": "Generate",
        "attributes": {
          "class": "small"
        }
      },
      {
        "type": "button",
        "selector": "#clearBtn",
        "text": "Clear",
        "attributes": {
          "class": "small warn"
        }
      },
      {
        "type": "button",
        "selector": "#preBtn",
        "text": "Preorder",
        "attributes": {
          "class": "small secondary"
        }
      },
      {
        "type": "button",
        "selector": "#inBtn",
        "text": "Inorder",
        "attributes": {
          "class": "small secondary"
        }
      },
      {
        "type": "button",
        "selector": "#postBtn",
        "text": "Postorder",
        "attributes": {
          "class": "small secondary"
        }
      },
      {
        "type": "button",
        "selector": "#levelBtn",
        "text": "Level",
        "attributes": {
          "class": "small secondary"
        }
      }
    ],
    "detected_event_handlers_count": 17,
    "detected_event_handlers": [
      "insertBtn.addEventListener('click', ()=>{ const v = Number(valueInput.value); ... })",
      "deleteBtn.addEventListener('click', ()=>{ const v = Number(valueInput.value); ... })",
      "searchBtn.addEventListener('click', async ()=>{ const v = Number(searchInput.value); ... })",
      "buildBtn.addEventListener('click', ()=>{ const text = bulkInput.value.trim(); ... })",
      "presetBtn.addEventListener('click', ()=>{ const sel = presetSelect.value; ... })",
      "clearBtn.addEventListener('click', ()=>{ tree.root = null; ... })",
      "preBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })",
      "inBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })",
      "postBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })",
      "levelBtn.addEventListener('click', async ()=>{ clearHighlights(); ... })",
      "g.addEventListener('click', (ev)=> { ev.stopPropagation(); ... })"
    ],
    "extracted_states_count": 4,
    "extracted_transitions_count": 10,
    "extraction_confidence": 1,
    "notes": [
      "All interactive elements and event handlers were detected.",
      "State transitions are clearly defined based on user interactions.",
      "The FSM captures the complete interactive behavior of the application."
    ]
  }
}