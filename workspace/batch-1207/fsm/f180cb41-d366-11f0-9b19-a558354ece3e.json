{
  "meta": {
    "concept": "Adjacency List Graph Demo",
    "topic": "Graph Visualization",
    "educational_goal": "Understand how to represent graphs using adjacency lists",
    "expected_interactions": [
      "Add Node",
      "Add Random Edge",
      "Clear Graph",
      "Load from JSON",
      "Export to JSON"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "renderGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "window.onload = function() {",
        "graph.addEdge('A', 'B');",
        "nextNodeId = 4;"
      ],
      "confidence": 1
    },
    {
      "id": "S1_NodeAdded",
      "label": "Node Added",
      "type": "intermediate",
      "entry_actions": [
        "renderGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "function addNode() {",
        "graph.addNode(nodeName);",
        "showMessage(`Added node: ${nodeName}`, 'success');"
      ],
      "confidence": 1
    },
    {
      "id": "S2_EdgeAdded",
      "label": "Edge Added",
      "type": "intermediate",
      "entry_actions": [
        "renderGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "function addRandomEdge() {",
        "graph.addEdge(node1, node2);",
        "showMessage(`Added edge: ${node1} ↔ ${node2}`, 'success');"
      ],
      "confidence": 1
    },
    {
      "id": "S3_GraphCleared",
      "label": "Graph Cleared",
      "type": "intermediate",
      "entry_actions": [
        "renderGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "function clearGraph() {",
        "graph.adjacencyList.clear();",
        "showMessage('Graph cleared', 'success');"
      ],
      "confidence": 1
    },
    {
      "id": "S4_JSONLoaded",
      "label": "JSON Loaded",
      "type": "intermediate",
      "entry_actions": [
        "renderGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "function loadFromJSON() {",
        "if (graph.fromJSON(jsonInput)) {",
        "showMessage('Graph loaded successfully from JSON', 'success');"
      ],
      "confidence": 1
    },
    {
      "id": "S5_JSONExported",
      "label": "JSON Exported",
      "type": "intermediate",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "function exportToJSON() {",
        "document.getElementById('json-input').value = graph.toJSON();",
        "showMessage('Graph exported to JSON', 'success');"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "AddNode",
      "event_type": "click",
      "description": "User adds a new node to the graph",
      "trigger_selectors": [
        "button[onclick='addNode()']"
      ],
      "evidence": [
        "<button onclick=\"addNode()\">Add Node</button>"
      ],
      "confidence": 1
    },
    {
      "id": "AddRandomEdge",
      "event_type": "click",
      "description": "User adds a random edge between two nodes",
      "trigger_selectors": [
        "button[onclick='addRandomEdge()']"
      ],
      "evidence": [
        "<button onclick=\"addRandomEdge()\">Add Random Edge</button>"
      ],
      "confidence": 1
    },
    {
      "id": "ClearGraph",
      "event_type": "click",
      "description": "User clears the graph",
      "trigger_selectors": [
        "button[onclick='clearGraph()']"
      ],
      "evidence": [
        "<button onclick=\"clearGraph()\">Clear Graph</button>"
      ],
      "confidence": 1
    },
    {
      "id": "LoadFromJSON",
      "event_type": "click",
      "description": "User loads the graph from JSON input",
      "trigger_selectors": [
        "button[onclick='loadFromJSON()']"
      ],
      "evidence": [
        "<button onclick=\"loadFromJSON()\">Load from JSON</button>"
      ],
      "confidence": 1
    },
    {
      "id": "ExportToJSON",
      "event_type": "click",
      "description": "User exports the graph to JSON format",
      "trigger_selectors": [
        "button[onclick='exportToJSON()']"
      ],
      "evidence": [
        "<button onclick=\"exportToJSON()\">Export to JSON</button>"
      ],
      "confidence": 1
    },
    {
      "id": "NodeClicked",
      "event_type": "click",
      "description": "User clicks on a node to remove it",
      "trigger_selectors": [
        "circle.node"
      ],
      "evidence": [
        "circle.addEventListener('click', (e) => {",
        "removeNode(node);"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_NodeAdded",
      "event": "AddNode",
      "actions": [],
      "expected_observables": [
        "Graph updated with new node"
      ],
      "evidence": [
        "graph.addNode(nodeName);",
        "showMessage(`Added node: ${nodeName}`, 'success');"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S2_EdgeAdded",
      "event": "AddRandomEdge",
      "actions": [],
      "expected_observables": [
        "Graph updated with new edge"
      ],
      "evidence": [
        "graph.addEdge(node1, node2);",
        "showMessage(`Added edge: ${node1} ↔ ${node2}`, 'success');"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S3_GraphCleared",
      "event": "ClearGraph",
      "actions": [],
      "expected_observables": [
        "Graph is empty"
      ],
      "evidence": [
        "graph.adjacencyList.clear();",
        "showMessage('Graph cleared', 'success');"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S4_JSONLoaded",
      "event": "LoadFromJSON",
      "actions": [],
      "expected_observables": [
        "Graph updated from JSON"
      ],
      "evidence": [
        "if (graph.fromJSON(jsonInput)) {",
        "showMessage('Graph loaded successfully from JSON', 'success');"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Idle",
      "to": "S5_JSONExported",
      "event": "ExportToJSON",
      "actions": [],
      "expected_observables": [
        "JSON representation of the graph"
      ],
      "evidence": [
        "document.getElementById('json-input').value = graph.toJSON();",
        "showMessage('Graph exported to JSON', 'success');"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NodeAdded",
      "to": "S1_NodeAdded",
      "event": "NodeClicked",
      "actions": [],
      "expected_observables": [
        "Node removed from graph"
      ],
      "evidence": [
        "removeNode(node);"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "button",
      "selector": "button[onclick='addNode()']",
      "text": "Add Node",
      "attributes": {},
      "evidence": [
        "<button onclick=\"addNode()\">Add Node</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick='addRandomEdge()']",
      "text": "Add Random Edge",
      "attributes": {},
      "evidence": [
        "<button onclick=\"addRandomEdge()\">Add Random Edge</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick='clearGraph()']",
      "text": "Clear Graph",
      "attributes": {},
      "evidence": [
        "<button onclick=\"clearGraph()\">Clear Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick='loadFromJSON()']",
      "text": "Load from JSON",
      "attributes": {},
      "evidence": [
        "<button onclick=\"loadFromJSON()\">Load from JSON</button>"
      ]
    },
    {
      "type": "button",
      "selector": "button[onclick='exportToJSON()']",
      "text": "Export to JSON",
      "attributes": {},
      "evidence": [
        "<button onclick=\"exportToJSON()\">Export to JSON</button>"
      ]
    },
    {
      "type": "svg",
      "selector": "#graph-svg",
      "text": "",
      "attributes": {
        "width": "400",
        "height": "400"
      },
      "evidence": [
        "<svg id=\"graph-svg\" width=\"400\" height=\"400\"></svg>"
      ]
    },
    {
      "type": "textarea",
      "selector": "#json-input",
      "text": "",
      "attributes": {
        "placeholder": "{\"A\": [\"B\", \"C\"], \"B\": [\"A\"], \"C\": [\"A\"]}"
      },
      "evidence": [
        "<textarea id=\"json-input\" placeholder='{\"A\": [\"B\", \"C\"], \"B\": [\"A\"], \"C\": [\"A\"]}'></textarea>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-06T00:00:00Z",
    "detected_components_count": 6,
    "detected_components": [
      {
        "type": "button",
        "selector": "button[onclick='addNode()']",
        "text": "Add Node",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick='addRandomEdge()']",
        "text": "Add Random Edge",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick='clearGraph()']",
        "text": "Clear Graph",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick='loadFromJSON()']",
        "text": "Load from JSON",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "button[onclick='exportToJSON()']",
        "text": "Export to JSON",
        "attributes": {}
      },
      {
        "type": "svg",
        "selector": "#graph-svg",
        "text": "",
        "attributes": {
          "width": "400",
          "height": "400"
        }
      },
      {
        "type": "textarea",
        "selector": "#json-input",
        "text": "",
        "attributes": {
          "placeholder": "{\"A\": [\"B\", \"C\"], \"B\": [\"A\"], \"C\": [\"A\"]}"
        }
      }
    ],
    "detected_event_handlers_count": 6,
    "detected_event_handlers": [
      "onclick=\"addNode()\"",
      "onclick=\"addRandomEdge()\"",
      "onclick=\"clearGraph()\"",
      "onclick=\"loadFromJSON()\"",
      "onclick=\"exportToJSON()\"",
      "circle.addEventListener('click', (e) => {"
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 6,
    "extraction_confidence": 1,
    "notes": []
  }
}