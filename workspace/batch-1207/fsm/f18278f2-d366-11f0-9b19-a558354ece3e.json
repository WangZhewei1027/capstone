{
  "meta": {
    "concept": "K-Means Clustering Visualization",
    "topic": "K-Means Clustering",
    "educational_goal": "To visualize the K-Means clustering algorithm and its steps.",
    "expected_interactions": [
      "Generate random points",
      "Run K-Means",
      "Step through iterations",
      "Reset the visualization"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "renderPage()"
      ],
      "exit_actions": [],
      "evidence": [
        "<div class=\"status\" id=\"status\">Ready - Click \"Generate Random Points\" to start</div>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_PointsGenerated",
      "label": "Points Generated",
      "type": "intermediate",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "Generated ${pointCount} points. Ready to run K-Means."
      ],
      "confidence": 1
    },
    {
      "id": "S2_KMeansRunning",
      "label": "K-Means Running",
      "type": "intermediate",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "K-Means completed in ${this.kMeans.iterations} iterations. ${this.kMeans.converged ? 'Converged!' : 'Reached max iterations.'}"
      ],
      "confidence": 1
    },
    {
      "id": "S3_SteppingThrough",
      "label": "Stepping Through",
      "type": "intermediate",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "Iteration ${this.kMeans.iterations}. Click \"Step Through\" to continue."
      ],
      "confidence": 1
    },
    {
      "id": "S4_Converged",
      "label": "Converged",
      "type": "final",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "K-Means converged after ${this.kMeans.iterations} iterations."
      ],
      "confidence": 1
    },
    {
      "id": "S5_Reset",
      "label": "Reset",
      "type": "intermediate",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "Reset. Click \"Generate Random Points\" to start."
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GeneratePoints",
      "event_type": "click",
      "description": "Generate random points for clustering.",
      "trigger_selectors": [
        "#generatePoints"
      ],
      "evidence": [
        "document.getElementById('generatePoints').addEventListener('click', () => { this.generateRandomPoints(); });"
      ],
      "confidence": 1
    },
    {
      "id": "RunKMeans",
      "event_type": "click",
      "description": "Run the K-Means algorithm on generated points.",
      "trigger_selectors": [
        "#runKMeans"
      ],
      "evidence": [
        "document.getElementById('runKMeans').addEventListener('click', () => { this.runKMeans(); });"
      ],
      "confidence": 1
    },
    {
      "id": "StepKMeans",
      "event_type": "click",
      "description": "Step through the K-Means iterations.",
      "trigger_selectors": [
        "#stepKMeans"
      ],
      "evidence": [
        "document.getElementById('stepKMeans').addEventListener('click', () => { this.stepKMeans(); });"
      ],
      "confidence": 1
    },
    {
      "id": "Reset",
      "event_type": "click",
      "description": "Reset the visualization.",
      "trigger_selectors": [
        "#reset"
      ],
      "evidence": [
        "document.getElementById('reset').addEventListener('click', () => { this.reset(); });"
      ],
      "confidence": 1
    },
    {
      "id": "KValueChange",
      "event_type": "input",
      "description": "Change the number of clusters (K).",
      "trigger_selectors": [
        "#kValue"
      ],
      "evidence": [
        "document.getElementById('kValue').addEventListener('input', (e) => { document.getElementById('kDisplay').textContent = e.target.value; });"
      ],
      "confidence": 1
    },
    {
      "id": "PointCountChange",
      "event_type": "input",
      "description": "Change the number of points.",
      "trigger_selectors": [
        "#pointCount"
      ],
      "evidence": [
        "document.getElementById('pointCount').addEventListener('input', (e) => { document.getElementById('pointCountDisplay').textContent = e.target.value; });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_PointsGenerated",
      "event": "GeneratePoints",
      "actions": [
        "generateRandomPoints()"
      ],
      "expected_observables": [
        "Generated ${pointCount} points. Ready to run K-Means."
      ],
      "evidence": [
        "this.kMeans = new KMeans(k, points);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_PointsGenerated",
      "to": "S2_KMeansRunning",
      "event": "RunKMeans",
      "actions": [
        "runKMeans()"
      ],
      "expected_observables": [
        "K-Means completed in ${this.kMeans.iterations} iterations. ${this.kMeans.converged ? 'Converged!' : 'Reached max iterations.'}"
      ],
      "evidence": [
        "this.kMeans.run();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_PointsGenerated",
      "to": "S3_SteppingThrough",
      "event": "StepKMeans",
      "actions": [
        "stepKMeans()"
      ],
      "expected_observables": [
        "Iteration ${this.kMeans.iterations}. Click \"Step Through\" to continue."
      ],
      "evidence": [
        "const canContinue = this.kMeans.step();"
      ],
      "confidence": 1
    },
    {
      "from": "S3_SteppingThrough",
      "to": "S4_Converged",
      "event": "StepKMeans",
      "actions": [
        "stepKMeans()"
      ],
      "expected_observables": [
        "K-Means converged after ${this.kMeans.iterations} iterations."
      ],
      "evidence": [
        "if (this.kMeans.converged) { document.getElementById('status').textContent = `K-Means converged after ${this.kMeans.iterations} iterations.`; }"
      ],
      "confidence": 1
    },
    {
      "from": "S3_SteppingThrough",
      "to": "S3_SteppingThrough",
      "event": "StepKMeans",
      "actions": [
        "stepKMeans()"
      ],
      "expected_observables": [
        "Iteration ${this.kMeans.iterations}. Click \"Step Through\" to continue."
      ],
      "evidence": [
        "const canContinue = this.kMeans.step();"
      ],
      "confidence": 1
    },
    {
      "from": "S1_PointsGenerated",
      "to": "S5_Reset",
      "event": "Reset",
      "actions": [
        "reset()"
      ],
      "expected_observables": [
        "Reset. Click \"Generate Random Points\" to start."
      ],
      "evidence": [
        "this.kMeans = null; this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);"
      ],
      "confidence": 1
    },
    {
      "from": "S2_KMeansRunning",
      "to": "S5_Reset",
      "event": "Reset",
      "actions": [
        "reset()"
      ],
      "expected_observables": [
        "Reset. Click \"Generate Random Points\" to start."
      ],
      "evidence": [
        "this.kMeans = null; this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#kValue",
      "text": "Number of Clusters (K)",
      "attributes": {
        "min": "2",
        "max": "8",
        "value": "3"
      },
      "evidence": [
        "<input type=\"range\" id=\"kValue\" min=\"2\" max=\"8\" value=\"3\">"
      ]
    },
    {
      "type": "input",
      "selector": "#pointCount",
      "text": "Number of Points",
      "attributes": {
        "min": "50",
        "max": "300",
        "value": "150"
      },
      "evidence": [
        "<input type=\"range\" id=\"pointCount\" min=\"50\" max=\"300\" value=\"150\">"
      ]
    },
    {
      "type": "button",
      "selector": "#generatePoints",
      "text": "Generate Random Points",
      "attributes": {},
      "evidence": [
        "<button id=\"generatePoints\">Generate Random Points</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#runKMeans",
      "text": "Run K-Means",
      "attributes": {},
      "evidence": [
        "<button id=\"runKMeans\">Run K-Means</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#stepKMeans",
      "text": "Step Through",
      "attributes": {},
      "evidence": [
        "<button id=\"stepKMeans\">Step Through</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#reset",
      "text": "Reset",
      "attributes": {},
      "evidence": [
        "<button id=\"reset\">Reset</button>"
      ]
    },
    {
      "type": "canvas",
      "selector": "#canvas",
      "text": "",
      "attributes": {
        "width": "1000",
        "height": "600"
      },
      "evidence": [
        "<canvas id=\"canvas\" width=\"1000\" height=\"600\"></canvas>"
      ]
    },
    {
      "type": "div",
      "selector": "#clusterInfo",
      "text": "",
      "attributes": {},
      "evidence": [
        "<div class=\"cluster-info\" id=\"clusterInfo\"></div>"
      ]
    },
    {
      "type": "div",
      "selector": "#status",
      "text": "Ready - Click \"Generate Random Points\" to start",
      "attributes": {},
      "evidence": [
        "<div class=\"status\" id=\"status\">Ready - Click \"Generate Random Points\" to start</div>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-10T00:00:00Z",
    "detected_components_count": 8,
    "detected_components": [
      {
        "type": "input",
        "selector": "#kValue",
        "text": "Number of Clusters (K)",
        "attributes": {
          "min": "2",
          "max": "8",
          "value": "3"
        }
      },
      {
        "type": "input",
        "selector": "#pointCount",
        "text": "Number of Points",
        "attributes": {
          "min": "50",
          "max": "300",
          "value": "150"
        }
      },
      {
        "type": "button",
        "selector": "#generatePoints",
        "text": "Generate Random Points",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#runKMeans",
        "text": "Run K-Means",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#stepKMeans",
        "text": "Step Through",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#reset",
        "text": "Reset",
        "attributes": {}
      },
      {
        "type": "canvas",
        "selector": "#canvas",
        "text": "",
        "attributes": {
          "width": "1000",
          "height": "600"
        }
      },
      {
        "type": "div",
        "selector": "#clusterInfo",
        "text": "",
        "attributes": {}
      },
      {
        "type": "div",
        "selector": "#status",
        "text": "Ready - Click \"Generate Random Points\" to start",
        "attributes": {}
      }
    ],
    "detected_event_handlers_count": 6,
    "detected_event_handlers": [
      "document.getElementById('kValue').addEventListener('input', (e) => { document.getElementById('kDisplay').textContent = e.target.value; });",
      "document.getElementById('pointCount').addEventListener('input', (e) => { document.getElementById('pointCountDisplay').textContent = e.target.value; });",
      "document.getElementById('generatePoints').addEventListener('click', () => { this.generateRandomPoints(); });",
      "document.getElementById('runKMeans').addEventListener('click', () => { this.runKMeans(); });",
      "document.getElementById('stepKMeans').addEventListener('click', () => { this.stepKMeans(); });",
      "document.getElementById('reset').addEventListener('click', () => { this.reset(); });"
    ],
    "extracted_states_count": 6,
    "extracted_transitions_count": 7,
    "extraction_confidence": 1,
    "notes": []
  }
}