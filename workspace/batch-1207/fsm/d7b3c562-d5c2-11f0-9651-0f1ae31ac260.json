{
  "meta": {
    "concept": "Depth-First Search (DFS) Visualization",
    "topic": "Graph Algorithms",
    "educational_goal": "Visualize the Depth-First Search algorithm on a generated graph.",
    "expected_interactions": [
      "Generate a new graph",
      "Select a start node",
      "Start DFS",
      "Reset the graph"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "initial",
      "entry_actions": [
        "renderPage()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"startBtn\" disabled>Start DFS</button>",
        "<button id=\"generateBtn\">Generate New Graph</button>",
        "<button id=\"resetBtn\" disabled>Reset</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S1_GraphGenerated",
      "label": "Graph Generated",
      "type": "intermediate",
      "entry_actions": [
        "drawGraph()"
      ],
      "exit_actions": [],
      "evidence": [
        "<button id=\"startBtn\">Start DFS</button>",
        "<button id=\"resetBtn\">Reset</button>"
      ],
      "confidence": 1
    },
    {
      "id": "S2_StartNodeSelected",
      "label": "Start Node Selected",
      "type": "intermediate",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "logMessage(`Start node selected: Node ${startNode}`)"
      ],
      "confidence": 1
    },
    {
      "id": "S3_DFS_Running",
      "label": "DFS Running",
      "type": "active",
      "entry_actions": [
        "runDFS()"
      ],
      "exit_actions": [],
      "evidence": [
        "logMessage(`Starting DFS from node ${startNode}`)",
        "while (stack.length > 0)"
      ],
      "confidence": 1
    },
    {
      "id": "S4_DFS_Complete",
      "label": "DFS Complete",
      "type": "final",
      "entry_actions": [],
      "exit_actions": [],
      "evidence": [
        "logMessage('DFS Complete.')"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "GenerateGraph",
      "event_type": "click",
      "description": "Generate a new random graph.",
      "trigger_selectors": [
        "#generateBtn"
      ],
      "evidence": [
        "generateBtn.addEventListener('click', () => { reset(); generateGraph(Number(nodeCountInput.value)); drawGraph(); updateVisualization(); });"
      ],
      "confidence": 1
    },
    {
      "id": "StartDFS",
      "event_type": "click",
      "description": "Start the Depth-First Search algorithm.",
      "trigger_selectors": [
        "#startBtn"
      ],
      "evidence": [
        "startBtn.addEventListener('click', async () => { await runDFS(); });"
      ],
      "confidence": 1
    },
    {
      "id": "ResetGraph",
      "event_type": "click",
      "description": "Reset the graph and states.",
      "trigger_selectors": [
        "#resetBtn"
      ],
      "evidence": [
        "resetBtn.addEventListener('click', () => { reset(); });"
      ],
      "confidence": 1
    },
    {
      "id": "NodeClick",
      "event_type": "click",
      "description": "Select a node as the start node.",
      "trigger_selectors": [
        ".node"
      ],
      "evidence": [
        "el.addEventListener('click', handleNodeClick);"
      ],
      "confidence": 1
    },
    {
      "id": "NodeKeyPress",
      "event_type": "keydown",
      "description": "Select a node using keyboard.",
      "trigger_selectors": [
        ".node"
      ],
      "evidence": [
        "el.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleNodeClick.call(el, e); } });"
      ],
      "confidence": 1
    },
    {
      "id": "NodeCountChange",
      "event_type": "change",
      "description": "Change the number of nodes in the graph.",
      "trigger_selectors": [
        "#nodeCount"
      ],
      "evidence": [
        "nodeCountInput.addEventListener('change', (e) => { let val = Number(e.target.value); if (val < 3) val = 3; if (val > 10) val = 10; e.target.value = val; });"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_GraphGenerated",
      "event": "GenerateGraph",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "generateBtn.addEventListener('click', () => { reset(); generateGraph(Number(nodeCountInput.value)); drawGraph(); updateVisualization(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S1_GraphGenerated",
      "to": "S2_StartNodeSelected",
      "event": "NodeClick",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "el.addEventListener('click', handleNodeClick);"
      ],
      "confidence": 1
    },
    {
      "from": "S2_StartNodeSelected",
      "to": "S3_DFS_Running",
      "event": "StartDFS",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "startBtn.addEventListener('click', async () => { await runDFS(); });"
      ],
      "confidence": 1
    },
    {
      "from": "S3_DFS_Running",
      "to": "S4_DFS_Complete",
      "event": "DFS Complete",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "logMessage('DFS Complete.');"
      ],
      "confidence": 1
    },
    {
      "from": "S4_DFS_Complete",
      "to": "S0_Idle",
      "event": "ResetGraph",
      "actions": [],
      "expected_observables": [],
      "evidence": [
        "resetBtn.addEventListener('click', () => { reset(); });"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#nodeCount",
      "text": "",
      "attributes": {
        "min": "3",
        "max": "10",
        "value": "6"
      },
      "evidence": [
        "<input type=\"number\" id=\"nodeCount\" min=\"3\" max=\"10\" value=\"6\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#generateBtn",
      "text": "Generate New Graph",
      "attributes": {},
      "evidence": [
        "<button id=\"generateBtn\">Generate New Graph</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#startBtn",
      "text": "Start DFS",
      "attributes": {
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"startBtn\" disabled>Start DFS</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#resetBtn",
      "text": "Reset",
      "attributes": {
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"resetBtn\" disabled>Reset</button>"
      ]
    },
    {
      "type": "visual",
      "selector": "#graph",
      "text": "",
      "attributes": {},
      "evidence": [
        "<svg id=\"graph\" width=\"600\" height=\"500\" aria-label=\"Graph visualization\"></svg>"
      ]
    },
    {
      "type": "other",
      "selector": "#log",
      "text": "",
      "attributes": {
        "aria-live": "polite",
        "aria-atomic": "true",
        "role": "log"
      },
      "evidence": [
        "<div id=\"log\" aria-live=\"polite\" aria-atomic=\"true\" role=\"log\"></div>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-05T12:00:00Z",
    "detected_components_count": 5,
    "detected_components": [
      {
        "type": "input",
        "selector": "#nodeCount",
        "text": "",
        "attributes": {
          "min": "3",
          "max": "10",
          "value": "6"
        }
      },
      {
        "type": "button",
        "selector": "#generateBtn",
        "text": "Generate New Graph",
        "attributes": {}
      },
      {
        "type": "button",
        "selector": "#startBtn",
        "text": "Start DFS",
        "attributes": {
          "disabled": "true"
        }
      },
      {
        "type": "button",
        "selector": "#resetBtn",
        "text": "Reset",
        "attributes": {
          "disabled": "true"
        }
      },
      {
        "type": "visual",
        "selector": "#graph",
        "text": "",
        "attributes": {}
      },
      {
        "type": "other",
        "selector": "#log",
        "text": "",
        "attributes": {
          "aria-live": "polite",
          "aria-atomic": "true",
          "role": "log"
        }
      }
    ],
    "detected_event_handlers_count": 6,
    "detected_event_handlers": [
      "generateBtn.addEventListener('click', () => { reset(); generateGraph(Number(nodeCountInput.value)); drawGraph(); updateVisualization(); });",
      "startBtn.addEventListener('click', async () => { await runDFS(); });",
      "resetBtn.addEventListener('click', () => { reset(); });",
      "el.addEventListener('click', handleNodeClick);",
      "el.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleNodeClick.call(el, e); } });",
      "nodeCountInput.addEventListener('change', (e) => { let val = Number(e.target.value); if (val < 3) val = 3; if (val > 10) val = 10; e.target.value = val; });"
    ],
    "extracted_states_count": 5,
    "extracted_transitions_count": 5,
    "extraction_confidence": 1,
    "notes": []
  }
}