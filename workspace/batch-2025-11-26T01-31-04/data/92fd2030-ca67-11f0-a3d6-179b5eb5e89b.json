{
  "id": "92fd2030-ca67-11f0-a3d6-179b5eb5e89b",
  "timestamp": "2025-11-26T01:32:17.508Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Deque",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Deque (Double-Ended Queue) Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2em;\n    background: #f9f9f9;\n  }\n  h1 {\n    text-align: center;\n    color: #333;\n  }\n  .container {\n    max-width: 700px;\n    margin: 1em auto;\n    background: white;\n    padding: 1.5em;\n    border-radius: 8px;\n    box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);\n  }\n  .controls {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1em;\n    margin-bottom: 1em;\n  }\n  .controls > * {\n    flex: 1 1 120px;\n  }\n  input[type=\"text\"] {\n    padding: 0.5em;\n    font-size: 1em;\n    border: 1px solid #bbb;\n    border-radius: 4px;\n    width: 100%;\n    box-sizing: border-box;\n  }\n  button {\n    padding: 0.6em 1em;\n    font-size: 1em;\n    border: none;\n    background-color: #2874f0;\n    color: white;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.2s ease;\n    user-select: none;\n  }\n  button:disabled {\n    background-color: #aaa;\n    cursor: default;\n  }\n  button:hover:not(:disabled) {\n    background-color: #1a52d8;\n  }\n  .deque-display {\n    margin-top: 1.5em;\n    padding: 1em;\n    background: #eef5ff;\n    border-radius: 6px;\n    min-height: 3em;\n    font-family: monospace;\n    font-size: 1.2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .deque-container {\n    display: flex;\n    gap: 0.6em;\n    flex-wrap: nowrap;\n    overflow-x: auto;\n    max-width: 100%;\n  }\n  .deque-item {\n    background: #4a90e2;\n    color: white;\n    padding: 0.3em 0.8em;\n    border-radius: 4px;\n    user-select: none;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 0.2);\n    white-space: nowrap;\n  }\n  .label {\n    font-weight: bold;\n    margin-bottom: 0.5em;\n    text-align:center;\n  }\n  .help-text {\n    font-size: 0.9em;\n    color: #666;\n    text-align: center;\n    margin-top: 1em;\n  }\n  .arrow {\n    font-weight: bold;\n    font-size: 1.2em;\n    color: #555;\n    margin: 0 0.8em;\n    user-select: none;\n  }\n  @media (max-width: 480px) {\n    .controls {\n      flex-direction: column;\n    }\n    .controls > * {\n      flex: 1 1 auto;\n    }\n  }\n</style>\n</head>\n<body>\n  <h1>Deque (Double-Ended Queue) Visualization</h1>\n  <div class=\"container\">\n    <div class=\"controls\" aria-label=\"Deque operations controls\">\n      <input type=\"text\" id=\"inputValue\" placeholder=\"Enter value\" aria-label=\"Value to insert\" />\n      <button id=\"pushFrontBtn\" title=\"Insert element at front\">Push Front</button>\n      <button id=\"pushBackBtn\" title=\"Insert element at back\">Push Back</button>\n      <button id=\"popFrontBtn\" title=\"Remove element from front\">Pop Front</button>\n      <button id=\"popBackBtn\" title=\"Remove element from back\">Pop Back</button>\n      <button id=\"clearBtn\" title=\"Clear the deque\">Clear</button>\n    </div>\n\n    <div class=\"label\" id=\"dequeLabel\">Deque Contents (Front → Back):</div>\n    <div class=\"deque-display\" aria-live=\"polite\" aria-atomic=\"true\" aria-relevant=\"additions removals\" role=\"list\" id=\"dequeDisplay\"></div>\n\n    <div class=\"help-text\">\n      Use the controls above to insert or remove elements from either end of the deque. The displayed order is from front to back.\n    </div>\n  </div>\n\n<script>\n(() => {\n  // Deque class implemented with native array but efficient for demonstration\n  class Deque {\n    constructor() {\n      this._items = [];\n    }\n    pushFront(item) {\n      this._items.unshift(item);\n    }\n    pushBack(item) {\n      this._items.push(item);\n    }\n    popFront() {\n      return this._items.shift();\n    }\n    popBack() {\n      return this._items.pop();\n    }\n    clear() {\n      this._items = [];\n    }\n    toArray() {\n      return this._items.slice();\n    }\n    isEmpty() {\n      return this._items.length === 0;\n    }\n  }\n\n  const deque = new Deque();\n\n  // DOM references\n  const inputValue = document.getElementById(\"inputValue\");\n  const pushFrontBtn = document.getElementById(\"pushFrontBtn\");\n  const pushBackBtn = document.getElementById(\"pushBackBtn\");\n  const popFrontBtn = document.getElementById(\"popFrontBtn\");\n  const popBackBtn = document.getElementById(\"popBackBtn\");\n  const clearBtn = document.getElementById(\"clearBtn\");\n  const dequeDisplay = document.getElementById(\"dequeDisplay\");\n\n  // Utility: sanitize text for display\n  function escapeHtml(text) {\n    return text.replace(/[&<>\"']/g, (m) => {\n      switch(m){\n        case '&': return '&amp;';\n        case '<': return '&lt;';\n        case '>': return '&gt;';\n        case '\"': return '&quot;';\n        case \"'\": return '&#39;';\n        default: return m;\n      }\n    });\n  }\n\n  // Update the visual display of the deque\n  function updateDisplay() {\n    dequeDisplay.innerHTML = ''; // clear current\n\n    const items = deque.toArray();\n\n    if(items.length === 0){\n      dequeDisplay.textContent = '(empty)';\n      togglePopButtons(false);\n      return;\n    }\n\n    togglePopButtons(true);\n\n    // Show front and back arrow labels for clarity\n    // Let's build a flex container for the items and arrows at ends\n\n    // Front arrow\n    const frontArrow = document.createElement('span');\n    frontArrow.className = 'arrow';\n    frontArrow.textContent = '← Front';\n\n    // Back arrow\n    const backArrow = document.createElement('span');\n    backArrow.className = 'arrow';\n    backArrow.textContent = 'Back →';\n\n    // Container for items\n    const itemsContainer = document.createElement('div');\n    itemsContainer.className = 'deque-container';\n    items.forEach((item, index) => {\n      const div = document.createElement('div');\n      div.className = 'deque-item';\n      div.textContent = item;\n      div.setAttribute('role', 'listitem');\n      itemsContainer.appendChild(div);\n    });\n\n    dequeDisplay.appendChild(frontArrow);\n    dequeDisplay.appendChild(itemsContainer);\n    dequeDisplay.appendChild(backArrow);\n  }\n\n  // Enable or disable pop buttons depending on emptiness\n  function togglePopButtons(enabled) {\n    popFrontBtn.disabled = !enabled;\n    popBackBtn.disabled = !enabled;\n  }\n\n  // Clear input + focus\n  function clearInput() {\n    inputValue.value = '';\n    inputValue.focus();\n  }\n\n  // Event listeners\n  pushFrontBtn.addEventListener('click', () => {\n    const val = inputValue.value.trim();\n    if(val === ''){\n      alert('Please enter a value to push.');\n      inputValue.focus();\n      return;\n    }\n    deque.pushFront(val);\n    updateDisplay();\n    clearInput();\n  });\n\n  pushBackBtn.addEventListener('click', () => {\n    const val = inputValue.value.trim();\n    if(val === ''){\n      alert('Please enter a value to push.');\n      inputValue.focus();\n      return;\n    }\n    deque.pushBack(val);\n    updateDisplay();\n    clearInput();\n  });\n\n  popFrontBtn.addEventListener('click', () => {\n    if(deque.isEmpty()){\n      alert('Deque is empty. Nothing to pop at front.');\n      return;\n    }\n    const popped = deque.popFront();\n    alert(`Popped from front: ${popped}`);\n    updateDisplay();\n  });\n\n  popBackBtn.addEventListener('click', () => {\n    if(deque.isEmpty()){\n      alert('Deque is empty. Nothing to pop at back.');\n      return;\n    }\n    const popped = deque.popBack();\n    alert(`Popped from back: ${popped}`);\n    updateDisplay();\n  });\n\n  clearBtn.addEventListener('click', () => {\n    if(deque.isEmpty()){\n      alert('Deque is already empty.');\n      return;\n    }\n    if(confirm('Are you sure you want to clear the deque?')){\n      deque.clear();\n      updateDisplay();\n      clearInput();\n    }\n  });\n\n  // Enable pressing Enter to pushBack by default\n  inputValue.addEventListener('keydown', (e) => {\n    if(e.key === 'Enter'){\n      e.preventDefault();\n      pushBackBtn.click();\n    }\n  });\n\n  // Initialize display\n  updateDisplay();\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Deque"
    }
  ],
  "topic": "Deque",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}