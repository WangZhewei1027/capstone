{
  "id": "92ff1c00-ca67-11f0-a3d6-179b5eb5e89b",
  "timestamp": "2025-11-26T01:32:20.335Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Knapsack Problem",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Knapsack Problem Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    max-width: 800px;\n  }\n  h1 {\n    text-align: center;\n  }\n  table {\n    border-collapse: collapse;\n    margin: 10px 0 20px 0;\n    width: 100%;\n  }\n  th, td {\n    border: 1px solid #aaa;\n    padding: 8px;\n    text-align: center;\n  }\n  th {\n    background-color: #eee;\n  }\n  input[type=\"number\"] {\n    width: 60px;\n  }\n  textarea {\n    width: 100%;\n    height: 120px;\n  }\n  button {\n    margin-top: 10px;\n    padding: 10px 20px;\n    font-size: 1rem;\n  }\n  #result {\n    margin-top: 20px;\n    white-space: pre-wrap;\n    background-color: #f7f7f7;\n    padding: 15px;\n    border-radius: 5px;\n    font-family: monospace;\n  }\n  .instructions {\n    font-size: 0.9rem;\n    margin-bottom: 10px;\n  }\n  .flex-row {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 15px;\n    align-items: flex-start;\n  }\n  .col {\n    flex: 1 1 200px;\n    min-width: 200px;\n  }\n</style>\n</head>\n<body>\n<h1>0/1 Knapsack Problem Solver</h1>\n\n<div class=\"instructions\">\n  Enter the list of items with their weights and values, one per line, in the format:<br />\n  <code>name, weight, value</code><br />\n  Example:<br />\n  <code>Gold, 10, 60</code><br />\n  <code>Silver, 20, 100</code><br />\n  <code>Bronze, 30, 120</code>\n</div>\n\n<textarea id=\"itemsInput\" aria-label=\"Items input\" placeholder=\"ItemName, Weight, Value&#10;Example:&#10Gold, 10, 60&#10Silver, 20, 100&#10Bronze, 30, 120\"></textarea>\n\n<div class=\"flex-row\">\n  <div class=\"col\">\n    <label for=\"capacityInput\"><strong>Knapsack Capacity:</strong></label><br />\n    <input type=\"number\" id=\"capacityInput\" min=\"1\" value=\"50\" aria-describedby=\"capacityHelp\" />\n    <div id=\"capacityHelp\" style=\"font-size: 0.85rem; color: #555;\">Enter the maximum weight allowed</div>\n  </div>\n  <div class=\"col\" style=\"align-self:flex-end;\">\n    <button id=\"solveBtn\">Solve Knapsack</button>\n  </div>\n</div>\n\n<div id=\"result\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n\n<script>\n  function parseItems(text) {\n    const lines = text.split('\\n').map(l => l.trim()).filter(l => l.length > 0);\n    const items = [];\n    let lineNum = 0;\n    for (const line of lines) {\n      lineNum++;\n      const parts = line.split(',').map(p => p.trim());\n      if (parts.length !== 3) {\n        throw new Error(`Line ${lineNum}: Invalid format. Expected \"name, weight, value\".`);\n      }\n      const [name, weightStr, valueStr] = parts;\n      const weight = parseInt(weightStr, 10);\n      const value = parseInt(valueStr, 10);\n      if (!name) throw new Error(`Line ${lineNum}: Name cannot be empty.`);\n      if (isNaN(weight) || weight <= 0) throw new Error(`Line ${lineNum}: Weight must be a positive integer.`);\n      if (isNaN(value) || value < 0) throw new Error(`Line ${lineNum}: Value must be a non-negative integer.`);\n      items.push({name, weight, value});\n    }\n    return items;\n  }\n\n  // Solves 0/1 knapsack problem using DP, returns maximum value and list of chosen items\n  function knapsack(items, capacity) {\n    const n = items.length;\n    // dp[i][w] = max value using first i items with max weight w\n    // We'll use a 1D array optimization because the size can be big but for clarity, using 2D here.\n    const dp = Array(n+1).fill(null).map(() => Array(capacity+1).fill(0));\n\n    for (let i=1; i<=n; i++) {\n      const { weight, value } = items[i-1];\n      for (let w=0; w<=capacity; w++) {\n        if (weight > w) {\n          dp[i][w] = dp[i-1][w];\n        } else {\n          dp[i][w] = Math.max(dp[i-1][w], dp[i-1][w-weight] + value);\n        }\n      }\n    }\n\n    // Backtrack to find chosen items\n    let w = capacity;\n    const chosen = [];\n    for (let i = n; i > 0; i--) {\n      if (dp[i][w] !== dp[i-1][w]) {\n        const item = items[i-1];\n        chosen.push(item);\n        w -= item.weight;\n      }\n    }\n    chosen.reverse();\n\n    return {maxValue: dp[n][capacity], chosen};\n  }\n\n  function formatResult(result, capacity) {\n    let text = `Knapsack capacity: ${capacity}\\n`;\n    text += `Maximum value achievable: ${result.maxValue}\\n\\n`;\n    if (result.chosen.length === 0) {\n      text += 'No items selected.';\n    } else {\n      text += 'Items chosen:\\n';\n      text += 'Name\\tWeight\\tValue\\n';\n      for (const item of result.chosen) {\n        text += `${item.name}\\t${item.weight}\\t${item.value}\\n`;\n      }\n      const totalWeight = result.chosen.reduce((a,b) => a+b.weight, 0);\n      const totalValue = result.maxValue;\n      text += `\\nTotal weight: ${totalWeight}\\nTotal value: ${totalValue}`;\n    }\n    return text;\n  }\n\n  document.getElementById('solveBtn').addEventListener('click', () => {\n    const itemsText = document.getElementById('itemsInput').value;\n    const capacityInput = document.getElementById('capacityInput').value.trim();\n    const resultDiv = document.getElementById('result');\n    resultDiv.textContent = 'Computing...';\n\n    try {\n      if (capacityInput === '') throw new Error('Please enter knapsack capacity.');\n      const capacity = parseInt(capacityInput, 10);\n      if (isNaN(capacity) || capacity <= 0) throw new Error('Knapsack capacity must be a positive integer.');\n\n      const items = parseItems(itemsText);\n      if (items.length === 0) throw new Error('Please enter at least one item.');\n\n      const answer = knapsack(items, capacity);\n      resultDiv.textContent = formatResult(answer, capacity);\n    } catch(e) {\n      resultDiv.textContent = 'Error: ' + e.message;\n    }\n  });\n\n  // Prefill example input\n  document.getElementById('itemsInput').value =\n`Gold, 10, 60\nSilver, 20, 100\nBronze, 30, 120`;\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Knapsack Problem"
    }
  ],
  "topic": "Knapsack Problem",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}