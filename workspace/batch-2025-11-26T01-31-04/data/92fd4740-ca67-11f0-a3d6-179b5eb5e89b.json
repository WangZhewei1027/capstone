{
  "id": "92fd4740-ca67-11f0-a3d6-179b5eb5e89b",
  "timestamp": "2025-11-26T01:32:13.897Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Hash Map",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Hash Map Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    max-width: 700px;\n    margin: 2rem auto;\n    padding: 0 1rem;\n    background: #f0f4f8;\n  }\n  h1 {\n    text-align: center;\n    color: #333;\n  }\n  .section {\n    background: #fff;\n    border-radius: 8px;\n    padding: 1rem 1.5rem 2rem 1.5rem;\n    margin: 1rem 0;\n    box-shadow: 0 2px 5px rgb(0 0 0 / 0.1);\n  }\n  label {\n    display: block;\n    margin: 0.5rem 0 0.25rem 0;\n    font-weight: bold;\n  }\n  input[type=\"text\"] {\n    width: 100%;\n    padding: 0.4rem 0.5rem;\n    font-size: 1rem;\n    box-sizing: border-box;\n  }\n  button {\n    margin-top: 0.7rem;\n    background: #0078d7;\n    color: white;\n    border: none;\n    padding: 0.5rem 1.2rem;\n    font-size: 1rem;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n  button:hover {\n    background: #005ea2;\n  }\n  #output {\n    white-space: pre-wrap;\n    background: #222;\n    color: #00ff00;\n    padding: 1rem;\n    border-radius: 6px;\n    font-family: monospace;\n    min-height: 120px;\n    overflow-x: auto;\n    margin-top: 1rem;\n  }\n  .error {\n    color: red;\n    font-weight: bold;\n  }\n  .map-visual {\n    margin-top: 1rem;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n  }\n  .map-item {\n    background: #0078d7;\n    color: white;\n    padding: 0.4rem 0.7rem;\n    border-radius: 4px;\n    font-size: 0.9rem;\n  }\n  .map-item .key {\n    font-weight: bold;\n  }\n  .map-item .value {\n    font-style: italic;\n  }\n  small {\n    color: #666;\n  }\n</style>\n</head>\n<body>\n<h1>Hash Map (Hash Table) Demonstration</h1>\n<div class=\"section\">\n  <p>\n    This demo shows a simple <strong>Hash Map</strong> implementation in JavaScript.\n    A hash map stores key-value pairs and allows fast insertion, retrieval, and deletion.\n  </p>\n  <p><small>Note: This is a simplified educational example for demonstration purposes.</small></p>\n</div>\n\n<div class=\"section\" id=\"controls\">\n  <label for=\"keyInput\">Key:</label>\n  <input type=\"text\" id=\"keyInput\" placeholder=\"Enter a key (string)\" />\n\n  <label for=\"valueInput\">Value:</label>\n  <input type=\"text\" id=\"valueInput\" placeholder=\"Enter a value\" />\n\n  <button id=\"addBtn\">Add / Update Entry</button>\n  <button id=\"getBtn\">Get Value by Key</button>\n  <button id=\"removeBtn\">Remove Entry by Key</button>\n  <button id=\"clearBtn\" style=\"background:#d9534f;\">Clear Hash Map</button>\n\n  <div id=\"message\" class=\"error\" aria-live=\"polite\"></div>\n</div>\n\n<div class=\"section\">\n  <h2>Current Hash Map Entries</h2>\n  <div class=\"map-visual\" id=\"mapVisual\" aria-live=\"polite\" aria-label=\"Current hash map entries\"></div>\n</div>\n\n<div class=\"section\">\n  <h2>Operations Output</h2>\n  <pre id=\"output\" aria-live=\"polite\" aria-atomic=\"true\">(Operation results will show here)</pre>\n</div>\n\n<script>\n// Simple hash function (djb2)\nfunction hashString(str, capacity) {\n  let hash = 5381;\n  for (let i = 0; i < str.length; i++) {\n    // charCodeAt returns a number between 0-65535\n    hash = ((hash << 5) + hash) + str.charCodeAt(i);\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return Math.abs(hash) % capacity;\n}\n\nclass HashMap {\n  constructor(initialCapacity = 16) {\n    this.capacity = initialCapacity;\n    this.size = 0;\n    // Initialize buckets, each bucket is an array for separate chaining\n    this.buckets = Array.from({ length: this.capacity }, () => []);\n  }\n\n  _getBucketIndex(key) {\n    return hashString(key, this.capacity);\n  }\n\n  put(key, value) {\n    const index = this._getBucketIndex(key);\n    const bucket = this.buckets[index];\n    // Check if key exists already, update it\n    for (let i = 0; i < bucket.length; i++) {\n      let [k, v] = bucket[i];\n      if (k === key) {\n        bucket[i][1] = value;\n        return;\n      }\n    }\n    // Insert new key-value pair\n    bucket.push([key, value]);\n    this.size++;\n  }\n\n  get(key) {\n    const index = this._getBucketIndex(key);\n    const bucket = this.buckets[index];\n    for (let i = 0; i < bucket.length; i++) {\n      let [k, v] = bucket[i];\n      if (k === key) {\n        return v;\n      }\n    }\n    return undefined; // Not found\n  }\n\n  remove(key) {\n    const index = this._getBucketIndex(key);\n    const bucket = this.buckets[index];\n    for (let i = 0; i < bucket.length; i++) {\n      if (bucket[i][0] === key) {\n        bucket.splice(i, 1);\n        this.size--;\n        return true;\n      }\n    }\n    return false;\n  }\n\n  clear() {\n    this.buckets = Array.from({ length: this.capacity }, () => []);\n    this.size = 0;\n  }\n\n  entries() {\n    // Return all key-value pairs as array\n    let allEntries = [];\n    for (const bucket of this.buckets) {\n      allEntries = allEntries.concat(bucket);\n    }\n    return allEntries;\n  }\n}\n\n// Instantiate our hash map\nconst hashMap = new HashMap();\n\nconst keyInput = document.getElementById('keyInput');\nconst valueInput = document.getElementById('valueInput');\nconst addBtn = document.getElementById('addBtn');\nconst getBtn = document.getElementById('getBtn');\nconst removeBtn = document.getElementById('removeBtn');\nconst clearBtn = document.getElementById('clearBtn');\nconst message = document.getElementById('message');\nconst output = document.getElementById('output');\nconst mapVisual = document.getElementById('mapVisual');\n\nfunction updateMapVisual() {\n  mapVisual.innerHTML = '';\n  const entries = hashMap.entries();\n  if (entries.length === 0) {\n    mapVisual.textContent = '(empty)';\n    return;\n  }\n  for (const [key, value] of entries) {\n    const itemDiv = document.createElement('div');\n    itemDiv.className = 'map-item';\n    itemDiv.title = `Key: ${key}\\nValue: ${value}`;\n    const keySpan = document.createElement('span');\n    keySpan.className = 'key';\n    keySpan.textContent = key;\n    const sep = document.createTextNode(' â†’ ');\n    const valueSpan = document.createElement('span');\n    valueSpan.className = 'value';\n    valueSpan.textContent = `${value}`;\n    itemDiv.appendChild(keySpan);\n    itemDiv.appendChild(sep);\n    itemDiv.appendChild(valueSpan);\n    mapVisual.appendChild(itemDiv);\n  }\n}\n\nfunction clearMessage() {\n  message.textContent = '';\n}\n\nfunction showMessage(msg, isError = false) {\n  message.textContent = msg;\n  if (isError) {\n    message.classList.add('error');\n  } else {\n    message.classList.remove('error');\n  }\n}\n\n// Add/update entry\naddBtn.addEventListener('click', () => {\n  clearMessage();\n  const key = keyInput.value.trim();\n  const value = valueInput.value;\n  if (key === '') {\n    showMessage('Please enter a non-empty key.', true);\n    return;\n  }\n  hashMap.put(key, value);\n  output.textContent = `Added/Updated: { \"${key}\": \"${value}\" }`;\n  updateMapVisual();\n});\n\n// Get value by key\ngetBtn.addEventListener('click', () => {\n  clearMessage();\n  const key = keyInput.value.trim();\n  if (key === '') {\n    showMessage('Please enter a key to get its value.', true);\n    return;\n  }\n  const val = hashMap.get(key);\n  if (val === undefined) {\n    output.textContent = `Key \"${key}\" not found in the hash map.`;\n  } else {\n    output.textContent = `Value for key \"${key}\": \"${val}\"`;\n  }\n});\n\n// Remove entry by key\nremoveBtn.addEventListener('click', () => {\n  clearMessage();\n  const key = keyInput.value.trim();\n  if (key === '') {\n    showMessage('Please enter a key to remove.', true);\n    return;\n  }\n  const removed = hashMap.remove(key);\n  if (removed) {\n    output.textContent = `Removed key \"${key}\" from the hash map.`;\n    updateMapVisual();\n  } else {\n    output.textContent = `Key \"${key}\" not found, nothing was removed.`;\n  }\n});\n\n// Clear entire map\nclearBtn.addEventListener('click', () => {\n  clearMessage();\n  hashMap.clear();\n  output.textContent = 'Hash map cleared (all entries removed).';\n  updateMapVisual();\n});\n\n// Initialize visual\nupdateMapVisual();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Hash Map"
    }
  ],
  "topic": "Hash Map",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}