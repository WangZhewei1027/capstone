{
  "id": "92fe7fc0-ca67-11f0-a3d6-179b5eb5e89b",
  "timestamp": "2025-11-26T01:32:07.241Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Radix Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Radix Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f5f5f5;\n  }\n  h1 {\n    text-align: center;\n    color: #333;\n  }\n  #input-area, #output-area {\n    margin: 20px auto;\n    max-width: 600px;\n  }\n  label {\n    font-weight: bold;\n    display: block;\n    margin-bottom: 8px;\n  }\n  textarea {\n    width: 100%;\n    height: 60px;\n    font-size: 16px;\n    padding: 8px;\n    resize: vertical;\n  }\n  button {\n    background-color: #337ab7;\n    color: white;\n    border: none;\n    padding: 10px 16px;\n    font-size: 16px;\n    margin-top: 12px;\n    cursor: pointer;\n    border-radius: 4px;\n  }\n  button:hover {\n    background-color: #286090;\n  }\n  #steps {\n    margin-top: 30px;\n    max-width: 700px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .step {\n    background: white;\n    border-radius: 6px;\n    border: 1px solid #ddd;\n    padding: 12px 16px;\n    margin-bottom: 16px;\n  }\n  .step h3 {\n    margin-top: 0;\n    font-size: 18px;\n    color: #444;\n  }\n  .array-container {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n    margin-top: 10px;\n  }\n  .array-element {\n    background: #5bc0de;\n    color: white;\n    border-radius: 4px;\n    padding: 8px 12px;\n    font-weight: bold;\n    font-size: 16px;\n    user-select: none;\n    min-width: 40px;\n    text-align: center;\n  }\n  .digit-info {\n    font-size: 14px;\n    color: #666;\n    margin-top: 6px;\n  }\n  footer {\n    text-align: center;\n    margin: 40px 0 20px 0;\n    color: #999;\n  }\n  @media screen and (max-width: 600px) {\n    .array-element {\n      min-width: 30px;\n      font-size: 14px;\n      padding: 6px 8px;\n    }\n  }\n</style>\n</head>\n<body>\n  <h1>Radix Sort Demonstration</h1>\n  <div id=\"input-area\">\n    <label for=\"inputArray\">Enter an array of non-negative integers (comma or space separated):</label>\n    <textarea id=\"inputArray\" placeholder=\"e.g. 170, 45, 75, 90, 802, 24, 2, 66\"></textarea>\n    <button id=\"startSort\">Sort using Radix Sort</button>\n  </div>\n  <div id=\"steps\"></div>\n  <div id=\"output-area\"></div>\n\n<script>\n  function parseInput(text) {\n    // Split by commas or spaces, then filter and convert to number\n    const items = text.split(/[\\s,]+/).filter(s => s.trim() !== '');\n    const numbers = items.map(s => {\n      const n = Number(s);\n      return (isNaN(n) || n < 0 || !Number.isInteger(n)) ? null : n;\n    });\n    if (numbers.includes(null)) return null;\n    return numbers;\n  }\n\n  // Helper to get digit at position d (0-based from right)\n  function getDigit(num, d) {\n    return Math.floor(num / Math.pow(10, d)) % 10;\n  }\n\n  function radixSort(arr, stepCallback) {\n    // Find max number to know number of digits\n    let maxNum = Math.max(...arr);\n    let maxDigits = maxNum.toString().length;\n\n    let output = arr.slice();\n    for (let d = 0; d < maxDigits; d++) {\n      // Create buckets for each digit 0-9\n      let buckets = Array.from({length:10}, () => []);\n\n      // Place elements into buckets based on current digit\n      for (let num of output) {\n        let digit = getDigit(num, d);\n        buckets[digit].push(num);\n      }\n\n      // For visualization: Pass a snapshot of current bucket distribution and arrays before and after\n      if(stepCallback) {\n        stepCallback({\n          digitPosition: d,\n          buckets: buckets.map(b => b.slice()),\n          before: output.slice(),\n          after: [].concat(...buckets)\n        });\n      }\n\n      // Flatten buckets back into output array\n      output = [].concat(...buckets);\n    }\n    return output;\n  }\n\n  const stepsDiv = document.getElementById('steps');\n  const outputDiv = document.getElementById('output-area');\n  const startBtn = document.getElementById('startSort');\n\n  function clearVisualization() {\n    stepsDiv.innerHTML = '';\n    outputDiv.innerHTML = '';\n  }\n\n  // Function to create an element representing an array\n  function createArrayElements(arr) {\n    const container = document.createElement('div');\n    container.className = 'array-container';\n    arr.forEach(num => {\n      const el = document.createElement('div');\n      el.className = 'array-element';\n      el.textContent = num;\n      container.appendChild(el);\n    });\n    return container;\n  }\n\n  function createBucketsElements(buckets) {\n    const container = document.createElement('div');\n    container.style.display = 'flex';\n    container.style.gap = '12px';\n    container.style.flexWrap = 'wrap';\n\n    buckets.forEach((bucketArr, idx) => {\n      const bucketDiv = document.createElement('div');\n      bucketDiv.style.flex = '1 0 50px';\n      bucketDiv.style.minWidth = '50px';\n      bucketDiv.style.textAlign = 'center';\n\n      const label = document.createElement('div');\n      label.textContent = `Bucket ${idx}`;\n      label.style.fontWeight = 'bold';\n      label.style.marginBottom = '4px';\n      bucketDiv.appendChild(label);\n\n      if(bucketArr.length === 0) {\n        const empty = document.createElement('div');\n        empty.textContent = '(empty)';\n        empty.style.fontSize = '12px';\n        empty.style.color = '#aaa';\n        bucketDiv.appendChild(empty);\n      } else {\n        bucketArr.forEach(num => {\n          const numDiv = document.createElement('div');\n          numDiv.textContent = num;\n          numDiv.style.background = '#d9534f';\n          numDiv.style.color = 'white';\n          numDiv.style.borderRadius = '4px';\n          numDiv.style.padding = '4px';\n          numDiv.style.marginBottom = '4px';\n          numDiv.style.userSelect = 'none';\n          bucketDiv.appendChild(numDiv);\n        });\n      }\n      container.appendChild(bucketDiv);\n    });\n    return container;\n  }\n\n  startBtn.addEventListener('click', () => {\n    clearVisualization();\n    const inputText = document.getElementById('inputArray').value.trim();\n    const arr = parseInput(inputText);\n\n    if(!arr) {\n      alert('Invalid input! Please enter non-negative integers separated by commas or spaces.');\n      return;\n    }\n    if(arr.length === 0) {\n      alert('Please enter at least one number.');\n      return;\n    }\n\n    // Show initial array\n    const initialStep = document.createElement('div');\n    initialStep.className = 'step';\n    const initialTitle = document.createElement('h3');\n    initialTitle.textContent = 'Initial Array';\n    initialStep.appendChild(initialTitle);\n    initialStep.appendChild(createArrayElements(arr));\n    stepsDiv.appendChild(initialStep);\n\n    // Variable to hold steps for display\n    let stepIndex = 1;\n\n    radixSort(arr, ({digitPosition, buckets, before, after}) => {\n      const stepDiv = document.createElement('div');\n      stepDiv.className = 'step';\n\n      const title = document.createElement('h3');\n      title.textContent = `Step ${stepIndex++}: Sorting by digit at position ${digitPosition} (from right, 0-based)`;\n      stepDiv.appendChild(title);\n\n      const digitInfo = document.createElement('div');\n      digitInfo.className = 'digit-info';\n      digitInfo.textContent = `Distribute elements into buckets by digit at place 10^${digitPosition}:`;\n      stepDiv.appendChild(digitInfo);\n\n      // Show before array\n      const beforeTitle = document.createElement('div');\n      beforeTitle.textContent = 'Array before bucketing:';\n      beforeTitle.style.marginTop = '8px';\n      stepDiv.appendChild(beforeTitle);\n      stepDiv.appendChild(createArrayElements(before));\n\n      // Show buckets\n      const bucketsTitle = document.createElement('div');\n      bucketsTitle.textContent = 'Buckets:';\n      bucketsTitle.style.marginTop = '12px';\n      stepDiv.appendChild(bucketsTitle);\n      stepDiv.appendChild(createBucketsElements(buckets));\n\n      // Show after array\n      const afterTitle = document.createElement('div');\n      afterTitle.textContent = 'Array after collecting buckets:';\n      afterTitle.style.marginTop = '12px';\n      stepDiv.appendChild(afterTitle);\n      stepDiv.appendChild(createArrayElements(after));\n\n      stepsDiv.appendChild(stepDiv);\n      // Scroll to stepDiv smoothly\n      stepDiv.scrollIntoView({behavior: 'smooth', block: 'start'});\n    });\n\n    // Show final result\n    const sorted = radixSort(arr);\n    const finalDiv = document.createElement('div');\n    finalDiv.className = 'step';\n    const finalTitle = document.createElement('h3');\n    finalTitle.textContent = 'Sorted Array:';\n    finalDiv.appendChild(finalTitle);\n    finalDiv.appendChild(createArrayElements(sorted));\n    stepsDiv.appendChild(finalDiv);\n\n    finalDiv.scrollIntoView({behavior: 'smooth', block: 'start'});\n  });\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Radix Sort"
    }
  ],
  "topic": "Radix Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}