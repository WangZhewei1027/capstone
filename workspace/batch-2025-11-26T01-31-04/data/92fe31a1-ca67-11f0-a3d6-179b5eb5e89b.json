{
  "id": "92fe31a1-ca67-11f0-a3d6-179b5eb5e89b",
  "timestamp": "2025-11-26T01:32:03.323Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Insertion Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Insertion Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f0f2f5;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n  }\n  #arrayInput {\n    width: 70%;\n    padding: 0.5rem;\n    font-size: 1rem;\n  }\n  #startBtn {\n    padding: 0.5rem 1rem;\n    font-size: 1rem;\n    margin-left: 1rem;\n    cursor: pointer;\n  }\n  #barsContainer {\n    margin-top: 2rem;\n    display: flex;\n    align-items: flex-end;\n    height: 300px;\n    border: 1px solid #ccc;\n    background: white;\n    padding: 1rem;\n    gap: 4px;\n  }\n  .bar {\n    background-color: #3498db;\n    width: 20px;\n    transition: background-color 0.3s ease;\n    display: flex;\n    justify-content: center;\n    color: white;\n    font-size: 12px;\n    font-weight: bold;\n    user-select: none;\n  }\n  .bar.current {\n    background-color: #e67e22;\n  }\n  .bar.compared {\n    background-color: #f39c12;\n  }\n  .bar.sorted {\n    background-color: #2ecc71;\n  }\n  #controls {\n    margin-top: 1rem;\n    text-align: center;\n  }\n  #speedLabel {\n    margin-left: 1rem;\n  }\n</style>\n</head>\n<body>\n<h1>Insertion Sort Visualization</h1>\n<div id=\"controls\">\n  <input id=\"arrayInput\" type=\"text\" placeholder=\"Enter numbers separated by commas (e.g. 5,3,8,6,2)\" />\n  <button id=\"startBtn\">Start Sorting</button>\n  <label for=\"speedRange\" id=\"speedLabel\">Speed:</label>\n  <input type=\"range\" min=\"100\" max=\"2000\" value=\"500\" id=\"speedRange\" />\n  <span id=\"speedValue\">500 ms</span>\n</div>\n\n<div id=\"barsContainer\"></div>\n\n<script>\n  const arrayInput = document.getElementById('arrayInput');\n  const startBtn = document.getElementById('startBtn');\n  const barsContainer = document.getElementById('barsContainer');\n  const speedRange = document.getElementById('speedRange');\n  const speedValue = document.getElementById('speedValue');\n\n  let speed = 500;\n\n  speedRange.addEventListener('input', () => {\n    speed = parseInt(speedRange.value);\n    speedValue.textContent = speed + ' ms';\n  });\n\n  // Create bars from array\n  function createBars(arr) {\n    barsContainer.innerHTML = '';\n    const max = Math.max(...arr);\n    arr.forEach((value) => {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      // scale height relative to max, max height 250px\n      const height = (value / max) * 250 + 20; // add minimum height so very small numbers visible\n      bar.style.height = height + 'px';\n      bar.textContent = value;\n      barsContainer.appendChild(bar);\n    });\n  }\n\n  // Sleep helper function\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // The insertion sort with visualization\n  async function insertionSort(arr) {\n    const bars = barsContainer.children;\n\n    for (let i = 1; i < arr.length; i++) {\n      let key = arr[i];\n      let j = i - 1;\n\n      // Highlight the current key bar\n      bars[i].classList.add('current');\n      await sleep(speed);\n\n      // Move elements of arr[0..i-1], that are greater than key,\n      // to one position ahead of their current position\n      while (j >= 0 && arr[j] > key) {\n        bars[j].classList.add('compared');\n        bars[j + 1].classList.add('compared');\n        await sleep(speed);\n\n        arr[j + 1] = arr[j];\n        bars[j + 1].style.height = bars[j].style.height;\n        bars[j + 1].textContent = bars[j].textContent;\n\n        bars[j].classList.remove('compared');\n        bars[j + 1].classList.remove('compared');\n        bars[j].classList.remove('current');\n\n        j = j - 1;\n        await sleep(speed);\n      }\n      arr[j + 1] = key;\n\n      // Update the key bar to new position\n      bars[j + 1].style.height = ((key / Math.max(...arr)) * 250 + 20) + 'px';\n      bars[j + 1].textContent = key;\n\n      // Remove previous key highlight and highlight new key position\n      for(let k=0; k<bars.length; k++){\n        bars[k].classList.remove('current');\n      }\n      bars[j + 1].classList.add('current');\n\n      await sleep(speed);\n    }\n\n    // Mark all bars as sorted\n    for (let k = 0; k < bars.length; k++) {\n      bars[k].classList.remove('current');\n      bars[k].classList.add('sorted');\n      await sleep(speed / 5);\n    }\n  }\n\n  startBtn.addEventListener('click', async () => {\n    let input = arrayInput.value.trim();\n    if (!input) {\n      alert('Please enter a sequence of numbers separated by commas.');\n      return;\n    }\n    let arr = input.split(',').map(x => Number(x.trim()));\n    if (arr.some(isNaN)) {\n      alert('Please make sure all inputs are valid numbers.');\n      return;\n    }\n    if (arr.length < 2) {\n      alert('Please enter at least two numbers.');\n      return;\n    }\n    createBars(arr);\n    startBtn.disabled = true;\n    arrayInput.disabled = true;\n    speedRange.disabled = true;\n    await insertionSort(arr);\n    startBtn.disabled = false;\n    arrayInput.disabled = false;\n    speedRange.disabled = false;\n  });\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Insertion Sort"
    }
  ],
  "topic": "Insertion Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}