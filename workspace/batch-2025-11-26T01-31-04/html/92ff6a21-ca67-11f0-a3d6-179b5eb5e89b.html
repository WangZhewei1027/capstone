<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Two Pointers Technique Demo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    background: #f0f2f5;
  }
  h1 {
    text-align: center;
  }
  .container {
    max-width: 700px;
    margin: 1rem auto;
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  label {
    display: block;
    font-weight: bold;
    margin-top: 1rem;
  }
  textarea, input[type="text"] {
    width: 100%;
    font-size: 1rem;
    padding: 0.5rem;
    margin-top: 0.3rem;
    box-sizing: border-box;
    border-radius: 4px;
    border: 1px solid #ccc;
    resize: vertical;
  }
  button {
    margin-top: 1.2rem;
    padding: 0.7rem 1.2rem;
    font-size: 1rem;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover {
    background-color: #0056b3;
  }
  .output {
    margin-top: 1.5rem;
    background: #e9ecef;
    padding: 1rem;
    border-radius: 6px;
    font-family: monospace;
    white-space: pre-wrap;
  }
  .explanation {
    margin-top: 2rem;
    padding: 1rem;
    background: #d1ecf1;
    border: 1px solid #bee5eb;
    border-radius: 6px;
    color: #0c5460;
  }
  .highlight {
    color: #d6336c;
    font-weight: bold;
  }
</style>
</head>
<body>
<div class="container">
  <h1>Two Pointers Technique Demo</h1>
  <p>
    Enter a <strong>sorted list</strong> of integers separated by commas, and a <em>target sum</em>.
    This demo will find all pairs of numbers in the array whose sum equals the target using the two pointers technique.
  </p>

  <label for="arrayInput">Sorted Array (comma-separated integers):</label>
  <textarea id="arrayInput" rows="3" placeholder="e.g. 1, 2, 3, 4, 6, 8, 9"></textarea>

  <label for="targetInput">Target Sum:</label>
  <input type="text" id="targetInput" placeholder="e.g. 10" />

  <button id="findPairsButton">Find Pairs</button>

  <div class="output" id="output"></div>

  <div class="explanation">
    <h3>How the Two Pointers Technique Works:</h3>
    <ol>
      <li>We start with <span class="highlight">two pointers</span>:
        one at the <em>beginning</em> of the array (left), and one at the <em>end</em> (right).</li>
      <li>Calculate the sum of the elements at these pointers.</li>
      <li>If the sum matches the target, we record the pair and move both pointers inward.</li>
      <li>If the sum is less than the target, we move the left pointer to the right to increase the sum.</li>
      <li>If the sum is greater than the target, we move the right pointer to the left to decrease the sum.</li>
      <li>Repeat until the pointers cross.</li>
    </ol>
    <p>
      This method works efficiently on sorted arrays in <strong>O(n)</strong> time,
      avoiding the <strong>O(nÂ²)</strong> time required by naive double-loop approaches.
    </p>
  </div>
</div>

<script>
  function parseArray(str) {
    return str
      .split(',')
      .map(s => s.trim())
      .filter(s => s !== '')
      .map(s => {
        let n = Number(s);
        if (!Number.isInteger(n)) throw new Error('Array must contain only integers.');
        return n;
      });
  }

  function twoPointersFindPairs(arr, target) {
    const pairs = [];
    let left = 0;
    let right = arr.length - 1;

    while (left < right) {
      const sum = arr[left] + arr[right];
      if (sum === target) {
        pairs.push([arr[left], arr[right]]);
        left++;
        right--;
        // Skip duplicates
        while (left < right && arr[left] === arr[left - 1]) left++;
        while (left < right && arr[right] === arr[right + 1]) right--;
      } else if (sum < target) {
        left++;
      } else {
        right--;
      }
    }
    return pairs;
  }

  document.getElementById('findPairsButton').addEventListener('click', () => {
    const output = document.getElementById('output');
    output.textContent = '';
    try {
      const arrayStr = document.getElementById('arrayInput').value;
      const targetStr = document.getElementById('targetInput').value;

      if (!arrayStr.trim()) throw new Error('Please enter a sorted array.');
      if (!targetStr.trim()) throw new Error('Please enter a target sum.');

      const arr = parseArray(arrayStr);
      if (!arr.every((v,i,a)=> i===0 || v >= a[i-1])) {
        throw new Error('Array must be sorted in non-decreasing order.');
      }

      const target = Number(targetStr);
      if (!Number.isInteger(target)) throw new Error('Target sum must be an integer.');

      const pairs = twoPointersFindPairs(arr, target);

      if (pairs.length === 0) {
        output.textContent = `No pairs sum to ${target}.`;
      } else {
        output.textContent = `Pairs that sum to ${target}:\n` + pairs.map(p => p.join(' + ') + ' = ' + target).join('\n');
      }
    } catch (e) {
      output.textContent = 'Error: ' + e.message;
    }
  });
</script>
</body>
</html>