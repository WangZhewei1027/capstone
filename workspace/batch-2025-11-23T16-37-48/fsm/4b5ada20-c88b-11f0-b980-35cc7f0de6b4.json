{
  "topic": "Deque",
  "description": "Finite state machine modeling the interactive double-ended queue (Deque) visualization with push/pop at front and rear, clear, input entry, animations and message feedback.",
  "states": [
    {
      "name": "idle_empty",
      "onEnter": "updateButtonsState",
      "onExit": "noop",
      "on": {
        "PUSH_FRONT_CLICKED": "inserting_front",
        "PUSH_BACK_CLICKED": "inserting_rear",
        "POP_FRONT_CLICKED": "idle_empty",
        "POP_BACK_CLICKED": "idle_empty",
        "CLEAR_CLICKED": "idle_empty",
        "INPUT_ENTER": "inserting_rear"
      }
    },
    {
      "name": "idle_nonempty",
      "onEnter": "updateButtonsState",
      "onExit": "noop",
      "on": {
        "PUSH_FRONT_CLICKED": "inserting_front",
        "PUSH_BACK_CLICKED": "inserting_rear",
        "POP_FRONT_CLICKED": "removing_front",
        "POP_BACK_CLICKED": "removing_rear",
        "CLEAR_CLICKED": "clearing",
        "INPUT_ENTER": "inserting_rear"
      }
    },
    {
      "name": "inserting_front",
      "onEnter": "setAnimatingTrue; clearMessage; animatePushFront(valueFromInput)",
      "onExit": "setAnimatingFalse; deque.unshift(valueFromInput); updateButtonsState; setMessageSuccessPushFront",
      "on": {
        "ANIMATION_END_PUSH_FRONT": "idle_nonempty",
        "ANIMATION_END": "idle_nonempty",
        "ANIMATION_ERROR": "idle_nonempty"
      }
    },
    {
      "name": "inserting_rear",
      "onEnter": "setAnimatingTrue; clearMessage; animatePushBack(valueFromInput)",
      "onExit": "setAnimatingFalse; deque.push(valueFromInput); updateButtonsState; setMessageSuccessPushBack",
      "on": {
        "ANIMATION_END_PUSH_BACK": "idle_nonempty",
        "ANIMATION_END": "idle_nonempty",
        "ANIMATION_ERROR": "idle_nonempty"
      }
    },
    {
      "name": "removing_front",
      "onEnter": "setAnimatingTrue; clearMessage; animatePopFront()",
      "onExit": "setAnimatingFalse; deque.shift(); updateButtonsState; setMessageSuccessPopFront",
      "on": {
        "ANIMATION_END_POP_FRONT": "idle_nonempty",
        "ANIMATION_END": "idle_nonempty",
        "ANIMATION_ERROR": "idle_nonempty"
      }
    },
    {
      "name": "removing_rear",
      "onEnter": "setAnimatingTrue; clearMessage; animatePopBack()",
      "onExit": "setAnimatingFalse; deque.pop(); updateButtonsState; setMessageSuccessPopBack",
      "on": {
        "ANIMATION_END_POP_BACK": "idle_nonempty",
        "ANIMATION_END": "idle_nonempty",
        "ANIMATION_ERROR": "idle_nonempty"
      }
    },
    {
      "name": "clearing",
      "onEnter": "setAnimatingTrue; clearMessage; animateClear()",
      "onExit": "setAnimatingFalse; deque.clear; updateButtonsState; setMessageCleared",
      "on": {
        "ANIMATION_END_CLEAR": "idle_empty",
        "ANIMATION_END": "idle_empty",
        "ANIMATION_ERROR": "idle_nonempty"
      }
    },
    {
      "name": "error_shown",
      "onEnter": "setAnimatingFalse; updateButtonsState; setMessageError",
      "onExit": "clearMessage",
      "on": {
        "ACKNOWLEDGE_ERROR": "idle_empty",
        "ACKNOWLEDGE_ERROR_NONEMPTY": "idle_nonempty"
      }
    }
  ],
  "events": [
    "PUSH_FRONT_CLICKED",
    "PUSH_BACK_CLICKED",
    "POP_FRONT_CLICKED",
    "POP_BACK_CLICKED",
    "CLEAR_CLICKED",
    "INPUT_ENTER",
    "ANIMATION_END_PUSH_FRONT",
    "ANIMATION_END_PUSH_BACK",
    "ANIMATION_END_POP_FRONT",
    "ANIMATION_END_POP_BACK",
    "ANIMATION_END_CLEAR",
    "ANIMATION_END",
    "ANIMATION_ERROR",
    "ACKNOWLEDGE_ERROR"
  ],
  "triggers": {
    "PUSH_FRONT_CLICKED": "#pushFrontBtn",
    "PUSH_BACK_CLICKED": "#pushBackBtn",
    "POP_FRONT_CLICKED": "#popFrontBtn",
    "POP_BACK_CLICKED": "#popBackBtn",
    "CLEAR_CLICKED": "#clearBtn",
    "INPUT_ENTER": "#inputValue",
    "ANIMATION_END_PUSH_FRONT": ".node.slide-in-front",
    "ANIMATION_END_PUSH_BACK": ".node.slide-in-rear",
    "ANIMATION_END_POP_FRONT": ".node.fade-out, .node.removing",
    "ANIMATION_END_POP_BACK": ".node.fade-out, .node.removing",
    "ANIMATION_END_CLEAR": ".node.fade-out, .node.removing",
    "ANIMATION_END": ".node.slide-in-front, .node.slide-in-rear, .node.fade-out",
    "ANIMATION_ERROR": ".node",
    "ACKNOWLEDGE_ERROR": "#message"
  },
  "notes": "triggers map UI events to actual DOM selectors present in the HTML. Selectors extracted: #pushFrontBtn, #pushBackBtn, #popFrontBtn, #popBackBtn, #clearBtn, #inputValue, #deque, #message, .node, .node.inserting, .node.removing, .node.slide-in-front, .node.slide-in-rear, .node.fade-out"
}