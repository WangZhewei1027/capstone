{
  "topic": "Stack Playground Interactive FSM",
  "description": "Finite state machine modeling the interactive states and transitions of a stack visualization playground (push/pop/peek, configuration, animations, algorithm runner and error handling).",
  "states": [
    {
      "name": "idle",
      "onEnter": "updateUI",
      "onExit": "noop",
      "on": {
        "PUSH_CLICK": "validating",
        "POP_CLICK": "popping",
        "PEEK_CLICK": "peeking",
        "RUN_ALGO_CLICK": "runningAlgorithm",
        "MODE_CHANGE": "idle",
        "MAXSIZE_CHANGE": "idle",
        "INPUT_CHANGE": "idle",
        "RESET": "idle",
        "STOP_CLICK": "idle"
      }
    },
    {
      "name": "validating",
      "onEnter": "validateInput",
      "onExit": "noop",
      "on": {
        "VALID_INPUT": "pushing",
        "INVALID_INPUT": "inputError",
        "CANCEL": "idle"
      }
    },
    {
      "name": "pushing",
      "onEnter": "performPushAndAnimate",
      "onExit": "updateSizeBadge",
      "on": {
        "ANIMATION_END": "idle",
        "PUSH_ERROR_OVERFLOW": "overflow",
        "PUSH_ERROR_UNKNOWN": "inputError",
        "CANCEL": "idle"
      }
    },
    {
      "name": "popping",
      "onEnter": "performPopAndAnimate",
      "onExit": "updateSizeBadge",
      "on": {
        "ANIMATION_END": "idle",
        "POP_ERROR_UNDERFLOW": "underflow",
        "CANCEL": "idle"
      }
    },
    {
      "name": "peeking",
      "onEnter": "performPeek",
      "onExit": "noop",
      "on": {
        "PEEK_DONE": "idle",
        "PEEK_ERROR": "inputError",
        "CANCEL": "idle"
      }
    },
    {
      "name": "runningAlgorithm",
      "onEnter": "startAlgorithm",
      "onExit": "stopAlgorithm",
      "on": {
        "ALGORITHM_STEP": "runningAlgorithm",
        "ALGORITHM_DONE": "done",
        "PAUSE_CLICK": "paused",
        "STOP_CLICK": "idle",
        "STEP_CLICK": "runningAlgorithm"
      }
    },
    {
      "name": "paused",
      "onEnter": "pauseAlgorithm",
      "onExit": "noop",
      "on": {
        "RESUME_CLICK": "runningAlgorithm",
        "STOP_CLICK": "idle",
        "STEP_CLICK": "runningAlgorithm",
        "RESET": "idle"
      }
    },
    {
      "name": "inputError",
      "onEnter": "showInputError",
      "onExit": "clearError",
      "on": {
        "INPUT_CHANGE": "validating",
        "ACK_ERROR": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "overflow",
      "onEnter": "showOverflowError",
      "onExit": "clearError",
      "on": {
        "MAXSIZE_CHANGE": "validating",
        "ACK_ERROR": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "underflow",
      "onEnter": "showUnderflowError",
      "onExit": "clearError",
      "on": {
        "ACK_ERROR": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "done",
      "onEnter": "showCompletion",
      "onExit": "clearCompletion",
      "on": {
        "ACK_DONE": "idle",
        "RESET": "idle",
        "STOP_CLICK": "idle"
      }
    }
  ],
  "events": [
    "PUSH_CLICK",
    "POP_CLICK",
    "PEEK_CLICK",
    "RUN_ALGO_CLICK",
    "MODE_CHANGE",
    "MAXSIZE_CHANGE",
    "INPUT_CHANGE",
    "VALID_INPUT",
    "INVALID_INPUT",
    "CANCEL",
    "ANIMATION_END",
    "PUSH_ERROR_OVERFLOW",
    "PUSH_ERROR_UNKNOWN",
    "POP_ERROR_UNDERFLOW",
    "PEEK_DONE",
    "PEEK_ERROR",
    "ALGORITHM_STEP",
    "ALGORITHM_DONE",
    "PAUSE_CLICK",
    "STOP_CLICK",
    "RESUME_CLICK",
    "STEP_CLICK",
    "ACK_ERROR",
    "ACK_DONE",
    "RESET"
  ],
  "notes": "This FSM is derived from the provided HTML controls (mode select, max size, value input, push button) and the application's described capabilities (push, pop, peek, animations, algorithm runner). Validation is represented as a separate 'validating' state that emits VALID_INPUT or INVALID_INPUT. Animation-driven transitions use ANIMATION_END. Error states (inputError, overflow, underflow) present and clear errors and accept user acknowledgements or corrective input. Algorithm execution supports step, pause/resume, and completion. Some actions and events (e.g., algorithm controls) are inferred from the app description rather than explicit HTML in the snippet."
}