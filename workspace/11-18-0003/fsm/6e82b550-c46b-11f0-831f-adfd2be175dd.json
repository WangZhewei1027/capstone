{
  "topic": "Interactive Queue Playground",
  "description": "FSM modeling the interactive states and transitions of a queue visualization/playground (enqueue, dequeue, animations, playback, controls, error and completion handling).",
  "states": [
    {
      "name": "idle",
      "onEnter": "updateUI",
      "onExit": "noop",
      "on": {
        "CLICK_ENQUEUE": "enqueueing",
        "CLICK_DEQUEUE": "dequeuing",
        "CLICK_CLEAR": "clearing",
        "CLICK_RANDOMIZE": "randomizing",
        "CLICK_PLAY": "playing",
        "CLICK_STEP": "step",
        "INPUT_SUBMIT": "loading",
        "RESIZE": "noop",
        "ERROR_OCCURRED": "error"
      }
    },
    {
      "name": "enqueueing",
      "onEnter": "startEnqueueAnimation_and_enqueueItem",
      "onExit": "finishEnqueueAnimation_and_updateUI",
      "on": {
        "ANIMATION_END": "idle",
        "ERROR_OCCURRED": "error",
        "QUEUE_FULL": "error",
        "CLICK_CLEAR": "clearing",
        "CLICK_PAUSE": "paused",
        "CLICK_PLAY": "playing"
      }
    },
    {
      "name": "dequeuing",
      "onEnter": "startDequeueAnimation_and_dequeueItem",
      "onExit": "finishDequeueAnimation_and_updateUI",
      "on": {
        "ANIMATION_END": "idle",
        "QUEUE_EMPTY": "done",
        "ERROR_OCCURRED": "error",
        "CLICK_CLEAR": "clearing",
        "CLICK_PAUSE": "paused",
        "CLICK_PLAY": "playing"
      }
    },
    {
      "name": "playing",
      "onEnter": "startAutoRun",
      "onExit": "stopAutoRun",
      "on": {
        "TIME_TICK": "dequeuing",
        "CLICK_PAUSE": "paused",
        "CLICK_STOP": "idle",
        "CLICK_CLEAR": "clearing",
        "QUEUE_EMPTY": "done",
        "ERROR_OCCURRED": "error",
        "CLICK_ENQUEUE": "enqueueing",
        "CLICK_STEP": "step"
      }
    },
    {
      "name": "paused",
      "onEnter": "stopAutoRun",
      "onExit": "noop",
      "on": {
        "CLICK_PLAY": "playing",
        "CLICK_STEP": "step",
        "CLICK_ENQUEUE": "enqueueing",
        "CLICK_DEQUEUE": "dequeuing",
        "CLICK_CLEAR": "clearing",
        "ERROR_OCCURRED": "error"
      }
    },
    {
      "name": "step",
      "onEnter": "stepOnce_and_startRelevantAnimation",
      "onExit": "finishStep_and_updateUI",
      "on": {
        "ANIMATION_END": "idle",
        "ERROR_OCCURRED": "error",
        "CLICK_CLEAR": "clearing"
      }
    },
    {
      "name": "loading",
      "onEnter": "loadInput_and_validate",
      "onExit": "noop",
      "on": {
        "LOAD_COMPLETE": "idle",
        "LOAD_ERROR": "error",
        "ERROR_OCCURRED": "error",
        "CLICK_CLEAR": "clearing"
      }
    },
    {
      "name": "clearing",
      "onEnter": "startClearQueue_and_animateClear",
      "onExit": "finishClear_and_updateUI",
      "on": {
        "CLEAR_COMPLETE": "idle",
        "ANIMATION_END": "idle",
        "ERROR_OCCURRED": "error"
      }
    },
    {
      "name": "randomizing",
      "onEnter": "startRandomize_and_updateModel",
      "onExit": "finishRandomize_and_updateUI",
      "on": {
        "RANDOMIZE_COMPLETE": "idle",
        "ANIMATION_END": "idle",
        "ERROR_OCCURRED": "error"
      }
    },
    {
      "name": "error",
      "onEnter": "showError",
      "onExit": "hideError",
      "on": {
        "RESET": "idle",
        "CLICK_CLEAR": "clearing",
        "CLICK_ENQUEUE": "enqueueing",
        "CLICK_PLAY": "playing"
      }
    },
    {
      "name": "done",
      "onEnter": "showDoneState",
      "onExit": "hideDoneState",
      "on": {
        "CLICK_ENQUEUE": "enqueueing",
        "CLICK_CLEAR": "clearing",
        "CLICK_PLAY": "playing",
        "CLICK_STEP": "step",
        "RESET": "idle"
      }
    }
  ],
  "events": [
    "CLICK_ENQUEUE",
    "CLICK_DEQUEUE",
    "CLICK_CLEAR",
    "CLICK_RANDOMIZE",
    "CLICK_PLAY",
    "CLICK_PAUSE",
    "CLICK_STEP",
    "CLICK_STOP",
    "INPUT_SUBMIT",
    "ANIMATION_START",
    "ANIMATION_END",
    "TIME_TICK",
    "LOAD_COMPLETE",
    "LOAD_ERROR",
    "CLEAR_COMPLETE",
    "RANDOMIZE_COMPLETE",
    "ERROR_OCCURRED",
    "RESET",
    "QUEUE_FULL",
    "QUEUE_EMPTY",
    "RESIZE"
  ],
  "notes": "This FSM is generated from the interactive queue playground UI. Actions are named to indicate UI/model operations (e.g., startEnqueueAnimation_and_enqueueItem). Some transitions (like detecting QUEUE_FULL/QUEUE_EMPTY) are represented as events emitted by validation or animation completion. Where UI/animation origin affects the next state, conservative generic transitions are used (ANIMATION_END -> idle) and special events (QUEUE_EMPTY, CLEAR_COMPLETE, etc.) move to end/done states. Implementation should raise QUEUE_FULL/QUEUE_EMPTY/ANIMATION_END events as appropriate."
}