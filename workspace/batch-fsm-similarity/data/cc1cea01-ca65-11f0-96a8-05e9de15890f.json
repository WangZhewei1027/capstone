{
  "id": "cc1cea01-ca65-11f0-96a8-05e9de15890f",
  "timestamp": "2025-11-26T01:21:16.913Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Set",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Interactive Demo: JavaScript Set</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    body { font-family: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial; margin: 20px; color:#0b0b0b; }\n    h1 { margin: 0 0 6px 0; font-size: 20px; }\n    p.lead { margin: 6px 0 18px 0; color:#444; }\n    .container { display:flex; gap:20px; flex-wrap:wrap; }\n    .box { border:1px solid #ddd; padding:12px; border-radius:8px; background:#fff; width: 460px; box-shadow: 0 1px 3px rgba(0,0,0,0.03); }\n    label { display:block; margin:8px 0 4px 0; font-weight:600; font-size:13px; }\n    select,input[type=\"text\"],button { padding:8px 10px; font-size:13px; border-radius:6px; border:1px solid #ccc; }\n    button { cursor:pointer; }\n    .row { display:flex; gap:8px; align-items:center; margin-top:8px; }\n    .small { font-size:13px; color:#333; }\n    .list { margin-top:10px; background:#f9f9f9; padding:10px; border-radius:6px; min-height:36px; max-height:220px; overflow:auto; border:1px dashed #eee; }\n    .item { padding:6px 8px; background:white; border-radius:6px; margin:6px 0; border:1px solid #eee; display:flex; justify-content:space-between; align-items:center; gap:8px; }\n    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, \"Roboto Mono\", monospace; color:#1a1a1a; }\n    .badge { font-size:12px; padding:4px 6px; border-radius:6px; background:#eef3ff; color:#1b4bdb; border:1px solid #dbeaff; }\n    .muted { color:#666; font-size:13px; }\n    .controls { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }\n    .ops { display:flex; gap:6px; flex-wrap:wrap; margin-top:8px; }\n    .result { margin-top:10px; padding:10px; border-radius:6px; background:#fcfcff; border:1px solid #eef; }\n    .note { margin-top:10px; font-size:13px; color:#444; }\n    .pool { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }\n    .pill { padding:6px 8px; border-radius:14px; background:#f1f5f9; border:1px solid #e2e8f0; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, \"Roboto Mono\", monospace; }\n    footer { margin-top:18px; font-size:13px; color:#555; }\n    a { color:#1b4bdb; text-decoration:none; }\n  </style>\n</head>\n<body>\n  <h1>JavaScript Set — Interactive Playground</h1>\n  <p class=\"lead\">Explore how ES6 Set works: uniqueness, insertion order, reference equality for objects, special values like NaN and ±0, and common set operations.</p>\n\n  <div class=\"container\">\n    <div class=\"box\" id=\"box-a\">\n      <h2 style=\"margin:0;font-size:16px;\">Set A <span class=\"badge\" id=\"size-a\">size: 0</span></h2>\n      <label>Choose value type</label>\n      <div class=\"row\">\n        <select id=\"type-a\">\n          <option value=\"string\">String</option>\n          <option value=\"number\">Number</option>\n          <option value=\"boolean\">Boolean</option>\n          <option value=\"nan\">NaN</option>\n          <option value=\"posZero\">+0</option>\n          <option value=\"negZero\">-0</option>\n          <option value=\"object\">New Object (unique)</option>\n          <option value=\"reuseObject\">Pick existing object (reference)</option>\n          <option value=\"array\">New Array (unique)</option>\n        </select>\n        <input id=\"value-a\" type=\"text\" placeholder=\"text or number\" />\n        <button id=\"add-a\">Add → A</button>\n        <button id=\"del-a\">Delete from A</button>\n      </div>\n\n      <label class=\"muted\">Object pool (created objects you may reuse)</label>\n      <div class=\"row\">\n        <button id=\"create-obj\">Create new object in pool</button>\n        <select id=\"pool\" style=\"min-width:160px;\"></select>\n      </div>\n\n      <div class=\"controls\">\n        <button id=\"has-a\">Has?</button>\n        <button id=\"clear-a\">Clear A</button>\n        <button id=\"to-array-a\">Convert A → Array</button>\n        <button id=\"iterate-a\">Show iteration</button>\n      </div>\n\n      <div class=\"list\" id=\"list-a\" aria-live=\"polite\"></div>\n\n      <div class=\"note\" id=\"note-a\">\n        Tip: Sets store unique values. For objects and arrays equality is by reference, not structure.\n      </div>\n    </div>\n\n    <div class=\"box\" id=\"box-b\">\n      <h2 style=\"margin:0;font-size:16px;\">Set B <span class=\"badge\" id=\"size-b\">size: 0</span></h2>\n      <label>Quick operations to compare A and B</label>\n      <div class=\"row\">\n        <button id=\"create-sample-b\">Add sample items to B</button>\n        <button id=\"clear-b\">Clear B</button>\n      </div>\n\n      <div class=\"ops\">\n        <button id=\"union\">A ∪ B (Union)</button>\n        <button id=\"intersection\">A ∩ B (Intersection)</button>\n        <button id=\"difference\">A \\\\ B (Difference)</button>\n        <button id=\"symmetric\">Symmetric Difference</button>\n      </div>\n\n      <div class=\"list\" id=\"list-b\"></div>\n\n      <div class=\"result\" id=\"result\"></div>\n    </div>\n  </div>\n\n  <footer>\n    Quick facts: \n    - Iteration order = insertion order. \n    - NaN is considered equal to NaN in a Set. \n    - +0 and -0 are treated as the same value.\n    - WeakSet can't be iterated; it's for object references only.\n  </footer>\n\n  <script>\n    // Core sets\n    const A = new Set();\n    const B = new Set();\n\n    // Pool of created objects (to demonstrate reference equality)\n    const objectPool = [];\n\n    // DOM refs\n    const sizeA = document.getElementById('size-a');\n    const sizeB = document.getElementById('size-b');\n    const listA = document.getElementById('list-a');\n    const listB = document.getElementById('list-b');\n    const result = document.getElementById('result');\n    const poolSelect = document.getElementById('pool');\n\n    // Helpers\n    function fmtValue(v) {\n      // produce a display-friendly string and a small description\n      if (typeof v === 'string') return '\"' + v + '\"';\n      if (typeof v === 'number') {\n        if (Number.isNaN(v)) return 'NaN';\n        // Show -0 explicitly if negative zero\n        if (Object.is(v, -0)) return '-0';\n        return String(v);\n      }\n      if (typeof v === 'boolean') return String(v);\n      if (typeof v === 'symbol') return v.toString();\n      if (Array.isArray(v)) return 'Array[' + v.length + '] ' + JSON.stringify(v);\n      if (v && typeof v === 'object') {\n        // assume it's from pool and has an id\n        if (v._id !== undefined) return 'Object{id:' + v._id + '} ' + JSON.stringify(v);\n        return 'Object ' + JSON.stringify(v);\n      }\n      return String(v);\n    }\n\n    function updateDisplays() {\n      sizeA.textContent = 'size: ' + A.size;\n      sizeB.textContent = 'size: ' + B.size;\n      listA.innerHTML = '';\n      listB.innerHTML = '';\n\n      for (const v of A) {\n        const el = document.createElement('div');\n        el.className = 'item';\n        el.innerHTML = '<div class=\"mono\">' + escapeHtml(fmtValue(v)) + '</div><div class=\"muted\">' + typeofDisplay(v) + '</div>';\n        listA.appendChild(el);\n      }\n      for (const v of B) {\n        const el = document.createElement('div');\n        el.className = 'item';\n        el.innerHTML = '<div class=\"mono\">' + escapeHtml(fmtValue(v)) + '</div><div class=\"muted\">' + typeofDisplay(v) + '</div>';\n        listB.appendChild(el);\n      }\n    }\n\n    function typeofDisplay(v) {\n      if (typeof v === 'object') {\n        if (v === null) return 'null';\n        if (Array.isArray(v)) return 'array';\n        return 'object';\n      }\n      return typeof v;\n    }\n\n    function escapeHtml(s) {\n      return String(s).replace(/[&<>\"']/g, function (m) { return ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',\"'\":'&#39;'}[m]); });\n    }\n\n    // Add event handlers\n    document.getElementById('add-a').addEventListener('click', () => {\n      const type = document.getElementById('type-a').value;\n      const txt = document.getElementById('value-a').value;\n      let val = interpretValue(type, txt);\n      A.add(val);\n      updateDisplays();\n      showResult('Added to A: ' + fmtValue(val));\n    });\n\n    document.getElementById('del-a').addEventListener('click', () => {\n      const type = document.getElementById('type-a').value;\n      const txt = document.getElementById('value-a').value;\n      let val = interpretValue(type, txt);\n      const ok = A.delete(val);\n      updateDisplays();\n      showResult(ok ? 'Deleted from A: ' + fmtValue(val) : 'Not found in A: ' + fmtValue(val));\n    });\n\n    document.getElementById('has-a').addEventListener('click', () => {\n      const type = document.getElementById('type-a').value;\n      const txt = document.getElementById('value-a').value;\n      let val = interpretValue(type, txt);\n      showResult('A.has(' + fmtValue(val) + ') → ' + A.has(val));\n    });\n\n    document.getElementById('clear-a').addEventListener('click', () => {\n      A.clear();\n      updateDisplays();\n      showResult('Cleared A');\n    });\n\n    document.getElementById('clear-b').addEventListener('click', () => {\n      B.clear();\n      updateDisplays();\n      showResult('Cleared B');\n    });\n\n    document.getElementById('to-array-a').addEventListener('click', () => {\n      const arr = Array.from(A);\n      showResult('Array.from(A): [' + arr.map(fmtValue).join(', ') + ']');\n    });\n\n    document.getElementById('iterate-a').addEventListener('click', () => {\n      let s = '';\n      for (const v of A) s += fmtValue(v) + ' ← ';\n      s = s ? s.slice(0, -3) : '(empty)';\n      showResult('Iterating A: ' + s);\n    });\n\n    document.getElementById('create-obj').addEventListener('click', () => {\n      const id = objectPool.length + 1;\n      const obj = { _id: id, timestamp: Date.now() };\n      objectPool.push(obj);\n      const opt = document.createElement('option');\n      opt.value = objectPool.length - 1;\n      opt.textContent = 'Object{id:' + id + '}';\n      poolSelect.appendChild(opt);\n      poolSelect.value = objectPool.length - 1;\n      showResult('Created ' + fmtValue(obj) + ' in pool');\n    });\n\n    // Create sample items in B for set operations\n    document.getElementById('create-sample-b').addEventListener('click', () => {\n      B.clear();\n      B.add(1);\n      B.add(2);\n      B.add('a');\n      B.add('b');\n      // reuse a previously created object if any, else create one and reuse it\n      if (objectPool.length === 0) {\n        const obj = { _id: 999 };\n        objectPool.push(obj);\n        const opt = document.createElement('option');\n        opt.value = objectPool.length - 1;\n        opt.textContent = 'Object{id:' + obj._id + '}';\n        poolSelect.appendChild(opt);\n      }\n      B.add(objectPool[0]);\n      updateDisplays();\n      showResult('B populated with sample items (1,2,\"a\",\"b\",object)');\n    });\n\n    // Set operations\n    document.getElementById('union').addEventListener('click', () => {\n      const u = union(A, B);\n      showResultSet('A ∪ B', u);\n    });\n\n    document.getElementById('intersection').addEventListener('click', () => {\n      const i = intersection(A, B);\n      showResultSet('A ∩ B', i);\n    });\n\n    document.getElementById('difference').addEventListener('click', () => {\n      const d = difference(A, B);\n      showResultSet('A \\\\ B', d);\n    });\n\n    document.getElementById('symmetric').addEventListener('click', () => {\n      const s = symmetricDifference(A, B);\n      showResultSet('A △ B (symmetric difference)', s);\n    });\n\n    // Utility: interpret typed input based on selected type\n    function interpretValue(type, txt) {\n      switch (type) {\n        case 'string': return String(txt);\n        case 'number': return Number(txt); // parse to number (NaN if invalid)\n        case 'boolean': return txt.toLowerCase() === 'true' || txt === '1';\n        case 'nan': return NaN;\n        case 'posZero': return +0;\n        case 'negZero': return -0;\n        case 'object':\n          // create a new unique object each time\n          const id = objectPool.length + 1;\n          const obj = { _id: id, created: 'new' };\n          objectPool.push(obj);\n          // also add to pool select\n          const opt = document.createElement('option');\n          opt.value = objectPool.length - 1;\n          opt.textContent = 'Object{id:' + obj._id + '}';\n          poolSelect.appendChild(opt);\n          return obj;\n        case 'reuseObject':\n          const idx = parseInt(poolSelect.value, 10);\n          return objectPool[idx];\n        case 'array':\n          // new array from comma-separated values\n          const arr = txt ? txt.split(',').map(s => s.trim()) : [];\n          return arr;\n        default:\n          return txt;\n      }\n    }\n\n    // Set operation helpers\n    function union(s1, s2) {\n      const out = new Set(s1);\n      for (const v of s2) out.add(v);\n      return out;\n    }\n    function intersection(s1, s2) {\n      const out = new Set();\n      for (const v of s1) if (s2.has(v)) out.add(v);\n      return out;\n    }\n    function difference(s1, s2) {\n      const out = new Set();\n      for (const v of s1) if (!s2.has(v)) out.add(v);\n      return out;\n    }\n    function symmetricDifference(s1, s2) {\n      // (A \\ B) ∪ (B \\ A)\n      const d1 = difference(s1, s2);\n      const d2 = difference(s2, s1);\n      return union(d1, d2);\n    }\n\n    // Display helpers\n    function showResult(msg) {\n      result.textContent = msg;\n    }\n    function showResultSet(title, setObj) {\n      const arr = Array.from(setObj);\n      showResult(title + ' → [' + arr.map(fmtValue).join(', ') + '] (size=' + setObj.size + ')');\n    }\n\n    // initialize displays\n    updateDisplays();\n    showResult('Ready — try adding values to Set A.');\n\n    // Small demonstration: add duplicate values and special cases\n    // (not executed automatically, but hint available)\n    // We'll provide a few quick example buttons via console-friendly instructions:\n    console.log('Demo hints:');\n    console.log(' - Add \"hello\" twice to see that Set keeps one instance.');\n    console.log(' - Choose NaN type and add twice: sets treat NaN as equal to NaN.');\n    console.log(' - Choose +0 then -0: they are treated as the same value.');\n    console.log(' - Create objects in pool and try adding same object to A and B to observe reference equality.');\n\n    // keyboard: Enter to add to A\n    document.getElementById('value-a').addEventListener('keydown', (e) => {\n      if (e.key === 'Enter') document.getElementById('add-a').click();\n    });\n\n    // Utility to keep pool select in sync (ensure at least one option)\n    if (poolSelect.options.length === 0) {\n      const opt = document.createElement('option');\n      opt.value = -1;\n      opt.textContent = '(empty)';\n      poolSelect.appendChild(opt);\n      poolSelect.value = -1;\n    }\n\n    // Observe mutations to sets rarely change pool; update displays on interval in case other code modifies\n    setInterval(updateDisplays, 500);\n\n    // Accessibility: visual explanation about NaN and zero behavior\n    const noteA = document.getElementById('note-a');\n    noteA.innerHTML = 'Tip: Sets use the \"Same-value-zero\" algorithm: NaN is equal to NaN (unlike ===), and +0 and -0 are treated the same. Objects and arrays are compared by reference.';\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Set"
    }
  ],
  "topic": "Set",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}