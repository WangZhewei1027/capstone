{
  "id": "cc1c74d1-ca65-11f0-96a8-05e9de15890f",
  "timestamp": "2025-11-26T01:20:37.818Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Stack",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Stack Visualizer — LIFO Data Structure</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --panel:#0b1220;\n      --accent:#38bdf8;\n      --muted:#94a3b8;\n      --ok:#10b981;\n      --danger:#fb7185;\n      --glass: rgba(255,255,255,0.03);\n      --card: #091025;\n    }\n    *{box-sizing:border-box;font-family:Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;}\n    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071021 0%, #081329 100%);color:#e6eef8;}\n    .app{\n      max-width:1100px;margin:28px auto;padding:20px;border-radius:12px;\n      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));\n      box-shadow: 0 8px 30px rgba(2,6,23,0.6);\n      display:grid;grid-template-columns:360px 1fr 360px;gap:18px;\n    }\n\n    /* Left - controls */\n    .panel{background:var(--panel);border-radius:10px;padding:14px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);}\n    .panel h2{margin:0 0 12px 0;font-size:18px;color:var(--accent)}\n    .controls label{display:block;font-size:12px;color:var(--muted);margin-top:8px}\n    .row{display:flex;gap:8px;align-items:center}\n    input[type=\"text\"], input[type=\"number\"], select{\n      width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;\n    }\n    button{\n      padding:10px 12px;border-radius:8px;border:0;background:var(--accent);color:#052034;font-weight:600;cursor:pointer;\n    }\n    button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);font-weight:600}\n    button.warn{background:var(--danger);color:#fff}\n    .small{font-size:13px;padding:8px 10px}\n    .muted{color:var(--muted);font-size:13px;margin-top:6px}\n    .spaced{margin-top:12px}\n    .controls .op-buttons{display:flex;gap:8px;margin-top:8px}\n    .info{background:var(--glass);padding:10px;border-radius:8px;margin-top:12px;font-size:13px;color:var(--muted)}\n\n    /* Middle - visualization */\n    .viz{\n      display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:18px;border-radius:10px;\n      min-height:420px;background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));\n    }\n    .stack-area{width:220px;height:420px;border-radius:10px;background:linear-gradient(180deg,#071426,#061224);display:flex;align-items:end;padding:12px;box-shadow:inset 0 6px 30px rgba(2,6,23,0.6)}\n    .stack{\n      width:100%;display:flex;flex-direction:column-reverse;align-items:center;justify-content:flex-start;padding-bottom:6px;position:relative;\n    }\n    .slot{\n      width:86%;height:44px;border-radius:8px;margin:6px 0;background:rgba(255,255,255,0.02);border:1px dashed rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center;color:var(--muted);font-weight:600;position:relative;\n      transition:transform 300ms ease, background-color 200ms ease, opacity 200ms ease;\n    }\n    .slot.filled{background:linear-gradient(90deg,#062e3b,#022f2f);border:1px solid rgba(255,255,255,0.04);color:#dff8ff}\n    .slot .value{font-size:16px;}\n    .top-indicator{\n      position:absolute;right:-38px;top:18px;background:rgba(0,0,0,0.45);padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);font-size:13px;color:var(--muted)\n    }\n    .arrow{display:inline-block;margin-left:6px;color:var(--accent);font-weight:700}\n    .slot.highlight{box-shadow:0 8px 30px rgba(56,189,248,0.08), 0 0 0 6px rgba(56,189,248,0.03);transform:translateY(-6px)}\n    .slot.removing{opacity:0;transform:translateX(18px) rotate(-6deg)}\n    .slot.adding{opacity:0;transform:translateX(-18px) rotate(6deg)}\n    .meta{margin-top:12px;display:flex;gap:10px;align-items:center;color:var(--muted);font-size:14px}\n    .meta .chip{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.02)}\n    /* Right - logs & details */\n    .log{height:380px;overflow:auto;padding:12px;border-radius:8px;background:linear-gradient(180deg,#041223,#041021);border:1px solid rgba(255,255,255,0.02);font-size:13px}\n    .log p{margin:6px 0}\n    .log .ok{color:var(--ok)}\n    .log .err{color:var(--danger)}\n    pre{white-space:pre-wrap;margin:0;font-size:13px;color:var(--muted)}\n    .complex{margin-top:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.004));padding:12px;border-radius:8px}\n    footer{grid-column:1/-1;color:var(--muted);font-size:13px;padding-top:12px;text-align:center}\n    /* small responsiveness */\n    @media (max-width:1100px){ .app{grid-template-columns:1fr;max-width:760px} .stack-area{margin:0 auto} .panel{margin-bottom:12px} }\n  </style>\n</head>\n<body>\n  <div class=\"app\" role=\"application\" aria-label=\"Stack visualizer\">\n    <!-- Left: Controls -->\n    <div class=\"panel\" aria-hidden=\"false\">\n      <h2>Stack Controls</h2>\n      <div class=\"controls\">\n        <label for=\"value\">Value to push</label>\n        <input id=\"value\" type=\"text\" placeholder=\"e.g. 42 or 'A'\">\n\n        <div class=\"op-buttons spaced\">\n          <button id=\"btnPush\" class=\"small\">Push</button>\n          <button id=\"btnPop\" class=\"small secondary\">Pop</button>\n          <button id=\"btnPeek\" class=\"small secondary\">Peek</button>\n          <button id=\"btnClear\" class=\"small warn\">Clear</button>\n        </div>\n\n        <label for=\"capacity\" class=\"spaced\">Capacity (max slots)</label>\n        <input id=\"capacity\" type=\"number\" min=\"1\" max=\"20\" value=\"8\">\n\n        <label for=\"animate\" class=\"spaced\">Animation</label>\n        <div class=\"row\">\n          <select id=\"animate\">\n            <option value=\"on\">On (smooth)</option>\n            <option value=\"off\">Off (instant)</option>\n          </select>\n          <input id=\"speed\" type=\"range\" min=\"50\" max=\"800\" value=\"300\" title=\"Animation speed (ms)\" style=\"width:100px\">\n        </div>\n\n        <div class=\"spaced\">\n          <label>Demo</label>\n          <div class=\"row\">\n            <button id=\"demoPush\" class=\"small secondary\">Auto Push Sequence</button>\n            <button id=\"demoPop\" class=\"small secondary\">Auto Pop Sequence</button>\n          </div>\n          <div class=\"muted\">Use demo to observe typical stack behavior.</div>\n        </div>\n\n        <div class=\"info spaced\">\n          This visualizer models a LIFO stack. Push adds to the top; Pop removes from the top. Try pushing beyond capacity to see overflow and popping from empty to see underflow.\n        </div>\n      </div>\n    </div>\n\n    <!-- Middle: Visualization -->\n    <div class=\"panel viz\" role=\"region\" aria-label=\"Stack visualization\">\n      <h2 style=\"color:var(--accent)\">Stack (LIFO)</h2>\n      <div class=\"stack-area\" aria-hidden=\"false\">\n        <div id=\"stackContainer\" class=\"stack\" role=\"list\" aria-label=\"Stack slots\">\n          <!-- slots rendered here -->\n        </div>\n        <div id=\"topIndicator\" class=\"top-indicator\" aria-hidden=\"true\">Top <span class=\"arrow\">▲</span></div>\n      </div>\n\n      <div class=\"meta\" aria-hidden=\"true\">\n        <div class=\"chip\">Size: <strong id=\"size\" style=\"margin-left:6px\">0</strong></div>\n        <div class=\"chip\">Capacity: <strong id=\"cap\" style=\"margin-left:6px\">8</strong></div>\n        <div class=\"chip\">Empty slots: <strong id=\"empty\" style=\"margin-left:6px\">8</strong></div>\n      </div>\n    </div>\n\n    <!-- Right: Logs & Complexity -->\n    <div class=\"panel\" role=\"region\" aria-label=\"Logs and details\">\n      <h2>Operations & Logs</h2>\n      <div class=\"log\" id=\"log\" tabindex=\"0\" role=\"log\" aria-live=\"polite\">\n        <p style=\"color:var(--muted)\">Ready. Stack is empty.</p>\n      </div>\n\n      <div class=\"complex\">\n        <h3 style=\"margin:0 0 8px 0;color:var(--accent);font-size:15px\">Complexity (Array-backed Stack)</h3>\n        <pre>\nPush:  O(1) amortized (unless dynamic resize)\nPop:   O(1)\nPeek:  O(1)\nSpace: O(n) for n elements (plus possible reserved capacity)\n        </pre>\n      </div>\n    </div>\n\n    <footer>Interactive demo — JavaScript array implementation with animations. Try different values and capacities.</footer>\n  </div>\n\n  <script>\n    // Stack visualizer script\n    (function(){\n      // Model\n      let stack = [];\n      let capacity = 8;\n      // DOM\n      const stackContainer = document.getElementById('stackContainer');\n      const sizeEl = document.getElementById('size');\n      const capEl = document.getElementById('cap');\n      const emptyEl = document.getElementById('empty');\n      const logEl = document.getElementById('log');\n      const valInput = document.getElementById('value');\n      const capInput = document.getElementById('capacity');\n      const animateSelect = document.getElementById('animate');\n      const speedInput = document.getElementById('speed');\n      const topIndicator = document.getElementById('topIndicator');\n\n      // Buttons\n      const btnPush = document.getElementById('btnPush');\n      const btnPop = document.getElementById('btnPop');\n      const btnPeek = document.getElementById('btnPeek');\n      const btnClear = document.getElementById('btnClear');\n      const demoPush = document.getElementById('demoPush');\n      const demoPop = document.getElementById('demoPop');\n\n      // Animation helpers\n      function animateEnabled(){ return animateSelect.value === 'on'; }\n      function anim(ms){ return new Promise(res => setTimeout(res, animateEnabled()?ms:1)); }\n\n      // Utility: escape text for safe display\n      function escapeHtml(s){\n        if (s === null || s === undefined) return '';\n        return String(s)\n          .replace(/&/g, \"&amp;\")\n          .replace(/</g, \"&lt;\")\n          .replace(/>/g, \"&gt;\");\n      }\n\n      // Render the stack slots (top is shown at top-right indicator)\n      function render(){\n        // reflect capacity, size\n        sizeEl.textContent = stack.length;\n        capEl.textContent = capacity;\n        emptyEl.textContent = Math.max(0, capacity - stack.length);\n\n        // clear container\n        stackContainer.innerHTML = '';\n        // render slots: show capacity slots, filled from bottom to top.\n        for (let i = 0; i < capacity; i++){\n          const slot = document.createElement('div');\n          slot.className = 'slot';\n          // we render bottom at index 0; our CSS uses column-reverse, so we map accordingly:\n          // index from 0 bottom -> slot order: bottom first element should be at the end visually\n          // Use column-reverse so we just push elements in an order that results in bottom rendering first.\n          const idxFromBottom = i;\n          // Determine if this slot corresponds to an element in stack\n          const stackIdx = idxFromBottom; // bottom=0,... top=stack.length-1\n          if (stackIdx < stack.length){\n            slot.classList.add('filled');\n            const val = document.createElement('div');\n            val.className = 'value';\n            val.innerHTML = escapeHtml(stack[stackIdx]);\n            slot.appendChild(val);\n            slot.setAttribute('role','listitem');\n          } else {\n            slot.textContent = '';\n            slot.setAttribute('aria-hidden','true');\n          }\n          stackContainer.appendChild(slot);\n        }\n\n        // top indicator placement\n        if (stack.length === 0){\n          topIndicator.style.display = 'none';\n        } else {\n          topIndicator.style.display = 'block';\n          // locate top slot position: we can compute approximate top slot element (last filled)\n          const slots = stackContainer.querySelectorAll('.slot');\n          // top slot corresponds to stack.length - 1 index (0-based bottom)\n          const topIndex = stack.length - 1;\n          const topSlot = slots[topIndex];\n          if (topSlot){\n            const rect = topSlot.getBoundingClientRect();\n            const contRect = stackContainer.getBoundingClientRect();\n            // position indicator relative to container\n            const topPos = topSlot.offsetTop; // distance from container top\n            topIndicator.style.top = (topPos + 8) + 'px';\n          }\n        }\n      }\n\n      // Logging\n      function log(message, type){\n        const p = document.createElement('p');\n        p.innerHTML = `<span style=\"color:var(--muted);font-size:12px\">[${(new Date()).toLocaleTimeString()}]</span> ${escapeHtml(message)}`;\n        if (type === 'err') p.className = 'err';\n        if (type === 'ok') p.className = 'ok';\n        logEl.appendChild(p);\n        logEl.scrollTop = logEl.scrollHeight;\n      }\n\n      // Push operation with animation that visually shows item coming to top\n      async function pushValue(value){\n        // treat empty string as explicit input allowed\n        if (value === undefined || value === null) return;\n        if (stack.length >= capacity){\n          log(`Push \"${value}\" — Overflow (capacity ${capacity})`, 'err');\n          flashSlot(null,'err');\n          return;\n        }\n        // Insert at top: since our stack array maps bottom->top at index 0..n-1, we do array push\n        // But for animation we will append a temporary element that animates into place.\n        stack.push(value);\n        log(`Push \"${value}\"`, 'ok');\n        render();\n        // highlight the new top slot briefly\n        await highlightTop('adding');\n      }\n\n      // Pop operation with animation\n      async function popValue(){\n        if (stack.length === 0){\n          log('Pop — Underflow (stack is empty)', 'err');\n          flashSlot(null,'err');\n          return undefined;\n        }\n        // Mark top removing visually, then remove\n        const value = stack[stack.length - 1];\n        log(`Pop -> \"${value}\"`, 'ok');\n        await highlightTop('removing');\n        stack.pop();\n        render();\n        return value;\n      }\n\n      // Peek operation (non-destructive)\n      function peekValue(){\n        if (stack.length === 0){\n          log('Peek — stack empty', 'err');\n          flashSlot(null,'err');\n          return undefined;\n        }\n        const value = stack[stack.length - 1];\n        log(`Peek -> \"${value}\"`, 'ok');\n        // temporary highlight\n        highlightTop('highlight');\n        return value;\n      }\n\n      // Clear stack\n      function clearStack(){\n        stack = [];\n        render();\n        log('Clear — stack emptied', 'ok');\n      }\n\n      // Visual helper: highlight top slot with different effects\n      async function highlightTop(effect){\n        // effect: 'adding' 'removing' 'highlight'\n        const slots = stackContainer.querySelectorAll('.slot');\n        const topIndex = stack.length - 1;\n        if (topIndex < 0) return;\n        const topSlot = slots[topIndex];\n        if (!topSlot) return;\n        const ms = Number(speedInput.value) || 300;\n\n        if (effect === 'adding'){\n          topSlot.classList.add('adding','filled');\n          // ensure value is shown (render already sets filled)\n          // animate: start with translated state, then remove class to animate in using CSS transition\n          await anim(20);\n          topSlot.classList.remove('adding');\n          // final highlight pop\n          topSlot.classList.add('highlight');\n          await anim(Math.min(ms,400));\n          topSlot.classList.remove('highlight');\n        } else if (effect === 'removing'){\n          topSlot.classList.add('removing');\n          await anim(Math.min(ms,400));\n          // removed in caller\n        } else { // highlight\n          topSlot.classList.add('highlight');\n          await anim(Math.min(ms,500));\n          topSlot.classList.remove('highlight');\n        }\n      }\n\n      // Flash empty container when error occurs\n      function flashSlot(_, type){\n        const container = stackContainer;\n        const orig = container.style.boxShadow;\n        container.style.transition = 'box-shadow 200ms ease';\n        if (type === 'err'){\n          container.style.boxShadow = '0 0 0 6px rgba(251,113,133,0.12)';\n        } else {\n          container.style.boxShadow = '0 0 0 6px rgba(16,185,129,0.12)';\n        }\n        setTimeout(()=>container.style.boxShadow = orig, 400);\n      }\n\n      // Event wiring\n      btnPush.addEventListener('click', async ()=>{\n        const val = valInput.value.trim();\n        if (val === '') {\n          // allow pushing empty string? let's warn\n          if (!confirm('Push an empty value? (OK to push empty string)')) return;\n        }\n        await pushValue(val);\n        valInput.value = '';\n        valInput.focus();\n      });\n\n      btnPop.addEventListener('click', async ()=>{\n        await popValue();\n      });\n\n      btnPeek.addEventListener('click', ()=>{\n        peekValue();\n      });\n\n      btnClear.addEventListener('click', ()=>{\n        if (!confirm('Clear the entire stack?')) return;\n        clearStack();\n      });\n\n      capInput.addEventListener('change', ()=>{\n        const v = Number(capInput.value) || 1;\n        if (v < 1) { capInput.value = 1; return; }\n        capacity = Math.max(1, Math.min(20, Math.floor(v)));\n        // if capacity decreased below current size, drop top elements\n        if (stack.length > capacity){\n          stack = stack.slice(0, capacity);\n          log(`Capacity decreased to ${capacity}; top elements dropped`, 'err');\n        } else {\n          log(`Capacity set to ${capacity}`, 'ok');\n        }\n        render();\n      });\n\n      // keyboard shortcuts: Enter to push, Ctrl+P pop, Ctrl+K peek\n      document.addEventListener('keydown', (e)=>{\n        if (e.key === 'Enter' && (document.activeElement === valInput)){\n          e.preventDefault();\n          btnPush.click();\n        }\n        if (e.ctrlKey && e.key.toLowerCase() === 'p'){ e.preventDefault(); btnPop.click(); }\n        if (e.ctrlKey && e.key.toLowerCase() === 'k'){ e.preventDefault(); btnPeek.click(); }\n      });\n\n      // Demos\n      demoPush.addEventListener('click', async ()=>{\n        // auto push a sequence until capacity\n        const items = ['A','B','C','D','E','F','G','H','I'];\n        for (let i=0;i<items.length;i++){\n          if (stack.length >= capacity) break;\n          await pushValue(items[i]);\n          await anim( Math.max(120, Number(speedInput.value)/2) );\n        }\n      });\n\n      demoPop.addEventListener('click', async ()=>{\n        // pop all items with delay\n        while (stack.length > 0){\n          await popValue();\n          await anim( Math.max(120, Number(speedInput.value)/2) );\n        }\n      });\n\n      // Initialize sample content\n      function init(){\n        capacity = Number(capInput.value) || 8;\n        render();\n        log('Ready. Use controls to push or pop values.');\n      }\n\n      // Provide an example implementation snippet accessible via console for curious users\n      window.stackDemo = {\n        push: pushValue,\n        pop: popValue,\n        peek: peekValue,\n        clear: clearStack,\n        getStack: ()=>stack.slice(),\n        setCapacity: (n)=>{ capInput.value = n; capInput.dispatchEvent(new Event('change')); }\n      };\n\n      init();\n\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Stack"
    }
  ],
  "topic": "Stack",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}