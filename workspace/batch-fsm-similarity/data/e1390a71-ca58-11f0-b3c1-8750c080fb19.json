{
  "id": "e1390a71-ca58-11f0-b3c1-8750c080fb19",
  "timestamp": "2025-11-25T23:46:41.752Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "K-Nearest Neighbors (KNN)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Nearest Neighbors (KNN) Demo</title>\n    <style>\n        body { font-family: Arial, sans-serif; }\n        #chart { width: 600px; height: 400px; border: 1px solid #ccc; position: relative; }\n        .point { position: absolute; border-radius: 50%; cursor: pointer; }\n        .point.labelA { background: blue; }\n        .point.labelB { background: red; }\n        .point.newPoint { border: 2px solid green; }\n        .knn { outline: 2px dashed yellow; }\n    </style>\n</head>\n<body>\n\n<h1>K-Nearest Neighbors (KNN) Demonstration</h1>\n<p>Click on the chart to add points. The blue points belong to class A and the red points belong to class B. Click on the \"Classify New Point\" button to classify a new point based on the KNN algorithm.</p>\n\n<div id=\"chart\"></div>\n<button onclick=\"classifyNewPoint()\">Classify New Point</button>\n\n<script>\n    const points = [];\n    let newPoint = null;\n    const K = 3;\n\n    const chart = document.getElementById('chart');\n    \n    chart.addEventListener('click', (event) => {\n        const rect = chart.getBoundingClientRect();\n        const x = event.clientX - rect.left;\n        const y = event.clientY - rect.top;\n\n        const label = points.length % 2 === 0 ? 'A' : 'B';\n        addPoint(x, y, label);\n    });\n\n    function addPoint(x, y, label) {\n        points.push({x, y, label});\n        renderPoint(x, y, label);\n    }\n\n    function renderPoint(x, y, label) {\n        const point = document.createElement('div');\n        point.classList.add('point', `label${label}`, `point-(${x}-${y})`);\n        point.style.left = `${x}px`;\n        point.style.top = `${y}px`;\n        point.style.width = '10px';\n        point.style.height = '10px';\n        chart.appendChild(point);\n    }\n\n    function classifyNewPoint() {\n        if (!newPoint) {\n            // Generate a random new point\n            newPoint = {\n                x: Math.random() * chart.clientWidth,\n                y: Math.random() * chart.clientHeight\n            };\n            renderPoint(newPoint.x, newPoint.y, 'newPoint');\n\n            // Classify the new point\n            const classifiedAs = classify(newPoint);\n            alert(`The new point is classified as: ${classifiedAs}`);\n        }\n    }\n\n    function classify(point) {\n        // Calculate distances to all existing points\n        const distances = points.map(p => {\n            return {\n                label: p.label,\n                distance: Math.sqrt((p.x - point.x) ** 2 + (p.y - point.y) ** 2)\n            };\n        });\n\n        // Sort by distance\n        distances.sort((a, b) => a.distance - b.distance);\n\n        // Get the labels of the K nearest neighbors\n        const nearestNeighbors = distances.slice(0, K);\n        \n        // Count the votes for each label\n        const votes = {};\n        nearestNeighbors.forEach(neighbor => {\n            votes[neighbor.label] = (votes[neighbor.label] || 0) + 1;\n        });\n\n        // Determine the class with the highest votes\n        return Object.keys(votes).reduce((a, b) => votes[a] > votes[b] ? a : b);\n    }\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Nearest Neighbors (KNN)"
    }
  ],
  "topic": "K-Nearest Neighbors (KNN)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}