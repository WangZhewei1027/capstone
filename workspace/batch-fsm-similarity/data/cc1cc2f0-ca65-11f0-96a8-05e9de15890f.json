{
  "id": "cc1cc2f0-ca65-11f0-96a8-05e9de15890f",
  "timestamp": "2025-11-26T01:20:33.861Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Deque",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <title>Deque (Double-Ended Queue) â€” Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n  <style>\n    :root{\n      --bg:#0f1724;\n      --card:#0b1220;\n      --accent:#22c1c3;\n      --muted:#94a3b8;\n      --glass: rgba(255,255,255,0.03);\n      --green:#10b981;\n      --red:#ef4444;\n    }\n    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial;}\n    body{background:\n      linear-gradient(180deg,#071025 0%, #04111b 40%),\n      radial-gradient(600px 400px at 10% 20%, rgba(34,193,195,0.06), transparent 8%),\n      radial-gradient(400px 300px at 90% 80%, rgba(59,130,246,0.03), transparent 10%);\n      color:#e6eef6; padding:28px; box-sizing:border-box;}\n    .container{max-width:1100px;margin:0 auto;}\n    header{display:flex;align-items:center;gap:18px;margin-bottom:18px;}\n    h1{font-size:20px;margin:0;}\n    p.lead{margin:0;color:var(--muted);font-size:13px;}\n    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); padding:16px;border-radius:10px;box-shadow: 0 6px 18px rgba(2,6,23,0.6); margin-bottom:16px;}\n    .controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center;}\n    input[type=\"text\"]{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;min-width:140px;}\n    button{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05));border:1px solid rgba(255,255,255,0.05);color:inherit;padding:8px 12px;border-radius:8px;cursor:pointer;}\n    button:active{transform:translateY(1px);}\n    button.warn{border-color:rgba(255,165,0,0.12)}\n    button.crit{border-color:rgba(255,0,0,0.12); color:var(--red)}\n    .visual{padding:18px;display:flex;flex-direction:column;gap:12px;align-items:center;}\n    .deque-row{display:flex;gap:10px;align-items:center;min-height:110px;transition:all .25s ease;}\n    .node{min-width:68px;min-height:64px;padding:8px;border-radius:8px;background:var(--glass);display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.03);box-shadow: 0 6px 14px rgba(2,6,23,0.45);transition:transform .18s ease, box-shadow .18s ease;position:relative;}\n    .node .val{font-weight:600;font-size:14px;}\n    .node .lbl{font-size:11px;color:var(--muted);margin-top:6px;}\n    .node.front{box-shadow:0 10px 30px rgba(34,193,195,0.08);border-color:rgba(34,193,195,0.12)}\n    .node.back{box-shadow:0 10px 30px rgba(99,102,241,0.06);border-color:rgba(99,102,241,0.12)}\n    .node.empty{opacity:.28;border-style:dashed}\n    .meta{display:flex;gap:12px;align-items:center;color:var(--muted);font-size:13px;}\n    pre{background:rgba(255,255,255,0.02);padding:12px;border-radius:8px;overflow:auto;margin:0;font-size:13px}\n    .log{max-height:160px;overflow:auto;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.02);font-size:13px;}\n    .row{display:flex;gap:12px;align-items:center;}\n    .info{color:var(--muted);font-size:13px}\n    .badge{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));border-radius:999px;padding:6px 10px;font-weight:600;color:var(--accent);border:1px solid rgba(255,255,255,0.03)}\n    footer{color:var(--muted);font-size:12px;margin-top:12px}\n    @media (max-width:720px){\n      .deque-row{flex-wrap:wrap;justify-content:center}\n      .controls{justify-content:center}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <header>\n      <div>\n        <h1>Deque â€” Double-Ended Queue (interactive)</h1>\n        <p class=\"lead\">A deque supports fast insertion/removal at both ends. Try pushing, popping, peeking and watch the structure update.</p>\n      </div>\n      <div style=\"margin-left:auto\" class=\"meta\">\n        <div class=\"badge\">Amortized O(1) ops</div>\n        <div class=\"info\">Implemented with a doubly-linked list</div>\n      </div>\n    </header>\n\n    <section class=\"card\">\n      <div class=\"controls\" style=\"margin-bottom:12px;\">\n        <input id=\"valueInput\" type=\"text\" placeholder=\"Value (string/number)\" />\n        <button id=\"pushFrontBtn\">Push Front</button>\n        <button id=\"pushBackBtn\">Push Back</button>\n        <button id=\"popFrontBtn\">Pop Front</button>\n        <button id=\"popBackBtn\">Pop Back</button>\n        <button id=\"peekFrontBtn\">Peek Front</button>\n        <button id=\"peekBackBtn\">Peek Back</button>\n        <button id=\"clearBtn\" class=\"crit\">Clear</button>\n        <button id=\"randomBtn\" class=\"warn\">Random ops</button>\n      </div>\n\n      <div class=\"visual\">\n        <div style=\"display:flex;gap:12px;align-items:center;width:100%;justify-content:space-between;\">\n          <div class=\"meta\"><strong>Size:</strong>&nbsp;<span id=\"sizeLabel\">0</span></div>\n          <div class=\"meta\"><strong>Front index:</strong>&nbsp;<span id=\"frontIdx\">â€”</span>&nbsp;&nbsp;<strong>Back index:</strong>&nbsp;<span id=\"backIdx\">â€”</span></div>\n          <div class=\"meta info\">Tip: press Enter to push to back, Shift+Enter to push to front.</div>\n        </div>\n\n        <div class=\"deque-row\" id=\"dequeRow\" aria-live=\"polite\" style=\"margin-top:8px;\"></div>\n\n        <div style=\"display:flex;gap:12px;width:100%;margin-top:6px;flex-wrap:wrap;\">\n          <div style=\"flex:1\">\n            <div style=\"margin-bottom:8px;color:var(--muted)\">Operations log</div>\n            <div class=\"log\" id=\"log\"></div>\n          </div>\n          <div style=\"width:360px;max-width:40%;\">\n            <div style=\"margin-bottom:8px;color:var(--muted)\">Deque class (source)</div>\n            <pre id=\"code\">\nclass DequeNode {\n  constructor(value){ this.value = value; this.prev = null; this.next = null; }\n}\nclass Deque {\n  constructor(){\n    this.head = null; this.tail = null; this._size = 0;\n  }\n  pushFront(value){ /* ... */ }\n  pushBack(value){ /* ... */ }\n  popFront(){ /* ... */ }\n  popBack(){ /* ... */ }\n  peekFront(){ /* ... */ }\n  peekBack(){ /* ... */ }\n  size(){ return this._size; }\n  clear(){ /* ... */ }\n  toArray(){ /* ... */ }\n}\n            </pre>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"card\">\n      <div style=\"display:flex;gap:12px;align-items:flex-start;flex-wrap:wrap;\">\n        <div style=\"flex:1;\">\n          <h3 style=\"margin:0 0 8px 0;font-size:16px\">Explanation</h3>\n          <p class=\"info\" style=\"margin-top:0\">\n            A deque (double-ended queue) allows adding and removing items from both the front and the back.\n            In this demo the Deque class is implemented as a doubly-linked list so push/pop at either end run in O(1) time.\n          </p>\n          <ul class=\"info\" style=\"margin:6px 0 0 18px;\">\n            <li>pushFront(value) â€” insert at front</li>\n            <li>pushBack(value) â€” insert at back</li>\n            <li>popFront() â€” remove and return front (or undefined if empty)</li>\n            <li>popBack() â€” remove and return back (or undefined if empty)</li>\n            <li>peekFront()/peekBack() â€” look without removing</li>\n            <li>size(), clear(), toArray()</li>\n          </ul>\n        </div>\n\n        <div style=\"width:320px;\">\n          <h4 style=\"margin:0 0 8px 0;font-size:15px\">Complexity</h4>\n          <div class=\"info\" style=\"line-height:1.5\">\n            - pushFront/pushBack/popFront/popBack: O(1)<br>\n            - peekFront/peekBack: O(1)<br>\n            - toArray: O(n)\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <footer>Built with plain JavaScript â€” Doubly-linked list Deque visualization.</footer>\n  </div>\n\n  <script>\n    // Doubly-linked list Deque implementation\n    class DequeNode {\n      constructor(value){\n        this.value = value;\n        this.prev = null;\n        this.next = null;\n      }\n    }\n\n    class Deque {\n      constructor(){\n        this.head = null; // front\n        this.tail = null; // back\n        this._size = 0;\n      }\n\n      pushFront(value){\n        const node = new DequeNode(value);\n        if(!this.head){\n          this.head = this.tail = node;\n        } else {\n          node.next = this.head;\n          this.head.prev = node;\n          this.head = node;\n        }\n        this._size++;\n        return this;\n      }\n\n      pushBack(value){\n        const node = new DequeNode(value);\n        if(!this.tail){\n          this.head = this.tail = node;\n        } else {\n          node.prev = this.tail;\n          this.tail.next = node;\n          this.tail = node;\n        }\n        this._size++;\n        return this;\n      }\n\n      popFront(){\n        if(!this.head) return undefined;\n        const val = this.head.value;\n        if(this.head === this.tail){\n          this.head = this.tail = null;\n        } else {\n          this.head = this.head.next;\n          this.head.prev = null;\n        }\n        this._size--;\n        return val;\n      }\n\n      popBack(){\n        if(!this.tail) return undefined;\n        const val = this.tail.value;\n        if(this.head === this.tail){\n          this.head = this.tail = null;\n        } else {\n          this.tail = this.tail.prev;\n          this.tail.next = null;\n        }\n        this._size--;\n        return val;\n      }\n\n      peekFront(){\n        return this.head ? this.head.value : undefined;\n      }\n\n      peekBack(){\n        return this.tail ? this.tail.value : undefined;\n      }\n\n      size(){ return this._size; }\n\n      clear(){\n        this.head = this.tail = null;\n        this._size = 0;\n      }\n\n      toArray(){\n        const arr = [];\n        let cur = this.head;\n        while(cur){\n          arr.push(cur.value);\n          cur = cur.next;\n        }\n        return arr;\n      }\n    }\n\n    // UI wiring\n    const dq = new Deque();\n    const dequeRow = document.getElementById('dequeRow');\n    const logEl = document.getElementById('log');\n    const sizeLabel = document.getElementById('sizeLabel');\n    const frontIdx = document.getElementById('frontIdx');\n    const backIdx = document.getElementById('backIdx');\n    const valueInput = document.getElementById('valueInput');\n\n    const pushFrontBtn = document.getElementById('pushFrontBtn');\n    const pushBackBtn = document.getElementById('pushBackBtn');\n    const popFrontBtn = document.getElementById('popFrontBtn');\n    const popBackBtn = document.getElementById('popBackBtn');\n    const peekFrontBtn = document.getElementById('peekFrontBtn');\n    const peekBackBtn = document.getElementById('peekBackBtn');\n    const clearBtn = document.getElementById('clearBtn');\n    const randomBtn = document.getElementById('randomBtn');\n\n    function log(msg, type){\n      const time = new Date().toLocaleTimeString();\n      const el = document.createElement('div');\n      el.textContent = `[${time}] ${msg}`;\n      if(type === 'err') el.style.color = 'var(--red)';\n      logEl.prepend(el);\n    }\n\n    function render(){\n      // update metadata\n      sizeLabel.textContent = dq.size();\n      frontIdx.textContent = dq.head ? '0' : 'â€”';\n      backIdx.textContent = dq.tail ? String(Math.max(0, dq.size()-1)) : 'â€”';\n\n      // clear view\n      dequeRow.innerHTML = '';\n\n      // if empty show placeholder\n      if(dq.size() === 0){\n        const emptyNode = document.createElement('div');\n        emptyNode.className = 'node empty';\n        emptyNode.style.minWidth = '240px';\n        emptyNode.innerHTML = '<div class=\"val\" style=\"opacity:.8\">EMPTY DEQUE</div><div class=\"lbl\">pushFront / pushBack to add</div>';\n        dequeRow.appendChild(emptyNode);\n        return;\n      }\n\n      // render nodes left-to-right: front -> back\n      const arr = dq.toArray();\n      arr.forEach((v,i) => {\n        const n = document.createElement('div');\n        n.className = 'node';\n        if(i === 0) n.classList.add('front');\n        if(i === arr.length - 1) n.classList.add('back');\n        n.innerHTML = `<div class=\"val\">${escapeHtml(String(v))}</div><div class=\"lbl\">index ${i}</div>`;\n        dequeRow.appendChild(n);\n      });\n    }\n\n    function escapeHtml(s){\n      return s.replace(/[&<>\"']/g, ch => ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',\"'\":'&#39;'}[ch]));\n    }\n\n    // Hook up buttons\n    pushFrontBtn.addEventListener('click', () => {\n      const v = valueInput.value.trim();\n      if(v === ''){ log('Enter a value to push (front).', 'err'); return; }\n      dq.pushFront(v);\n      log(`pushFront(${v})`);\n      valueInput.value = '';\n      render();\n    });\n\n    pushBackBtn.addEventListener('click', () => {\n      const v = valueInput.value.trim();\n      if(v === ''){ log('Enter a value to push (back).', 'err'); return; }\n      dq.pushBack(v);\n      log(`pushBack(${v})`);\n      valueInput.value = '';\n      render();\n    });\n\n    popFrontBtn.addEventListener('click', () => {\n      const v = dq.popFront();\n      if(v === undefined){ log('popFront() â†’ undefined (deque empty)', 'err'); }\n      else log(`popFront() â†’ ${v}`);\n      render();\n    });\n\n    popBackBtn.addEventListener('click', () => {\n      const v = dq.popBack();\n      if(v === undefined){ log('popBack() â†’ undefined (deque empty)', 'err'); }\n      else log(`popBack() â†’ ${v}`);\n      render();\n    });\n\n    peekFrontBtn.addEventListener('click', () => {\n      const v = dq.peekFront();\n      if(v === undefined) log('peekFront() â†’ undefined (deque empty)', 'err');\n      else log(`peekFront() â†’ ${v}`);\n    });\n\n    peekBackBtn.addEventListener('click', () => {\n      const v = dq.peekBack();\n      if(v === undefined) log('peekBack() â†’ undefined (deque empty)', 'err');\n      else log(`peekBack() â†’ ${v}`);\n    });\n\n    clearBtn.addEventListener('click', () => {\n      dq.clear();\n      log('clear()');\n      render();\n    });\n\n    // random ops: perform a sequence of random pushes/pops\n    randomBtn.addEventListener('click', () => {\n      const ops = [\n        () => { const v = randomValue(); dq.pushFront(v); log(`pushFront(${v})`); },\n        () => { const v = randomValue(); dq.pushBack(v); log(`pushBack(${v})`); },\n        () => { const v = dq.popFront(); log(`popFront() â†’ ${v === undefined ? 'undefined' : v}`); },\n        () => { const v = dq.popBack(); log(`popBack() â†’ ${v === undefined ? 'undefined' : v}`); },\n      ];\n      const steps = 6 + Math.floor(Math.random()*6);\n      let i = 0;\n      const t = setInterval(() => {\n        const op = ops[Math.floor(Math.random()*ops.length)];\n        op();\n        render();\n        i++;\n        if(i >= steps) clearInterval(t);\n      }, 250);\n    });\n\n    function randomValue(){\n      const sample = ['A','B','C','1','2','3','ðŸŽ','ðŸš€','foo','bar','42'];\n      return sample[Math.floor(Math.random()*sample.length)];\n    }\n\n    // keyboard shortcuts: Enter => pushBack, Shift+Enter => pushFront, Escape => clear\n    valueInput.addEventListener('keydown', (e) => {\n      if(e.key === 'Enter'){\n        e.preventDefault();\n        if(e.shiftKey) pushFrontBtn.click();\n        else pushBackBtn.click();\n      } else if(e.key === 'Escape'){\n        clearBtn.click();\n      }\n    });\n\n    // initial demo setup\n    (function initDemo(){\n      log('Deque demo ready. Enter a value and use the buttons or press Enter.');\n      // small example\n      dq.pushBack('x'); dq.pushFront('y'); dq.pushBack(7);\n      log('Example: pushBack(\"x\"), pushFront(\"y\"), pushBack(7)');\n      render();\n    })();\n\n    // expose for console experimentation\n    window.Deque = Deque;\n    window._dq = dq;\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Deque"
    }
  ],
  "topic": "Deque",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}