{
  "id": "3c88d571-ca6a-11f0-8bff-85107adc1779",
  "timestamp": "2025-11-26T01:50:59.488Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Selection Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n  <title>Selection Sort Visualization</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 20px;\n      background: #f0f0f0;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n    h1 {\n      margin-bottom: 10px;\n    }\n    #arrayContainer {\n      display: flex;\n      align-items: flex-end;\n      height: 200px;\n      width: 80vw;\n      max-width: 800px;\n      border: 1px solid #ccc;\n      background: white;\n      margin-bottom: 20px;\n      padding: 10px 5px;\n      position: relative;\n    }\n    .bar {\n      margin: 0 2px;\n      background-color: steelblue;\n      flex: 1;\n      transition: height 0.3s ease, background-color 0.3s ease;\n      border-radius: 3px;\n      position: relative;\n    }\n    .bar span {\n      position: absolute;\n      bottom: -20px;\n      width: 100%;\n      text-align: center;\n      font-size: 12px;\n      user-select: none;\n      color: #333;\n    }\n    .current {\n      background-color: orange !important;\n    }\n    .min {\n      background-color: crimson !important;\n    }\n    .sorted {\n      background-color: seagreen !important;\n    }\n    #controls {\n      margin-bottom: 20px;\n      display: flex;\n      gap: 10px;\n      flex-wrap: wrap;\n      justify-content: center;\n    }\n    button {\n      padding: 10px 15px;\n      font-size: 16px;\n      cursor: pointer;\n      border-radius: 5px;\n      border: none;\n      background-color: #007bff;\n      color: white;\n      transition: background-color 0.3s ease;\n    }\n    button:disabled {\n      background-color: #b0c9ff;\n      cursor: not-allowed;\n    }\n    button:hover:not(:disabled) {\n      background-color: #0056b3;\n    }\n    input[type=\"number\"] {\n      width: 80px;\n      font-size: 16px;\n      padding: 5px 8px;\n      border-radius: 5px;\n      border: 1px solid #ccc;\n      text-align: center;\n    }\n    #speedLabel {\n      margin-left: 10px;\n    }\n    #explanation {\n      max-width: 800px;\n      text-align: center;\n      font-size: 16px;\n      color: #333;\n    }\n  </style>\n</head>\n<body>\n  <h1>Selection Sort Visualization</h1>\n  <div id=\"arrayContainer\"></div>\n  <div id=\"controls\">\n    <button id=\"startBtn\">Start Sorting</button>\n    <button id=\"resetBtn\">Reset Array</button>\n    <label for=\"sizeInput\">Array Size:</label>\n    <input type=\"number\" id=\"sizeInput\" min=\"5\" max=\"50\" value=\"20\" />\n    <label for=\"speedRange\">Speed:</label>\n    <input type=\"range\" id=\"speedRange\" min=\"50\" max=\"2000\" value=\"500\" />\n    <span id=\"speedLabel\">500 ms</span>\n  </div>\n  <div id=\"explanation\">\n    <p><strong>Selection Sort</strong> is a simple comparison-based sorting algorithm. It works by repeatedly finding the minimum element from the unsorted portion of the array and placing it at the beginning. This visualization highlights the part of the array currently being scanned (orange) and the minimum found so far (red). Once an element is placed into its sorted position, it turns green.</p>\n  </div>\n\n<script>\n  (() => {\n    const container = document.getElementById('arrayContainer');\n    const startBtn = document.getElementById('startBtn');\n    const resetBtn = document.getElementById('resetBtn');\n    const sizeInput = document.getElementById('sizeInput');\n    const speedRange = document.getElementById('speedRange');\n    const speedLabel = document.getElementById('speedLabel');\n\n    let array = [];\n    let bars = [];\n    let isSorting = false;\n    let delay = +speedRange.value;\n\n    function generateArray(size) {\n      array = [];\n      for (let i = 0; i < size; i++) {\n        array.push(Math.floor(Math.random() * 100) + 1);\n      }\n    }\n\n    function renderArray() {\n      container.innerHTML = '';\n      bars = [];\n      const maxVal = Math.max(...array);\n      for (let i = 0; i < array.length; i++) {\n        const bar = document.createElement('div');\n        bar.classList.add('bar');\n        // height relative to maxVal but with a minimum height for visibility\n        const heightPercent = (array[i] / maxVal) * 100;\n        bar.style.height = heightPercent + '%';\n        bar.title = array[i];\n        const label = document.createElement('span');\n        label.textContent = array[i];\n        bar.appendChild(label);\n        container.appendChild(bar);\n        bars.push(bar);\n      }\n    }\n\n    function sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    async function selectionSort() {\n      isSorting = true;\n      startBtn.disabled = true;\n      resetBtn.disabled = true;\n      sizeInput.disabled = true;\n      speedRange.disabled = true;\n\n      const n = array.length;\n\n      for (let i = 0; i < n - 1; i++) {\n        // Mark initial minimum\n        let minIndex = i;\n        bars[minIndex].classList.add('min');\n\n        for (let j = i + 1; j < n; j++) {\n          // highlight current bar being compared\n          bars[j].classList.add('current');\n          await sleep(delay);\n\n          if (array[j] < array[minIndex]) {\n            bars[minIndex].classList.remove('min');\n            minIndex = j;\n            bars[minIndex].classList.add('min');\n          }\n          bars[j].classList.remove('current');\n        }\n\n        if (minIndex !== i) {\n          // swap in array\n          [array[i], array[minIndex]] = [array[minIndex], array[i]];\n          // swap bars height and label\n          bars[i].style.height = ((array[i] / Math.max(...array)) * 100) + '%';\n          bars[i].title = array[i];\n          bars[i].firstChild.textContent = array[i];\n          bars[minIndex].style.height = ((array[minIndex] / Math.max(...array)) * 100) + '%';\n          bars[minIndex].title = array[minIndex];\n          bars[minIndex].firstChild.textContent = array[minIndex];\n        }\n\n        bars[minIndex].classList.remove('min');\n        bars[i].classList.add('sorted');\n      }\n\n      // last element is automatically sorted\n      bars[n - 1].classList.add('sorted');\n\n      isSorting = false;\n      startBtn.disabled = false;\n      resetBtn.disabled = false;\n      sizeInput.disabled = false;\n      speedRange.disabled = false;\n    }\n\n    function reset() {\n      if (isSorting) return;\n      const size = +sizeInput.value;\n      if (size < 5) sizeInput.value = 5;\n      if (size > 50) sizeInput.value = 50;\n      generateArray(+sizeInput.value);\n      renderArray();\n    }\n\n    startBtn.addEventListener('click', () => {\n      if (isSorting) return;\n      selectionSort();\n    });\n\n    resetBtn.addEventListener('click', () => {\n      reset();\n    });\n\n    speedRange.addEventListener('input', () => {\n      delay = +speedRange.value;\n      speedLabel.textContent = delay + ' ms';\n    });\n\n    sizeInput.addEventListener('change', () => {\n      reset();\n    });\n\n    // Init on load\n    reset();\n  })();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Selection Sort"
    }
  ],
  "topic": "Selection Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}