{
  "id": "cc1f0ce2-ca65-11f0-96a8-05e9de15890f",
  "timestamp": "2025-11-26T01:20:50.522Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Two Pointers",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Two Pointers — Interactive Playground</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724; --card:#0b1220; --accent:#60a5fa; --muted:#94a3b8; --good:#34d399; --bad:#fb7185;\n      --size:46px;\n    }\n    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,\"Helvetica Neue\",Arial;}\n    body{margin:0;background:linear-gradient(180deg,#071229 0%, #081427 100%);color:#e6eef8;min-height:100vh;padding:28px;}\n    .wrap{max-width:1100px;margin:0 auto;}\n    header{display:flex;gap:20px;align-items:center;margin-bottom:18px}\n    header h1{font-size:20px;margin:0}\n    header p{margin:0;color:var(--muted);font-size:13px}\n    .layout{display:flex;gap:18px}\n    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:14px;flex:1;min-width:260px}\n    .vis{flex:2;display:flex;flex-direction:column;gap:12px}\n    .controls{display:flex;flex-wrap:wrap;gap:8px;align-items:center}\n    select,input,button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit;padding:8px 10px;border-radius:8px;font-size:13px}\n    button{cursor:pointer}\n    .array{display:flex;gap:8px;align-items:center;flex-wrap:wrap;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}\n    .cell{width:var(--size);height:var(--size);display:flex;align-items:center;justify-content:center;border-radius:10px;background:rgba(255,255,255,0.03);font-weight:600;color:#dbeafe;position:relative;box-shadow:inset 0 -6px 14px rgba(2,6,23,0.3);}\n    .idx{position:absolute;left:6px;bottom:4px;font-size:11px;color:var(--muted);font-weight:500}\n    .ptrLeft{box-shadow:0 6px 24px rgba(96,165,250,0.12);border:2px solid rgba(96,165,250,0.18)}\n    .ptrRight{box-shadow:0 6px 24px rgba(236,72,153,0.12);border:2px solid rgba(236,72,153,0.18)}\n    .ptrWrite{box-shadow:0 6px 24px rgba(52,211,153,0.12);border:2px solid rgba(52,211,153,0.18)}\n    .msg{padding:10px;border-radius:8px;background:rgba(0,0,0,0.12);color:var(--muted);font-size:13px}\n    .small{font-size:13px;color:var(--muted)}\n    .btnRow{display:flex;gap:8px}\n    .hint{font-size:13px;color:var(--muted);margin-top:8px}\n    .code{background:#041025;padding:12px;border-radius:8px;font-family:ui-monospace,SFMono-Regular,Consolas,monospace;font-size:13px;color:#bfe3ff}\n    .footer{margin-top:12px;color:var(--muted);font-size:13px}\n    .found{background:linear-gradient(90deg,#a7f3d0,#bbf7d0);color:#052e16}\n    .bad{background:linear-gradient(90deg,#fecaca,#fee2e2);color:#4c0519}\n    .controls input[type=range]{appearance:none;height:6px;background:rgba(255,255,255,0.06);border-radius:6px;width:120px}\n    .controls label{font-size:13px;color:var(--muted)}\n    .topRow{display:flex;gap:8px;align-items:center;flex-wrap:wrap}\n    .leftCol{display:flex;flex-direction:column;gap:8px}\n    .mutedBox{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;color:var(--muted);font-size:13px}\n    .copy{cursor:pointer;padding:6px;border-radius:6px;border:1px solid rgba(255,255,255,0.04)}\n    .legend{display:flex;gap:8px;flex-wrap:wrap}\n    .legend span{display:flex;gap:8px;align-items:center;padding:6px;border-radius:8px;font-size:13px}\n    .dot{width:12px;height:12px;border-radius:3px}\n    .dot.left{background:linear-gradient(180deg,#60a5fa,#3b82f6)}\n    .dot.right{background:linear-gradient(180deg,#fb7185,#fb7185)}\n    .dot.write{background:linear-gradient(180deg,#34d399,#10b981)}\n    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}\n    @media(max-width:900px){.layout{flex-direction:column}.vis{order:2}}\n  </style>\n</head>\n<body>\n  <div class=\"wrap\">\n    <header>\n      <div>\n        <h1>Two Pointers — Interactive Playground</h1>\n        <p>Visualize common two-pointer patterns: left/right pointers, slow/fast (write/read), and in-place swaps.</p>\n      </div>\n    </header>\n\n    <div class=\"layout\">\n      <aside class=\"panel\">\n        <div class=\"leftCol\">\n          <div class=\"topRow\">\n            <label for=\"demoSelect\">Demo</label>\n            <select id=\"demoSelect\">\n              <option value=\"pairSum\">Find Pair With Target Sum (sorted)</option>\n              <option value=\"reverse\">Reverse Array (in-place swaps)</option>\n              <option value=\"removeDup\">Remove Duplicates (in-place, sorted)</option>\n            </select>\n          </div>\n\n          <div class=\"controls\" style=\"margin-top:8px\">\n            <label style=\"min-width:70px\">Array</label>\n            <input id=\"arrInput\" placeholder=\"e.g. 1,2,3,4\" style=\"flex:1\"/>\n            <button id=\"applyArr\">Apply</button>\n          </div>\n\n          <div class=\"controls\" style=\"margin-top:8px\">\n            <label style=\"min-width:70px\">Random</label>\n            <input type=\"range\" id=\"sizeRange\" min=\"3\" max=\"12\" value=\"8\"/>\n            <button id=\"genBtn\">Generate</button>\n          </div>\n\n          <div id=\"extraControls\"></div>\n\n          <div class=\"controls\" style=\"margin-top:8px\">\n            <div class=\"btnRow\">\n              <button id=\"resetBtn\">Reset</button>\n              <button id=\"stepBtn\">Step</button>\n              <button id=\"autoBtn\">Auto ▶</button>\n              <button id=\"fastBtn\">Run ⏩</button>\n            </div>\n            <div style=\"margin-left:6px\" class=\"small\">Interval:\n              <input type=\"range\" id=\"interval\" min=\"100\" max=\"2000\" step=\"100\" value=\"700\"/>\n            </div>\n          </div>\n\n          <div class=\"mutedBox\">\n            <div id=\"status\" class=\"msg\">Choose a demo and prepare an array. Use Step or Auto to advance.</div>\n            <div class=\"hint\" id=\"hint\">Hint: Pair Sum and Remove Duplicates expect a sorted array.</div>\n          </div>\n\n          <div style=\"margin-top:10px\">\n            <strong>Pseudocode & Complexity</strong>\n            <div id=\"pseudocode\" class=\"code\" style=\"margin-top:8px\"></div>\n          </div>\n        </div>\n      </aside>\n\n      <main class=\"panel vis\">\n        <div>\n          <div class=\"controls\" style=\"justify-content:space-between\">\n            <div class=\"legend\">\n              <span><div class=\"dot left\"></div>Left</span>\n              <span><div class=\"dot right\"></div>Right</span>\n              <span><div class=\"dot write\"></div>Write/Slow</span>\n            </div>\n            <div class=\"small\">Auto mode will step every <span id=\"ivalLbl\">700</span> ms</div>\n          </div>\n        </div>\n\n        <div class=\"array\" id=\"arrayVis\" style=\"min-height:110px\"></div>\n\n        <div style=\"display:flex;gap:8px;align-items:flex-start\">\n          <div style=\"flex:1\">\n            <div class=\"small\" style=\"margin-bottom:6px\"><strong>Step Info</strong></div>\n            <div id=\"stepInfo\" class=\"msg\">No steps yet.</div>\n          </div>\n          <div style=\"width:260px\">\n            <div class=\"small\" style=\"margin-bottom:6px\"><strong>Result</strong></div>\n            <div id=\"result\" class=\"msg\">—</div>\n            <div class=\"footer\">Time: O(n) / Space: O(1)</div>\n          </div>\n        </div>\n      </main>\n    </div>\n\n    <footer style=\"margin-top:18px\">This interactive file demonstrates common Two Pointers patterns. Modify the array and step through the pointers to learn how they move and operate.</footer>\n  </div>\n\n  <script>\n    // Two Pointers Interactive Playground\n    // Demos: pairSum (left/right), reverse (swap left/right), removeDup (read/write)\n\n    // DOM refs\n    const demoSelect = document.getElementById('demoSelect');\n    const arrInput = document.getElementById('arrInput');\n    const applyArr = document.getElementById('applyArr');\n    const genBtn = document.getElementById('genBtn');\n    const sizeRange = document.getElementById('sizeRange');\n    const arrayVis = document.getElementById('arrayVis');\n    const stepBtn = document.getElementById('stepBtn');\n    const resetBtn = document.getElementById('resetBtn');\n    const autoBtn = document.getElementById('autoBtn');\n    const fastBtn = document.getElementById('fastBtn');\n    const status = document.getElementById('status');\n    const hint = document.getElementById('hint');\n    const pseudocode = document.getElementById('pseudocode');\n    const stepInfo = document.getElementById('stepInfo');\n    const result = document.getElementById('result');\n    const extraControls = document.getElementById('extraControls');\n    const interval = document.getElementById('interval');\n    const ivalLbl = document.getElementById('ivalLbl');\n\n    let state = {};\n    let autoTimer = null;\n\n    function setStatus(txt, kind) {\n      status.textContent = txt;\n      status.className = 'msg' + (kind ? (' ' + kind) : '');\n    }\n\n    // Utils\n    function parseArrayInput(str) {\n      if (!str.trim()) return null;\n      const parts = str.split(',').map(s => s.trim()).filter(s=>s!=='');\n      const nums = parts.map(s => {\n        const n = Number(s);\n        return Number.isFinite(n) ? n : NaN;\n      });\n      if (nums.some(n => isNaN(n))) return null;\n      return nums;\n    }\n\n    function renderArray(arr, highlights = {}) {\n      arrayVis.innerHTML = '';\n      arr.forEach((v,i) => {\n        const el = document.createElement('div');\n        el.className = 'cell';\n        el.innerHTML = `<div>${v}</div><div class=\"idx\">${i}</div>`;\n        if (highlights.left === i) el.classList.add('ptrLeft');\n        if (highlights.right === i) el.classList.add('ptrRight');\n        if (highlights.write === i) el.classList.add('ptrWrite');\n        if (highlights.found && highlights.found.includes(i)) {\n          el.classList.add('found');\n        }\n        if (highlights.removed && highlights.removed.includes(i)) {\n          el.classList.add('bad');\n        }\n        arrayVis.appendChild(el);\n      });\n    }\n\n    // Pseudocode texts per demo\n    const PSEUDOS = {\n      pairSum:\n`# Find Pair With Target Sum (sorted)\nl = 0, r = n-1\nwhile l < r:\n  sum = A[l] + A[r]\n  if sum == target: return (l,r)\n  if sum < target: l += 1\n  else: r -= 1\nTime: O(n), Space: O(1)`,\n\n      reverse:\n`# Reverse Array (in-place)\nl = 0, r = n-1\nwhile l < r:\n  swap(A[l], A[r])\n  l += 1; r -= 1\nTime: O(n), Space: O(1)`,\n\n      removeDup:\n`# Remove Duplicates (sorted, in-place)\nif n == 0: return 0\nwrite = 1\nfor read in 1..n-1:\n  if A[read] != A[write-1]:\n    A[write] = A[read]\n    write += 1\nreturn write  # new length\nTime: O(n), Space: O(1)`,\n    };\n\n    // Initialize state for each demo\n    function initState() {\n      const demo = demoSelect.value;\n      const size = Number(sizeRange.value);\n      let arr = [];\n\n      if (demo === 'pairSum' || demo === 'removeDup') {\n        // generate sorted array with possible duplicates\n        const base = Math.floor(Math.random()*3) + 1;\n        let cur = base;\n        for (let i=0;i<size;i++){\n          // sometimes repeat\n          if (Math.random() < 0.25) {\n            // duplicate value\n          } else {\n            cur += Math.floor(Math.random()*3)+1;\n          }\n          arr.push(cur);\n        }\n      } else {\n        // reverse: random unsorted\n        for (let i=0;i<size;i++) arr.push(Math.floor(Math.random()*20));\n      }\n\n      // allow arrInput override if provided\n      const user = parseArrayInput(arrInput.value || '');\n      if (user) arr = user.slice();\n\n      // set up base state\n      state = {\n        demo,\n        arr: arr.slice(),\n        initial: arr.slice(),\n        steps: 0,\n        finished: false,\n        message: '',\n      };\n\n      if (demo === 'pairSum') {\n        // build target near some pair sometimes\n        let target;\n        if (Math.random() < 0.6 && arr.length >= 2) {\n          // pick two indices\n          const i = Math.floor(Math.random()*(arr.length-1));\n          const j = Math.floor(Math.random()*(arr.length-i-1)) + i+1;\n          target = arr[i] + arr[j];\n        } else {\n          // random target\n          target = arr[Math.floor(Math.random()*arr.length)] + Math.floor(Math.random()*10);\n        }\n        state.l = 0; state.r = arr.length-1; state.target = target; state.found = null;\n      } else if (demo === 'reverse') {\n        state.l = 0; state.r = arr.length-1;\n      } else if (demo === 'removeDup') {\n        state.read = 1; state.write = 1; state.removed = []; state.newLen = null;\n      }\n\n      updateUI();\n    }\n\n    function updateUI() {\n      const demo = state.demo;\n      pseudocode.textContent = PSEUDOS[demo];\n      // show extra controls based on demo\n      extraControls.innerHTML = '';\n      if (demo === 'pairSum') {\n        const div = document.createElement('div');\n        div.className = 'controls';\n        div.style.marginTop = '8px';\n        div.innerHTML = `<label style=\"min-width:70px\">Target</label>\n                         <input id=\"targetInput\" value=\"${state.target}\" style=\"width:120px\"/>\n                         <button id=\"setTarget\">Set</button>`;\n        extraControls.appendChild(div);\n        document.getElementById('setTarget').addEventListener('click',()=>{\n          const t = Number(document.getElementById('targetInput').value);\n          if (!Number.isFinite(t)) { setStatus('Invalid target', 'bad'); return; }\n          state.target = t; setStatus('Target set to ' + t);\n        });\n      }\n\n      // render\n      const highlights = {};\n      if (state.demo === 'pairSum') {\n        highlights.left = state.l; highlights.right = state.r;\n        if (state.found) highlights.found = state.found;\n      } else if (state.demo === 'reverse') {\n        highlights.left = state.l; highlights.right = state.r;\n      } else if (state.demo === 'removeDup') {\n        highlights.read = state.read; highlights.write = state.write;\n        // mark removed indices visually\n        highlights.removed = state.removed;\n        highlights.write = state.write < state.arr.length ? state.write : -1;\n      }\n      renderArray(state.arr, highlights);\n      stepInfo.textContent = `Steps: ${state.steps}`;\n      result.textContent = '—';\n      if (state.demo === 'pairSum' && state.found) {\n        result.textContent = `Found pair at indices ${state.found[0]} and ${state.found[1]} (values ${state.arr[state.found[0]]}, ${state.arr[state.found[1]]})`;\n      } else if (state.demo === 'removeDup' && state.newLen != null) {\n        result.textContent = `New length = ${state.newLen}. Elements kept at indices 0..${state.newLen-1}`;\n      } else if (state.demo === 'reverse' && state.finished) {\n        result.textContent = `Array reversed.`;\n      }\n      setStatus('Ready. Demo: ' + (demo === 'pairSum' ? 'Pair Sum' : demo === 'reverse' ? 'Reverse' : 'Remove Duplicates'));\n      hint.textContent = (state.demo === 'pairSum' || state.demo === 'removeDup') ? 'Hint: This demo assumes a sorted array.' : 'Hint: Reverse works in-place using two pointers.';\n    }\n\n    // Step functions\n    function stepPairSum() {\n      if (state.finished) return;\n      const A = state.arr;\n      const l = state.l, r = state.r, t = state.target;\n      state.steps++;\n      if (l >= r) {\n        setStatus('No pair found', 'bad');\n        state.finished = true;\n        return;\n      }\n      const s = A[l] + A[r];\n      stepInfo.textContent = `A[${l}](${A[l]}) + A[${r}](${A[r]}) = ${s} (target ${t})`;\n      if (s === t) {\n        state.found = [l,r];\n        setStatus(`Pair found at indices ${l} and ${r}`, 'found');\n        state.finished = true;\n      } else if (s < t) {\n        state.l++;\n        setStatus(`Sum ${s} < ${t} → move left pointer right (l -> ${state.l})`);\n      } else {\n        state.r--;\n        setStatus(`Sum ${s} > ${t} → move right pointer left (r -> ${state.r})`);\n      }\n      renderArray(state.arr, {left: state.l, right: state.r, found: state.found ? state.found : null});\n    }\n\n    function stepReverse() {\n      if (state.finished) return;\n      const A = state.arr;\n      state.steps++;\n      if (state.l >= state.r) {\n        setStatus('Reverse complete', 'found');\n        state.finished = true;\n        renderArray(A);\n        return;\n      }\n      stepInfo.textContent = `Swap A[${state.l}](${A[state.l]}) and A[${state.r}](${A[state.r]})`;\n      // swap\n      const tmp = A[state.l];\n      A[state.l] = A[state.r];\n      A[state.r] = tmp;\n      setStatus(`Swapped indices ${state.l} and ${state.r}`);\n      state.l++; state.r--;\n      renderArray(A, {left: state.l, right: state.r});\n      if (state.l >= state.r) {\n        state.finished = true;\n        setStatus('Reverse complete', 'found');\n      }\n    }\n\n    function stepRemoveDup() {\n      if (state.finished) return;\n      const A = state.arr;\n      state.steps++;\n      if (A.length === 0) {\n        state.newLen = 0; state.finished = true; setStatus('Empty array', 'bad'); return;\n      }\n      if (state.read >= A.length) {\n        state.newLen = state.write;\n        state.finished = true;\n        setStatus(`Done. New length = ${state.newLen}`, 'found');\n        renderArray(A);\n        return;\n      }\n      const r = state.read, w = state.write;\n      stepInfo.textContent = `Compare A[${r}](${A[r]}) with A[${w-1}](${A[w-1]})`;\n      if (A[r] !== A[w-1]) {\n        // keep\n        A[w] = A[r];\n        setStatus(`A[${r}] != A[${w-1}]. Write A[${w}] = ${A[r]}. Increment write -> ${w+1}`);\n        state.write++;\n        // optionally mark that we moved element from r to w if they differ\n      } else {\n        setStatus(`A[${r}] == A[${w-1}]. Skip duplicate at index ${r}`);\n        state.removed.push(r);\n      }\n      state.read++;\n      renderArray(A, {write: state.write, removed: state.removed});\n    }\n\n    function step() {\n      if (!state || !state.demo) return;\n      if (state.demo === 'pairSum') stepPairSum();\n      else if (state.demo === 'reverse') stepReverse();\n      else if (state.demo === 'removeDup') stepRemoveDup();\n    }\n\n    // Run fast to completion with small delay to allow UI update\n    async function runFast() {\n      // avoid blocking UI: use setTimeout loops\n      if (state.finished) return;\n      setStatus('Running fast...');\n      while (!state.finished) {\n        step();\n        await new Promise(r => setTimeout(r, 120));\n      }\n      setStatus('Finished (fast run)', 'found');\n    }\n\n    // Event bindings\n    demoSelect.addEventListener('change', () => {\n      initState();\n    });\n\n    genBtn.addEventListener('click', () => {\n      arrInput.value = '';\n      initState();\n    });\n\n    applyArr.addEventListener('click', () => {\n      const parsed = parseArrayInput(arrInput.value || '');\n      if (!parsed) { setStatus('Invalid array. Use comma separated numbers.', 'bad'); return; }\n      initState();\n    });\n\n    stepBtn.addEventListener('click', () => {\n      if (autoTimer) { clearInterval(autoTimer); autoTimer = null; autoBtn.textContent = 'Auto ▶'; }\n      step();\n    });\n\n    resetBtn.addEventListener('click', () => {\n      if (autoTimer) { clearInterval(autoTimer); autoTimer = null; autoBtn.textContent = 'Auto ▶'; }\n      initState();\n    });\n\n    autoBtn.addEventListener('click', () => {\n      if (autoTimer) {\n        clearInterval(autoTimer); autoTimer = null; autoBtn.textContent = 'Auto ▶'; setStatus('Auto stopped');\n      } else {\n        autoTimer = setInterval(()=>{\n          if (state.finished) { clearInterval(autoTimer); autoTimer = null; autoBtn.textContent = 'Auto ▶'; return; }\n          step();\n        }, Number(interval.value));\n        autoBtn.textContent = 'Auto ■';\n        setStatus('Auto running...');\n      }\n    });\n\n    fastBtn.addEventListener('click', async () => {\n      if (autoTimer) { clearInterval(autoTimer); autoTimer = null; autoBtn.textContent = 'Auto ▶'; }\n      await runFast();\n    });\n\n    interval.addEventListener('input', () => {\n      ivalLbl.textContent = interval.value;\n      if (autoTimer) {\n        clearInterval(autoTimer);\n        autoTimer = setInterval(()=>{\n          if (state.finished) { clearInterval(autoTimer); autoTimer = null; autoBtn.textContent = 'Auto ▶'; return; }\n          step();\n        }, Number(interval.value));\n      }\n    });\n\n    // initial\n    initState();\n\n    // keyboard shortcuts\n    window.addEventListener('keydown', (e) => {\n      if (e.key === ' ') { e.preventDefault(); stepBtn.click(); }\n      if (e.key === 'r') resetBtn.click();\n      if (e.key === 'a') autoBtn.click();\n    });\n\n    // small tips: clicking a cell toggles selection for demo exploration\n    arrayVis.addEventListener('click', (ev) => {\n      const el = ev.target.closest('.cell');\n      if (!el) return;\n      const idx = Number(el.querySelector('.idx').textContent);\n      setStatus(`Clicked index ${idx}. Value: ${state.arr[idx]}`);\n    });\n\n    // Provide simple instructions in status on load\n    setTimeout(()=> setStatus('Press Space to Step, \"a\" to toggle Auto, \"r\" to Reset.'), 500);\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Two Pointers"
    }
  ],
  "topic": "Two Pointers",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}