{
  "id": "3c8a3501-ca6a-11f0-8bff-85107adc1779",
  "timestamp": "2025-11-26T01:51:19.618Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Longest Common Subsequence",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Longest Common Subsequence (LCS) Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    max-width: 800px;\n  }\n  h1 {\n    text-align: center;\n  }\n  label {\n    font-weight: bold;\n    display: block;\n    margin-top: 1rem;\n  }\n  input[type=\"text\"] {\n    width: 100%;\n    font-size: 1rem;\n    padding: 0.5rem;\n    margin-top: 0.3rem;\n    box-sizing: border-box;\n  }\n  button {\n    margin-top: 1rem;\n    font-size: 1.1rem;\n    padding: 0.5rem 1rem;\n    cursor: pointer;\n  }\n  pre {\n    background: #f4f4f4;\n    padding: 1rem;\n    overflow-x: auto;\n  }\n  .lcs-result {\n    font-size: 1.2rem;\n    margin-top: 1rem;\n    font-weight: bold;\n  }\n  .matrix-container {\n    overflow-x: auto;\n    margin-top: 1rem;\n  }\n  table {\n    border-collapse: collapse;\n    margin-top: 0.5rem;\n  }\n  td, th {\n    border: 1px solid #ccc;\n    padding: 4px 8px;\n    text-align: center;\n    white-space: nowrap;\n  }\n  .highlight {\n    background-color: #dff0d8;\n    font-weight: bold;\n  }\n  .explanation {\n    margin-top: 2rem;\n    background: #eef9ff;\n    padding: 1rem;\n    border-left: 5px solid #2196F3;\n  }\n</style>\n</head>\n<body>\n<h1>Longest Common Subsequence (LCS) Calculator</h1>\n\n<label for=\"string1\">Enter first string:</label>\n<input id=\"string1\" type=\"text\" placeholder=\"e.g. ABCBDAB\" value=\"ABCBDAB\" />\n\n<label for=\"string2\">Enter second string:</label>\n<input id=\"string2\" type=\"text\" placeholder=\"e.g. BDCABA\" value=\"BDCABA\" />\n\n<button id=\"computeBtn\">Compute LCS</button>\n\n<div class=\"lcs-result\" id=\"result\"></div>\n\n<div class=\"matrix-container\" id=\"matrixContainer\"></div>\n\n<div class=\"explanation\">\n  <h2>What is Longest Common Subsequence?</h2>\n  <p>\n    The <strong>Longest Common Subsequence (LCS)</strong> of two strings is the longest sequence of characters that appear left-to-right (but not necessarily contiguously) in both strings.\n  </p>\n  <p>\n    For example, for the strings <code>ABCBDAB</code> and <code>BDCABA</code>, one longest common subsequence is <code>BCBA</code>.\n  </p>\n  <p>\n    This demo uses dynamic programming to build a matrix that tracks the length of LCS for all prefixes of the two strings, and then backtracks to find the actual subsequence.\n  </p>\n</div>\n\n<script>\n  function computeLCS(s1, s2) {\n    const m = s1.length;\n    const n = s2.length;\n\n    // Create DP table: (m+1) x (n+1) initialized to 0\n    let dp = new Array(m + 1);\n    for (let i = 0; i <= m; i++) {\n      dp[i] = new Array(n + 1).fill(0);\n    }\n\n    // Fill dp table\n    for (let i = 1; i <= m; i++) {\n      for (let j = 1; j <= n; j++) {\n        if (s1[i - 1] === s2[j - 1]) {\n          dp[i][j] = dp[i - 1][j - 1] + 1;\n        } else {\n          dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1]);\n        }\n      }\n    }\n\n    // Backtrack to find one LCS\n    let i = m, j = n;\n    let lcsChars = [];\n    while (i > 0 && j > 0) {\n      if (s1[i - 1] === s2[j - 1]) {\n        lcsChars.push(s1[i - 1]);\n        i--;\n        j--;\n      } else if (dp[i - 1][j] >= dp[i][j - 1]) {\n        i--;\n      } else {\n        j--;\n      }\n    }\n    lcsChars.reverse();\n\n    return {\n      length: dp[m][n],\n      sequence: lcsChars.join(''),\n      dpMatrix: dp\n    };\n  }\n\n  function renderMatrix(dp, s1, s2) {\n    // dp dimensions: (m+1) x (n+1)\n    let m = s1.length;\n    let n = s2.length;\n\n    let table = document.createElement('table');\n\n    // First row: empty cell + characters of s2\n    let headerRow = document.createElement('tr');\n    let emptyTopLeft = document.createElement('th');\n    emptyTopLeft.textContent = '';\n    headerRow.appendChild(emptyTopLeft);\n    for (let j = 0; j < n; j++) {\n      let th = document.createElement('th');\n      th.textContent = s2[j];\n      headerRow.appendChild(th);\n    }\n    table.appendChild(headerRow);\n\n    for (let i = 0; i <= m; i++) {\n      let row = document.createElement('tr');\n      // first column: s1 char or empty for i=0\n      let firstCell = document.createElement('th');\n      firstCell.textContent = i > 0 ? s1[i-1] : '';\n      row.appendChild(firstCell);\n\n      for (let j = 0; j <= n; j++) {\n        let td = document.createElement('td');\n        td.textContent = dp[i][j];\n        row.appendChild(td);\n      }\n      table.appendChild(row);\n    }\n    return table;\n  }\n\n  document.getElementById('computeBtn').addEventListener('click', () => {\n    const s1 = document.getElementById('string1').value;\n    const s2 = document.getElementById('string2').value;\n\n    if (!s1 || !s2) {\n      alert('Please enter both strings.');\n      return;\n    }\n\n    const { length, sequence, dpMatrix } = computeLCS(s1, s2);\n\n    const resultDiv = document.getElementById('result');\n    resultDiv.innerHTML = `Length of LCS: <strong>${length}</strong><br/>Longest Common Subsequence: <span style=\"color:#d9534f;\">${sequence || '(empty)'}</span>`;\n\n    const matrixContainer = document.getElementById('matrixContainer');\n    matrixContainer.innerHTML = '<strong>DP Matrix (LCS lengths for prefixes):</strong>';\n    matrixContainer.appendChild(renderMatrix(dpMatrix, s1, s2));\n  });\n\n  // Initially compute LCS for preset values\n  document.getElementById('computeBtn').click();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Longest Common Subsequence"
    }
  ],
  "topic": "Longest Common Subsequence",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}