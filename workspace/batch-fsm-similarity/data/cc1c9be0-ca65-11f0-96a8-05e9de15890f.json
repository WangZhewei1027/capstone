{
  "id": "cc1c9be0-ca65-11f0-96a8-05e9de15890f",
  "timestamp": "2025-11-26T01:21:00.044Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Queue",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\" />\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n<title>Queue Demo — Interactive Visualization</title>\n<style>\n  :root{\n    --bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8; --tile:#0f172a;\n    --cell:#081227; --text:#e6eef8;\n  }\n  *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,\"Helvetica Neue\",Arial}\n  body{margin:0;background:linear-gradient(180deg,#061026 0%, #041124 100%);color:var(--text);min-height:100vh;padding:28px}\n  .wrap{max-width:1100px;margin:0 auto}\n  header{display:flex;gap:18px;align-items:center;margin-bottom:18px}\n  h1{font-size:20px;margin:0}\n  p.lead{margin:0;color:var(--muted);font-size:13px}\n  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);padding:14px;border-radius:10px;box-shadow:0 6px 30px rgba(2,6,23,0.6)}\n  .controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-top:12px}\n  label{font-size:13px;color:var(--muted)}\n  select,input[type=text]{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:var(--text)}\n  input[type=range]{accent-color:var(--accent)}\n  button{background:linear-gradient(180deg,#075a66,#044e58);color:#fff;border:0;padding:9px 12px;border-radius:8px;cursor:pointer}\n  button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06)}\n  .layout{display:grid;grid-template-columns:1fr 360px;gap:14px;margin-top:16px}\n  .visual{padding:18px;min-height:260px}\n  .queue-area{display:flex;gap:10px;align-items:center;flex-wrap:wrap}\n  .cell{width:62px;height:62px;border-radius:8px;background:var(--cell);display:flex;align-items:center;justify-content:center;font-weight:600;color:var(--text);position:relative;border:1px solid rgba(255,255,255,0.04)}\n  .cell.empty{color:var(--muted);font-weight:500}\n  .cell .idx{position:absolute;left:6px;top:6px;font-size:11px;color:var(--muted)}\n  .pointer{position:absolute;top:-18px;left:50%;transform:translateX(-50%);font-size:12px;padding:2px 6px;border-radius:6px;background:linear-gradient(180deg,#0ea5a8aa,#059fa4aa);color:#042427}\n  .pointer.rear{background:linear-gradient(180deg,#60a5faaa,#3b82f6aa);color:#021528;top:auto;bottom:-18px}\n  .meta{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}\n  .stat{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:8px;font-size:13px;color:var(--muted)}\n  .log{height:320px;overflow:auto;padding:12px;background:linear-gradient(180deg,#031528,#021122);border-radius:10px;border:1px solid rgba(255,255,255,0.03)}\n  .log p{margin:6px 0;font-size:13px;color:var(--muted)}\n  .log p span{color:var(--text)}\n  .controls .small{font-size:13px}\n  .help{font-size:13px;color:var(--muted);margin-top:8px}\n  .anim{transition:all 420ms cubic-bezier(.2,.9,.2,1)}\n  .flash{animation:flash 700ms ease}\n  @keyframes flash{0%{transform:scale(1);}50%{transform:scale(1.08);}100%{transform:scale(1);}}\n  footer{margin-top:14px;color:var(--muted);font-size:13px}\n  .caption{font-size:12px;color:var(--muted);margin-top:8px}\n  .small-muted{font-size:12px;color:var(--muted)}\n  .row{display:flex;gap:8px;align-items:center}\n  .switch{display:flex;gap:8px;align-items:center}\n  .badge{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:8px;color:var(--muted);font-size:13px}\n  .code{background:#021220;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.025);font-family:monospace;font-size:12px;color:#bfefff;white-space:pre-wrap}\n  @media (max-width:980px){.layout{grid-template-columns:1fr;}.queue-area{justify-content:flex-start;overflow:auto;padding-bottom:6px}}\n</style>\n</head>\n<body>\n<div class=\"wrap\">\n  <header>\n    <div>\n      <h1>Queue — Interactive Visualization</h1>\n      <p class=\"lead\">Explore the FIFO queue concept. Enqueue, dequeue, peek and watch the internal state update.</p>\n    </div>\n  </header>\n\n  <div class=\"panel\">\n    <div class=\"controls\">\n      <div class=\"row\">\n        <label class=\"small-muted\">Implementation</label>\n        <select id=\"implSelect\" title=\"Choose implementation\">\n          <option value=\"circular\">Circular Buffer (fixed capacity)</option>\n          <option value=\"array\">Array (push/shift)</option>\n        </select>\n      </div>\n\n      <div class=\"row\">\n        <label class=\"small-muted\">Capacity</label>\n        <input id=\"capacity\" type=\"number\" min=\"1\" value=\"6\" style=\"width:86px\"/>\n      </div>\n\n      <div class=\"row\">\n        <input id=\"itemInput\" type=\"text\" placeholder=\"Value (string/number)\" style=\"width:160px\"/>\n        <button id=\"enqueueBtn\">Enqueue</button>\n        <button id=\"dequeueBtn\" class=\"secondary\">Dequeue</button>\n        <button id=\"peekBtn\" class=\"secondary\">Peek</button>\n      </div>\n\n      <div class=\"row\">\n        <button id=\"clearBtn\" class=\"secondary\">Clear</button>\n        <button id=\"bulkBtn\" class=\"secondary\">Bulk add 3</button>\n      </div>\n\n      <div class=\"row\">\n        <label class=\"small-muted\">Auto Enqueue</label>\n        <button id=\"autoToggle\" class=\"secondary\">Start</button>\n        <label class=\"small-muted\">rate</label>\n        <input id=\"rate\" type=\"range\" min=\"200\" max=\"2000\" value=\"800\"/>\n      </div>\n    </div>\n\n    <div class=\"layout\" style=\"margin-top:12px\">\n      <div class=\"visual panel\" id=\"visualPanel\">\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\n          <div class=\"small-muted\">Visualized storage</div>\n          <div class=\"caption\">Click a cell to remove that item (array impl only)</div>\n        </div>\n\n        <div id=\"visual\" style=\"margin-top:12px\"></div>\n\n        <div class=\"meta\" id=\"metaArea\">\n          <div class=\"stat\">Size: <strong id=\"size\">0</strong></div>\n          <div class=\"stat\">Capacity: <strong id=\"capacityDisplay\">6</strong></div>\n          <div class=\"stat\">Front index: <strong id=\"frontIdx\">—</strong></div>\n          <div class=\"stat\">Rear index: <strong id=\"rearIdx\">—</strong></div>\n        </div>\n\n        <div style=\"margin-top:12px\">\n          <div class=\"caption\">Explanation</div>\n          <div class=\"small-muted\" style=\"margin-top:6px\">\n            Queue = First-In First-Out (FIFO). Enqueue adds to the rear, dequeue removes from the front.\n            Circular buffer keeps a fixed-size array and reuses slots (O(1)), while the simple array plan uses push/shift (shift is O(n) in JS).\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <div class=\"log\" id=\"log\"></div>\n        <div style=\"margin-top:10px\" class=\"panel\">\n          <div style=\"display:flex;justify-content:space-between;align-items:center\">\n            <div class=\"small-muted\">Representative code (simplified)</div>\n            <div class=\"badge\" id=\"implBadge\">Circular</div>\n          </div>\n          <pre class=\"code\" id=\"codeArea\" style=\"margin-top:8px\"></pre>\n        </div>\n      </div>\n    </div>\n\n    <footer>\n      Tip: Try toggling implementations and observe how internal indices and storage change.\n    </footer>\n  </div>\n</div>\n\n<script>\n/*\n  Interactive Queue Demo\n  - Two implementations: CircularBuffer (fixed capacity) and ArrayQueue (unbounded).\n  - Visualizes internal storage and front/rear indices.\n*/\n\n(function(){\n  // Utilities\n  function $(id){return document.getElementById(id)}\n  function log(msg, type='info'){\n    const el = document.createElement('p')\n    const d = new Date().toLocaleTimeString()\n    el.innerHTML = '<span>['+d+']</span> — ' + msg\n    if(type==='warn') el.style.color = '#ffb86b'\n    else if(type==='error') el.style.color = '#ff6b6b'\n    $('log').prepend(el)\n  }\n\n  // Queue Implementations\n  class ArrayQueue {\n    constructor(){\n      this.arr = []\n    }\n    enqueue(v){ this.arr.push(v) }\n    dequeue(){ return this.arr.length? this.arr.shift(): undefined }\n    peek(){ return this.arr.length? this.arr[0]: undefined }\n    clear(){ this.arr = [] }\n    size(){ return this.arr.length }\n    toArray(){ return this.arr.slice() }\n    capacity(){ return Infinity }\n    frontIdx(){ return this.arr.length? 0 : null }\n    rearIdx(){ return this.arr.length? this.arr.length - 1 : null }\n    removeAt(i){ // helper for clicking a cell (not typical queue op)\n      if (i>=0 && i < this.arr.length) this.arr.splice(i,1)\n    }\n  }\n\n  class CircularQueue {\n    constructor(capacity){\n      this.setCapacity(capacity||6)\n    }\n    setCapacity(n){\n      if (n < 1) n = 1\n      this.cap = Math.floor(n)\n      this.data = Array(this.cap).fill(null)\n      this.head = 0  // index of front item\n      this.tail = 0  // index where next enqueue will write\n      this.count = 0\n    }\n    enqueue(v){\n      if (this.count === this.cap) return false // full\n      this.data[this.tail] = v\n      this.tail = (this.tail + 1) % this.cap\n      this.count++\n      return true\n    }\n    dequeue(){\n      if (this.count === 0) return undefined\n      const v = this.data[this.head]\n      this.data[this.head] = null\n      this.head = (this.head + 1) % this.cap\n      this.count--\n      return v\n    }\n    peek(){ return this.count? this.data[this.head] : undefined }\n    clear(){\n      this.data = Array(this.cap).fill(null)\n      this.head = 0; this.tail = 0; this.count = 0\n    }\n    size(){ return this.count }\n    toArray(){\n      const out = []\n      for(let i=0;i<this.count;i++){\n        out.push(this.data[(this.head + i) % this.cap])\n      }\n      return out\n    }\n    capacity(){ return this.cap }\n    frontIdx(){ return this.count? this.head : null }\n    rearIdx(){ return this.count? (this.tail - 1 + this.cap) % this.cap : null }\n  }\n\n  // App state & UI\n  const implSelect = $('implSelect')\n  const capacityInput = $('capacity')\n  const itemInput = $('itemInput')\n  const enqueueBtn = $('enqueueBtn')\n  const dequeueBtn = $('dequeueBtn')\n  const peekBtn = $('peekBtn')\n  const clearBtn = $('clearBtn')\n  const bulkBtn = $('bulkBtn')\n  const autoBtn = $('autoToggle')\n  const rateSlider = $('rate')\n  const visual = $('visual')\n  const sizeLabel = $('size')\n  const capacityLabel = $('capacityDisplay')\n  const frontIdxLabel = $('frontIdx')\n  const rearIdxLabel = $('rearIdx')\n  const codeArea = $('codeArea')\n  const implBadge = $('implBadge')\n\n  let impl = 'circular'\n  let queue = new CircularQueue(Number(capacityInput.value)||6)\n  let autoInterval = null\n\n  function render(){\n    visual.innerHTML = ''\n    const cap = queue.capacity()\n    capacityLabel.textContent = (cap === Infinity) ? '∞' : cap\n    sizeLabel.textContent = queue.size()\n    frontIdxLabel.textContent = queue.frontIdx() === null ? '—' : queue.frontIdx()\n    rearIdxLabel.textContent = queue.rearIdx() === null ? '—' : queue.rearIdx()\n    implBadge.textContent = (impl === 'circular') ? 'Circular' : 'Array'\n\n    // Show representative code snippet\n    if (impl==='circular'){\n      codeArea.textContent = [\n        '// Circular buffer (fixed capacity)',\n        'enqueue(v): if size==cap => fail',\n        '  data[tail] = v; tail = (tail+1)%cap; size++',\n        'dequeue(): if size==0 => undefined',\n        '  v = data[head]; data[head]=null; head=(head+1)%cap; size--'\n      ].join('\\n')\n    } else {\n      codeArea.textContent = [\n        '// Simple array queue (unbounded)',\n        'enqueue(v): arr.push(v)',\n        'dequeue(): if arr.length==0 => undefined',\n        '  return arr.shift()   // shift is O(n)'\n      ].join('\\n')\n    }\n\n    // Render cells\n    if (impl === 'circular'){\n      const box = document.createElement('div')\n      box.style.display = 'flex'\n      box.style.gap = '10px'\n      for(let i=0;i<cap;i++){\n        const c = document.createElement('div')\n        c.className = 'cell anim' + (queue.data[i] === null ? ' empty' : '')\n        c.innerHTML = ''\n        const idx = document.createElement('div')\n        idx.className = 'idx'\n        idx.textContent = i\n        c.appendChild(idx)\n        const val = document.createElement('div')\n        val.style.textAlign = 'center'\n        val.style.fontSize = '15px'\n        val.textContent = queue.data[i] === null ? '-' : String(queue.data[i])\n        c.appendChild(val)\n\n        // front/rear pointers\n        if (queue.frontIdx() === i){\n          const p = document.createElement('div')\n          p.className = 'pointer'\n          p.textContent = 'front'\n          c.appendChild(p)\n        }\n        if (queue.rearIdx() === i){\n          const p = document.createElement('div')\n          p.className = 'pointer rear'\n          p.textContent = 'rear'\n          c.appendChild(p)\n        }\n        box.appendChild(c)\n      }\n      visual.appendChild(box)\n    } else {\n      // array view: show current array elements in order (front at left)\n      const arr = queue.toArray()\n      const container = document.createElement('div')\n      container.style.display = 'flex'\n      container.style.gap = '10px'\n      arr.forEach((v,i)=>{\n        const c = document.createElement('div')\n        c.className = 'cell anim'\n        c.textContent = String(v)\n        const idx = document.createElement('div')\n        idx.className = 'idx'\n        idx.textContent = i\n        c.appendChild(idx)\n        // allow clicking to remove arbitrary element (for demo)\n        c.title = 'Click to remove this element (not a typical queue op)'\n        c.style.cursor = 'pointer'\n        c.addEventListener('click', ()=>{\n          queue.removeAt(i)\n          log('Removed element at index ' + i + ' (' + v + ') via click', 'warn')\n          render()\n        })\n        if (i === 0){\n          const p = document.createElement('div')\n          p.className = 'pointer'\n          p.textContent = 'front'\n          c.appendChild(p)\n        }\n        if (i === arr.length - 1){\n          const p = document.createElement('div')\n          p.className = 'pointer rear'\n          p.textContent = 'rear'\n          c.appendChild(p)\n        }\n        container.appendChild(c)\n      })\n      if(arr.length===0){\n        const emptyBox = document.createElement('div')\n        emptyBox.className = 'small-muted'\n        emptyBox.textContent = 'Queue is empty'\n        visual.appendChild(emptyBox)\n      } else {\n        visual.appendChild(container)\n      }\n    }\n  }\n\n  // Actions\n  function enqueueValue(val){\n    if (val === '') { log('Cannot enqueue empty string', 'error'); return }\n    if (impl === 'circular'){\n      const ok = queue.enqueue(val)\n      if (!ok){\n        log('Enqueue failed: queue is full (capacity ' + queue.capacity() + ')', 'error')\n      } else {\n        log('Enqueued: ' + val)\n      }\n    } else {\n      queue.enqueue(val)\n      log('Enqueued: ' + val)\n    }\n    render()\n    itemInput.value = ''\n    itemInput.focus()\n  }\n\n  function dequeueValue(){\n    const v = queue.dequeue()\n    if (v === undefined){\n      log('Dequeue attempted on empty queue', 'error')\n    } else {\n      log('Dequeued: ' + v)\n    }\n    render()\n  }\n\n  function peekValue(){\n    const v = queue.peek()\n    if (v === undefined){\n      log('Peek: queue empty', 'warn')\n    } else {\n      log('Peek: ' + v)\n    }\n  }\n\n  // Bulk add\n  function bulkAdd(n=3){\n    for(let i=0;i<n;i++){\n      const v = 'v' + Math.floor(Math.random()*90+10)\n      // try to enqueue, stop if circular and full\n      if (impl==='circular'){\n        if (!queue.enqueue(v)){\n          log('Stopped bulk add: queue full', 'warn')\n          break\n        } else log('Enqueued: ' + v)\n      } else {\n        queue.enqueue(v); log('Enqueued: ' + v)\n      }\n    }\n    render()\n  }\n\n  // Auto enqueue\n  function toggleAuto(){\n    if (autoInterval){\n      clearInterval(autoInterval); autoInterval = null\n      autoBtn.textContent = 'Start'\n      log('Auto enqueue stopped')\n      return\n    }\n    const rate = Number(rateSlider.value)\n    autoBtn.textContent = 'Stop'\n    autoInterval = setInterval(() => {\n      const v = 'a' + Math.floor(Math.random()*900 + 100)\n      if (impl === 'circular'){\n        if (!queue.enqueue(v)){\n          log('Auto enqueue: stopped because queue is full', 'warn'); toggleAuto()\n          return\n        } else log('Auto enqueued: ' + v)\n      } else {\n        queue.enqueue(v); log('Auto enqueued: ' + v)\n      }\n      render()\n    }, rate)\n    log('Auto enqueue started (rate ' + rate + ' ms)')\n  }\n\n  // Wire up UI\n  enqueueBtn.addEventListener('click', ()=> enqueueValue(itemInput.value.trim()))\n  itemInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') enqueueValue(itemInput.value.trim()) })\n  dequeueBtn.addEventListener('click', ()=> dequeueValue())\n  peekBtn.addEventListener('click', ()=> peekValue())\n  clearBtn.addEventListener('click', ()=>{\n    queue.clear()\n    log('Queue cleared', 'warn')\n    render()\n  })\n  bulkBtn.addEventListener('click', ()=> bulkAdd(3))\n  implSelect.addEventListener('change', ()=>{\n    const prevData = queue.toArray()\n    impl = implSelect.value\n    if (impl === 'circular'){\n      const cap = Number(capacityInput.value) || 6\n      queue = new CircularQueue(cap)\n      // try to copy previous items into new circular queue up to capacity\n      for(const v of prevData){\n        if (!queue.enqueue(v)) break\n      }\n    } else {\n      queue = new ArrayQueue()\n      // copy items\n      for(const v of prevData) queue.enqueue(v)\n    }\n    log('Switched implementation to ' + impl, 'warn')\n    render()\n  })\n  capacityInput.addEventListener('change', ()=>{\n    const n = Number(capacityInput.value) || 1\n    if (impl === 'circular'){\n      // resize circular buffer keeping existing contents (up to new capacity)\n      const items = queue.toArray()\n      queue = new CircularQueue(n)\n      for(const v of items) {\n        if (!queue.enqueue(v)) break\n      }\n      log('Circular capacity set to ' + n)\n    } else {\n      log('Capacity ignored for array implementation (unbounded)', 'warn')\n    }\n    render()\n  })\n  autoBtn.addEventListener('click', toggleAuto)\n  rateSlider.addEventListener('input', ()=>{\n    if (autoInterval){\n      toggleAuto(); toggleAuto() // restart with new rate\n    }\n  })\n\n  // initial render and sample operations\n  render()\n  log('Demo ready — current implementation: Circular Buffer (capacity ' + queue.capacity() + ')')\n\n  // seed with a couple values for clarity\n  queue.enqueue('A'); queue.enqueue('B'); queue.enqueue('C')\n  render()\n  log('Seeded A, B, C')\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Queue"
    }
  ],
  "topic": "Queue",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}