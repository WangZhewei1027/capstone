<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Stack Data Structure Demo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2em;
    max-width: 600px;
  }
  h1 {
    text-align: center;
  }
  .stack-container {
    border: 2px solid #444;
    border-radius: 8px;
    width: 200px;
    min-height: 300px;
    margin: 1em auto;
    display: flex;
    flex-direction: column-reverse;
    align-items: center;
    background: #fafafa;
  }
  .stack-element {
    width: 160px;
    padding: 10px;
    margin: 5px 0;
    border: 2px solid #2f6fdb;
    border-radius: 5px;
    background: #d6e4ff;
    text-align: center;
    font-weight: bold;
    box-shadow: 1px 1px 3px rgba(0,0,0,0.2);
  }
  .controls {
    display: flex;
    justify-content: center;
    gap: 0.5em;
    margin-bottom: 1em;
  }
  input[type="text"] {
    padding: 0.4em;
    font-size: 1em;
    width: 140px;
  }
  button {
    padding: 0.5em 1em;
    font-size: 1em;
    cursor: pointer;
    border: 1.5px solid #2f6fdb;
    background: #4a8cff;
    color: white;
    border-radius: 5px;
    transition: background-color 0.2s ease;
  }
  button:disabled {
    background: #a5b8e9;
    border-color: #a5b8e9;
    cursor: not-allowed;
  }
  button:hover:not(:disabled) {
    background-color: #356ccc;
  }
  #message {
    margin-top: 1em;
    min-height: 1.5em;
    text-align: center;
    font-weight: bold;
    color: #d93025; /* error red */
  }
  #message.success {
    color: #188038; /* green */
  }
</style>
</head>
<body>
<h1>Stack Data Structure Demo</h1>

<div class="controls">
  <input type="text" id="inputValue" placeholder="Enter value" />
  <button id="pushBtn">Push</button>
  <button id="popBtn">Pop</button>
  <button id="peekBtn">Peek</button>
  <button id="clearBtn">Clear</button>
</div>

<div class="stack-container" id="stackContainer" aria-label="Stack content" role="list">
  <!-- stack elements will appear here -->
</div>

<div id="message" role="alert" aria-live="polite"></div>

<script>
  (function() {
    const stack = [];
    const stackContainer = document.getElementById('stackContainer');
    const inputValue = document.getElementById('inputValue');
    const pushBtn = document.getElementById('pushBtn');
    const popBtn = document.getElementById('popBtn');
    const peekBtn = document.getElementById('peekBtn');
    const clearBtn = document.getElementById('clearBtn');
    const message = document.getElementById('message');

    function updateStackDisplay() {
      // Clear current display
      stackContainer.innerHTML = '';
      // Display stack elements from bottom (top flex-direction: column-reverse) to top
      for(let i = 0; i < stack.length; i++) {
        const elem = document.createElement('div');
        elem.className = 'stack-element';
        elem.textContent = stack[i];
        elem.setAttribute('role', 'listitem');
        if(i === stack.length - 1) {
          elem.style.borderColor = '#db2f4f';
          elem.style.backgroundColor = '#ffd6dd';
          elem.title = 'Top of the stack';
        }
        stackContainer.appendChild(elem);
      }
      // Disable pop and peek if empty
      popBtn.disabled = stack.length === 0;
      peekBtn.disabled = stack.length === 0;
      clearBtn.disabled = stack.length === 0;
    }

    function showMessage(text, isSuccess = false) {
      message.textContent = text;
      if(isSuccess){
        message.classList.add('success');
      } else {
        message.classList.remove('success');
      }
    }

    pushBtn.addEventListener('click', () => {
      const val = inputValue.value.trim();
      if(val === '') {
        showMessage('Please enter a value to push.');
        return;
      }
      stack.push(val);
      updateStackDisplay();
      showMessage(`Pushed "${val}" onto the stack.`, true);
      inputValue.value = '';
      inputValue.focus();
    });

    popBtn.addEventListener('click', () => {
      if(stack.length === 0) {
        showMessage('Stack is empty. Cannot pop.');
        return;
      }
      const popped = stack.pop();
      updateStackDisplay();
      showMessage(`Popped "${popped}" from the stack.`, true);
      inputValue.focus();
    });

    peekBtn.addEventListener('click', () => {
      if(stack.length === 0) {
        showMessage('Stack is empty.');
        return;
      }
      const top = stack[stack.length - 1];
      showMessage(`Top of the stack is "${top}".`, true);
      inputValue.focus();
    });

    clearBtn.addEventListener('click', () => {
      stack.length = 0;
      updateStackDisplay();
      showMessage('Stack cleared.', true);
      inputValue.focus();
    });

    inputValue.addEventListener('keydown', (e) => {
      if(e.key === 'Enter') {
        pushBtn.click();
      }
    });

    // Initialize
    updateStackDisplay();
  })();
</script>
</body>
</html>