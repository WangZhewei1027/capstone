<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linked List Demo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background: #f5f7fa;
  }
  h1 {
    text-align: center;
  }
  #listContainer {
    margin-top: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
  }
  .node {
    background: #4a90e2;
    color: white;
    padding: 10px 20px;
    border-radius: 6px;
    position: relative;
    min-width: 50px;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }
  .arrow {
    width: 40px;
    height: 2px;
    background: #333;
    position: relative;
  }
  .arrow::after {
    content: "";
    position: absolute;
    right: 0;
    top: -5px;
    border: 6px solid transparent;
    border-left-color: #333;
  }
  .controls {
    margin-top: 30px;
    background: white;
    padding: 15px 20px;
    border-radius: 8px;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
    box-shadow: 0 3px 12px rgba(0,0,0,0.1);
  }
  .controls > div {
    margin-bottom: 12px;
  }
  label {
    margin-right: 8px;
  }
  input[type="number"], input[type="text"] {
    padding: 6px 8px;
    font-size: 14px;
    width: 80px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  button {
    padding: 7px 14px;
    font-size: 14px;
    border: none;
    border-radius: 4px;
    background: #4a90e2;
    color: white;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  button:hover {
    background: #357ABD;
  }
  #message {
    max-width: 500px;
    margin: 12px auto;
    text-align: center;
    font-size: 16px;
    color: #d9534f;
  }
  #headLabel {
    font-weight: bold;
    margin-bottom: 8px;
  }
  .node .nextNull {
    position: absolute;
    bottom: -20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px;
    color: #fff;
    font-weight: normal;
  }
</style>
</head>
<body>
<h1>Singly Linked List Demonstration</h1>

<div id="headLabel">Head â†’</div>
<div id="listContainer"></div>

<div class="controls">
  <div>
    <label for="addValue">Value:</label>
    <input type="text" id="addValue" placeholder="e.g. 10" />
  </div>
  <div>
    <button id="addBeginningBtn">Add to Beginning</button>
    <button id="addEndBtn">Add to End</button>
  </div>
  <hr />
  <div>
    <label for="removeValue">Value to Remove:</label>
    <input type="text" id="removeValue" placeholder="e.g. 10" />
  </div>
  <div>
    <button id="removeBtn">Remove First Occurrence</button>
  </div>
  <hr />
  <div>
    <label for="searchValue">Value to Search:</label>
    <input type="text" id="searchValue" placeholder="e.g. 10" />
  </div>
  <div>
    <button id="searchBtn">Search</button>
  </div>
  <hr />
  <div>
    <button id="clearBtn" style="background:#d9534f;">Clear List</button>
  </div>
</div>

<div id="message"></div>

<script>
// Singly Linked List Node class
class Node {
  constructor(value) {
    this.value = value;
    this.next = null;
  }
}

// Singly Linked List class
class LinkedList {
  constructor() {
    this.head = null;
  }

  addAtBeginning(value) {
    const newNode = new Node(value);
    newNode.next = this.head;
    this.head = newNode;
  }

  addAtEnd(value) {
    const newNode = new Node(value);
    if (!this.head) {
      this.head = newNode;
      return;
    }
    let current = this.head;
    while (current.next) {
      current = current.next;
    }
    current.next = newNode;
  }

  remove(value) {
    if (!this.head) return false;
    if (this.head.value === value) {
      this.head = this.head.next;
      return true;
    }
    let current = this.head;
    while (current.next && current.next.value !== value) {
      current = current.next;
    }
    if (current.next && current.next.value === value) {
      current.next = current.next.next;
      return true;
    }
    return false;
  }

  search(value) {
    let current = this.head;
    let index = 0;
    while (current) {
      if (current.value === value) return index;
      current = current.next;
      index++;
    }
    return -1;
  }

  clear() {
    this.head = null;
  }

  toArray() {
    const arr = [];
    let current = this.head;
    while (current) {
      arr.push(current.value);
      current = current.next;
    }
    return arr;
  }
}

const list = new LinkedList();

const listContainer = document.getElementById("listContainer");
const message = document.getElementById("message");

function renderList(highlightIndex = -1) {
  listContainer.innerHTML = "";
  const values = list.toArray();
  if (values.length === 0) {
    listContainer.innerHTML = "<em>(empty list)</em>";
    return;
  }
  values.forEach((val, idx) => {
    const nodeDiv = document.createElement("div");
    nodeDiv.className = "node";
    nodeDiv.textContent = val;
    if (idx === highlightIndex) {
      nodeDiv.style.backgroundColor = "#f39c12";
      nodeDiv.style.color = "white";
      nodeDiv.style.boxShadow = "0 0 10px 3px #f39c12";
    }

    listContainer.appendChild(nodeDiv);
    if (idx !== values.length - 1) {
      const arrowDiv = document.createElement("div");
      arrowDiv.className = "arrow";
      listContainer.appendChild(arrowDiv);
    } else {
      // Show a small null indicator on last node
      const nullText = document.createElement("div");
      nullText.textContent = "null";
      nullText.className = "nextNull";
      nodeDiv.appendChild(nullText);
    }
  });
}

// Controls and event handlers
const addValueInput = document.getElementById("addValue");
const removeValueInput = document.getElementById("removeValue");
const searchValueInput = document.getElementById("searchValue");

function showMessage(msg, isError = true) {
  message.textContent = msg;
  message.style.color = isError ? "#d9534f" : "#28a745";
  if (msg) {
    setTimeout(() => { message.textContent = ""; }, 4000);
  }
}

document.getElementById("addBeginningBtn").onclick = () => {
  const val = addValueInput.value.trim();
  if (val === "") {
    showMessage("Please enter a value to add.");
    return;
  }
  list.addAtBeginning(val);
  renderList();
  addValueInput.value = "";
  showMessage(`Added "${val}" at the beginning.`, false);
};

document.getElementById("addEndBtn").onclick = () => {
  const val = addValueInput.value.trim();
  if (val === "") {
    showMessage("Please enter a value to add.");
    return;
  }
  list.addAtEnd(val);
  renderList();
  addValueInput.value = "";
  showMessage(`Added "${val}" at the end.`, false);
};

document.getElementById("removeBtn").onclick = () => {
  const val = removeValueInput.value.trim();
  if (val === "") {
    showMessage("Please enter a value to remove.");
    return;
  }
  const removed = list.remove(val);
  if (removed) {
    renderList();
    showMessage(`Removed first occurrence of "${val}".`, false);
  } else {
    showMessage(`Value "${val}" not found in list.`);
  }
  removeValueInput.value = "";
};

document.getElementById("searchBtn").onclick = () => {
  const val = searchValueInput.value.trim();
  if (val === "") {
    showMessage("Please enter a value to search.");
    return;
  }
  const idx = list.search(val);
  if (idx === -1) {
    renderList();
    showMessage(`Value "${val}" not found in list.`);
  } else {
    renderList(idx);
    showMessage(`Value "${val}" found at index ${idx}.`, false);
  }
  searchValueInput.value = "";
};

document.getElementById("clearBtn").onclick = () => {
  if (confirm("Are you sure you want to clear the entire list?")) {
    list.clear();
    renderList();
    showMessage("List cleared.", false);
  }
};

// initial render
renderList();
</script>

</body>
</html>