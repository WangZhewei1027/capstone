<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Deque Demonstration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    background: #f0f4f8;
    color: #333;
  }
  h1 {
    text-align: center;
  }
  .container {
    max-width: 700px;
    margin: 1rem auto;
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgb(0 0 0 / 0.1);
  }
  .deque-display {
    margin: 1rem 0;
    padding: 1rem;
    background: #e1ecf4;
    border-radius: 5px;
    display: flex;
    gap: 10px;
    min-height: 40px;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  }
  .deque-element {
    background: #2a62bc;
    color: white;
    padding: 0.4rem 0.8rem;
    border-radius: 3px;
    font-weight: bold;
    user-select: none;
  }
  form {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    justify-content: center;
  }
  input[type="text"] {
    padding: 0.4rem 0.6rem;
    font-size: 1rem;
    border-radius: 4px;
    border: 1px solid #ccc;
    width: 120px;
  }
  button {
    background: #2a62bc;
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    cursor: pointer;
    font-size: 1rem;
    border-radius: 4px;
    transition: background 0.3s;
  }
  button:hover:not(:disabled) {
    background: #204990;
  }
  button:disabled {
    background: #999;
    cursor: not-allowed;
  }
  .status {
    margin-top: 1rem;
    min-height: 1.2em;
    text-align: center;
    color: #d33;
    font-weight: bold;
  }
  .legend {
    font-size: 0.9rem;
    color: #555;
    margin-top: 1rem;
    text-align: center;
  }
</style>
</head>
<body>
  <h1>Double-Ended Queue (Deque) Demo</h1>
  <div class="container">
    <div class="deque-display" id="dequeDisplay" aria-live="polite" aria-label="Current deque contents">
      <!-- Elements will appear here -->
    </div>

    <form id="inputForm" aria-label="Deque controls">
      <input type="text" id="inputValue" placeholder="Enter value" aria-label="Value to add" required />
      <button type="button" id="addFront">Add to Front</button>
      <button type="button" id="addBack">Add to Back</button>
      <button type="button" id="removeFront">Remove from Front</button>
      <button type="button" id="removeBack">Remove from Back</button>
    </form>

    <div class="status" id="status" aria-live="assertive" aria-atomic="true"></div>

    <div class="legend">
      <p><strong>Instructions:</strong> Enter a value and click <em>Add to Front</em> or <em>Add to Back</em> to insert elements. Use <em>Remove from Front</em> or <em>Remove from Back</em> to delete elements from the deque.</p>
    </div>
  </div>

<script>
  class Deque {
    constructor() {
      this.items = [];
    }
    addFront(element) {
      this.items.unshift(element);
    }
    addBack(element) {
      this.items.push(element);
    }
    removeFront() {
      return this.items.shift();
    }
    removeBack() {
      return this.items.pop();
    }
    size() {
      return this.items.length;
    }
    toArray() {
      return [...this.items];
    }
  }

  const deque = new Deque();

  const dequeDisplay = document.getElementById('dequeDisplay');
  const inputValue = document.getElementById('inputValue');
  const addFrontBtn = document.getElementById('addFront');
  const addBackBtn = document.getElementById('addBack');
  const removeFrontBtn = document.getElementById('removeFront');
  const removeBackBtn = document.getElementById('removeBack');
  const status = document.getElementById('status');

  function renderDeque() {
    dequeDisplay.innerHTML = '';
    if (deque.size() === 0) {
      dequeDisplay.textContent = '(deque is empty)';
      removeFrontBtn.disabled = true;
      removeBackBtn.disabled = true;
    } else {
      removeFrontBtn.disabled = false;
      removeBackBtn.disabled = false;
      deque.toArray().forEach((el, idx) => {
        const div = document.createElement('div');
        div.classList.add('deque-element');
        div.textContent = el;
        dequeDisplay.appendChild(div);
      });
    }
  }

  function showStatus(message, isError = false) {
    status.textContent = message;
    status.style.color = isError ? '#d33' : '#2a6200';
  }

  addFrontBtn.addEventListener('click', () => {
    const val = inputValue.value.trim();
    if (val === '') {
      showStatus('Please enter a non-empty value to add.', true);
      return;
    }
    deque.addFront(val);
    showStatus(`Added "${val}" to the front.`);
    inputValue.value = '';
    inputValue.focus();
    renderDeque();
  });

  addBackBtn.addEventListener('click', () => {
    const val = inputValue.value.trim();
    if (val === '') {
      showStatus('Please enter a non-empty value to add.', true);
      return;
    }
    deque.addBack(val);
    showStatus(`Added "${val}" to the back.`);
    inputValue.value = '';
    inputValue.focus();
    renderDeque();
  });

  removeFrontBtn.addEventListener('click', () => {
    if (deque.size() === 0) {
      showStatus('Cannot remove from front, deque is empty.', true);
      return;
    }
    const removed = deque.removeFront();
    showStatus(`Removed "${removed}" from the front.`);
    renderDeque();
  });

  removeBackBtn.addEventListener('click', () => {
    if (deque.size() === 0) {
      showStatus('Cannot remove from back, deque is empty.', true);
      return;
    }
    const removed = deque.removeBack();
    showStatus(`Removed "${removed}" from the back.`);
    renderDeque();
  });

  // Initial render
  renderDeque();
</script>
</body>
</html>