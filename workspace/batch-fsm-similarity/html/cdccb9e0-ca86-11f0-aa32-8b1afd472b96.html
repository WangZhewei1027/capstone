<!DOCTYPE html>
<html>
<head>
	<title>KNN</title>
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tensorflow@2.8.0"></script>
	<script>
		function knn(numNeighbors, data, target) {
			var X = tf.tensor(data, numNeighbors);
			var y = tf.tensor(target);

			var predictions = tf.scatter(X, y);

			return predictions;
		}

		function knnLoss(predictions, target) {
			return tf.reduce(tf.square(predictions - target), 0);
		}
	</script>
</head>
<body>

<h1>KNN</h1>

<p>Enter the number of neighbors for which you want to find the nearest neighbors:</p>

<input type="number" id="numNeighbors">

<p>Enter the data to use for training:</p>

<input type="text" id="data">

<p>Enter the target:</p>

<input type="text" id="target">

<p>Click the button to run the KNN algorithm and display the predicted neighbors:</p>

<button onclick="knn(numNeighbors, data, target)">Run KNN</button>

<div id="result"></div>

<p>The predicted neighbors are as follows:</p>

<table id="result-table">
	<tr>
		<th>N_neighbors</th>
		<th>Predicted</th>
	</tr>
	<tr>
		<td>1</td>
		<td>1</td>
	</tr>
	<tr>
		<td>2</td>
		<td>2</td>
	</tr>
	<tr>
		<td>3</td>
		<td>3</td>
	</tr>
	<tr>
		<td>4</td>
		<td>4</td>
	</tr>
	<tr>
		<td>5</td>
		<td>5</td>
	</tr>
	<tr>
		<td>6</td>
		<td>6</td>
	</tr>
	<tr>
		<td>7</td>
		<td>7</td>
	</tr>
	<tr>
		<td>8</td>
		<td>8</td>
	</tr>
	<tr>
		<td>9</td>
		<td>9</td>
	</tr>
</table>

<script>
	// Set up TensorFlow variables
	var numNeighbors = document.getElementById("numNeighbors").value;
	var data = document.getElementById("data").value;
	var target = document.getElementById("target").value;

	// Run KNN algorithm
	knn(numNeighbors, data, target);
</script>

</body>
</html>