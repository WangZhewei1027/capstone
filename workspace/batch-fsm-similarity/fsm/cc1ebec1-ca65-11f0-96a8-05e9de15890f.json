"{\n  \"meta\": {\n    \"concept\": \"FibonacciSequence\",\n    \"topic\": \"Fibonacci Sequence Explorer\",\n    \"educational_goal\": \"Compute Fibonacci numbers (BigInt), compare methods, show sequences and ratios, and visualize a Fibonacci spiral\",\n    \"expected_interactions\": [\n      \"compute\",\n      \"clear\",\n      \"copy\",\n      \"show_formula\",\n      \"draw\",\n      \"animate\",\n      \"change_parameters\",\n      \"resize_canvas\"\n    ]\n  },\n  \"states\": [\n    {\n      \"id\": \"S0_Idle\",\n      \"label\": \"idle\",\n      \"type\": \"idle\",\n      \"entry_actions\": [\n        \"enableControls()\",\n        \"renderInitialViews()\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S1_Computing\",\n      \"label\": \"computing\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"readInputs()\",\n        \"updateLastInfo()\",\n        \"showComputingPlaceholder()\",\n        \"startComputationTimer()\"\n      ],\n      \"exit_actions\": [\n        \"stopComputationTimer()\"\n      ]\n    },\n    {\n      \"id\": \"S2_DisplayValue\",\n      \"label\": \"display_value\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"renderResultValue()\",\n        \"updateTimeTaken()\",\n        \"renderPreviewSequence()\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S3_DisplaySequence\",\n      \"label\": \"display_full_sequence\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"renderSequence()\",\n        \"renderRatios()\",\n        \"updateTimeTaken()\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S4_ErrorAlert\",\n      \"label\": \"error_alert\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"alert('Please enter a non-negative integer for n.')\",\n        \"focusInput('#n')\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S5_ConfirmNaive\",\n      \"label\": \"confirm_naive\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"showConfirm('Naive recursion for n > 40 will be very slow. Continue?')\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S6_Drawing\",\n      \"label\": \"drawing\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"readDrawParameters()\",\n        \"drawSpiral(k)\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S7_Animating\",\n      \"label\": \"animating\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"startAnimationLoop()\",\n        \"setAnimateButtonText('Stop')\"\n      ],\n      \"exit_actions\": [\n        \"stopAnimationLoop()\",\n        \"setAnimateButtonText('Animate')\"\n      ]\n    },\n    {\n      \"id\": \"S8_Copying\",\n      \"label\": \"copying_result\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"navigator.clipboard.writeText($result.textContent)\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S9_ShowingLatex\",\n      \"label\": \"showing_latex\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"alert('Show formula / Binet / explanation')\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S10_Cleared\",\n      \"label\": \"cleared\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"clearResultOutput()\",\n        \"clearSequenceAndRatios()\",\n        \"resetTimeTakenDisplay()\"\n      ],\n      \"exit_actions\": []\n    },\n    {\n      \"id\": \"S11_CanvasResized\",\n      \"label\": \"canvas_resized\",\n      \"type\": \"atomic\",\n      \"entry_actions\": [\n        \"resizeCanvas()\",\n        \"clearCanvas()\",\n        \"redrawCurrentSpiralIfAny()\"\n      ],\n      \"exit_actions\": []\n    }\n  ],\n  \"events\": [\n    {\n      \"id\": \"CLICK_COMPUTE\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User clicks the Compute button\",\n      \"triggers\": \"#compute\"\n    },\n    {\n      \"id\": \"ENTER_KEY_IN_N\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User presses Enter in the n input\",\n      \"triggers\": \"#n\"\n    },\n    {\n      \"id\": \"CHANGE_METHOD\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User changes computation method\",\n      \"triggers\": \"#method\"\n    },\n    {\n      \"id\": \"CHANGE_MODE\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User changes mode (value/sequence)\",\n      \"triggers\": \"#mode\"\n    },\n    {\n      \"id\": \"CLICK_CLEAR\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User clicks Clear output\",\n      \"triggers\": \"#clear\"\n    },\n    {\n      \"id\": \"CLICK_COPY\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User clicks Copy result\",\n      \"triggers\": \"#copyResult\"\n    },\n    {\n      \"id\": \"CLICK_SHOW_LATEX\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User clicks Show formula (LaTeX/info)\",\n      \"triggers\": \"#showLatex\"\n    },\n    {\n      \"id\": \"CLICK_DRAW\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User clicks Draw Spiral\",\n      \"triggers\": \"#draw\"\n    },\n    {\n      \"id\": \"CLICK_ANIMATE\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User clicks Animate (toggle start/stop)\",\n      \"triggers\": \"#animate\"\n    },\n    {\n      \"id\": \"CHANGE_KDRAW\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User changes number of squares to draw (kDraw)\",\n      \"triggers\": \"#kDraw\"\n    },\n    {\n      \"id\": \"CHANGE_COLOR\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User changes spiral color\",\n      \"triggers\": \"#color\"\n    },\n    {\n      \"id\": \"CHANGE_SCALE\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User changes scale slider\",\n      \"triggers\": \"#scale\"\n    },\n    {\n      \"id\": \"WINDOW_RESIZE\",\n      \"event_type\": \"user_action\",\n      \"description\": \"Window resize triggers canvas resize\",\n      \"triggers\": \"#canvas, window\"\n    },\n    {\n      \"id\": \"COMPUTATION_COMPLETE\",\n      \"event_type\": \"system_event\",\n      \"description\": \"Computation finished successfully\",\n      \"triggers\": \"\"\n    },\n    {\n      \"id\": \"COMPUTATION_ERROR\",\n      \"event_type\": \"system_event\",\n      \"description\": \"Computation threw an error\",\n      \"triggers\": \"\"\n    },\n    {\n      \"id\": \"CONFIRM_YES\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User confirms proceeding with naive recursion\",\n      \"triggers\": \"confirm() (browser modal)\"\n    },\n    {\n      \"id\": \"CONFIRM_NO\",\n      \"event_type\": \"user_action\",\n      \"description\": \"User cancels naive recursion confirmation\",\n      \"triggers\": \"confirm() (browser modal)\"\n    },\n    {\n      \"id\": \"CLIPBOARD_SUCCESS\",\n      \"event_type\": \"system_event\",\n      \"description\": \"Clipboard write succeeded\",\n      \"triggers\": \"\"\n    },\n    {\n      \"id\": \"CLIPBOARD_FAIL\",\n      \"event_type\": \"system_event\",\n      \"description\": \"Clipboard write failed\",\n      \"triggers\": \"\"\n    },\n    {\n      \"id\": \"ANIMATION_FRAME\",\n      \"event_type\": \"system_event\",\n      \"description\": \"Animation frame tick (requestAnimationFrame)\",\n      \"triggers\": \"\"\n    }\n  ],\n  \"transitions\": [\n    {\n      \"from\": \"S0_Idle\",\n      \"to\": \"S1_Computing\",\n      \"event\": \"CLICK_COMPUTE\",\n      \"guard\": \"nIsNumberAndNonNegative\",\n      \"actions\": [\n        \"captureInputs()\",\n        \"disableControls()\",\n        \"showComputingPlaceholder()\"\n      ],\n      \"expected_observables\": [\n        \"dom:#n\",\n        \"dom:#method\",\n        \"dom:#mode\",\n        \"dom:#compute clicked\"\n      ],\n      \"timeout\": 10000\n    },\n    {\n      \"from\": \"S0_Idle\",\n      \"to\": \"S1_Computing\",\n      \"event\": \"ENTER_KEY_IN_N\",\n      \"guard\": \"nIsNumberAndNonNegative\",\n      \"actions\": [\n        \"captureInputs()\",\n        \"disableControls()\",\n        \"showComputingPlaceholder()\"\n      ],\n      \"expected_observables\": [\n        \"dom:#n keypress Enter\"\n      ],\n      \"timeout\": 10000\n    },\n    {\n      \"from\": \"S0_Idle\",\n      \"to\": \"S4_ErrorAlert\",\n      \"event\": \"CLICK_COMPUTE\",\n      \"guard\": \"nIsNaNOrNegative\",\n      \"actions\": [\n        \"alertInvalidN()\",\n        \"focus('#n')\"\n      ],\n      \"expected_observables\": [\n        \"dom:#n invalid\",\n        \"dom:#compute clicked\"\n      ],\n      \"timeout\": 1000\n    },\n    {\n      \"from\": \"S1_Computing\",\n      \"to\": \"S5_ConfirmNaive\",\n      \"event\": \"CLICK_COMPUTE\",\n      \"guard\": \"methodIsNaiveAndNGreaterThan40\",\n      \"actions\": [\n        \"pauseComputation()\",\n        \"promptConfirmNaive()\"\n      ],\n      \"expected_observables\": [\n        \"dom:#method value 'naive'\",\n        \"dom:#n value > 40\"\n      ],\n      \"timeout\": 500\n    },\n    {\n      \"from\": \"S5_ConfirmNaive\",\n      \"to\": \"S1_Computing\",\n      \"event\": \"CONFIRM_YES\",\n      \"guard\": \"true\",\n      \"actions\": [\n        \"continueComputationWithNaive()\",\n        \"disableControls()\"\n      ],\n      \"expected_observables\": [\n        \"dom:confirm accepted\"\n      ],\n      \"timeout\": 1000\n    },\n    {\n      \"from\": \"S5_ConfirmNaive\",\n      \"to\": \"S0_Idle\",\n      \"event\": \"CONFIRM_NO\",\n      \"guard\": \"true\",\n      \"actions\": [\n        \"abortComputation()\",\n        \"returnControlsToIdle()\"\n      ],\n      \"expected_observables\": [\n        \"dom:confirm dismissed\"\n      ],\n      \"timeout\": 500\n    },\n    {\n      \"from\": \"S1_Computing\",\n      \"to\": \"S2_DisplayValue\",\n      \"event\": \"COMPUTATION_COMPLETE\",\n      \"guard\": \"modeIsValue\",\n      \"actions\": [\n        \"formatAndSetResult()\",\n        \"updateTimeTaken()\",\n        \"enableControls()\"\n      ],\n      \"expected_observables\": [\n        \"dom:#result updated\",\n        \"dom:#time"