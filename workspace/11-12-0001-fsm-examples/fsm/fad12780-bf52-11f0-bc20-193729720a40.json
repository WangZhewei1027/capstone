{
  "topic": "Interactive Application",
  "description": "Finite state machine for the BST Interactive Lab covering user controls, animations, processing, visualization updates, and challenge mode.",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "BTN_INSERT_CLICK": "inserting",
        "ENTER_KEY_ON_VALUE": "inserting",
        "BTN_SEARCH_CLICK": "searching",
        "BTN_DELETE_CLICK": "deleting",
        "BTN_INSERT_LIST_CLICK": "batch_inserting",
        "ENTER_KEY_ON_LIST": "batch_inserting",
        "BTN_RANDOM_CLICK": "generating_random",
        "BTN_CLEAR_CLICK": "clearing",
        "BTN_INORDER_CLICK": "traversing",
        "BTN_PREORDER_CLICK": "traversing",
        "BTN_POSTORDER_CLICK": "traversing",
        "BTN_LEVELORDER_CLICK": "traversing",
        "BTN_VALIDATE_CLICK": "validating",
        "BTN_BALANCED_CLICK": "checking_balance",
        "BTN_STATS_CLICK": "showing_stats",
        "TAB_INSERT_SELECT": "code_tab_insert",
        "TAB_SEARCH_SELECT": "code_tab_search",
        "TAB_DELETE_SELECT": "code_tab_delete",
        "TAB_TRAVERSE_SELECT": "code_tab_traverse",
        "NODE_CLICK": "centering_node",
        "ANIMATE_TOGGLE_CLICK": "toggling_animate",
        "THEME_TOGGLE_CLICK": "toggling_theme",
        "META_TOGGLE_CLICK": "toggling_meta",
        "SPEED_INPUT_CHANGE": "adjusting_speed",
        "WINDOW_RESIZE": "redrawing",
        "GEN_CHALLENGE_CLICK": "challenge_ready",
        "START_CHALLENGE_CLICK": "challenge_active",
        "RESET_CHALLENGE_CLICK": "challenge_none",
        "CHALLENGE_CHECK_CLICK": "challenge_checking",
        "CHALLENGE_HINT_CLICK": "challenge_hinting"
      }
    },
    {
      "name": "inserting",
      "onEnter": "setBusyTrue",
      "onExit": "setBusyFalse",
      "on": {
        "ANIMATE_PATH_HIGHLIGHT": "animating_insert_path",
        "OP_COMPLETE": "redrawing",
        "CHALLENGE_INSERT_WRONG": "inserting",
        "CHALLENGE_INSERT_CORRECT": "inserting",
        "CHALLENGE_COMPLETE": "challenge_complete"
      }
    },
    {
      "name": "animating_insert_path",
      "onEnter": "runAnimatePathHighlight",
      "onExit": "noop",
      "on": {
        "ANIMATION_DONE": "inserting"
      }
    },
    {
      "name": "searching",
      "onEnter": "setBusyTrue",
      "onExit": "setBusyFalse",
      "on": {
        "ANIMATE_PATH_HIGHLIGHT": "animating_search_path",
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "animating_search_path",
      "onEnter": "runAnimatePathHighlight",
      "onExit": "noop",
      "on": {
        "ANIMATION_DONE": "searching"
      }
    },
    {
      "name": "deleting",
      "onEnter": "setBusyTrue",
      "onExit": "setBusyFalse",
      "on": {
        "ANIMATE_PATH_DELETE": "animating_delete_path",
        "OP_COMPLETE": "redrawing"
      }
    },
    {
      "name": "animating_delete_path",
      "onEnter": "runAnimatePathDelete",
      "onExit": "noop",
      "on": {
        "ANIMATION_DONE": "deleting"
      }
    },
    {
      "name": "traversing",
      "onEnter": "setBusyTrue",
      "onExit": "setBusyFalse",
      "on": {
        "ANIMATE_VISIT": "animating_traversal_visit",
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "animating_traversal_visit",
      "onEnter": "runAnimateVisit",
      "onExit": "noop",
      "on": {
        "ANIMATION_DONE": "traversing"
      }
    },
    {
      "name": "batch_inserting",
      "onEnter": "setBusyTrue",
      "onExit": "setBusyFalse",
      "on": {
        "ANIMATE_PATH_HIGHLIGHT": "animating_insert_path",
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "generating_random",
      "onEnter": "clearTree",
      "onExit": "noop",
      "on": {
        "GENERATION_DONE": "batch_inserting"
      }
    },
    {
      "name": "clearing",
      "onEnter": "clearTree",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "validating",
      "onEnter": "printValidation",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "checking_balance",
      "onEnter": "printBalanceCheck",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "showing_stats",
      "onEnter": "printStats",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "toggling_animate",
      "onEnter": "toggleAnimate",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "toggling_theme",
      "onEnter": "toggleTheme",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "toggling_meta",
      "onEnter": "toggleMeta",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle",
        "DRAW_DONE": "idle"
      }
    },
    {
      "name": "adjusting_speed",
      "onEnter": "updateSpeedLabel",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "code_tab_insert",
      "onEnter": "activateTabInsert",
      "onExit": "noop",
      "on": {
        "TAB_SEARCH_SELECT": "code_tab_search",
        "TAB_DELETE_SELECT": "code_tab_delete",
        "TAB_TRAVERSE_SELECT": "code_tab_traverse",
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "code_tab_search",
      "onEnter": "activateTabSearch",
      "onExit": "noop",
      "on": {
        "TAB_INSERT_SELECT": "code_tab_insert",
        "TAB_DELETE_SELECT": "code_tab_delete",
        "TAB_TRAVERSE_SELECT": "code_tab_traverse",
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "code_tab_delete",
      "onEnter": "activateTabDelete",
      "onExit": "noop",
      "on": {
        "TAB_INSERT_SELECT": "code_tab_insert",
        "TAB_SEARCH_SELECT": "code_tab_search",
        "TAB_TRAVERSE_SELECT": "code_tab_traverse",
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "code_tab_traverse",
      "onEnter": "activateTabTraverse",
      "onExit": "noop",
      "on": {
        "TAB_INSERT_SELECT": "code_tab_insert",
        "TAB_SEARCH_SELECT": "code_tab_search",
        "TAB_DELETE_SELECT": "code_tab_delete",
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "centering_node",
      "onEnter": "centerOnNode",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "redrawing",
      "onEnter": "draw",
      "onExit": "noop",
      "on": {
        "DRAW_DONE": "idle"
      }
    },
    {
      "name": "challenge_none",
      "onEnter": "setChallengeInactive",
      "onExit": "noop",
      "on": {
        "GEN_CHALLENGE_CLICK": "challenge_ready"
      }
    },
    {
      "name": "challenge_ready",
      "onEnter": "showGeneratedSequence",
      "onExit": "noop",
      "on": {
        "START_CHALLENGE_CLICK": "challenge_active",
        "RESET_CHALLENGE_CLICK": "challenge_none"
      }
    },
    {
      "name": "challenge_active",
      "onEnter": "startChallenge",
      "onExit": "noop",
      "on": {
        "BTN_INSERT_CLICK": "inserting",
        "CHALLENGE_INSERT_WRONG": "challenge_active",
        "CHALLENGE_INSERT_CORRECT": "challenge_active",
        "CHALLENGE_COMPLETE": "challenge_complete",
        "CHALLENGE_CHECK_CLICK": "challenge_checking",
        "CHALLENGE_HINT_CLICK": "challenge_hinting",
        "RESET_CHALLENGE_CLICK": "challenge_none"
      }
    },
    {
      "name": "challenge_checking",
      "onEnter": "printChallengeCheck",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "challenge_active"
      }
    },
    {
      "name": "challenge_hinting",
      "onEnter": "printChallengeHint",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "challenge_active"
      }
    },
    {
      "name": "challenge_complete",
      "onEnter": "printChallengeComplete",
      "onExit": "noop",
      "on": {
        "RESET_CHALLENGE_CLICK": "challenge_none",
        "CHALLENGE_CHECK_CLICK": "challenge_checking",
        "CHALLENGE_HINT_CLICK": "challenge_hinting"
      }
    }
  ],
  "events": [
    "BTN_INSERT_CLICK",
    "ENTER_KEY_ON_VALUE",
    "BTN_SEARCH_CLICK",
    "BTN_DELETE_CLICK",
    "BTN_INSERT_LIST_CLICK",
    "ENTER_KEY_ON_LIST",
    "BTN_RANDOM_CLICK",
    "BTN_CLEAR_CLICK",
    "BTN_INORDER_CLICK",
    "BTN_PREORDER_CLICK",
    "BTN_POSTORDER_CLICK",
    "BTN_LEVELORDER_CLICK",
    "BTN_VALIDATE_CLICK",
    "BTN_BALANCED_CLICK",
    "BTN_STATS_CLICK",
    "TAB_INSERT_SELECT",
    "TAB_SEARCH_SELECT",
    "TAB_DELETE_SELECT",
    "TAB_TRAVERSE_SELECT",
    "NODE_CLICK",
    "ANIMATE_TOGGLE_CLICK",
    "THEME_TOGGLE_CLICK",
    "META_TOGGLE_CLICK",
    "SPEED_INPUT_CHANGE",
    "WINDOW_RESIZE",
    "GEN_CHALLENGE_CLICK",
    "START_CHALLENGE_CLICK",
    "RESET_CHALLENGE_CLICK",
    "CHALLENGE_CHECK_CLICK",
    "CHALLENGE_HINT_CLICK",
    "ANIMATE_PATH_HIGHLIGHT",
    "ANIMATE_PATH_DELETE",
    "ANIMATE_VISIT",
    "ANIMATION_DONE",
    "OP_COMPLETE",
    "GENERATION_DONE",
    "DRAW_DONE",
    "CHALLENGE_INSERT_WRONG",
    "CHALLENGE_INSERT_CORRECT",
    "CHALLENGE_COMPLETE"
  ],
  "notes": "Busy states disable most control buttons via setBusy(true) and re-enable on exit via setBusy(false). Animation states run animatePath/animateVisit which internally clear marks; toggling animate may cause animations to mark immediately without delays. Redrawing occurs after insert/delete/clear or on window resize. Code tab selection changes active pseudocode block and highlighting lines is driven by operations. Challenge mode has sequence generation (ready), a started state (active), and a terminal state (complete); incorrect order inserts still proceed but print warnings. Node clicks trigger centering/highlight and info output regardless of other states unless the node elements are absent. Theme and meta toggles update UI instantly; meta toggling re-renders nodes to show/hide meta text."
}