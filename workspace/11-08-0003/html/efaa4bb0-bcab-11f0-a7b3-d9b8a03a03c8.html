<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Hash Map</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 24px;
            background-color: #f9f9f9;
            color: #333;
        }
        h1 {
            text-align: center;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 16px;
        }
        .hash-map {
            display: grid;
            grid-template-columns: repeat(5, 80px);
            gap: 16px;
            margin-top: 16px;
        }
        .cell {
            border: 2px solid #aaa;
            width: 80px;
            height: 80px;
            text-align: center;
            vertical-align: middle;
            line-height: 80px;
            transition: background-color 0.3s, transform 0.3s;
        }
        .cell.filled {
            background-color: #4caf50;
            color: white;
            transform: scale(1.05);
        }
        .form-container {
            margin-top: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        button {
            margin-top: 8px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Interactive Hash Map Exploration</h1>
        <div class="hash-map" id="hashMap"></div>
        <div class="form-container">
            <input type="text" id="keyInput" placeholder="Enter Key" />
            <input type="text" id="valueInput" placeholder="Enter Value" />
            <button id="addButton">Add Key-Value Pair</button>
        </div>
    </div>

    <script>
        const hashMapElement = document.getElementById('hashMap');
        const keyInput = document.getElementById('keyInput');
        const valueInput = document.getElementById('valueInput');
        const addButton = document.getElementById('addButton');
        const mapSize = 5; // Number of cells in the hash map

        // Initialize the hash map data structure
        const hashMap = Array(mapSize).fill(null);

        // Function to hash a key to an index
        function hash(key) {
            return key.length % mapSize; 
        }

        // Function to add a key-value pair
        function addKeyValuePair() {
            const key = keyInput.value;
            const value = valueInput.value;
            if (key === "" || value === "") {
                alert("Both key and value must be provided.");
                return;
            }

            const index = hash(key);
            
            // Simple collision resolution with linear probing
            let originalIndex = index;
            while (hashMap[index] !== null) {
                index = (index + 1) % mapSize;
                if (index === originalIndex) {
                    alert("Hash map is full. Please remove some items.");
                    return;
                }
            }
            hashMap[index] = { key: key, value: value };
            renderHashMap();
            keyInput.value = '';
            valueInput.value = '';
        }

        // Function to render the hash map to the DOM
        function renderHashMap() {
            hashMapElement.innerHTML = ''; // Clear existing cells
            hashMap.forEach((item, index) => {
                const cell = document.createElement('div');
                cell.className = `cell ${item ? 'filled' : ''}`;
                cell.innerHTML = item ? `${item.key}<br>${item.value}` : index;
                hashMapElement.appendChild(cell);
            });
        }

        // Event listener for the add button
        addButton.addEventListener('click', addKeyValuePair);
    </script>
</body>
</html>