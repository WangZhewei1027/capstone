<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two Pointers Technique</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            text-align: center;
        }
        #input-section, #visual-section {
            margin: 16px;
            width: 100%;
        }
        input {
            padding: 8px;
            font-size: 16px;
        }
        button {
            padding: 10px;
            font-size: 16px;
            margin-left: 8px;
            cursor: pointer;
        }
        #visual {
            display: flex;
            justify-content: center;
            position: relative;
        }
        .bar {
            width: 40px;
            height: 50px;
            margin: 0 4px;
            background-color: #2c3e50;
            position: relative;
            transition: background-color 0.5s;
        }
        .pointer {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: red;
        }
        .pointer.secondary {
            background-color: blue;
        }
        #feedback {
            margin-top: 16px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Exploring the Two Pointers Technique</h1>
    <div id="input-section">
        <input type="number" id="numberInput" placeholder="Enter a number" />
        <button id="addNumber">Add Number</button>
        <button id="start">Start</button>
        <button id="reset">Reset</button>
    </div>
    <div id="visual-section">
        <div id="visual"></div>
        <div id="feedback"></div>
    </div>
    
    <script>
        const visual = document.getElementById('visual');
        const input = document.getElementById('numberInput');
        const addButton = document.getElementById('addNumber');
        const startButton = document.getElementById('start');
        const resetButton = document.getElementById('reset');
        const feedback = document.getElementById('feedback');

        let numbers = [];
        let left = 0;
        let right = 0;

        addButton.onclick = function() {
            const value = parseInt(input.value);
            if (!isNaN(value)) {
                numbers.push(value);
                updateVisual();
                input.value = ''; // Clear input
            }
        };

        startButton.onclick = function() {
            if (numbers.length < 2) {
                feedback.textContent = "Please add at least two numbers!";
                return;
            }
            left = 0;
            right = numbers.length - 1;

            // Clear feedback
            feedback.textContent = '';
            animatePointers();
        };

        resetButton.onclick = function() {
            numbers = [];
            updateVisual();
            resetPointers();
            feedback.textContent = '';
        };

        function updateVisual() {
            visual.innerHTML = '';
            numbers.forEach((num, index) => {
                const bar = document.createElement('div');
                bar.classList.add('bar');
                bar.style.height = `${num * 5}px`; // Scale height
                visual.appendChild(bar);
            });
        }

        function animatePointers() {
            resetPointers();
            const interval = setInterval(() => {
                if (left < right) {
                    visual.childNodes[left].style.backgroundColor = 'red';    // Highlight left pointer
                    visual.childNodes[right].style.backgroundColor = 'blue';   // Highlight right pointer

                    feedback.textContent = `Comparing ${numbers[left]} and ${numbers[right]}...`;

                    left++;
                    right--;
                } else {
                    clearInterval(interval);
                    feedback.textContent = "Pointers have crossed!";
                }
            }, 1000);
        }

        function resetPointers() {
            left = right = 0;
            visual.querySelectorAll('.bar').forEach(bar => bar.style.backgroundColor = '#2c3e50');
        }
    </script>
</body>
</html>