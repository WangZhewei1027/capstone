<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hash Table Interactive Module</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f4f4f4;
        }
        h1 {
            margin-bottom: 16px;
        }
        input {
            margin: 0 8px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            padding: 8px 16px;
            border: none;
            background: #007bff;
            color: white;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #0056b3;
        }
        #hash-table {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
            margin-top: 24px;
            width: 80%;
        }
        .cell {
            padding: 16px;
            background: #e7e7e7;
            border-radius: 4px;
            text-align: center;
            transition: background 0.3s;
        }
        .success {
            background: #c5e1a5;
        }
        .collision {
            background: #ef5350;
            animation: shake 0.4s;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            20% { transform: translateX(-5px); }
            40% { transform: translateX(5px); }
            60% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        #message {
            margin-top: 16px;
        }
    </style>
</head>
<body>
    <h1>Understanding Hash Tables</h1>
    <div>
        <input id="key" type="text" placeholder="Enter key" />
        <input id="value" type="text" placeholder="Enter value" />
        <button id="add">Add</button>
    </div>
    <div id="hash-table"></div>
    <div>
        <input id="retrieve-key" type="text" placeholder="Enter key to retrieve" />
        <button id="retrieve">Retrieve</button>
    </div>
    <div id="message"></div>

    <script>
        const hashTableSize = 5;
        let hashTable = new Array(hashTableSize).fill(null).map(() => []);

        function hash(key) {
            return key.length % hashTableSize;
        }

        document.getElementById('add').addEventListener('click', () => {
            const key = document.getElementById('key').value;
            const value = document.getElementById('value').value;
            const index = hash(key);
            const cell = document.getElementById(`cell-${index}`);

            if (hashTable[index].some(item => item[0] === key)) {
                document.getElementById('message').innerText = `Collision occurred!`;
                cell.classList.add('collision');
                setTimeout(() => cell.classList.remove('collision'), 400);
            } else {
                hashTable[index].push([key, value]);
                cell.classList.add('success');
                setTimeout(() => cell.classList.remove('success'), 400);
            }

            updateHashTable();
        });

        document.getElementById('retrieve').addEventListener('click', () => {
            const key = document.getElementById('retrieve-key').value;
            const index = hash(key);
            const item = hashTable[index].find(item => item[0] === key);
            const message = item ? `Value: ${item[1]}` : `Key not found!`;
            document.getElementById('message').innerText = message;
        });

        function updateHashTable() {
            const hashTableDiv = document.getElementById('hash-table');
            hashTableDiv.innerHTML = "";

            for (let i = 0; i < hashTableSize; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.id = `cell-${i}`;
                cell.innerText = hashTable[i].length > 0 ? `${hashTable[i].map(item => item.join(': ')).join(', ')}` : 'Empty';
                hashTableDiv.appendChild(cell);
            }
        }
    </script>
</body>
</html>