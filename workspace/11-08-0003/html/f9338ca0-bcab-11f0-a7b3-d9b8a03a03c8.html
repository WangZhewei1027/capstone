<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 24px;
            background-color: #f4f4f9;
            color: #333;
        }
        h1 {
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 16px;
            border-radius: 8px;
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .input-area, .graph-area, .adjacency-list {
            margin-top: 24px;
        }
        button {
            margin-left: 16px;
        }
        #graph {
            width: 100%;
            height: 300px;
            border: 1px dashed #ccc;
            position: relative;
        }
        .node {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #6c5ce7;
            display: inline-block;
            position: absolute;
            transition: transform 0.2s, opacity 0.2s;
        }
        .edge {
            position: absolute;
            width: 2px;
            background: #00b894;
            transition: width 0.2s;
        }
    </style>
    <title>Adjacency List Explorer</title>
</head>
<body>

<div class="container">
    <h1>Understanding Adjacency Lists</h1>

    <div class="input-area">
        <input type="text" id="nodeInput" placeholder="Node Name" aria-label="Node Name">
        <button id="addNodeButton">Add Node</button>
        <br>
        <select id="nodeA" aria-label="Select Node A"></select>
        <select id="nodeB" aria-label="Select Node B"></select>
        <button id="addEdgeButton">Add Edge</button>
    </div>

    <div id="graph" class="graph-area"></div>

    <button id="showAdjacencyButton">Show Adjacency List</button>
    <div class="adjacency-list" id="adjacencyList"></div>
</div>

<script>
    const nodes = [];
    const adjacencyList = {};

    const nodeInput = document.getElementById('nodeInput');
    const addNodeButton = document.getElementById('addNodeButton');
    const nodeA = document.getElementById('nodeA');
    const nodeB = document.getElementById('nodeB');
    const addEdgeButton = document.getElementById('addEdgeButton');
    const graph = document.getElementById('graph');
    const showAdjacencyButton = document.getElementById('showAdjacencyButton');
    const adjacencyListDiv = document.getElementById('adjacencyList');

    addNodeButton.addEventListener('click', () => {
        const nodeName = nodeInput.value.trim();
        if (nodeName && !nodes.includes(nodeName)) {
            nodes.push(nodeName);
            adjacencyList[nodeName] = [];
            updateNodeOptions();
            drawNode(nodeName);
            nodeInput.value = '';
        }
    });

    addEdgeButton.addEventListener('click', () => {
        const selectedNodeA = nodeA.value;
        const selectedNodeB = nodeB.value;
        if (selectedNodeA && selectedNodeB && selectedNodeA !== selectedNodeB) {
            adjacencyList[selectedNodeA].push(selectedNodeB);
            adjacencyList[selectedNodeB].push(selectedNodeA);
            drawEdge(selectedNodeA, selectedNodeB);
        }
    });

    showAdjacencyButton.addEventListener('click', () => {
        displayAdjacencyList();
    });

    function updateNodeOptions() {
        nodeA.innerHTML = '';
        nodeB.innerHTML = '';
        nodes.forEach(node => {
            const optionA = new Option(node, node);
            const optionB = new Option(node, node);
            nodeA.add(optionA);
            nodeB.add(optionB);
        });
    }

    function drawNode(nodeName) {
        const nodeDiv = document.createElement('div');
        nodeDiv.className = 'node';
        nodeDiv.innerText = nodeName;
        nodeDiv.style.transform = `translate(${Math.random() * 300}px, ${Math.random() * 200}px)`;
        graph.appendChild(nodeDiv);
    }

    function drawEdge(fromNode, toNode) {
        const edgeDiv = document.createElement('div');
        edgeDiv.className = 'edge';
        const fromX = 50 + Math.random() * 200; // Dummy calculation for example
        const fromY = 50 + Math.random() * 200;
        const toX = 100 + Math.random() * 200; // Dummy calculation for example
        const toY = 100 + Math.random() * 200;
        edgeDiv.style.left = `${fromX}px`;
        edgeDiv.style.top = `${fromY}px`;
        edgeDiv.style.height = `${Math.sqrt((toX - fromX) ** 2 + (toY - fromY) ** 2)}px`;
        edgeDiv.style.transform = `rotate(${Math.atan2(toY - fromY, toX - fromX)}rad)`;
        graph.appendChild(edgeDiv);
    }

    function displayAdjacencyList() {
        adjacencyListDiv.innerHTML = '<h3>Adjacency List:</h3>';
        for (const node in adjacencyList) {
            adjacencyListDiv.innerHTML += `<div>${node}: [${adjacencyList[node].join(', ')}]</div>`;
        }
    }
</script>

</body>
</html>