<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dijkstra's Algorithm Interactive Module</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            height: 100vh;
        }
        .container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 24px;
            width: 90%;
            max-width: 800px;
            position: relative;
            overflow: hidden;
        }
        h1 {
            text-align: center;
        }
        #graph {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
            margin: 24px 0;
        }
        .node {
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            background-color: #e7e7e7;
            cursor: pointer;
            position: relative;
            transition: background-color 0.3s;
        }
        .node:hover {
            background-color: #d0e1ff;
        }
        .start {
            background-color: #4caf50;
            color: white;
        }
        .end {
            background-color: #f44336;
            color: white;
        }
        .visited {
            background-color: #ffeb3b;
        }
        #console {
            margin-top: 16px;
        }
        button {
            margin-top: 16px;
            padding: 8px 16px;
            border: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.2s;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Dijkstra's Algorithm Visualizer</h1>
        <p><strong>Learning Objective:</strong> Understand how Dijkstra's Algorithm finds the shortest path in a weighted graph.</p>
        
        <div id="graph">
            <div class="node" id="node0">0</div>
            <div class="node" id="node1">1</div>
            <div class="node" id="node2">2</div>
            <div class="node" id="node3">3</div>
            <div class="node" id="node4">4</div>
            <div class="node" id="node5">5</div>
            <div class="node" id="node6">6</div>
            <div class="node" id="node7">7</div>
            <div class="node" id="node8">8</div>
            <div class="node" id="node9">9</div>
        </div>

        <form>
            <label for="startNode">Start Node:</label>
            <input type="number" id="startNode" min="0" max="9" value="0">
            <label for="endNode">End Node:</label>
            <input type="number" id="endNode" min="0" max="9" value="9">
            <button type="button" id="runAlgorithm">Run Algorithm</button>
        </form>

        <div id="console"></div>
    </div>

    <script>
        const nodes = document.querySelectorAll('.node');
        const consoleOutput = document.getElementById('console');
        const startNodeInput = document.getElementById('startNode');
        const endNodeInput = document.getElementById('endNode');
        const runAlgorithmButton = document.getElementById('runAlgorithm');

        const graph = {
            0: { 1: 1, 2: 4 },
            1: { 0: 1, 2: 2, 3: 5 },
            2: { 0: 4, 1: 2, 3: 1 },
            3: { 1: 5, 2: 1, 4: 3 },
            4: { 3: 3, 5: 2 },
            5: { 4: 2, 6: 7 },
            6: { 5: 7, 7: 1 },
            7: { 6: 1, 8: 4 },
            8: { 7: 4, 9: 5 },
            9: { 8: 5 }
        };

        function dijkstra(start, end) {
            const distances = {};
            const visited = {};
            const previous = {};
            const queue = [];

            for (let node in graph) {
                distances[node] = Infinity;
                visited[node] = false;
                previous[node] = null;
            }
            distances[start] = 0;

            queue.push(start);

            while (queue.length > 0) {
                const currentNode = queue.shift();
                visited[currentNode] = true;
                nodes[currentNode].classList.add('visited');

                for (let neighbor in graph[currentNode]) {
                    if (!visited[neighbor]) {
                        let distance = graph[currentNode][neighbor];
                        if (distances[currentNode] + distance < distances[neighbor]) {
                            distances[neighbor] = distances[currentNode] + distance;
                            previous[neighbor] = currentNode;
                        }
                    }
                }

                if (currentNode == end) {
                    break;
                }
            }

            return reconstructPath(previous, start, end);
        }

        function reconstructPath(previous, start, end) {
            const path = [];
            let current = end;

            while (current !== null) {
                path.unshift(current);
                current = previous[current];
            }

            return path.length > 1 ? path : [];
        }

        runAlgorithmButton.addEventListener('click', () => {
            const startNode = startNodeInput.value;
            const endNode = endNodeInput.value;

            nodes.forEach(node => {
                node.classList.remove('visited');
            });

            const path = dijkstra(startNode, endNode);
            consoleOutput.textContent = `Shortest path from ${startNode} to ${endNode}: ${path.join(' -> ')}`;
            path.forEach(nodeIndex => {
                nodes[nodeIndex].classList.add('start');
            });
        });

    </script>
</body>
</html>