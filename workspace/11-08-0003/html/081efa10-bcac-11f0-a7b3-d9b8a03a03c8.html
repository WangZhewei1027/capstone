<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Radix Sort Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 24px;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f4f4f4;
        }

        h1 {
            color: #333;
        }

        #controls {
            margin: 16px 0;
        }

        #arrayInput {
            width: 300px;
            padding: 8px;
        }

        #runButton {
            padding: 8px 16px;
            margin-left: 16px;
            cursor: pointer;
        }

        #arrayVisualization {
            display: flex;
            align-items: flex-end;
            height: 400px;
            margin-top: 16px;
        }

        .bar {
            width: 30px;
            margin: 0 4px;
            background-color: #4CAF50;
            transition: height 0.5s;
        }

        .active {
            background-color: #FF5722;
        }

        .sorted {
            background-color: #2196F3;
        }

        .message {
            margin-top: 16px;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <h1>Radix Sort Visualization</h1>
    <div id="controls">
        <input type="text" id="arrayInput" placeholder="Enter numbers (comma-separated)" />
        <button id="runButton">Run Radix Sort</button>
    </div>
    <div id="arrayVisualization"></div>
    <div class="message" id="message"></div>

    <script>
        function renderArray(array) {
            const visualization = document.getElementById("arrayVisualization");
            visualization.innerHTML = ''; // Clear previous visualization
            array.forEach(value => {
                const bar = document.createElement("div");
                bar.className = "bar";
                bar.style.height = `${value * 2}px`; // Scale for visualization
                visualization.appendChild(bar);
            });
        }

        async function radixSort(array) {
            const maxNumber = Math.max(...array);
            const digitCount = Math.floor(Math.log10(maxNumber)) + 1;
            const message = document.getElementById("message");

            for (let i = 0; i < digitCount; i++) {
                const buckets = Array.from({ length: 10 }, () => []); // Create 10 buckets

                for (const number of array) {
                    const digit = Math.floor((number / Math.pow(10, i)) % 10);
                    buckets[digit].push(number);
                }

                array = [].concat(...buckets);
                renderArray(array); // Update visualization

                await new Promise(resolve => setTimeout(resolve, 1000)); // Pause for 1 second
            }

            // Mark sorted elements
            const bars = document.querySelectorAll(".bar");
            bars.forEach((bar, index) => {
                bar.classList.add("sorted");
                bar.style.height = `${array[index] * 2}px`; // Final heights
            });

            message.innerText = "Sorting complete!";
        }

        document.getElementById("runButton").addEventListener("click", () => {
            const input = document.getElementById("arrayInput").value
                .split(',')
                .map(num => parseInt(num.trim())).filter(num => !isNaN(num));

            if (input.length > 0) {
                renderArray(input);
                document.getElementById("message").innerText = "Sorting...";
                radixSort(input);
            } else {
                alert("Please enter a valid list of numbers.");
            }
        });
    </script>
</body>

</html>