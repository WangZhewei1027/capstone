<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Red-Black Tree</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 24px;
            background-color: #f4f4f9;
        }
        h1 {
            text-align: center;
        }
        #input-section {
            text-align: center;
            margin-bottom: 24px;
        }
        #tree-canvas {
            border: 1px solid #ccc;
            height: 300px;
            position: relative;
            margin-bottom: 16px;
        }
        #feedback {
            background-color: #e7f3fe;
            padding: 16px;
            border-radius: 8px;
            display: none;
        }
        .node { 
            position: absolute; 
            border: 2px solid; 
            border-radius: 50%; 
            text-align: center; 
            line-height: 30px; 
            transition: all 0.3s; 
        }
    </style>
</head>
<body>
    <h1>Interactive Exploration of Red-Black Trees</h1>
    <div id="input-section">
        <input type="number" id="valueInput" placeholder="Enter a value" />
        <button id="insertBtn">Insert</button>
    </div>
    <div id="tree-canvas"></div>
    <div id="feedback"></div>
    
    <script>
        class Node {
            constructor(value, color = 'red') {
                this.value = value;
                this.color = color;
                this.left = null;
                this.right = null;
                this.parent = null;
            }
        }

        class RedBlackTree {
            constructor() {
                this.root = null;
            }

            insert(value) {
                const newNode = new Node(value);
                // Insert the node into the tree
                // Rebalance the Red-Black Tree
                // Update the visual representation
                // Animate insertions and rebalancing through the canvas
                // For simplicity, insertion logic and rebalancing are not fully implemented here.
                this.visualizeNode(newNode);
            }

            visualizeNode(node) {
                const treeCanvas = document.getElementById('tree-canvas');
                const nodeElement = document.createElement('div');
                nodeElement.className = 'node';
                nodeElement.style.backgroundColor = node.color === 'red' ? 'red' : 'black';
                nodeElement.style.color = 'white';
                nodeElement.style.width = '30px';
                nodeElement.style.height = '30px';
                nodeElement.innerHTML = node.value;
                nodeElement.style.top = `${Math.random() * (treeCanvas.clientHeight - 40)}px`;
                nodeElement.style.left = `${Math.random() * (treeCanvas.clientWidth - 40)}px`;
                treeCanvas.appendChild(nodeElement);
                
                const feedback = document.getElementById('feedback');
                feedback.innerHTML = `Inserted ${node.value} as a ${node.color} node.`;
                feedback.style.display = 'block';
            }
        }

        const rbt = new RedBlackTree();

        document.getElementById('insertBtn').onclick = function() {
            const valueInput = document.getElementById('valueInput');
            const value = parseInt(valueInput.value);
            if (value) {
                rbt.insert(value);
                valueInput.value = '';
            } else {
                alert('Please enter a valid number.');
            }
        };
    </script>
</body>
</html>