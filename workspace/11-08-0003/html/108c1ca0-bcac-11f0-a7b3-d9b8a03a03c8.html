<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floyd-Warshall Algorithm Interactive Module</title>
    <style>
        body {
            margin: 24px;
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
        }

        h1 {
            text-align: center;
        }

        #input-section, #output-section {
            margin-bottom: 24px;
        }

        .matrix {
            display: grid;
            grid-template-columns: repeat(4, 50px);
            gap: 16px;
            justify-content: center;
            margin-bottom: 16px;
        }

        input {
            width: 50px;
            text-align: center;
            font-size: 1.2em;
        }

        button {
            margin: 8px;
        }

        .result-matrix {
            display: grid;
            grid-template-columns: repeat(4, 50px);
            gap: 16px;
            justify-content: center;
        }

        .updated {
            background-color: #28a745;
            color: white;
        }

        .unchanged {
            background-color: #dc3545;
            color: white;
        }
    </style>
</head>
<body>

    <h1>Understanding the Floyd-Warshall Algorithm</h1>

    <div id="input-section">
        <div class="matrix" id="adjacency-matrix">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
            <input type="number" min="0" max="9" value="0">
        </div>
        <button onclick="runAlgorithm()">Run Algorithm</button>
        <button onclick="resetMatrix()">Reset</button>
    </div>

    <div id="output-section">
        <h2>Resulting Distance Matrix</h2>
        <div class="result-matrix" id="result-matrix">
            <!-- Result matrix will be dynamically populated here -->
        </div>
    </div>

    <script>
        function runAlgorithm() {
            const inputs = Array.from(document.querySelectorAll('#adjacency-matrix input'));
            const size = 4; // assuming 4x4 matrix
            const distanceMatrix = Array.from({ length: size }, () => Array(size).fill(Infinity));
            
            // Initialize the distance matrix
            for (let i = 0; i < size; i++) {
                for (let j = 0; j < size; j++) {
                    const value = parseInt(inputs[i * size + j].value);
                    distanceMatrix[i][j] = value === 0 && i !== j ? Infinity : value;
                }
            }

            // Display initial state
            updateResultMatrix(distanceMatrix);

            // Floyd-Warshall algorithm
            for (let k = 0; k < size; k++) {
                for (let i = 0; i < size; i++) {
                    for (let j = 0; j < size; j++) {
                        if (distanceMatrix[i][k] + distanceMatrix[k][j] < distanceMatrix[i][j]) {
                            distanceMatrix[i][j] = distanceMatrix[i][k] + distanceMatrix[k][j];
                            animateMatrixUpdate(i, j, k);
                        }
                    }
                }
            }

            updateResultMatrix(distanceMatrix);
        }

        function updateResultMatrix(matrix) {
            const resultMatrixDiv = document.getElementById('result-matrix');
            resultMatrixDiv.innerHTML = '';

            matrix.forEach(row => {
                row.forEach(value => {
                    const cell = document.createElement('div');
                    cell.textContent = value === Infinity ? 'âˆž' : value;
                    resultMatrixDiv.appendChild(cell);
                });
            });
        }
        
        function animateMatrixUpdate(i, j, k) {
            const resultCells = document.querySelectorAll('#result-matrix div');
            const cellIndex = i * 4 + j;
            const cellToUpdate = resultCells[cellIndex];

            cellToUpdate.classList.add('updated');
            setTimeout(() => {
                cellToUpdate.classList.remove('updated');
                cellToUpdate.classList.add('unchanged');
            }, 1000);
        }

        function resetMatrix() {
            const inputs = document.querySelectorAll('#adjacency-matrix input');
            inputs.forEach(input => input.value = 0);
            const resultMatrixDiv = document.getElementById('result-matrix');
            resultMatrixDiv.innerHTML = '';
        }

    </script>
</body>
</html>