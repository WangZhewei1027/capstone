{
  "topic": "Interactive Application",
  "description": "Finite state machine for an interactive application that calculates and visualizes the factorial of a number using recursion.",
  "states": [
    {
      "name": "idle",
      "onEnter": "clearVisuals",
      "on": {
        "USER_INPUT": "validating_input"
      }
    },
    {
      "name": "validating_input",
      "onEnter": "validateInput",
      "on": {
        "VALID_INPUT": "calculating",
        "INVALID_INPUT": "idle"
      }
    },
    {
      "name": "calculating",
      "onEnter": "calculateFactorial",
      "onExit": "clearResult",
      "on": {
        "CALCULATION_DONE": "visualizing",
        "CALCULATION_ERROR": "idle"
      }
    },
    {
      "name": "visualizing",
      "onEnter": "visualizeRecursion",
      "on": {
        "VISUALIZATION_COMPLETE": "done"
      }
    },
    {
      "name": "done",
      "onEnter": "displayResult",
      "onExit": "clearVisuals",
      "on": {
        "RESET": "idle"
      }
    }
  ],
  "events": [
    "USER_INPUT",
    "VALID_INPUT",
    "INVALID_INPUT",
    "CALCULATION_DONE",
    "CALCULATION_ERROR",
    "VISUALIZATION_COMPLETE",
    "RESET"
  ],
  "notes": "The FSM captures the states of user input validation, factorial calculation, and visualization of recursion. The transitions are triggered by user actions and internal function calls."
}