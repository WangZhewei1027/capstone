<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two Pointers Algorithm Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border-left: 4px solid #4CAF50;
            background-color: #f9f9f9;
        }
        .visualization {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background-color: #e8f5e8;
            border-radius: 5px;
        }
        .array-element {
            width: 50px;
            height: 50px;
            border: 2px solid #333;
            margin: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 18px;
            background-color: white;
            transition: all 0.3s ease;
        }
        .pointer {
            position: absolute;
            font-weight: bold;
            color: #e74c3c;
            margin-top: 60px;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .explanation {
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 14px;
        }
        .code {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Two Pointers Algorithm Visualization</h1>
        
        <div class="section">
            <h2>What is the Two Pointers Technique?</h2>
            <p>The two pointers technique is an algorithmic approach where we use two pointers (indices) to traverse data structures like arrays or linked lists. It's commonly used to solve problems with O(n) time complexity instead of O(nÂ²).</p>
            
            <div class="explanation">
                <strong>Common Use Cases:</strong>
                <ul>
                    <li>Finding pairs in a sorted array that sum to a target value</li>
                    <li>Checking if a sequence is a palindrome</li>
                    <li>Removing duplicates from a sorted array</li>
                    <li>Merging two sorted arrays</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Interactive Demo: Pair Sum Problem</h2>
            <p>Find two numbers in a sorted array that add up to a target value.</p>
            
            <div class="controls">
                <label for="targetInput">Target Sum: </label>
                <input type="number" id="targetInput" value="9" min="1" max="20">
                <button onclick="initDemo()">Reset Demo</button>
                <button onclick="stepForward()" id="stepBtn">Step Forward</button>
                <button onclick="runFullDemo()" id="runBtn">Run Full Demo</button>
            </div>

            <div id="visualizationContainer" class="visualization">
                <!-- Array and pointers will be generated here -->
            </div>

            <div id="explanation" class="explanation">
                <p><strong>Step-by-step explanation will appear here.</strong></p>
            </div>

            <div class="code">
// Two Pointers Algorithm for Pair Sum Problem<br>
function twoSum(nums, target) {<br>
&nbsp;&nbsp;let left = 0;<br>
&nbsp;&nbsp;let right = nums.length - 1;<br>
<br>
&nbsp;&nbsp;while (left < right) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;const sum = nums[left] + nums[right];<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (sum === target) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return [left, right]; // Found the pair!<br>
&nbsp;&nbsp;&nbsp;&nbsp;} else if (sum < target) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;left++; // Need a larger sum<br>
&nbsp;&nbsp;&nbsp;&nbsp;} else {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;right--; // Need a smaller sum<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;return []; // No pair found<br>
}
            </div>
        </div>

        <div class="section">
            <h2>How It Works</h2>
            <p>The algorithm starts with one pointer at the beginning (left) and another at the end (right) of the sorted array.</p>
            <ol>
                <li>Calculate the sum of elements at both pointers</li>
                <li>If the sum equals the target, we found our pair</li>
                <li>If the sum is less than target, move the left pointer right (increase sum)</li>
                <li>If the sum is greater than target, move the right pointer left (decrease sum)</li>
                <li>Repeat until pointers meet or pair is found</li>
            </ol>
            <p><strong>Time Complexity:</strong> O(n) - We traverse the array at most once</p>
            <p><strong>Space Complexity:</strong> O(1) - We only use two pointers</p>
        </div>
    </div>

    <script>
        let array = [1, 2, 3, 4, 5, 6, 7, 8];
        let left = 0;
        let right = array.length - 1;
        let target = 9;
        let currentStep = 0;
        let isRunning = false;
        let demoInterval;

        function initDemo() {
            clearInterval(demoInterval);
            isRunning = false;
            left = 0;
            right = array.length - 1;
            currentStep = 0;
            target = parseInt(document.getElementById('targetInput').value) || 9;
            document.getElementById('stepBtn').disabled = false;
            document.getElementById('runBtn').disabled = false;
            updateVisualization();
            updateExplanation("Initial state: Left pointer at index 0, Right pointer at index " + (array.length - 1));
        }

        function updateVisualization() {
            const container = document.getElementById('visualizationContainer');
            container.innerHTML = '';
            
            // Create array visualization
            const arrayDiv = document.createElement('div');
            arrayDiv.style.display = 'flex';
            arrayDiv.style.position = 'relative';
            
            for (let i = 0; i < array.length; i++) {
                const element = document.createElement('div');
                element.className = 'array-element';
                element.textContent = array[i];
                element.id = 'elem-' + i;
                
                // Highlight elements at pointer positions
                if (i === left) {
                    element.style.backgroundColor = '#4CAF50';
                    element.style.color = 'white';
                }
                if (i === right) {
                    element.style.backgroundColor = '#e74c3c';
                    element.style.color = 'white';
                }
                if (i === left && i === right) {
                    element.style.backgroundColor = '#8e44ad';
                    element.style.color = 'white';
                }
                
                arrayDiv.appendChild(element);
            }
            
            // Create pointer labels
            const leftPointer = document.createElement('div');
            leftPointer.className = 'pointer';
            leftPointer.textContent = 'Left';
            leftPointer.style.marginLeft = (left * 60) + 'px';
            
            const rightPointer = document.createElement('div');
            rightPointer.className = 'pointer';
            rightPointer.textContent = 'Right';
            rightPointer.style.marginLeft = (right * 60) + 'px';
            
            container.appendChild(arrayDiv);
            container.appendChild(leftPointer);
            container.appendChild(rightPointer);
            
            // Display current sum
            const sumDisplay = document.createElement('div');
            sumDisplay.style.marginTop = '80px';
            sumDisplay.style.fontWeight = 'bold';
            sumDisplay.innerHTML = `Current Sum: ${array[left]} + ${array[right]} = ${array[left] + array[right]} | Target: ${target}`;
            container.appendChild(sumDisplay);
        }

        function updateExplanation(text) {
            document.getElementById('explanation').innerHTML = '<p><strong>' + text + '</strong></p>';
        }

        function stepForward() {
            if (left >= right) {
                updateExplanation("Pointers have met. No pair found that sums to " + target);
                document.getElementById('stepBtn').disabled = true;
                return;
            }
            
            currentStep++;
            const sum = array[left] + array[right];
            
            if (sum === target) {
                updateExplanation(`Found pair! ${array[left]} + ${array[right]} = ${target}. Success!`);
                document.getElementById('stepBtn').disabled = true;
                document.getElementById('runBtn').disabled = true;
            } else if (sum < target) {
                updateExplanation(`${array[left]} + ${array[right]} = ${sum} < ${target}. Moving left pointer right.`);
                left++;
            } else {
                updateExplanation(`${array[left]} + ${array[right]} = ${sum} > ${target}. Moving right pointer left.`);
                right--;
            }
            
            updateVisualization();
            
            if (left >= right && sum !== target) {
                updateExplanation("Pointers have met. No pair found that sums to " + target);
                document.getElementById('stepBtn').disabled = true;
            }
        }

        function runFullDemo() {
            if (isRunning) return;
            
            isRunning = true;
            document.getElementById('stepBtn').disabled = true;
            document.getElementById('runBtn').disabled = true;
            
            demoInterval = setInterval(() => {
                if (left >= right) {
                    clearInterval(demoInterval);
                    isRunning = false;
                    return;
                }
                
                stepForward();
                
                if (left >= right || array[left] + array[right] === target) {
                    clearInterval(demoInterval);
                    isRunning = false;
                }
            }, 1500);
        }

        // Initialize the demo when page loads
        window.onload = initDemo;
    </script>
</body>
</html>