<!DOCTYPE html>
<button onclick="knapsackProblem()">Run Knapsack Problem Demo</button>
<div id="output"></div>

<script>
function knapsackProblem() {
    // Problem setup
    const weights = [2, 3, 4, 5];    // Weights of items
    const values = [3, 4, 5, 6];     // Values of items
    const capacity = 5;               // Knapsack capacity
    const n = weights.length;         // Number of items
    
    // Initialize DP table
    const dp = Array(n + 1).fill().map(() => Array(capacity + 1).fill(0));
    
    // Fill DP table
    for (let i = 1; i <= n; i++) {
        for (let w = 1; w <= capacity; w++) {
            if (weights[i-1] <= w) {
                dp[i][w] = Math.max(
                    dp[i-1][w], 
                    values[i-1] + dp[i-1][w - weights[i-1]]
                );
            } else {
                dp[i][w] = dp[i-1][w];
            }
        }
    }
    
    // Find selected items
    const selectedItems = [];
    let w = capacity;
    for (let i = n; i > 0 && w > 0; i--) {
        if (dp[i][w] !== dp[i-1][w]) {
            selectedItems.push(i-1);
            w -= weights[i-1];
        }
    }
    
    // Display results
    const output = document.getElementById('output');
    output.innerHTML = `
        <h3>Knapsack Problem Solution</h3>
        <p><strong>Items:</strong> Weights = [${weights}], Values = [${values}]</p>
        <p><strong>Capacity:</strong> ${capacity}</p>
        <p><strong>Maximum Value:</strong> ${dp[n][capacity]}</p>
        <p><strong>Selected Items (0-indexed):</strong> [${selectedItems}]</p>
        <p><strong>DP Table:</strong></p>
        <pre>${displayDPTable(dp, weights, values, capacity)}</pre>
    `;
}

function displayDPTable(dp, weights, values, capacity) {
    let table = '   ';
    for (let w = 0; w <= capacity; w++) {
        table += w.toString().padStart(3) + ' ';
    }
    table += '\n';
    
    for (let i = 0; i < dp.length; i++) {
        table += (i === 0 ? '0:' : `${i}:(${weights[i-1]},${values[i-1]})`).padEnd(3);
        for (let w = 0; w <= capacity; w++) {
            table += dp[i][w].toString().padStart(3) + ' ';
        }
        table += '\n';
    }
    return table;
}
</script>