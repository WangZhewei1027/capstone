<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Search Algorithm</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #1a1a2e;
            color: #e6e6e6;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #16213e;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            color: #0fcef0;
            text-align: center;
            margin-bottom: 20px;
        }
        
        h2 {
            color: #00a8cc;
            margin-top: 25px;
            margin-bottom: 15px;
            border-bottom: 1px solid #30475e;
            padding-bottom: 5px;
        }
        
        p {
            margin-bottom: 15px;
        }
        
        .algorithm-explanation {
            background-color: #0d2740;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .code-block {
            background-color: #0c2461;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        
        .visualization {
            margin: 30px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .array-container {
            display: flex;
            margin: 20px 0;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .array-element {
            width: 50px;
            height: 50px;
            background-color: #30475e;
            margin: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .array-element.highlighted {
            background-color: #0fcef0;
            transform: scale(1.1);
        }
        
        .array-element.midpoint {
            background-color: #00a8cc;
        }
        
        .array-element.searched {
            background-color: #00cc99;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            padding: 10px 15px;
            background-color: #0fcef0;
            color: #16213e;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #00a8cc;
        }
        
        button:disabled {
            background-color: #30475e;
            cursor: not-allowed;
        }
        
        input {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #30475e;
            background-color: #1a1a2e;
            color: #e6e6e6;
            width: 100%;
            margin-bottom: 10px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
        }
        
        .steps {
            margin-top: 20px;
            padding: 15px;
            background-color: #0d2740;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .step {
            margin-bottom: 5px;
            padding: 5px;
            border-left: 3px solid #0fcef0;
            padding-left: 10px;
        }
        
        .complexity {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .complexity-card {
            background-color: #0d2740;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
        }
        
        .complexity-card h3 {
            color: #00a8cc;
            margin-bottom: 10px;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: #6082a3;
            font-size: 0.9em;
        }
    </style>

</head>
<body>
    <div class="container">
        <h1>Binary Search Algorithm</h1>
        
        <div class="algorithm-explanation">
            <p>Binary search is an efficient algorithm for finding an item from a sorted list of items. It works by repeatedly dividing the search interval in half. If the target value is less than the middle element, the search continues in the lower half; otherwise, it continues in the upper half.</p>
            
            <p><strong>Prerequisites:</strong> The array must be sorted for binary search to work correctly.</p>
        </div>
        
        <h2>Algorithm Steps</h2>
        <ol>
            <li>Start with the entire sorted array</li>
            <li>Calculate the midpoint index: mid = floor((low + high) / 2)</li>
            <li>Compare the target with the element at the midpoint</li>
            <li>If they match, return the midpoint index</li>
            <li>If the target is smaller, repeat the search on the left half</li>
            <li>If the target is larger, repeat the search on the right half</li>
            <li>Continue until the target is found or the search space is empty</li>
        </ol>
        
        <h2>Visual Demonstration</h2>
        <div class="visualization">
            <div class="input-group">
                <label for="targetValue">Enter a number to search for (1-100):</label>
                <input type="number" id="targetValue" min="1" max="100" value="42">
            </div>
            
            <div class="array-container" id="arrayContainer">
                <!-- Array elements will be generated here -->
            </div>
            
            <div class="controls">
                <button id="startBtn">Start Search</button>
                <button id="nextBtn" disabled>Next Step</button>
                <button id="resetBtn">Reset</button>
            </div>
            
            <div class="steps" id="stepsContainer">
                <!-- Search steps will be displayed here -->
            </div>
        </div>
        
        <h2>Time Complexity</h2>
        <div class="complexity">
            <div class="complexity-card">
                <h3>Best Case</h3>
                <p>O(1)</p>
                <p>Target is at the middle of the array</p>
            </div>
            <div class="complexity-card">
                <h3>Average Case</h3>
                <p>O(log n)</p>
                <p>Target is found after log₂n comparisons</p>
            </div>
            <div class="complexity-card">
                <h3>Worst Case</h3>
                <p>O(log n)</p>
                <p>Target is not in the array or at extremes</p>
            </div>
        </div>
        
        <h2>JavaScript Implementation</h2>
        <div class="code-block">
function binarySearch(arr, target) {
    let left = 0;
    let right = arr.length - 1;
    
    while (left <= right) {
        const mid = Math.floor((left + right) / 2);
        
        if (arr[mid] === target) {
            return mid; // Target found
        } else if (arr[mid] < target) {
            left = mid + 1; // Search right half
        } else {
            right = mid - 1; // Search left half
        }
    }
    
    return -1; // Target not found
}
        </div>
        
        <footer>
            <p>Binary Search Algorithm Visualization | Created for educational purposes</p>
        </footer>
    </div>

    <script>
        // Generate a sorted array of numbers from 1 to 100
        const sortedArray = Array.from({length: 100}, (_, i) => i + 1);
        
        // DOM elements
        const arrayContainer = document.getElementById('arrayContainer');
        const targetValueInput = document.getElementById('targetValue');
        const startBtn = document.getElementById('startBtn');
        const nextBtn = document.getElementById('nextBtn');
        const resetBtn = document.getElementById('resetBtn');
        const stepsContainer = document.getElementById('stepsContainer');
        
        // State variables
        let low = 0;
        let high = sortedArray.length - 1;
        let mid;
        let target;
        let isSearching = false;
        let currentStep = 0;
        let searchSteps = [];
        
        // Initialize the array visualization
        function initializeArray() {
            arrayContainer.innerHTML = '';
            
            for (let i = 0; i < sortedArray.length; i++) {
                const element = document.createElement('div');
                element.classList.add('array-element');
                element.textContent = sortedArray[i];
                
                // Only show numbers divisible by 5 to avoid clutter
                if (sortedArray[i] % 5 !== 0) {
                    element.style.opacity = '0.3';
                }
                
                arrayContainer.appendChild(element);
            }
        }
        
        // Highlight the current search range
        function highlightRange(low, high) {
            const elements = arrayContainer.getElementsByClassName('array-element');
            
            // Reset all elements
            for (let i = 0; i < elements.length; i++) {
                elements[i].classList.remove('highlighted', 'midpoint', 'searched');
            }
            
            // Highlight the current search range
            for (let i = low; i <= high; i++) {
                elements[i].classList.add('highlighted');
            }
            
            // Highlight the midpoint
            if (mid >= 0 && mid < elements.length) {
                elements[mid].classList.add('midpoint');
            }
        }
        
        // Perform the next step of binary search
        function nextStep() {
            if (!isSearching || low > high) return;
            
            mid = Math.floor((low + high) / 2);
            const currentValue = sortedArray[mid];
            
            // Add step description
            const stepDescription = document.createElement('div');
            stepDescription.classList.add('step');
            stepDescription.textContent = `Step ${searchSteps.length + 1}: Searching from index ${low} to ${high}. Midpoint: ${mid} (Value: ${currentValue})`;
            stepsContainer.appendChild(stepDescription);
            stepsContainer.scrollTop = stepsContainer.scrollHeight;
            
            searchSteps.push({low, high, mid});
            
            if (currentValue === target) {
                // Target found
                stepDescription.textContent += ` → Target found at index ${mid}!`;
                stepsContainer.appendChild(stepDescription);
                
                // Highlight the found element
                const elements = arrayContainer.getElementsByClassName('array-element');
                elements[mid].classList.add('searched');
                
                isSearching = false;
                nextBtn.disabled = true;
                return;
            } else if (currentValue < target) {
                // Search in the right half
                stepDescription.textContent += ` → Target is greater than ${currentValue}, searching right half`;
                low = mid + 1;
            } else {
                // Search in the left half
                stepDescription.textContent += ` → Target is less than ${currentValue}, searching left half`;
                high = mid - 1;
            }
            
            // Update the visualization
            highlightRange(low, high);
            
            // Check if search is complete (target not found)
            if (low > high) {
                const notFoundStep = document.createElement('div');
                notFoundStep.classList.add('step');
                notFoundStep.textContent = `Target ${target} not found in the array.`;
                stepsContainer.appendChild(notFoundStep);
                
                isSearching = false;
                nextBtn.disabled = true;
            }
            
            currentStep++;
        }
        
        // Start the binary search
        function startSearch() {
            target = parseInt(targetValueInput.value);
            
            if (isNaN(target) || target < 1 || target > 100) {
                alert('Please enter a valid number between 1 and 100.');
                return;
            }
            
            // Reset state
            low = 0;
            high = sortedArray.length - 1;
            isSearching = true;
            searchSteps = [];
            currentStep = 0;
            stepsContainer.innerHTML = '';
            nextBtn.disabled = false;
            
            // Initialize visualization
            initializeArray();
            
            // Start with the first step
            nextStep();
        }
        
        // Reset the search
        function resetSearch() {
            low = 0;
            high = sortedArray.length - 1;
            isSearching = false;
            searchSteps = [];
            currentStep = 0;
            stepsContainer.innerHTML = '';
            nextBtn.disabled = true;
            
            // Reset visualization
            initializeArray();
        }
        
        // Event listeners
        startBtn.addEventListener('click', startSearch);
        nextBtn.addEventListener('click', nextStep);
        resetBtn.addEventListener('click', resetSearch);
        
        // Initialize the page
        initializeArray();
    </script>
</body>
</html>