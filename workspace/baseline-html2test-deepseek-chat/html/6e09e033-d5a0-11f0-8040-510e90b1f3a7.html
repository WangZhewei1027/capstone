<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Priority Queue Visualization</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            margin-bottom: 20px;
        }
        
        h1 {
            text-align: center;
            color: #4a3768;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            text-align: center;
            color: #6c5b7b;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .description {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            flex: 1;
            min-width: 200px;
        }
        
        label {
            margin-bottom: 5px;
            font-weight: 600;
            color: #4a3768;
        }
        
        input, select, button {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        
        button {
            background: #6c5ce7;
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        button:hover {
            background: #5b4bc4;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .queue-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        
        .queue {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            min-height: 200px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
            width: 100%;
        }
        
        .queue-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            border-radius: 10px;
            font-weight: bold;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.5s ease;
        }
        
        .priority-high {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
        }
        
        .priority-medium {
            background: linear-gradient(135deg, #ffe66d, #f9ca24);
            color: #333;
        }
        
        .priority-low {
            background: linear-gradient(135deg, #51cf66, #40c057);
            color: white;
        }
        
        .item-value {
            font-size: 1.5em;
        }
        
        .item-priority {
            font-size: 0.8em;
            margin-top: 5px;
        }
        
        .operations {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .operation {
            flex: 1;
            min-width: 200px;
            text-align: center;
        }
        
        .operation h3 {
            margin-bottom: 10px;
            color: #4a3768;
        }
        
        .logs {
            background: #2d3436;
            color: #dfe6e9;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            width: 100%;
            font-family: 'Courier New', monospace;
        }
        
        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 5px;
        }
        
        .log-added {
            background: rgba(46, 204, 113, 0.2);
            border-left: 4px solid #2ecc71;
        }
        
        .log-removed {
            background: rgba(231, 76, 60, 0.2);
            border-left: 4px solid #e74c3c;
        }
        
        .log-info {
            background: rgba(52, 152, 219, 0.2);
            border-left: 4px solid #3498db;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .highlight {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .instructions {
            margin-top: 30px;
            text-align: center;
            color: #dfe6e9;
            max-width: 1000px;
        }
        
        .instructions h2 {
            margin-bottom: 10px;
        }
        
        .instructions ul {
            text-align: left;
            display: inline-block;
        }
        
        .instructions li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            
            .operations {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Priority Queue</h1>
        <p class="subtitle">A visualization of how priority queues work</p>
        
        <div class="description">
            <p>A <strong>priority queue</strong> is an abstract data type similar to a regular queue, but where each element has a priority. Elements with higher priorities are served before elements with lower priorities. Priority queues are often implemented using heaps and have various applications such as in Dijkstra's algorithm, Huffman coding, and job scheduling.</p>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label for="value">Value:</label>
                <input type="text" id="value" placeholder="Enter value" maxlength="10">
            </div>
            
            <div class="control-group">
                <label for="priority">Priority:</label>
                <select id="priority">
                    <option value="3">High</option>
                    <option value="2" selected>Medium</option>
                    <option value="1">Low</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>&nbsp;</label>
                <button id="enqueue">Enqueue (Add)</button>
            </div>
            
            <div class="control-group">
                <label>&nbsp;</label>
                <button id="dequeue">Dequeue (Remove Highest Priority)</button>
            </div>
        </div>
        
        <div class="queue-container">
            <h2>Priority Queue</h2>
            <div class="queue" id="queue">
                <!-- Queue items will be dynamically added here -->
                <div class="empty-message">Queue is empty. Add some elements to get started.</div>
            </div>
        </div>
        
        <div class="operations">
            <div class="operation">
                <h3>Operations</h3>
                <p>Elements in the queue: <span id="count">0</span></p>
                <p>Highest priority element: <span id="highest">None</span></p>
            </div>
            
            <div class="operation">
                <h3>Complexity</h3>
                <p>Enqueue: O(log n)</p>
                <p>Dequeue: O(log n)</p>
                <p>Peek: O(1)</p>
            </div>
        </div>
        
        <div class="logs">
            <h3>Operation Log</h3>
            <div id="log"></div>
        </div>
    </div>
    
    <div class="instructions">
        <h2>How to Use</h2>
        <ul>
            <li>Enter a value and select a priority level (High, Medium, or Low)</li>
            <li>Click "Enqueue" to add the element to the priority queue</li>
            <li>Click "Dequeue" to remove the element with the highest priority</li>
            <li>Elements with higher priority will be served first (High > Medium > Low)</li>
            <li>If two elements have the same priority, they are served in the order they were added (FIFO)</li>
        </ul>
    </div>

    <script>
        class PriorityQueue {
            constructor() {
                this.queue = [];
            }
            
            // Add element to the priority queue
            enqueue(value, priority) {
                const element = { value, priority };
                this.queue.push(element);
                this.queue.sort((a, b) => b.priority - a.priority); // Sort by priority (highest first)
                return element;
            }
            
            // Remove and return the element with the highest priority
            dequeue() {
                if (this.isEmpty()) {
                    return null;
                }
                return this.queue.shift(); // Remove first element (highest priority)
            }
            
            // Return the element with the highest priority without removing it
            peek() {
                if (this.isEmpty()) {
                    return null;
                }
                return this.queue[0];
            }
            
            // Check if the queue is empty
            isEmpty() {
                return this.queue.length === 0;
            }
            
            // Get the size of the queue
            size() {
                return this.queue.length;
            }
            
            // Get all elements in the queue
            getElements() {
                return [...this.queue];
            }
        }
        
        // Initialize the priority queue
        const priorityQueue = new PriorityQueue();
        
        // DOM elements
        const valueInput = document.getElementById('value');
        const prioritySelect = document.getElementById('priority');
        const enqueueButton = document.getElementById('enqueue');
        const dequeueButton = document.getElementById('dequeue');
        const queueElement = document.getElementById('queue');
        const countElement = document.getElementById('count');
        const highestElement = document.getElementById('highest');
        const logElement = document.getElementById('log');
        
        // Add log entry
        function addLog(message, type) {
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            logEntry.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
            logElement.appendChild(logEntry);
            logElement.scrollTop = logElement.scrollHeight;
        }
        
        // Render the queue
        function renderQueue() {
            queueElement.innerHTML = '';
            
            if (priorityQueue.isEmpty()) {
                queueElement.innerHTML = '<div class="empty-message">Queue is empty. Add some elements to get started.</div>';
                countElement.textContent = '0';
                highestElement.textContent = 'None';
                return;
            }
            
            const elements = priorityQueue.getElements();
            
            elements.forEach((element, index) => {
                const item = document.createElement('div');
                
                // Determine priority class
                let priorityClass = 'priority-medium';
                if (element.priority === 3) priorityClass = 'priority-high';
                if (element.priority === 1) priorityClass = 'priority-low';
                
                item.className = `queue-item ${priorityClass}`;
                if (index === 0) item.classList.add('highlight');
                
                item.innerHTML = `
                    <div class="item-value">${element.value}</div>
                    <div class="item-priority">${getPriorityText(element.priority)}</div>
                `;
                
                queueElement.appendChild(item);
            });
            
            countElement.textContent = elements.length;
            highestElement.textContent = `${elements[0].value} (${getPriorityText(elements[0].priority)})`;
        }
        
        // Convert priority number to text
        function getPriorityText(priority) {
            switch(priority) {
                case 3: return 'High';
                case 2: return 'Medium';
                case 1: return 'Low';
                default: return 'Unknown';
            }
        }
        
        // Enqueue button event listener
        enqueueButton.addEventListener('click', () => {
            const value = valueInput.value.trim();
            const priority = parseInt(prioritySelect.value);
            
            if (!value) {
                alert('Please enter a value');
                return;
            }
            
            const element = priorityQueue.enqueue(value, priority);
            addLog(`Added "${value}" with ${getPriorityText(priority)} priority`, 'added');
            renderQueue();
            
            // Clear input
            valueInput.value = '';
            valueInput.focus();
        });
        
        // Dequeue button event listener
        dequeueButton.addEventListener('click', () => {
            if (priorityQueue.isEmpty()) {
                addLog('Queue is empty. Cannot dequeue.', 'info');
                return;
            }
            
            const element = priorityQueue.dequeue();
            addLog(`Removed "${element.value}" with ${getPriorityText(element.priority)} priority`, 'removed');
            renderQueue();
        });
        
        // Allow pressing Enter to enqueue
        valueInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                enqueueButton.click();
            }
        });
        
        // Initialize
        renderQueue();
        addLog('Priority queue initialized. Ready for operations.', 'info');
        
        // Add some sample data
        setTimeout(() => {
            priorityQueue.enqueue('Task A', 3);
            addLog('Added "Task A" with High priority', 'added');
            renderQueue();
        }, 500);
        
        setTimeout(() => {
            priorityQueue.enqueue('Task B', 1);
            addLog('Added "Task B" with Low priority', 'added');
            renderQueue();
        }, 1000);
        
        setTimeout(() => {
            priorityQueue.enqueue('Task C', 2);
            addLog('Added "Task C" with Medium priority', 'added');
            renderQueue();
        }, 1500);
    </script>
</body>
</html>