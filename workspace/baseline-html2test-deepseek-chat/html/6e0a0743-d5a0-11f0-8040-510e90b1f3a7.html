<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Search Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .controls {
            margin: 20px 0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        input, button {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .array-display {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        .array-element {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #e0e0e0;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s;
        }
        .current {
            background-color: #ffeb3b;
            transform: scale(1.1);
        }
        .found {
            background-color: #4CAF50;
            color: white;
        }
        .not-found {
            background-color: #f44336;
            color: white;
        }
        .stats {
            margin-top: 20px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        .explanation {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f4fd;
            border-radius: 5px;
            line-height: 1.6;
        }
        .code-example {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Linear Search Algorithm Visualization</h1>
        
        <div class="explanation">
            <h3>What is Linear Search?</h3>
            <p>Linear Search is a simple searching algorithm that checks each element in a list sequentially until the target element is found or the entire list has been searched.</p>
            <ul>
                <li><strong>Time Complexity:</strong> O(n) - worst case scenario</li>
                <li><strong>Space Complexity:</strong> O(1) - constant space</li>
                <li><strong>Best Case:</strong> The element is found at the first position</li>
                <li><strong>Worst Case:</strong> The element is not in the list or is at the last position</li>
            </ul>
        </div>

        <div class="controls">
            <input type="number" id="targetInput" placeholder="Enter target number" min="1" max="100">
            <button onclick="startSearch()">Start Search</button>
            <button onclick="resetArray()">Generate New Array</button>
            <button onclick="toggleAutoSearch()" id="autoBtn">Auto Search: Off</button>
        </div>

        <div class="array-display" id="arrayDisplay"></div>

        <div class="stats" id="stats">
            <p><strong>Status:</strong> <span id="status">Ready to search</span></p>
            <p><strong>Comparisons:</strong> <span id="comparisons">0</span></p>
            <p><strong>Target:</strong> <span id="targetDisplay">-</span></p>
        </div>

        <div class="explanation">
            <h3>Algorithm Steps:</h3>
            <ol>
                <li>Start from the first element of the array</li>
                <li>Compare the current element with the target value</li>
                <li>If they match, return the current index</li>
                <li>If they don't match, move to the next element</li>
                <li>Repeat steps 2-4 until the element is found or the end of the array is reached</li>
                <li>If the element is not found, return -1</li>
            </ol>

            <h3>Code Example:</h3>
            <div class="code-example">
function linearSearch(arr, target) {
    for (let i = 0; i < arr.length; i++) {
        if (arr[i] === target) {
            return i; // Element found at index i
        }
    }
    return -1; // Element not found
}
            </div>
        </div>
    </div>

    <script>
        let array = [];
        let currentIndex = 0;
        let isSearching = false;
        let comparisons = 0;
        let targetValue = null;
        let autoSearchInterval = null;
        let isAutoSearch = false;

        // Initialize the array
        function initializeArray() {
            array = [];
            for (let i = 0; i < 15; i++) {
                array.push(Math.floor(Math.random() * 50) + 1);
            }
            renderArray();
        }

        // Render the array visually
        function renderArray() {
            const arrayDisplay = document.getElementById('arrayDisplay');
            arrayDisplay.innerHTML = '';
            
            array.forEach((value, index) => {
                const element = document.createElement('div');
                element.className = 'array-element';
                element.id = `element-${index}`;
                element.textContent = value;
                arrayDisplay.appendChild(element);
            });
        }

        // Start the linear search
        function startSearch() {
            const targetInput = document.getElementById('targetInput');
            targetValue = parseInt(targetInput.value);
            
            if (isNaN(targetValue)) {
                alert('Please enter a valid number');
                return;
            }
            
            if (isSearching) return;
            
            document.getElementById('targetDisplay').textContent = targetValue;
            document.getElementById('status').textContent = 'Searching...';
            comparisons = 0;
            document.getElementById('comparisons').textContent = comparisons;
            
            isSearching = true;
            currentIndex = 0;
            
            if (isAutoSearch) {
                autoSearch();
            } else {
                stepSearch();
            }
        }

        // Perform one step of the search (manual mode)
        function stepSearch() {
            if (!isSearching || currentIndex >= array.length) return;
            
            // Reset previous element highlighting
            if (currentIndex > 0) {
                document.getElementById(`element-${currentIndex-1}`).classList.remove('current');
            }
            
            // Highlight current element
            const currentElement = document.getElementById(`element-${currentIndex}`);
            currentElement.classList.add('current');
            
            comparisons++;
            document.getElementById('comparisons').textContent = comparisons;
            
            if (array[currentIndex] === targetValue) {
                // Element found
                currentElement.classList.remove('current');
                currentElement.classList.add('found');
                document.getElementById('status').textContent = `Element found at index ${currentIndex}!`;
                isSearching = false;
                return;
            }
            
            currentIndex++;
            
            if (currentIndex >= array.length) {
                // Element not found
                document.getElementById('status').textContent = 'Element not found in the array!';
                isSearching = false;
                // Highlight all elements as not found
                for (let i = 0; i < array.length; i++) {
                    document.getElementById(`element-${i}`).classList.add('not-found');
                }
            }
        }

        // Auto search mode
        function autoSearch() {
            if (autoSearchInterval) {
                clearInterval(autoSearchInterval);
            }
            
            autoSearchInterval = setInterval(() => {
                if (!isSearching || currentIndex >= array.length) {
                    clearInterval(autoSearchInterval);
                    return;
                }
                
                stepSearch();
            }, 800);
        }

        // Toggle auto search mode
        function toggleAutoSearch() {
            isAutoSearch = !isAutoSearch;
            const autoBtn = document.getElementById('autoBtn');
            autoBtn.textContent = `Auto Search: ${isAutoSearch ? 'On' : 'Off'}`;
            
            if (isSearching) {
                if (isAutoSearch) {
                    autoSearch();
                } else {
                    clearInterval(autoSearchInterval);
                }
            }
        }

        // Reset the array and search state
        function resetArray() {
            isSearching = false;
            currentIndex = 0;
            comparisons = 0;
            clearInterval(autoSearchInterval);
            
            document.getElementById('status').textContent = 'Ready to search';
            document.getElementById('comparisons').textContent = '0';
            document.getElementById('targetDisplay').textContent = '-';
            
            initializeArray();
        }

        // Add click event to array elements for manual search
        document.getElementById('arrayDisplay').addEventListener('click', (e) => {
            if (!isSearching || isAutoSearch) return;
            
            const element = e.target;
            if (element.classList.contains('array-element')) {
                const index = parseInt(element.id.split('-')[1]);
                
                if (index === currentIndex) {
                    stepSearch();
                }
            }
        });

        // Initialize on page load
        window.onload = initializeArray;
    </script>
</body>
</html>