{
  "id": "dfd71810-d59e-11f0-ae0b-570552a0b645",
  "timestamp": "2025-12-10T08:07:42.862Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Hash Table",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Hash Table Implementation</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            display: flex;\n            gap: 20px;\n            flex-wrap: wrap;\n        }\n        .controls {\n            background: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            min-width: 300px;\n        }\n        .visualization {\n            flex: 1;\n            min-width: 500px;\n            background: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        input, button {\n            padding: 8px;\n            margin: 5px 0;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n        button {\n            background: #007bff;\n            color: white;\n            cursor: pointer;\n            border: none;\n        }\n        button:hover {\n            background: #0056b3;\n        }\n        .bucket {\n            border: 1px solid #ddd;\n            margin: 10px 0;\n            border-radius: 4px;\n            background: #f8f9fa;\n        }\n        .bucket-header {\n            background: #e9ecef;\n            padding: 10px;\n            font-weight: bold;\n            border-bottom: 1px solid #ddd;\n        }\n        .entry {\n            padding: 8px 10px;\n            border-bottom: 1px solid #eee;\n            display: flex;\n            justify-content: space-between;\n        }\n        .entry:last-child {\n            border-bottom: none;\n        }\n        .stats {\n            margin-top: 20px;\n            padding: 15px;\n            background: #e9ecef;\n            border-radius: 4px;\n        }\n        .collision {\n            background: #ffe6e6;\n        }\n        .success {\n            background: #e6ffe6;\n        }\n    </style>\n</head>\n<body>\n    <h1>Hash Table Visualization</h1>\n    \n    <div class=\"container\">\n        <div class=\"controls\">\n            <h3>Operations</h3>\n            <div>\n                <input type=\"text\" id=\"keyInput\" placeholder=\"Key\" style=\"width: 100px;\">\n                <input type=\"text\" id=\"valueInput\" placeholder=\"Value\" style=\"width: 100px;\">\n                <button onclick=\"insertEntry()\">Insert</button>\n            </div>\n            <div>\n                <input type=\"text\" id=\"searchKey\" placeholder=\"Key to search\" style=\"width: 210px;\">\n                <button onclick=\"searchEntry()\">Search</button>\n            </div>\n            <div>\n                <input type=\"text\" id=\"deleteKey\" placeholder=\"Key to delete\" style=\"width: 210px;\">\n                <button onclick=\"deleteEntry()\">Delete</button>\n            </div>\n            <button onclick=\"clearTable()\" style=\"margin-top: 10px; width: 100%;\">Clear Hash Table</button>\n            \n            <h3>Configuration</h3>\n            <div>\n                <label>Table Size: </label>\n                <input type=\"number\" id=\"tableSize\" value=\"7\" min=\"1\" max=\"20\" style=\"width: 60px;\">\n                <button onclick=\"resizeTable()\">Resize</button>\n            </div>\n            \n            <div class=\"stats\">\n                <h4>Statistics</h4>\n                <div id=\"statsContent\">No operations yet</div>\n            </div>\n        </div>\n        \n        <div class=\"visualization\">\n            <h3>Hash Table Structure</h3>\n            <div id=\"hashTableVisualization\">\n                <p>Hash table will be displayed here</p>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        class HashTable {\n            constructor(size = 7) {\n                this.size = size;\n                this.table = new Array(size);\n                this.collisions = 0;\n                this.operations = 0;\n                this.entries = 0;\n                \n                for (let i = 0; i < size; i++) {\n                    this.table[i] = [];\n                }\n            }\n            \n            // Simple hash function\n            hash(key) {\n                let hash = 0;\n                for (let i = 0; i < key.length; i++) {\n                    hash = (hash << 5) - hash + key.charCodeAt(i);\n                    hash |= 0; // Convert to 32-bit integer\n                }\n                return Math.abs(hash) % this.size;\n            }\n            \n            insert(key, value) {\n                const index = this.hash(key);\n                const bucket = this.table[index];\n                \n                // Check if key already exists\n                for (let i = 0; i < bucket.length; i++) {\n                    if (bucket[i].key === key) {\n                        bucket[i].value = value;\n                        this.operations++;\n                        return { index, collision: false, updated: true };\n                    }\n                }\n                \n                // Check for collision (bucket not empty but key doesn't exist)\n                if (bucket.length > 0) {\n                    this.collisions++;\n                }\n                \n                bucket.push({ key, value });\n                this.entries++;\n                this.operations++;\n                return { index, collision: bucket.length > 1, updated: false };\n            }\n            \n            search(key) {\n                const index = this.hash(key);\n                const bucket = this.table[index];\n                \n                for (let i = 0; i < bucket.length; i++) {\n                    if (bucket[i].key === key) {\n                        this.operations++;\n                        return { found: true, value: bucket[i].value, index, position: i };\n                    }\n                }\n                \n                this.operations++;\n                return { found: false, index };\n            }\n            \n            delete(key) {\n                const index = this.hash(key);\n                const bucket = this.table[index];\n                \n                for (let i = 0; i < bucket.length; i++) {\n                    if (bucket[i].key === key) {\n                        bucket.splice(i, 1);\n                        this.entries--;\n                        this.operations++;\n                        return { deleted: true, index };\n                    }\n                }\n                \n                this.operations++;\n                return { deleted: false, index };\n            }\n            \n            resize(newSize) {\n                const oldTable = this.table;\n                this.size = newSize;\n                this.table = new Array(newSize);\n                this.collisions = 0;\n                this.entries = 0;\n                \n                for (let i = 0; i < newSize; i++) {\n                    this.table[i] = [];\n                }\n                \n                // Rehash all entries\n                for (let bucket of oldTable) {\n                    for (let entry of bucket) {\n                        this.insert(entry.key, entry.value);\n                    }\n                }\n            }\n            \n            getLoadFactor() {\n                return this.entries / this.size;\n            }\n        }\n\n        // Global hash table instance\n        let hashTable = new HashTable(7);\n\n        function updateVisualization() {\n            const visualization = document.getElementById('hashTableVisualization');\n            visualization.innerHTML = '';\n            \n            for (let i = 0; i < hashTable.size; i++) {\n                const bucket = document.createElement('div');\n                bucket.className = 'bucket';\n                \n                const header = document.createElement('div');\n                header.className = 'bucket-header';\n                header.textContent = `Bucket ${i} (Index: ${i})`;\n                bucket.appendChild(header);\n                \n                if (hashTable.table[i].length === 0) {\n                    const emptyEntry = document.createElement('div');\n                    emptyEntry.className = 'entry';\n                    emptyEntry.textContent = 'Empty';\n                    emptyEntry.style.color = '#999';\n                    bucket.appendChild(emptyEntry);\n                } else {\n                    hashTable.table[i].forEach((entry, position) => {\n                        const entryDiv = document.createElement('div');\n                        entryDiv.className = 'entry';\n                        entryDiv.innerHTML = `\n                            <span>Key: <strong>${entry.key}</strong></span>\n                            <span>Value: <strong>${entry.value}</strong></span>\n                            <span>Position: ${position}</span>\n                        `;\n                        bucket.appendChild(entryDiv);\n                    });\n                }\n                \n                visualization.appendChild(bucket);\n            }\n            \n            updateStats();\n        }\n\n        function updateStats() {\n            const stats = document.getElementById('statsContent');\n            stats.innerHTML = `\n                <div>Entries: ${hashTable.entries}</div>\n                <div>Load Factor: ${hashTable.getLoadFactor().toFixed(2)}</div>\n                <div>Collisions: ${hashTable.collisions}</div>\n                <div>Total Operations: ${hashTable.operations}</div>\n                <div>Table Size: ${hashTable.size}</div>\n            `;\n        }\n\n        function insertEntry() {\n            const key = document.getElementById('keyInput').value.trim();\n            const value = document.getElementById('valueInput').value.trim();\n            \n            if (!key) {\n                alert('Please enter a key');\n                return;\n            }\n            \n            const result = hashTable.insert(key, value);\n            updateVisualization();\n            \n            // Highlight the affected bucket\n            highlightBucket(result.index, result.collision ? 'collision' : 'success');\n            \n            document.getElementById('keyInput').value = '';\n            document.getElementById('valueInput').value = '';\n        }\n\n        function searchEntry() {\n            const key = document.getElementById('searchKey').value.trim();\n            \n            if (!key) {\n                alert('Please enter a key to search');\n                return;\n            }\n            \n            const result = hashTable.search(key);\n            updateVisualization();\n            \n            if (result.found) {\n                alert(`Found key \"${key}\" with value \"${result.value}\" in bucket ${result.index}, position ${result.position}`);\n                highlightBucket(result.index, 'success');\n            } else {\n                alert(`Key \"${key}\" not found. Would hash to bucket ${result.index}`);\n                highlightBucket(result.index, 'collision');\n            }\n            \n            document.getElementById('searchKey').value = '';\n        }\n\n        function deleteEntry() {\n            const key = document.getElementById('deleteKey').value.trim();\n            \n            if (!key) {\n                alert('Please enter a key to delete');\n                return;\n            }\n            \n            const result = hashTable.delete(key);\n            updateVisualization();\n            \n            if (result.deleted) {\n                alert(`Key \"${key}\" deleted from bucket ${result.index}`);\n                highlightBucket(result.index, 'success');\n            } else {\n                alert(`Key \"${key}\" not found for deletion`);\n            }\n            \n            document.getElementById('deleteKey').value = '';\n        }\n\n        function resizeTable() {\n            const newSize = parseInt(document.getElementById('tableSize').value);\n            \n            if (newSize < 1 || newSize > 20) {\n                alert('Table size must be between 1 and 20');\n                return;\n            }\n            \n            hashTable.resize(newSize);\n            updateVisualization();\n        }\n\n        function clearTable() {\n            hashTable = new HashTable(hashTable.size);\n            updateVisualization();\n        }\n\n        function highlightBucket(index, className) {\n            const buckets = document.querySelectorAll('.bucket');\n            if (buckets[index]) {\n                buckets[index].classList.add(className);\n                setTimeout(() => {\n                    buckets[index].classList.remove(className);\n                }, 1000);\n            }\n        }\n\n        // Initialize visualization\n        updateVisualization();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Hash Table"
    }
  ],
  "topic": "Hash Table",
  "hasFSM": false,
  "hasTest": true
}