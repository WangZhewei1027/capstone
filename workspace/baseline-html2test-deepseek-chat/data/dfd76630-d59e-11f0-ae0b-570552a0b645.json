{
  "id": "dfd76630-d59e-11f0-ae0b-570552a0b645",
  "timestamp": "2025-12-10T08:07:41.113Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Priority Queue",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Priority Queue Visualization</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .container {\n            display: flex;\n            flex-direction: column;\n            gap: 20px;\n        }\n        .controls {\n            background-color: white;\n            padding: 15px;\n            border-radius: 8px;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n        }\n        button {\n            background-color: #4CAF50;\n            border: none;\n            color: white;\n            padding: 10px 15px;\n            text-align: center;\n            text-decoration: none;\n            display: inline-block;\n            font-size: 16px;\n            margin: 4px 2px;\n            cursor: pointer;\n            border-radius: 4px;\n            transition: background-color 0.3s;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        button:disabled {\n            background-color: #cccccc;\n            cursor: not-allowed;\n        }\n        input {\n            padding: 8px;\n            margin: 5px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n        .queue-display {\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n            min-height: 200px;\n        }\n        .priority-item {\n            display: inline-block;\n            padding: 10px 15px;\n            margin: 5px;\n            background-color: #e0e0e0;\n            border-radius: 5px;\n            position: relative;\n            transition: transform 0.3s, background-color 0.3s;\n        }\n        .priority-item.high {\n            background-color: #ff5252;\n            color: white;\n        }\n        .priority-item.medium {\n            background-color: #ffb142;\n            color: white;\n        }\n        .priority-item.low {\n            background-color: #2ed573;\n            color: white;\n        }\n        .priority-item.current {\n            animation: pulse 1s infinite;\n            transform: scale(1.05);\n        }\n        .priority-value {\n            font-weight: bold;\n            font-size: 18px;\n        }\n        .priority-label {\n            font-size: 12px;\n            margin-top: 5px;\n        }\n        .explanation {\n            background-color: white;\n            padding: 15px;\n            border-radius: 8px;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n            margin-top: 20px;\n        }\n        @keyframes pulse {\n            0% { box-shadow: 0 0 0 0 rgba(0,0,0,0.2); }\n            70% { box-shadow: 0 0 0 10px rgba(0,0,0,0); }\n            100% { box-shadow: 0 0 0 0 rgba(0,0,0,0); }\n        }\n    </style>\n</head>\n<body>\n    <h1>Priority Queue Visualization</h1>\n    \n    <div class=\"container\">\n        <div class=\"controls\">\n            <h3>Add Element</h3>\n            <input type=\"text\" id=\"elementValue\" placeholder=\"Element value\">\n            <select id=\"prioritySelect\">\n                <option value=\"high\">High Priority</option>\n                <option value=\"medium\" selected>Medium Priority</option>\n                <option value=\"low\">Low Priority</option>\n            </select>\n            <button id=\"addBtn\">Add to Queue</button>\n            \n            <h3>Queue Operations</h3>\n            <button id=\"removeBtn\">Remove Highest Priority</button>\n            <button id=\"clearBtn\">Clear Queue</button>\n        </div>\n        \n        <div class=\"queue-display\" id=\"queueDisplay\">\n            <div id=\"queueContent\"></div>\n        </div>\n        \n        <div class=\"explanation\">\n            <h3>About Priority Queues</h3>\n            <p>A priority queue is an abstract data type where each element has a \"priority\" associated with it. In a priority queue, an element with high priority is served before an element with low priority.</p>\n            <p><strong>Implementation:</strong> This visualization uses a binary heap implementation which provides O(log n) time complexity for insertion and extraction of the highest priority element.</p>\n            <p><strong>Priority Levels:</strong> High priority items (red) are processed first, followed by medium (orange), then low (green). Items with the same priority are processed in the order they were added (FIFO).</p>\n        </div>\n    </div>\n\n    <script>\n        class PriorityQueue {\n            constructor() {\n                this.heap = [];\n            }\n\n            // Helper function to get parent index\n            parent(index) {\n                return Math.floor((index - 1) / 2);\n            }\n\n            // Helper function to get left child index\n            leftChild(index) {\n                return 2 * index + 1;\n            }\n\n            // Helper function to get right child index\n            rightChild(index) {\n                return 2 * index + 2;\n            }\n\n            // Checks if the heap is empty\n            isEmpty() {\n                return this.heap.length === 0;\n            }\n\n            // Returns the size of the heap\n            size() {\n                return this.heap.length;\n            }\n\n            // Gets the priority value for comparison\n            getPriorityValue(priority) {\n                const priorityMap = {\n                    'high': 3,\n                    'medium': 2,\n                    'low': 1\n                };\n                return priorityMap[priority];\n            }\n\n            // Adds an element to the priority queue\n            enqueue(value, priority) {\n                const priorityValue = this.getPriorityValue(priority);\n                const element = { value, priority, priorityValue };\n                this.heap.push(element);\n                this.heapifyUp(this.heap.length - 1);\n            }\n\n            // Removes and returns the element with the highest priority\n            dequeue() {\n                if (this.isEmpty()) {\n                    return null;\n                }\n\n                if (this.heap.length === 1) {\n                    return this.heap.pop();\n                }\n\n                const max = this.heap[0];\n                this.heap[0] = this.heap.pop();\n                this.heapifyDown(0);\n                return max;\n            }\n\n            // Returns the element with the highest priority without removing it\n            peek() {\n                return this.isEmpty() ? null : this.heap[0];\n            }\n\n            // Moves an element up the heap to maintain the heap property\n            heapifyUp(index) {\n                let currentIndex = index;\n                while (\n                    currentIndex > 0 &&\n                    this.heap[currentIndex].priorityValue > this.heap[this.parent(currentIndex)].priorityValue\n                ) {\n                    this.swap(currentIndex, this.parent(currentIndex));\n                    currentIndex = this.parent(currentIndex);\n                }\n            }\n\n            // Moves an element down the heap to maintain the heap property\n            heapifyDown(index) {\n                let currentIndex = index;\n                let maxIndex = index;\n\n                const left = this.leftChild(currentIndex);\n                const right = this.rightChild(currentIndex);\n\n                if (left < this.heap.length && this.heap[left].priorityValue > this.heap[maxIndex].priorityValue) {\n                    maxIndex = left;\n                }\n\n                if (right < this.heap.length && this.heap[right].priorityValue > this.heap[maxIndex].priorityValue) {\n                    maxIndex = right;\n                }\n\n                if (currentIndex !== maxIndex) {\n                    this.swap(currentIndex, maxIndex);\n                    this.heapifyDown(maxIndex);\n                }\n            }\n\n            // Swaps two elements in the heap\n            swap(i, j) {\n                [this.heap[i], this.heap[j]] = [this.heap[j], this.heap[i]];\n            }\n\n            // Returns a copy of the heap for display purposes\n            toArray() {\n                return [...this.heap];\n            }\n        }\n\n        // Initialize the priority queue\n        const priorityQueue = new PriorityQueue();\n\n        // DOM elements\n        const elementValueInput = document.getElementById('elementValue');\n        const prioritySelect = document.getElementById('prioritySelect');\n        const addBtn = document.getElementById('addBtn');\n        const removeBtn = document.getElementById('removeBtn');\n        const clearBtn = document.getElementById('clearBtn');\n        const queueContent = document.getElementById('queueContent');\n\n        // Render the queue\n        function renderQueue() {\n            queueContent.innerHTML = '';\n            \n            if (priorityQueue.isEmpty()) {\n                queueContent.innerHTML = '<p>Queue is empty. Add some elements!</p>';\n                return;\n            }\n\n            const queueArray = priorityQueue.toArray();\n            \n            queueArray.forEach((item, index) => {\n                const itemElement = document.createElement('div');\n                itemElement.className = `priority-item ${item.priority}`;\n                itemElement.innerHTML = `\n                    <div class=\"priority-value\">${item.value}</div>\n                    <div class=\"priority-label\">${item.priority}</div>\n                `;\n                \n                // Highlight the first element (highest priority)\n                if (index === 0) {\n                    itemElement.classList.add('current');\n                }\n                \n                queueContent.appendChild(itemElement);\n            });\n        }\n\n        // Add element to the queue\n        addBtn.addEventListener('click', () => {\n            const value = elementValueInput.value.trim();\n            const priority = prioritySelect.value;\n            \n            if (!value) {\n                alert('Please enter a value for the element.');\n                return;\n            }\n            \n            priorityQueue.enqueue(value, priority);\n            elementValueInput.value = '';\n            renderQueue();\n            \n            // Brief animation for newly added element\n            const items = document.querySelectorAll('.priority-item');\n            if (items.length > 0) {\n                const lastItem = items[items.length - 1];\n                lastItem.style.transform = 'scale(1.1)';\n                setTimeout(() => {\n                    lastItem.style.transform = 'scale(1)';\n                }, 300);\n            }\n        });\n\n        // Remove highest priority element\n        removeBtn.addEventListener('click', () => {\n            if (priorityQueue.isEmpty()) {\n                alert('Queue is empty!');\n                return;\n            }\n            \n            const removed = priorityQueue.dequeue();\n            alert(`Removed: ${removed.value} (${removed.priority} priority)`);\n            renderQueue();\n        });\n\n        // Clear the queue\n        clearBtn.addEventListener('click', () => {\n            while (!priorityQueue.isEmpty()) {\n                priorityQueue.dequeue();\n            }\n            renderQueue();\n        });\n\n        // Allow Enter key to add elements\n        elementValueInput.addEventListener('keypress', (e) => {\n            if (e.key === 'Enter') {\n                addBtn.click();\n            }\n        });\n\n        // Initial render\n        renderQueue();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Priority Queue"
    }
  ],
  "topic": "Priority Queue",
  "hasFSM": false,
  "hasTest": true
}