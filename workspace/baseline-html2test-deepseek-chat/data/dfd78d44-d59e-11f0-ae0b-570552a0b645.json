{
  "id": "dfd78d44-d59e-11f0-ae0b-570552a0b645",
  "timestamp": "2025-12-10T08:08:34.471Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Huffman Coding",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Huffman Coding Demonstration</title>\n    <style>\n        * {\n            box-sizing: border-box;\n            margin: 0;\n            padding: 0;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n            min-height: 100vh;\n            padding: 20px;\n        }\n        \n        .container {\n            max-width: 900px;\n            margin: 0 auto;\n            background: white;\n            border-radius: 15px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n            overflow: hidden;\n        }\n        \n        header {\n            background: #4a6fa5;\n            color: white;\n            padding: 25px;\n            text-align: center;\n        }\n        \n        h1 {\n            font-size: 2.2rem;\n            margin-bottom: 10px;\n        }\n        \n        .description {\n            font-size: 1.1rem;\n            opacity: 0.9;\n            max-width: 700px;\n            margin: 0 auto;\n        }\n        \n        .content {\n            padding: 30px;\n        }\n        \n        .input-section, .results-section {\n            margin-bottom: 30px;\n            padding: 20px;\n            border-radius: 10px;\n            background: #f9f9f9;\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n        }\n        \n        h2 {\n            color: #4a6fa5;\n            margin-bottom: 15px;\n            padding-bottom: 10px;\n            border-bottom: 2px solid #eaeaea;\n        }\n        \n        textarea {\n            width: 100%;\n            padding: 15px;\n            border: 2px solid #ddd;\n            border-radius: 8px;\n            font-size: 1rem;\n            resize: vertical;\n            min-height: 100px;\n            font-family: 'Courier New', monospace;\n            transition: border-color 0.3s;\n        }\n        \n        textarea:focus {\n            outline: none;\n            border-color: #4a6fa5;\n        }\n        \n        button {\n            background: #4a6fa5;\n            color: white;\n            border: none;\n            padding: 12px 25px;\n            border-radius: 8px;\n            cursor: pointer;\n            font-size: 1rem;\n            font-weight: 600;\n            transition: background 0.3s, transform 0.2s;\n            margin-top: 15px;\n        }\n        \n        button:hover {\n            background: #3a5a80;\n            transform: translateY(-2px);\n        }\n        \n        button:active {\n            transform: translateY(0);\n        }\n        \n        .results {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 20px;\n            margin-top: 20px;\n        }\n        \n        @media (max-width: 768px) {\n            .results {\n                grid-template-columns: 1fr;\n            }\n        }\n        \n        .result-box {\n            background: white;\n            padding: 15px;\n            border-radius: 8px;\n            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);\n        }\n        \n        .tree-visualization {\n            margin-top: 20px;\n            padding: 15px;\n            background: white;\n            border-radius: 8px;\n            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);\n            overflow-x: auto;\n        }\n        \n        .frequency-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 10px;\n        }\n        \n        .frequency-table th, .frequency-table td {\n            padding: 10px;\n            text-align: left;\n            border-bottom: 1px solid #eee;\n        }\n        \n        .frequency-table th {\n            background: #f0f0f0;\n        }\n        \n        .huffman-code {\n            font-family: 'Courier New', monospace;\n            background: #f8f8f8;\n            padding: 5px 10px;\n            border-radius: 4px;\n            display: inline-block;\n            margin: 2px;\n        }\n        \n        .stats {\n            display: flex;\n            justify-content: space-around;\n            margin-top: 20px;\n            text-align: center;\n        }\n        \n        .stat-box {\n            padding: 15px;\n            border-radius: 8px;\n            background: white;\n            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);\n            flex: 1;\n            margin: 0 10px;\n        }\n        \n        .stat-value {\n            font-size: 1.8rem;\n            font-weight: bold;\n            color: #4a6fa5;\n        }\n        \n        pre {\n            white-space: pre-wrap;\n            word-wrap: break-word;\n            font-family: 'Courier New', monospace;\n            background: #f8f8f8;\n            padding: 15px;\n            border-radius: 8px;\n            overflow-x: auto;\n        }\n        \n        .legend {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 10px;\n            margin-top: 15px;\n        }\n        \n        .legend-item {\n            display: flex;\n            align-items: center;\n            margin-right: 15px;\n        }\n        \n        .legend-color {\n            width: 15px;\n            height: 15px;\n            border-radius: 3px;\n            margin-right: 5px;\n        }\n        \n        .tree-node {\n            display: inline-block;\n            padding: 5px 10px;\n            border-radius: 5px;\n            margin: 5px;\n            font-size: 0.9rem;\n            text-align: center;\n        }\n        \n        .tree-connector {\n            height: 20px;\n            width: 2px;\n            background: #ccc;\n            margin: 0 auto;\n        }\n        \n        .tree-level {\n            display: flex;\n            justify-content: center;\n            margin: 10px 0;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <header>\n            <h1>Huffman Coding Algorithm</h1>\n            <p class=\"description\">Huffman coding is a lossless data compression algorithm that assigns variable-length codes to characters based on their frequencies. More frequent characters get shorter codes, resulting in efficient compression.</p>\n        </header>\n        \n        <div class=\"content\">\n            <section class=\"input-section\">\n                <h2>Input Text</h2>\n                <p>Enter the text you want to compress using Huffman coding:</p>\n                <textarea id=\"inputText\" placeholder=\"Type your text here...\">Hello, World! This is a demonstration of Huffman coding.</textarea>\n                <button id=\"encodeBtn\">Encode with Huffman Coding</button>\n            </section>\n            \n            <section class=\"results-section\">\n                <h2>Results</h2>\n                \n                <div class=\"stats\">\n                    <div class=\"stat-box\">\n                        <div class=\"stat-label\">Original Size</div>\n                        <div class=\"stat-value\" id=\"originalSize\">0 bits</div>\n                    </div>\n                    <div class=\"stat-box\">\n                        <div class=\"stat-label\">Encoded Size</div>\n                        <div class=\"stat-value\" id=\"encodedSize\">0 bits</div>\n                    </div>\n                    <div class=\"stat-box\">\n                        <div class=\"stat-label\">Compression Ratio</div>\n                        <div class=\"stat-value\" id=\"compressionRatio\">0%</div>\n                    </div>\n                </div>\n                \n                <div class=\"results\">\n                    <div class=\"result-box\">\n                        <h3>Character Frequencies</h3>\n                        <table class=\"frequency-table\" id=\"frequencyTable\">\n                            <thead>\n                                <tr>\n                                    <th>Character</th>\n                                    <th>Frequency</th>\n                                </tr>\n                            </thead>\n                            <tbody></tbody>\n                        </table>\n                    </div>\n                    \n                    <div class=\"result-box\">\n                        <h3>Huffman Codes</h3>\n                        <div id=\"huffmanCodes\"></div>\n                    </div>\n                </div>\n                \n                <div class=\"result-box\">\n                    <h3>Encoded Text</h3>\n                    <pre id=\"encodedOutput\"></pre>\n                </div>\n                \n                <div class=\"result-box\">\n                    <h3>Decoded Text</h3>\n                    <pre id=\"decodedOutput\"></pre>\n                </div>\n                \n                <div class=\"tree-visualization\">\n                    <h3>Huffman Tree Visualization</h3>\n                    <div id=\"treeContainer\"></div>\n                </div>\n            </section>\n        </div>\n    </div>\n\n    <script>\n        // Huffman Node class\n        class HuffmanNode {\n            constructor(char, frequency) {\n                this.char = char;\n                this.frequency = frequency;\n                this.left = null;\n                this.right = null;\n            }\n        }\n\n        // Main Huffman Coding class\n        class HuffmanCoding {\n            constructor() {\n                this.codes = {};\n                this.reverseMapping = {};\n            }\n\n            // Build frequency map from input string\n            buildFrequencyMap(str) {\n                const frequencyMap = {};\n                for (let char of str) {\n                    frequencyMap[char] = (frequencyMap[char] || 0) + 1;\n                }\n                return frequencyMap;\n            }\n\n            // Build Huffman tree from frequency map\n            buildHuffmanTree(frequencyMap) {\n                const priorityQueue = [];\n                \n                // Create a leaf node for each character and add to priority queue\n                for (let char in frequencyMap) {\n                    priorityQueue.push(new HuffmanNode(char, frequencyMap[char]));\n                }\n                \n                // Sort by frequency (ascending)\n                priorityQueue.sort((a, b) => a.frequency - b.frequency);\n                \n                // Build the tree by combining the two nodes with the lowest frequency\n                while (priorityQueue.length > 1) {\n                    // Remove the two nodes with the lowest frequency\n                    const left = priorityQueue.shift();\n                    const right = priorityQueue.shift();\n                    \n                    // Create a new internal node with these two nodes as children\n                    const newNode = new HuffmanNode(null, left.frequency + right.frequency);\n                    newNode.left = left;\n                    newNode.right = right;\n                    \n                    // Insert the new node back into the priority queue\n                    priorityQueue.push(newNode);\n                    \n                    // Re-sort the queue\n                    priorityQueue.sort((a, b) => a.frequency - b.frequency);\n                }\n                \n                // The remaining node is the root of the Huffman tree\n                return priorityQueue[0];\n            }\n\n            // Generate Huffman codes by traversing the tree\n            generateCodes(node, currentCode = \"\") {\n                if (node === null) return;\n                \n                // If it's a leaf node (contains a character)\n                if (node.char !== null) {\n                    this.codes[node.char] = currentCode;\n                    this.reverseMapping[currentCode] = node.char;\n                    return;\n                }\n                \n                // Traverse left (add '0' to code)\n                this.generateCodes(node.left, currentCode + \"0\");\n                \n                // Traverse right (add '1' to code)\n                this.generateCodes(node.right, currentCode + \"1\");\n            }\n\n            // Encode the input text\n            encode(str) {\n                if (str === \"\") return \"\";\n                \n                const frequencyMap = this.buildFrequencyMap(str);\n                const root = this.buildHuffmanTree(frequencyMap);\n                this.codes = {};\n                this.reverseMapping = {};\n                this.generateCodes(root);\n                \n                let encodedText = \"\";\n                for (let char of str) {\n                    encodedText += this.codes[char];\n                }\n                \n                return encodedText;\n            }\n\n            // Decode the encoded text\n            decode(encodedText) {\n                let currentCode = \"\";\n                let decodedText = \"\";\n                \n                for (let bit of encodedText) {\n                    currentCode += bit;\n                    if (this.reverseMapping[currentCode]) {\n                        decodedText += this.reverseMapping[currentCode];\n                        currentCode = \"\";\n                    }\n                }\n                \n                return decodedText;\n            }\n\n            // Get the Huffman codes mapping\n            getCodes() {\n                return this.codes;\n            }\n\n            // Get the reverse mapping (codes to characters)\n            getReverseMapping() {\n                return this.reverseMapping;\n            }\n        }\n\n        // DOM elements\n        const inputText = document.getElementById('inputText');\n        const encodeBtn = document.getElementById('encodeBtn');\n        const frequencyTable = document.getElementById('frequencyTable').querySelector('tbody');\n        const huffmanCodes = document.getElementById('huffmanCodes');\n        const encodedOutput = document.getElementById('encodedOutput');\n        const decodedOutput = document.getElementById('decodedOutput');\n        const originalSize = document.getElementById('originalSize');\n        const encodedSize = document.getElementById('encodedSize');\n        const compressionRatio = document.getElementById('compressionRatio');\n        const treeContainer = document.getElementById('treeContainer');\n\n        // Initialize the Huffman coding instance\n        const huffman = new HuffmanCoding();\n\n        // Function to update the UI with results\n        function updateUI() {\n            const text = inputText.value;\n            \n            if (text === \"\") {\n                alert(\"Please enter some text to encode.\");\n                return;\n            }\n            \n            // Encode the text\n            const encodedText = huffman.encode(text);\n            \n            // Update frequency table\n            const frequencyMap = huffman.buildFrequencyMap(text);\n            frequencyTable.innerHTML = '';\n            for (let char in frequencyMap) {\n                const row = document.createElement('tr');\n                \n                const charCell = document.createElement('td');\n                charCell.textContent = char === ' ' ? 'Space' : char;\n                row.appendChild(charCell);\n                \n                const freqCell = document.createElement('td');\n                freqCell.textContent = frequencyMap[char];\n                row.appendChild(freqCell);\n                \n                frequencyTable.appendChild(row);\n            }\n            \n            // Update Huffman codes\n            const codes = huffman.getCodes();\n            huffmanCodes.innerHTML = '';\n            for (let char in codes) {\n                const codeElement = document.createElement('div');\n                codeElement.innerHTML = `<strong>${char === ' ' ? 'Space' : char}:</strong> <span class=\"huffman-code\">${codes[char]}</span>`;\n                huffmanCodes.appendChild(codeElement);\n            }\n            \n            // Update encoded and decoded text\n            encodedOutput.textContent = encodedText;\n            decodedOutput.textContent = huffman.decode(encodedText);\n            \n            // Update statistics\n            const originalBits = text.length * 8; // Assuming 8 bits per character\n            const encodedBits = encodedText.length;\n            const ratio = ((originalBits - encodedBits) / originalBits * 100).toFixed(2);\n            \n            originalSize.textContent = `${originalBits} bits`;\n            encodedSize.textContent = `${encodedBits} bits`;\n            compressionRatio.textContent = `${ratio}%`;\n            \n            // Generate tree visualization\n            generateTreeVisualization(text);\n        }\n\n        // Function to generate a simple tree visualization\n        function generateTreeVisualization(text) {\n            if (text === \"\") return;\n            \n            const frequencyMap = huffman.buildFrequencyMap(text);\n            const root = huffman.buildHuffmanTree(frequencyMap);\n            \n            treeContainer.innerHTML = '';\n            \n            // Create a simple text-based tree representation\n            let treeHTML = '<div class=\"tree-structure\">';\n            \n            // Function to recursively build the tree visualization\n            function buildTreeHTML(node, level = 0) {\n                if (!node) return '';\n                \n                let html = '';\n                const indent = '&nbsp;'.repeat(level * 4);\n                \n                if (node.char !== null) {\n                    // Leaf node with character\n                    html += `${indent}<div class=\"tree-node\" style=\"background-color: #4a6fa5; color: white;\">'${node.char === ' ' ? 'Space' : node.char}':${node.frequency}</div>`;\n                } else {\n                    // Internal node\n                    html += `${indent}<div class=\"tree-node\" style=\"background-color: #f0f0f0;\">${node.frequency}</div>`;\n                }\n                \n                if (node.left || node.right) {\n                    html += `${indent}<div class=\"tree-connector\"></div>`;\n                    html += '<div class=\"tree-level\">';\n                    if (node.left) html += buildTreeHTML(node.left, level + 1);\n                    if (node.right) html += buildTreeHTML(node.right, level + 1);\n                    html += '</div>';\n                }\n                \n                return html;\n            }\n            \n            treeHTML += buildTreeHTML(root);\n            treeHTML += '</div>';\n            treeContainer.innerHTML = treeHTML;\n        }\n\n        // Event listener for the encode button\n        encodeBtn.addEventListener('click', updateUI);\n\n        // Initialize with example text\n        window.addEventListener('DOMContentLoaded', updateUI);\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Huffman Coding"
    }
  ],
  "topic": "Huffman Coding",
  "hasFSM": false,
  "hasTest": true
}