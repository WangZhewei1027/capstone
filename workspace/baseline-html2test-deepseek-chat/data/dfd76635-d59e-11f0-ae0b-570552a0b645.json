{
  "id": "dfd76635-d59e-11f0-ae0b-570552a0b645",
  "timestamp": "2025-12-10T08:08:37.370Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Quick Sort",
  "answer": {
    "role": "assistant",
    "content": "# Quick Sort Visualization\n\nI've created an interactive visualization that demonstrates how the Quick Sort algorithm works. You can see step-by-step how the algorithm recursively partitions arrays and sorts elements.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Quick Sort Visualization</title>\n    <style>\n        * {\n            box-sizing: border-box;\n            margin: 0;\n            padding: 0;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        body {\n            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);\n            color: white;\n            min-height: 100vh;\n            padding: 20px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        \n        .container {\n            max-width: 1000px;\n            width: 100%;\n            background: rgba(255, 255, 255, 0.1);\n            border-radius: 15px;\n            padding: 25px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n            margin-bottom: 30px;\n        }\n        \n        h1 {\n            text-align: center;\n            font-size: 2.5rem;\n            margin-bottom: 20px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n        }\n        \n        .description {\n            text-align: center;\n            font-size: 1.1rem;\n            line-height: 1.6;\n            margin-bottom: 30px;\n            background: rgba(255, 255, 255, 0.15);\n            padding: 15px;\n            border-radius: 10px;\n        }\n        \n        .controls {\n            display: flex;\n            justify-content: center;\n            gap: 15px;\n            margin-bottom: 25px;\n            flex-wrap: wrap;\n        }\n        \n        button {\n            background: #3498db;\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 1rem;\n            transition: all 0.3s ease;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);\n        }\n        \n        button:hover {\n            background: #2980b9;\n            transform: translateY(-2px);\n        }\n        \n        button:disabled {\n            background: #7f8c8d;\n            cursor: not-allowed;\n            transform: none;\n        }\n        \n        input[type=\"range\"] {\n            width: 200px;\n            margin: 0 10px;\n        }\n        \n        .slider-container {\n            display: flex;\n            align-items: center;\n            margin: 10px 0;\n        }\n        \n        .array-container {\n            display: flex;\n            justify-content: center;\n            align-items: flex-end;\n            height: 300px;\n            margin: 20px 0;\n            padding: 20px;\n            background: rgba(0, 0, 0, 0.2);\n            border-radius: 10px;\n            position: relative;\n        }\n        \n        .array-element {\n            background: #3498db;\n            margin: 0 2px;\n            transition: all 0.3s ease;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-weight: bold;\n            border-top-left-radius: 5px;\n            border-top-right-radius: 5px;\n        }\n        \n        .array-element.pivot {\n            background: #e74c3c;\n        }\n        \n        .array-element.comparing {\n            background: #f1c40f;\n        }\n        \n        .array-element.sorted {\n            background: #2ecc71;\n        }\n        \n        .partition {\n            position: absolute;\n            bottom: 0;\n            height: 10px;\n            background: rgba(255, 255, 255, 0.3);\n            border-radius: 5px;\n        }\n        \n        .legend {\n            display: flex;\n            justify-content: center;\n            gap: 20px;\n            margin: 20px 0;\n            flex-wrap: wrap;\n        }\n        \n        .legend-item {\n            display: flex;\n            align-items: center;\n            gap: 5px;\n        }\n        \n        .legend-color {\n            width: 20px;\n            height: 20px;\n            border-radius: 3px;\n        }\n        \n        .explanation {\n            background: rgba(255, 255, 255, 0.15);\n            padding: 15px;\n            border-radius: 10px;\n            margin-top: 20px;\n            font-size: 1rem;\n            line-height: 1.5;\n            min-height: 100px;\n        }\n        \n        .code-section {\n            background: #2c3e50;\n            color: #ecf0f1;\n            padding: 20px;\n            border-radius: 10px;\n            margin-top: 20px;\n            font-family: 'Courier New', monospace;\n            white-space: pre-wrap;\n            overflow-x: auto;\n            font-size: 0.9rem;\n            line-height: 1.4;\n        }\n        \n        .step-counter {\n            font-size: 1.2rem;\n            text-align: center;\n            margin: 10px 0;\n            font-weight: bold;\n        }\n        \n        .stats {\n            display: flex;\n            justify-content: center;\n            gap: 30px;\n            margin: 15px 0;\n            flex-wrap: wrap;\n        }\n        \n        .stat-item {\n            text-align: center;\n            background: rgba(255, 255, 255, 0.15);\n            padding: 10px 20px;\n            border-radius: 8px;\n            min-width: 120px;\n        }\n        \n        .stat-value {\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: #f1c40f;\n        }\n        \n        @media (max-width: 768px) {\n            .container {\n                padding: 15px;\n            }\n            \n            h1 {\n                font-size: 2rem;\n            }\n            \n            .controls {\n                flex-direction: column;\n                align-items: center;\n            }\n            \n            .array-container {\n                height: 250px;\n            }\n            \n            .legend {\n                flex-direction: column;\n                align-items: center;\n                gap: 10px;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Quick Sort Visualization</h1>\n        \n        <div class=\"description\">\n            <p>Quick Sort is a highly efficient sorting algorithm that uses a divide-and-conquer strategy.</p>\n            <p>It works by selecting a 'pivot' element and partitioning the array around it, such that elements less than the pivot are on the left and elements greater than the pivot are on the right. This process is recursively applied to the subarrays.</p>\n        </div>\n        \n        <div class=\"controls\">\n            <button id=\"generateBtn\">Generate New Array</button>\n            <button id=\"startBtn\">Start Sorting</button>\n            <button id=\"pauseBtn\" disabled>Pause</button>\n            <button id=\"resetBtn\" disabled>Reset</button>\n            <button id=\"stepBtn\" disabled>Step Forward</button>\n        </div>\n        \n        <div class=\"slider-container\">\n            <span>Speed:</span>\n            <input type=\"range\" id=\"speedSlider\" min=\"1\" max=\"10\" value=\"5\">\n            <span>Array Size:</span>\n            <input type=\"range\" id=\"sizeSlider\" min=\"5\" max=\"40\" value=\"15\">\n        </div>\n        \n        <div class=\"step-counter\">\n            Step: <span id=\"stepCount\">0</span>\n        </div>\n        \n        <div class=\"stats\">\n            <div class=\"stat-item\">\n                <div>Comparisons</div>\n                <div class=\"stat-value\" id=\"comparisons\">0</div>\n            </div>\n            <div class=\"stat-item\">\n                <div>Swaps</div>\n                <div class=\"stat-value\" id=\"swaps\">0</div>\n            </div>\n            <div class=\"stat-item\">\n                <div>Recursive Calls</div>\n                <div class=\"stat-value\" id=\"recursions\">0</div>\n            </div>\n        </div>\n        \n        <div class=\"array-container\" id=\"arrayContainer\"></div>\n        \n        <div class=\"legend\">\n            <div class=\"legend-item\">\n                <div class=\"legend-color\" style=\"background-color: #3498db;\"></div>\n                <span>Normal Element</span>\n            </div>\n            <div class=\"legend-item\">\n                <div class=\"legend-color\" style=\"background-color: #e74c3c;\"></div>\n                <span>Pivot Element</span>\n            </div>\n            <div class=\"legend-item\">\n                <div class=\"legend-color\" style=\"background-color: #f1c40f;\"></div>\n                <span>Comparing</span>\n            </div>\n            <div class=\"legend-item\">\n                <div class=\"legend-color\" style=\"background-color: #2ecc71;\"></div>\n                <span>Sorted</span>\n            </div>\n        </div>\n        \n        <div class=\"explanation\" id=\"explanation\">\n            Click \"Generate New Array\" to create a random array, then \"Start Sorting\" to begin the visualization.\n        </div>\n        \n        <div class=\"code-section\">\n// Quick Sort Algorithm (JavaScript implementation)\nfunction quickSort(arr, low, high) {\n    if (low < high) {\n        // Partition the array and get the pivot index\n        let pi = partition(arr, low, high);\n        \n        // Recursively sort elements before and after partition\n        quickSort(arr, low, pi - 1);\n        quickSort(arr, pi + 1, high);\n    }\n}\n\nfunction partition(arr, low, high) {\n    // Select the rightmost element as pivot\n    let pivot = arr[high];\n    \n    // Index of smaller element (indicates right position of pivot)\n    let i = low - 1;\n    \n    for (let j = low; j < high; j++) {\n        // If current element is smaller than or equal to pivot\n        if (arr[j] <= pivot) {\n            i++; // Increment index of smaller element\n            swap(arr, i, j);\n        }\n    }\n    \n    swap(arr, i + 1, high);\n    return i + 1;\n}\n\nfunction swap(arr, i, j) {\n    let temp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = temp;\n}\n        </div>\n    </div>\n\n    <script>\n        // DOM elements\n        const arrayContainer = document.getElementById('arrayContainer');\n        const generateBtn = document.getElementById('generateBtn');\n        const startBtn = document.getElementById('startBtn');\n        const pauseBtn = document.getElementById('pauseBtn');\n        const resetBtn = document.getElementById('resetBtn');\n        const stepBtn = document.getElementById('stepBtn');\n        const speedSlider = document.getElementById('speedSlider');\n        const sizeSlider = document.getElementById('sizeSlider');\n        const stepCount = document.getElementById('stepCount');\n        const comparisons = document.getElementById('comparisons');\n        const swaps = document.getElementById('swaps');\n        const recursions = document.getElementById('recursions');\n        const explanation = document.getElementById('explanation');\n\n        // Global variables\n        let array = [];\n        let animations = [];\n        let currentAnimation = 0;\n        let isSorting = false;\n        let isPaused = true;\n        let animationSpeed = 300;\n        let arraySize = 15;\n        let stepCounter = 0;\n        let comparisonCount = 0;\n        let swapCount = 0;\n        let recursionCount = 0;\n\n        // Initialize the visualization\n        function init() {\n            generateNewArray();\n            updateSpeed();\n            updateSize();\n            addEventListeners();\n        }\n\n        // Generate a new random array\n        function generateNewArray() {\n            resetVisualization();\n            array = [];\n            arraySize = parseInt(sizeSlider.value);\n            \n            for (let i = 0; i < arraySize; i++) {\n                array.push(Math.floor(Math.random() * 95) + 5);\n            }\n            \n            renderArray();\n            explanation.textContent = \"New array generated. Click 'Start Sorting' to begin the visualization.\";\n        }\n\n        // Render the array as bars\n        function renderArray() {\n            arrayContainer.innerHTML = '';\n            const containerWidth = arrayContainer.clientWidth;\n            const containerHeight = arrayContainer.clientHeight;\n            const barWidth = Math.min(30, (containerWidth - 20) / array.length - 2);\n            \n            for (let i = 0; i < array.length; i++) {\n                const bar = document.createElement('div');\n                bar.className = 'array-element';\n                bar.style.height = `${(array[i] / 100) * containerHeight}px`;\n                bar.style.width = `${barWidth}px`;\n                bar.textContent = array[i];\n                arrayContainer.appendChild(bar);\n            }\n        }\n\n        // Start the sorting animation\n        function startSorting() {\n            if (isSorting) return;\n            \n            isSorting = true;\n            isPaused = false;\n            currentAnimation = 0;\n            stepCounter = 0;\n            comparisonCount = 0;\n            swapCount = 0;\n            recursionCount = 0;\n            \n            updateButtons();\n            generateAnimations();\n            playAnimations();\n        }\n\n        // Generate the animations for quick sort\n        function generateAnimations() {\n            animations = [];\n            const arr = [...array];\n            quickSortWithAnimations(arr, 0, arr.length - 1, []);\n            animations.push({type: 'final'});\n        }\n\n        // Quick sort algorithm with animation tracking\n        function quickSortWithAnimations(arr, low, high, partitionStack) {\n            if (low < high) {\n                recursionCount++;\n                \n                // Add partition start animation\n                animations.push({\n                    type: 'partitionStart',\n                    low: low,\n                    high: high,\n                    stack: [...partitionStack]\n                });\n                \n                let pi = partitionWithAnimations(arr, low, high);\n                \n                // Add partition end animation\n                animations.push({\n                    type: 'partitionEnd',\n                    pivotIndex: pi\n                });\n                \n                // Recursively sort elements before partition\n                quickSortWithAnimations(arr, low, pi - 1, [...partitionStack, [low, pi - 1]]);\n                \n                // Recursively sort elements after partition\n                quickSortWithAnimations(arr, pi + 1, high, [...partitionStack, [pi + 1, high]]);\n            }\n        }\n\n        // Partition function with animation tracking\n        function partitionWithAnimations(arr, low, high) {\n            let pivot = arr[high];\n            let i = low - 1;\n            \n            // Highlight pivot\n            animations.push({\n                type: 'highlightPivot',\n                index: high\n            });\n            \n            for (let j = low; j < high; j++) {\n                // Compare elements\n                animations.push({\n                    type: 'compare',\n                    indices: [j, high]\n                });\n                comparisonCount++;\n                \n                if (arr[j] <= pivot) {\n                    i++;\n                    \n                    if (i !== j) {\n                        // Swap elements\n                        [arr[i], arr[j]] = [arr[j], arr[i]];\n                        animations.push({\n                            type: 'swap',\n                            indices: [i, j]\n                        });\n                        swapCount++;\n                    }\n                }\n            }\n            \n            if (i + 1 !== high) {\n                // Swap pivot to correct position\n                [arr[i + 1], arr[high]] = [arr[high], arr[i + 1]];\n                animations.push({\n                    type: 'swap',\n                    indices: [i + 1, high]\n                });\n                swapCount++;\n            }\n            \n            return i + 1;\n        }\n\n        // Play the animations\n        function playAnimations() {\n            if (isPaused || currentAnimation >= animations.length) {\n                if (currentAnimation >= animations.length) {\n                    isSorting = false;\n                    explanation.textContent = \"Sorting completed! The array is now fully sorted.\";\n                }\n                updateButtons();\n                return;\n            }\n            \n            const animation = animations[currentAnimation];\n            executeAnimation(animation);\n            \n            currentAnimation++;\n            stepCounter++;\n            stepCount.textContent = stepCounter;\n            comparisons.textContent = comparisonCount;\n            swaps.textContent = swapCount;\n            recursions.textContent = recursionCount;\n            \n            setTimeout(playAnimations, animationSpeed);\n        }\n\n        // Execute a single animation step\n        function executeAnimation(animation) {\n            const bars = document.querySelectorAll('.array-element');\n            \n            // Reset all bars to normal state\n            bars.forEach(bar => {\n                bar.classList.remove('pivot', 'comparing', 'sorted');\n            });\n            \n            switch (animation.type) {\n                case 'partitionStart':\n                    explanation.textContent = `Partitioning array from index ${animation.low} to ${animation.high}.`;\n                    break;\n                    \n                case 'highlightPivot':\n                    bars[animation.index].classList.add('pivot');\n                    explanation.textContent = `Selected element at index ${animation.index} (value: ${array[animation.index]}) as pivot.`;\n                    break;\n                    \n                case 'compare':\n                    bars[animation.indices[0]].classList.add('comparing');\n                    bars[animation.indices[1]].classList.add('comparing');\n                    explanation.textContent = `Comparing elements at indices ${animation.indices[0]} (${array[animation.indices[0]]}) and ${animation.indices[1]} (${array[animation.indices[1]]}).`;\n                    break;\n                    \n                case 'swap':\n                    // Swap values in the array\n                    [array[animation.indices[0]], array[animation.indices[1]]] = [array[animation.indices[1]], array[animation.indices[0]]];\n                    \n                    // Update bar heights and values\n                    bars[animation.indices[0]].style.height = `${(array[animation.indices[0]] / 100) * arrayContainer.clientHeight}px`;\n                    bars[animation.indices[0]].textContent = array[animation.indices[0]];\n                    \n                    bars[animation.indices[1]].style.height = `${(array[animation.indices[1]] / 100) * arrayContainer.clientHeight}px`;\n                    bars"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Quick Sort"
    }
  ],
  "topic": "Quick Sort",
  "hasFSM": false,
  "hasTest": true
}