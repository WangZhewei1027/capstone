{
  "id": "6e09e036-d5a0-11f0-8040-510e90b1f3a7",
  "timestamp": "2025-12-10T08:18:54.277Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Insertion Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Insertion Sort Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 1000px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: white;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .controls {\n            margin: 20px 0;\n            text-align: center;\n        }\n        button {\n            padding: 10px 20px;\n            margin: 5px;\n            border: none;\n            border-radius: 5px;\n            background-color: #4CAF50;\n            color: white;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        button:disabled {\n            background-color: #cccccc;\n            cursor: not-allowed;\n        }\n        .array-container {\n            display: flex;\n            justify-content: center;\n            margin: 30px 0;\n            flex-wrap: wrap;\n        }\n        .array-element {\n            width: 50px;\n            height: 50px;\n            margin: 5px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: bold;\n            border-radius: 5px;\n            transition: all 0.3s ease;\n        }\n        .unsorted {\n            background-color: #e0e0e0;\n            color: #333;\n        }\n        .current {\n            background-color: #ff9800;\n            color: white;\n            transform: scale(1.1);\n        }\n        .sorted {\n            background-color: #4CAF50;\n            color: white;\n        }\n        .comparing {\n            background-color: #2196F3;\n            color: white;\n        }\n        .explanation {\n            background-color: #f9f9f9;\n            padding: 15px;\n            border-radius: 5px;\n            margin: 20px 0;\n            border-left: 4px solid #4CAF50;\n        }\n        .stats {\n            margin-top: 20px;\n            text-align: center;\n            font-size: 18px;\n        }\n        input[type=\"range\"] {\n            width: 200px;\n            margin: 0 10px;\n        }\n        .speed-control {\n            display: inline-block;\n            margin: 0 10px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Insertion Sort Visualization</h1>\n        \n        <div class=\"controls\">\n            <button id=\"generateBtn\">Generate New Array</button>\n            <button id=\"startBtn\">Start Sorting</button>\n            <button id=\"pauseBtn\" disabled>Pause</button>\n            <button id=\"resetBtn\">Reset</button>\n            <div class=\"speed-control\">\n                Speed: <input type=\"range\" id=\"speedSlider\" min=\"1\" max=\"10\" value=\"5\">\n            </div>\n        </div>\n        \n        <div class=\"array-container\" id=\"arrayContainer\">\n            <!-- Array elements will be generated here -->\n        </div>\n        \n        <div class=\"explanation\" id=\"explanation\">\n            <p><strong>How Insertion Sort Works:</strong></p>\n            <p>Insertion sort works by iteratively building a sorted portion of the array. For each element, it finds the correct position in the sorted portion and inserts it there.</p>\n            <p id=\"currentStep\">Click \"Start Sorting\" to begin the visualization.</p>\n        </div>\n        \n        <div class=\"stats\" id=\"stats\">\n            Comparisons: 0 | Swaps: 0\n        </div>\n    </div>\n\n    <script>\n        // Variables to track the sorting state\n        let array = [];\n        let sorting = false;\n        let paused = false;\n        let currentStep = 0;\n        let comparisons = 0;\n        let swaps = 0;\n        let speed = 500; // milliseconds between steps\n        let intervalId = null;\n\n        // DOM elements\n        const arrayContainer = document.getElementById('arrayContainer');\n        const explanation = document.getElementById('explanation');\n        const currentStepElement = document.getElementById('currentStep');\n        const statsElement = document.getElementById('stats');\n        const generateBtn = document.getElementById('generateBtn');\n        const startBtn = document.getElementById('startBtn');\n        const pauseBtn = document.getElementById('pauseBtn');\n        const resetBtn = document.getElementById('resetBtn');\n        const speedSlider = document.getElementById('speedSlider');\n\n        // Initialize the array and visualization\n        function initializeArray() {\n            array = Array.from({length: 10}, () => Math.floor(Math.random() * 100) + 1);\n            renderArray();\n            resetStats();\n        }\n\n        // Render the array visually\n        function renderArray() {\n            arrayContainer.innerHTML = '';\n            array.forEach((value, index) => {\n                const element = document.createElement('div');\n                element.className = 'array-element unsorted';\n                element.textContent = value;\n                element.id = `element-${index}`;\n                arrayContainer.appendChild(element);\n            });\n        }\n\n        // Update the visual state of array elements\n        function updateElementState(index, state) {\n            const element = document.getElementById(`element-${index}`);\n            if (element) {\n                // Remove all state classes\n                element.classList.remove('unsorted', 'current', 'sorted', 'comparing');\n                // Add the new state class\n                element.classList.add(state);\n            }\n        }\n\n        // Reset statistics\n        function resetStats() {\n            comparisons = 0;\n            swaps = 0;\n            updateStats();\n            currentStepElement.textContent = 'Click \"Start Sorting\" to begin the visualization.';\n        }\n\n        // Update statistics display\n        function updateStats() {\n            statsElement.textContent = `Comparisons: ${comparisons} | Swaps: ${swaps}`;\n        }\n\n        // Insertion sort algorithm with visualization steps\n        function* insertionSortGenerator() {\n            const n = array.length;\n            \n            // Start with the first element as sorted\n            updateElementState(0, 'sorted');\n            yield `Starting with the first element (${array[0]}) as the sorted portion.`;\n            \n            for (let i = 1; i < n; i++) {\n                const key = array[i];\n                let j = i - 1;\n                \n                updateElementState(i, 'current');\n                yield `Considering element ${key} at position ${i}.`;\n                \n                // Find the correct position for key in the sorted portion\n                while (j >= 0 && array[j] > key) {\n                    comparisons++;\n                    updateStats();\n                    \n                    updateElementState(j, 'comparing');\n                    updateElementState(j + 1, 'comparing');\n                    yield `Comparing ${array[j]} with ${key}. Since ${array[j]} > ${key}, we need to shift.`;\n                    \n                    // Shift element to the right\n                    array[j + 1] = array[j];\n                    swaps++;\n                    updateStats();\n                    \n                    updateElementState(j, 'sorted');\n                    updateElementState(j + 1, 'sorted');\n                    yield `Shifted ${array[j]} from position ${j} to position ${j + 1}.`;\n                    \n                    j--;\n                }\n                \n                // Insert key at the correct position\n                array[j + 1] = key;\n                if (j + 1 !== i) {\n                    swaps++;\n                    updateStats();\n                }\n                \n                // Mark all elements up to i as sorted\n                for (let k = 0; k <= i; k++) {\n                    updateElementState(k, 'sorted');\n                }\n                \n                yield `Inserted ${key} at position ${j + 1}. The first ${i + 1} elements are now sorted.`;\n            }\n            \n            yield `Sorting complete! The entire array is now sorted.`;\n        }\n\n        // Generator for the sorting steps\n        let sortGenerator = null;\n\n        // Start the sorting process\n        function startSorting() {\n            if (sorting && !paused) return;\n            \n            if (!sorting) {\n                sortGenerator = insertionSortGenerator();\n                sorting = true;\n            }\n            \n            paused = false;\n            startBtn.disabled = true;\n            pauseBtn.disabled = false;\n            generateBtn.disabled = true;\n            \n            // Set up interval to execute sorting steps\n            intervalId = setInterval(() => {\n                if (!paused) {\n                    const step = sortGenerator.next();\n                    if (step.done) {\n                        stopSorting();\n                    } else {\n                        currentStepElement.textContent = step.value;\n                        renderArray(); // Re-render to reflect any value changes\n                    }\n                }\n            }, speed);\n        }\n\n        // Pause the sorting process\n        function pauseSorting() {\n            paused = !paused;\n            pauseBtn.textContent = paused ? 'Resume' : 'Pause';\n            \n            if (paused) {\n                clearInterval(intervalId);\n            } else {\n                intervalId = setInterval(() => {\n                    const step = sortGenerator.next();\n                    if (step.done) {\n                        stopSorting();\n                    } else {\n                        currentStepElement.textContent = step.value;\n                        renderArray();\n                    }\n                }, speed);\n            }\n        }\n\n        // Stop the sorting process\n        function stopSorting() {\n            sorting = false;\n            paused = false;\n            clearInterval(intervalId);\n            startBtn.disabled = false;\n            pauseBtn.disabled = true;\n            generateBtn.disabled = false;\n            pauseBtn.textContent = 'Pause';\n        }\n\n        // Reset the visualization\n        function resetVisualization() {\n            stopSorting();\n            initializeArray();\n        }\n\n        // Update speed based on slider\n        function updateSpeed() {\n            speed = 550 - (speedSlider.value * 50); // 500ms to 50ms\n            if (sorting && !paused) {\n                clearInterval(intervalId);\n                intervalId = setInterval(() => {\n                    const step = sortGenerator.next();\n                    if (step.done) {\n                        stopSorting();\n                    } else {\n                        currentStepElement.textContent = step.value;\n                        renderArray();\n                    }\n                }, speed);\n            }\n        }\n\n        // Event listeners\n        generateBtn.addEventListener('click', initializeArray);\n        startBtn.addEventListener('click', startSorting);\n        pauseBtn.addEventListener('click', pauseSorting);\n        resetBtn.addEventListener('click', resetVisualization);\n        speedSlider.addEventListener('input', updateSpeed);\n\n        // Initialize the application\n        initializeArray();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Insertion Sort"
    }
  ],
  "topic": "Insertion Sort",
  "hasFSM": false,
  "hasTest": true
}