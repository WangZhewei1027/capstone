{
  "id": "dfd76637-d59e-11f0-ae0b-570552a0b645",
  "timestamp": "2025-12-10T08:07:59.724Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Counting Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Counting Sort Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: white;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        .input-section {\n            margin-bottom: 20px;\n            padding: 15px;\n            background-color: #f8f9fa;\n            border-radius: 5px;\n        }\n        .visualization {\n            margin-top: 40px;\n        }\n        .array-container {\n            display: flex;\n            justify-content: center;\n            margin: 20px 0;\n            flex-wrap: wrap;\n        }\n        .element {\n            width: 60px;\n            height: 60px;\n            margin: 5px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: bold;\n            font-size: 18px;\n            border-radius: 5px;\n            transition: all 0.3s ease;\n        }\n        .input-element {\n            background-color: #4CAF50;\n            color: white;\n        }\n        .count-element {\n            background-color: #2196F3;\n            color: white;\n        }\n        .output-element {\n            background-color: #FF9800;\n            color: white;\n        }\n        .step-info {\n            background-color: #e3f2fd;\n            padding: 15px;\n            border-radius: 5px;\n            margin: 10px 0;\n            font-size: 16px;\n        }\n        .controls {\n            text-align: center;\n            margin: 20px 0;\n        }\n        button {\n            padding: 10px 20px;\n            margin: 0 5px;\n            font-size: 16px;\n            cursor: pointer;\n            background-color: #007bff;\n            color: white;\n            border: none;\n            border-radius: 5px;\n            transition: background-color 0.3s;\n        }\n        button:hover {\n            background-color: #0056b3;\n        }\n        button:disabled {\n            background-color: #6c757d;\n            cursor: not-allowed;\n        }\n        input[type=\"text\"] {\n            padding: 10px;\n            font-size: 16px;\n            width: 300px;\n            margin-right: 10px;\n        }\n        .legend {\n            display: flex;\n            justify-content: center;\n            margin: 20px 0;\n            gap: 20px;\n        }\n        .legend-item {\n            display: flex;\n            align-items: center;\n            margin: 0 10px;\n        }\n        .legend-color {\n            width: 20px;\n            height: 20px;\n            margin-right: 5px;\n            border-radius: 3px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Counting Sort Algorithm Visualization</h1>\n        \n        <div class=\"input-section\">\n            <h3>Enter numbers to sort (comma-separated, non-negative integers only):</h3>\n            <input type=\"text\" id=\"arrayInput\" value=\"4,2,2,8,3,3,1\">\n            <button onclick=\"initializeSort()\">Start Sorting</button>\n        </div>\n\n        <div class=\"legend\">\n            <div class=\"legend-item\">\n                <div class=\"legend-color\" style=\"background-color: #4CAF50;\"></div>\n                <span>Input Array</span>\n            </div>\n            <div class=\"legend-item\">\n                <div class=\"legend-color\" style=\"background-color: #2196F3;\"></div>\n                <span>Count Array</span>\n            </div>\n            <div class=\"legend-item\">\n                <div class=\"legend-color\" style=\"background-color: #FF9800;\"></div>\n                <span>Output Array</span>\n            </div>\n        </div>\n\n        <div class=\"visualization\">\n            <div id=\"stepInfo\" class=\"step-info\"></div>\n            \n            <h3>Input Array:</h3>\n            <div id=\"inputArray\" class=\"array-container\"></div>\n            \n            <h3>Count Array:</h3>\n            <div id=\"countArray\" class=\"array-container\"></div>\n            \n            <h3>Output Array:</h3>\n            <div id=\"outputArray\" class=\"array-container\"></div>\n            \n            <div class=\"controls\">\n                <button id=\"prevBtn\" onclick=\"prevStep()\" disabled>Previous Step</button>\n                <button id=\"nextBtn\" onclick=\"nextStep()\" disabled>Next Step</button>\n                <button id=\"autoBtn\" onclick=\"toggleAutoPlay()\">Auto Play</button>\n                <button onclick=\"reset()\">Reset</button>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px;\">\n            <h3>About Counting Sort:</h3>\n            <p>Counting Sort is a non-comparison-based sorting algorithm that works by counting the number of occurrences of each distinct element in the input array. It's efficient when the range of potential items (k) is not significantly larger than the number of items (n).</p>\n            <p><strong>Time Complexity:</strong> O(n + k) where n is the number of elements and k is the range of input</p>\n            <p><strong>Space Complexity:</strong> O(n + k)</p>\n            <p><strong>Stable:</strong> Yes (maintains relative order of equal elements)</p>\n        </div>\n    </div>\n\n    <script>\n        let originalArray = [];\n        let countArray = [];\n        let outputArray = [];\n        let stepHistory = [];\n        let currentStep = 0;\n        let autoPlayInterval = null;\n        let isAutoPlaying = false;\n\n        function initializeSort() {\n            const input = document.getElementById('arrayInput').value;\n            const numbers = input.split(',').map(num => parseInt(num.trim())).filter(num => !isNaN(num) && num >= 0);\n            \n            if (numbers.length === 0) {\n                alert('Please enter valid non-negative integers');\n                return;\n            }\n            \n            originalArray = [...numbers];\n            resetVisualization();\n            performCountingSort(numbers);\n            updateVisualization();\n            enableControls();\n        }\n\n        function performCountingSort(arr) {\n            stepHistory = [];\n            const max = Math.max(...arr);\n            \n            // Step 1: Initialize count array\n            countArray = new Array(max + 1).fill(0);\n            stepHistory.push({\n                step: 'Initialize Count Array',\n                inputArray: [...arr],\n                countArray: [...countArray],\n                outputArray: [],\n                description: `Created count array of size ${max + 1} (max value + 1) initialized with zeros`\n            });\n            \n            // Step 2: Count occurrences of each number\n            for (let i = 0; i < arr.length; i++) {\n                countArray[arr[i]]++;\n                stepHistory.push({\n                    step: 'Count Occurrences',\n                    inputArray: [...arr],\n                    countArray: [...countArray],\n                    outputArray: [],\n                    description: `Increment count for value ${arr[i]} at index ${i} of input array`,\n                    highlighted: { input: i, count: arr[i] }\n                });\n            }\n            \n            // Step 3: Modify count array to store cumulative counts\n            for (let i = 1; i <= max; i++) {\n                countArray[i] += countArray[i - 1];\n                stepHistory.push({\n                    step: 'Calculate Cumulative Counts',\n                    inputArray: [...arr],\n                    countArray: [...countArray],\n                    outputArray: [],\n                    description: `Add count of ${countArray[i - 1]} to count of ${i}, making it ${countArray[i]}`,\n                    highlighted: { count: i }\n                });\n            }\n            \n            // Initialize output array\n            outputArray = new Array(arr.length);\n            stepHistory.push({\n                step: 'Initialize Output Array',\n                inputArray: [...arr],\n                countArray: [...countArray],\n                outputArray: [...outputArray],\n                description: `Created output array of size ${arr.length}`\n            });\n            \n            // Step 4: Build the output array\n            for (let i = arr.length - 1; i >= 0; i--) {\n                const value = arr[i];\n                outputArray[countArray[value] - 1] = value;\n                countArray[value]--;\n                \n                const tempOutput = [...outputArray];\n                stepHistory.push({\n                    step: 'Build Output Array',\n                    inputArray: [...arr],\n                    countArray: [...countArray],\n                    outputArray: [...tempOutput],\n                    description: `Placed value ${value} from input index ${i} into output index ${tempOutput.indexOf(value)}`,\n                    highlighted: { input: i, output: tempOutput.indexOf(value), count: value }\n                });\n            }\n            \n            // Final step: Sorting complete\n            stepHistory.push({\n                step: 'Sorting Complete',\n                inputArray: [...arr],\n                countArray: [...countArray],\n                outputArray: [...outputArray],\n                description: 'Counting sort completed successfully!',\n                highlighted: {}\n            });\n        }\n\n        function updateVisualization() {\n            const step = stepHistory[currentStep];\n            const stepInfo = document.getElementById('stepInfo');\n            const inputArrayDiv = document.getElementById('inputArray');\n            const countArrayDiv = document.getElementById('countArray');\n            const outputArrayDiv = document.getElementById('outputArray');\n            \n            // Update step information\n            stepInfo.innerHTML = `<strong>Step ${currentStep + 1}/${stepHistory.length}:</strong> ${step.step}<br>${step.description}`;\n            \n            // Render input array\n            inputArrayDiv.innerHTML = '';\n            step.inputArray.forEach((value, index) => {\n                const element = document.createElement('div');\n                element.className = 'element input-element';\n                element.textContent = value;\n                element.style.opacity = step.highlighted && step.highlighted.input === index ? '1' : '0.8';\n                element.style.boxShadow = step.highlighted && step.highlighted.input === index ? '0 0 10px yellow' : 'none';\n                element.title = `Input value: ${value}`;\n                inputArrayDiv.appendChild(element);\n            });\n            \n            // Render count array\n            countArrayDiv.innerHTML = '';\n            step.countArray.forEach((value, index) => {\n                const element = document.createElement('div');\n                element.className = 'element count-element';\n                element.textContent = value;\n                element.style.opacity = step.highlighted && (step.highlighted.count === index) ? '1' : '0.8';\n                element.style.boxShadow = step.highlighted && (step.highlighted.count === index) ? '0 0 10px yellow' : 'none';\n                element.title = `Count for value ${index}: ${value}`;\n                countArrayDiv.appendChild(element);\n            });\n            \n            // Render output array\n            outputArrayDiv.innerHTML = '';\n            step.outputArray.forEach((value, index) => {\n                const element = document.createElement('div');\n                element.className = 'element output-element';\n                element.textContent = value !== undefined ? value : '';\n                element.style.opacity = step.highlighted && step.highlighted.output === index ? '1' : '0.8';\n                element.style.boxShadow = step.highlighted && step.highlighted.output === index ? '0 0 10px yellow' : 'none';\n                element.title = value !== undefined ? `Output value: ${value}` : 'Empty position';\n                outputArrayDiv.appendChild(element);\n            });\n            \n            // Update button states\n            document.getElementById('prevBtn').disabled = currentStep === 0;\n            document.getElementById('nextBtn').disabled = currentStep === stepHistory.length - 1;\n            \n            // Update auto play button text\n            document.getElementById('autoBtn').textContent = isAutoPlaying ? 'Pause' : 'Auto Play';\n        }\n\n        function nextStep() {\n            if (currentStep < stepHistory.length - 1) {\n                currentStep++;\n                updateVisualization();\n            }\n        }\n\n        function prevStep() {\n            if (currentStep > 0) {\n                currentStep--;\n                updateVisualization();\n            }\n        }\n\n        function toggleAutoPlay() {\n            if (isAutoPlaying) {\n                clearInterval(autoPlayInterval);\n                isAutoPlaying = false;\n            } else {\n                autoPlayInterval = setInterval(() => {\n                    if (currentStep < stepHistory.length - 1) {\n                        nextStep();\n                    } else {\n                        clearInterval(autoPlayInterval);\n                        isAutoPlaying = false;\n                        document.getElementById('autoBtn').textContent = 'Auto Play';\n                    }\n                }, 1500);\n                isAutoPlaying = true;\n            }\n            updateVisualization();\n        }\n\n        function enableControls() {\n            document.getElementById('prevBtn').disabled = false;\n            document.getElementById('nextBtn').disabled = false;\n            document.getElementById('autoBtn').disabled = false;\n        }\n\n        function reset() {\n            clearInterval(autoPlayInterval);\n            isAutoPlaying = false;\n            currentStep = 0;\n            resetVisualization();\n        }\n\n        function resetVisualization() {\n            const stepInfo = document.getElementById('stepInfo');\n            const inputArrayDiv = document.getElementById('inputArray');\n            const countArrayDiv = document.getElementById('countArray');\n            const outputArrayDiv = document.getElementById('outputArray');\n            \n            stepInfo.innerHTML = 'Enter numbers and click \"Start Sorting\" to begin the visualization.';\n            inputArrayDiv.innerHTML = '';\n            countArrayDiv.innerHTML = '';\n            outputArrayDiv.innerHTML = '';\n            \n            document.getElementById('prevBtn').disabled = true;\n            document.getElementById('nextBtn').disabled = true;\n            document.getElementById('autoBtn').textContent = 'Auto Play';\n        }\n\n        // Initialize with default values\n        window.onload = function() {\n            initializeSort();\n        };\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Counting Sort"
    }
  ],
  "topic": "Counting Sort",
  "hasFSM": false,
  "hasTest": true
}