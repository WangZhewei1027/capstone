{
  "id": "6e09e032-d5a0-11f0-8040-510e90b1f3a7",
  "timestamp": "2025-12-10T08:18:46.691Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Union-Find (Disjoint Set)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Union-Find (Disjoint Set) Visualization</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            display: flex;\n            flex-direction: column;\n            gap: 20px;\n        }\n        .controls {\n            background: white;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .visualization {\n            background: white;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            min-height: 400px;\n        }\n        button {\n            padding: 10px 15px;\n            margin: 5px;\n            border: none;\n            border-radius: 5px;\n            background: #4CAF50;\n            color: white;\n            cursor: pointer;\n            transition: background 0.3s;\n        }\n        button:hover {\n            background: #45a049;\n        }\n        button:disabled {\n            background: #cccccc;\n            cursor: not-allowed;\n        }\n        input {\n            padding: 8px;\n            margin: 5px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n        .node {\n            display: inline-block;\n            width: 50px;\n            height: 50px;\n            border: 2px solid #333;\n            border-radius: 50%;\n            text-align: center;\n            line-height: 50px;\n            margin: 10px;\n            position: relative;\n            background: white;\n            transition: all 0.3s ease;\n        }\n        .node.leader {\n            background: #ffeb3b;\n            border-color: #ff9800;\n        }\n        .connection {\n            position: absolute;\n            background: #333;\n            height: 2px;\n            transform-origin: 0 0;\n            z-index: -1;\n        }\n        .info {\n            margin-top: 20px;\n            padding: 10px;\n            background: #e7f3ff;\n            border-radius: 5px;\n        }\n        .sets-container {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 20px;\n            margin-top: 20px;\n        }\n        .set {\n            border: 2px solid #4CAF50;\n            border-radius: 10px;\n            padding: 10px;\n            min-width: 150px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Union-Find (Disjoint Set) Visualization</h1>\n        \n        <div class=\"controls\">\n            <h3>Controls</h3>\n            <div>\n                <input type=\"number\" id=\"nodeCount\" placeholder=\"Number of nodes\" value=\"6\" min=\"2\" max=\"20\">\n                <button onclick=\"initializeSets()\">Initialize Sets</button>\n            </div>\n            <div>\n                <input type=\"number\" id=\"node1\" placeholder=\"Node 1\" min=\"0\">\n                <input type=\"number\" id=\"node2\" placeholder=\"Node 2\" min=\"0\">\n                <button onclick=\"unionNodes()\">Union</button>\n                <button onclick=\"findOperation()\">Find</button>\n            </div>\n            <div>\n                <button onclick=\"reset()\">Reset</button>\n                <button onclick=\"generateRandomOperations()\">Random Operations</button>\n            </div>\n        </div>\n\n        <div class=\"visualization\">\n            <h3>Visualization</h3>\n            <div id=\"graph-container\"></div>\n            <div id=\"sets-display\" class=\"sets-container\"></div>\n            <div id=\"info\" class=\"info\"></div>\n        </div>\n    </div>\n\n    <script>\n        class UnionFind {\n            constructor(size) {\n                this.parent = Array(size).fill().map((_, i) => i);\n                this.rank = Array(size).fill(0);\n                this.size = size;\n            }\n\n            find(x) {\n                if (this.parent[x] !== x) {\n                    this.parent[x] = this.find(this.parent[x]); // Path compression\n                }\n                return this.parent[x];\n            }\n\n            union(x, y) {\n                const rootX = this.find(x);\n                const rootY = this.find(y);\n                \n                if (rootX === rootY) return false; // Already in same set\n                \n                // Union by rank\n                if (this.rank[rootX] > this.rank[rootY]) {\n                    this.parent[rootY] = rootX;\n                } else if (this.rank[rootX] < this.rank[rootY]) {\n                    this.parent[rootX] = rootY;\n                } else {\n                    this.parent[rootY] = rootX;\n                    this.rank[rootX]++;\n                }\n                return true;\n            }\n\n            getSets() {\n                const sets = {};\n                for (let i = 0; i < this.size; i++) {\n                    const root = this.find(i);\n                    if (!sets[root]) sets[root] = [];\n                    sets[root].push(i);\n                }\n                return sets;\n            }\n        }\n\n        let uf;\n        let nodes = [];\n\n        function initializeSets() {\n            const count = parseInt(document.getElementById('nodeCount').value) || 6;\n            uf = new UnionFind(count);\n            nodes = Array(count).fill().map((_, i) => i);\n            visualize();\n            updateInfo(`Initialized ${count} disjoint sets. Each node is its own set.`);\n        }\n\n        function unionNodes() {\n            if (!uf) {\n                updateInfo(\"Please initialize sets first.\");\n                return;\n            }\n            \n            const node1 = parseInt(document.getElementById('node1').value);\n            const node2 = parseInt(document.getElementById('node2').value);\n            \n            if (isNaN(node1) || isNaN(node2) || node1 < 0 || node2 < 0 || \n                node1 >= uf.size || node2 >= uf.size) {\n                updateInfo(\"Please enter valid node indices.\");\n                return;\n            }\n            \n            const success = uf.union(node1, node2);\n            if (success) {\n                updateInfo(`Union operation: Nodes ${node1} and ${node2} are now in the same set.`);\n            } else {\n                updateInfo(`Nodes ${node1} and ${node2} are already in the same set.`);\n            }\n            visualize();\n        }\n\n        function findOperation() {\n            if (!uf) {\n                updateInfo(\"Please initialize sets first.\");\n                return;\n            }\n            \n            const node = parseInt(document.getElementById('node1').value);\n            \n            if (isNaN(node) || node < 0 || node >= uf.size) {\n                updateInfo(\"Please enter a valid node index.\");\n                return;\n            }\n            \n            const root = uf.find(node);\n            updateInfo(`Find operation: The root of node ${node} is ${root}.`);\n            visualize();\n            highlightNode(node);\n            highlightNode(root);\n        }\n\n        function reset() {\n            uf = null;\n            document.getElementById('graph-container').innerHTML = '';\n            document.getElementById('sets-display').innerHTML = '';\n            document.getElementById('info').innerHTML = '';\n            document.getElementById('node1').value = '';\n            document.getElementById('node2').value = '';\n        }\n\n        function generateRandomOperations() {\n            if (!uf) initializeSets();\n            \n            const operations = Math.min(10, uf.size * 2);\n            for (let i = 0; i < operations; i++) {\n                const node1 = Math.floor(Math.random() * uf.size);\n                const node2 = Math.floor(Math.random() * uf.size);\n                if (node1 !== node2) {\n                    uf.union(node1, node2);\n                }\n            }\n            updateInfo(`Performed ${operations} random union operations.`);\n            visualize();\n        }\n\n        function visualize() {\n            if (!uf) return;\n            \n            const container = document.getElementById('graph-container');\n            const setsDisplay = document.getElementById('sets-display');\n            \n            container.innerHTML = '';\n            setsDisplay.innerHTML = '';\n            \n            // Calculate positions for nodes in a circle\n            const centerX = 400;\n            const centerY = 200;\n            const radius = 150;\n            \n            // Draw nodes and connections\n            nodes.forEach((node, i) => {\n                const angle = (2 * Math.PI * i) / uf.size;\n                const x = centerX + radius * Math.cos(angle);\n                const y = centerY + radius * Math.sin(angle);\n                \n                const nodeElement = document.createElement('div');\n                nodeElement.className = 'node';\n                nodeElement.id = `node-${node}`;\n                nodeElement.textContent = node;\n                nodeElement.style.left = `${x}px`;\n                nodeElement.style.top = `${y}px`;\n                \n                // Highlight root nodes\n                if (uf.find(node) === node) {\n                    nodeElement.classList.add('leader');\n                }\n                \n                container.appendChild(nodeElement);\n                \n                // Draw connection to parent if not self\n                const parent = uf.parent[node];\n                if (parent !== node) {\n                    const parentAngle = (2 * Math.PI * parent) / uf.size;\n                    const parentX = centerX + radius * Math.cos(parentAngle);\n                    const parentY = centerY + radius * Math.sin(parentAngle);\n                    \n                    const dx = parentX - x;\n                    const dy = parentY - y;\n                    const length = Math.sqrt(dx * dx + dy * dy);\n                    const angle = Math.atan2(dy, dx) * 180 / Math.PI;\n                    \n                    const connection = document.createElement('div');\n                    connection.className = 'connection';\n                    connection.style.width = `${length}px`;\n                    connection.style.left = `${x + 25}px`;\n                    connection.style.top = `${y + 25}px`;\n                    connection.style.transform = `rotate(${angle}deg)`;\n                    \n                    container.appendChild(connection);\n                }\n            });\n            \n            // Display sets\n            const sets = uf.getSets();\n            Object.keys(sets).forEach(root => {\n                const setElement = document.createElement('div');\n                setElement.className = 'set';\n                setElement.innerHTML = `\n                    <strong>Set with root ${root}:</strong><br>\n                    ${sets[root].join(', ')}\n                `;\n                setsDisplay.appendChild(setElement);\n            });\n        }\n\n        function highlightNode(node) {\n            const nodeElement = document.getElementById(`node-${node}`);\n            if (nodeElement) {\n                nodeElement.style.backgroundColor = '#ff9999';\n                setTimeout(() => {\n                    if (uf.find(node) === node) {\n                        nodeElement.style.backgroundColor = '#ffeb3b';\n                    } else {\n                        nodeElement.style.backgroundColor = 'white';\n                    }\n                }, 1000);\n            }\n        }\n\n        function updateInfo(message) {\n            document.getElementById('info').textContent = message;\n        }\n\n        // Initialize on load\n        window.onload = initializeSets;\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Union-Find (Disjoint Set)"
    }
  ],
  "topic": "Union-Find (Disjoint Set)",
  "hasFSM": false,
  "hasTest": true
}