{
  "id": "dfd73f27-d59e-11f0-ae0b-570552a0b645",
  "timestamp": "2025-12-10T08:08:41.251Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Union-Find (Disjoint Set)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Union-Find (Disjoint Set) Visualization</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n            color: #333;\n        }\n        \n        h1 {\n            color: #2c3e50;\n            text-align: center;\n            margin-bottom: 10px;\n        }\n        \n        .subtitle {\n            text-align: center;\n            color: #7f8c8d;\n            margin-bottom: 30px;\n        }\n        \n        .container {\n            display: flex;\n            gap: 30px;\n            margin-bottom: 30px;\n        }\n        \n        .explanation {\n            flex: 1;\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        }\n        \n        .visualization {\n            flex: 1;\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        }\n        \n        .operations {\n            display: flex;\n            gap: 10px;\n            margin-bottom: 20px;\n        }\n        \n        button {\n            background-color: #3498db;\n            color: white;\n            border: none;\n            padding: 10px 15px;\n            border-radius: 4px;\n            cursor: pointer;\n            transition: background-color 0.2s;\n        }\n        \n        button:hover {\n            background-color: #2980b9;\n        }\n        \n        button:disabled {\n            background-color: #95a5a6;\n            cursor: not-allowed;\n        }\n        \n        input[type=\"number\"] {\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            width: 60px;\n        }\n        \n        #sets-container {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 15px;\n            margin-top: 20px;\n        }\n        \n        .set {\n            border: 2px solid #3498db;\n            border-radius: 8px;\n            padding: 10px;\n            min-width: 150px;\n        }\n        \n        .set-title {\n            font-weight: bold;\n            margin-bottom: 8px;\n            color: #2c3e50;\n        }\n        \n        .element {\n            display: inline-block;\n            width: 35px;\n            height: 35px;\n            line-height: 35px;\n            text-align: center;\n            background-color: #ecf0f1;\n            margin: 3px;\n            border-radius: 50%;\n            border: 2px solid #bdc3c7;\n            transition: all 0.3s;\n        }\n        \n        .leader {\n            background-color: #3498db;\n            color: white;\n            border-color: #2980b9;\n        }\n        \n        .selected {\n            border-color: #e74c3c;\n            box-shadow: 0 0 5px #e74c3c;\n        }\n        \n        .parent-arrow {\n            display: inline-block;\n            margin: 0 5px;\n            color: #7f8c8d;\n        }\n        \n        .complexity {\n            display: flex;\n            justify-content: space-around;\n            margin-bottom: 20px;\n            gap: 10px;\n        }\n        \n        .complexity-card {\n            flex: 1;\n            background-color: #f8f9fa;\n            padding: 15px;\n            border-radius: 6px;\n            text-align: center;\n        }\n        \n        .complexity-title {\n            font-weight: bold;\n            margin-bottom: 5px;\n            color: #2c3e50;\n        }\n        \n        .animation-controls {\n            display: flex;\n            gap: 10px;\n            margin-top: 20px;\n            justify-content: center;\n        }\n        \n        .log {\n            background-color: #ecf0f1;\n            padding: 10px;\n            border-radius: 4px;\n            height: 100px;\n            overflow-y: auto;\n            margin-top: 20px;\n            font-family: monospace;\n            font-size: 14px;\n        }\n        \n        .log-entry {\n            margin: 3px 0;\n            padding: 2px 5px;\n        }\n        \n        .success {\n            background-color: #d4edda;\n            color: #155724;\n        }\n        \n        .info {\n            background-color: #d1ecf1;\n            color: #0c5460;\n        }\n        \n        .algorithm-step {\n            margin: 10px 0;\n            padding: 8px;\n            border-left: 3px solid #3498db;\n            background-color: #f8f9fa;\n        }\n        \n        code {\n            background-color: #f4f4f4;\n            padding: 2px 4px;\n            border-radius: 3px;\n            font-family: monospace;\n        }\n    </style>\n</head>\n<body>\n    <h1>Union-Find (Disjoint Set) Visualization</h1>\n    <p class=\"subtitle\">Interactive demonstration of the Union-Find data structure with path compression and union by rank</p>\n    \n    <div class=\"complexity\">\n        <div class=\"complexity-card\">\n            <div class=\"complexity-title\">Time Complexity</div>\n            <div>Find: O(α(n))</div>\n            <div>Union: O(α(n))</div>\n        </div>\n        <div class=\"complexity-card\">\n            <div class=\"complexity-title\">Space Complexity</div>\n            <div>O(n)</div>\n        </div>\n        <div class=\"complexity-card\">\n            <div class=\"complexity-title\">α(n)</div>\n            <div>Inverse Ackermann function</div>\n        </div>\n    </div>\n    \n    <div class=\"container\">\n        <div class=\"explanation\">\n            <h2>About Union-Find</h2>\n            <p>The Union-Find data structure, also known as Disjoint Set Union (DSU), is used to manage a collection of disjoint sets. It supports two main operations:</p>\n            <ul>\n                <li><strong>Find(x):</strong> Determine which set an element belongs to</li>\n                <li><strong>Union(x, y):</strong> Merge two sets together</li>\n            </ul>\n            <p>This visualization demonstrates the algorithm with path compression and union by rank optimizations, achieving near-constant time complexity per operation.</p>\n            \n            <h3>Algorithm Steps:</h3>\n            <div class=\"algorithm-step\">\n                <strong>Initialization:</strong> Each element starts as its own set with parent pointing to itself and rank 0.\n            </div>\n            <div class=\"algorithm-step\">\n                <strong>Find (with path compression):</strong> Find the root of the set while flattening the tree for future operations.<br>\n                <code>while parent[x] != x: parent[x] = parent[parent[x]]; x = parent[x]</code>\n            </div>\n            <div class=\"algorithm-step\">\n                <strong>Union (by rank):</strong> Attach the root with smaller rank to the root with larger rank to keep trees balanced.<br>\n                <code>rootX = Find(x); rootY = Find(y); if rank[rootX] < rank[rootY]: parent[rootX] = rootY else: parent[rootY] = rootX</code>\n            </div>\n            \n            <div class=\"animation-controls\">\n                <button id=\"speed-slow\">Slow</button>\n                <button id=\"speed-medium\">Medium</button>\n                <button id=\"speed-fast\">Fast</button>\n            </div>\n        </div>\n        \n        <div class=\"visualization\">\n            <h2>Interactive Visualization</h2>\n            \n            <div class=\"operations\">\n                <div>\n                    <label for=\"num-elements\">Elements: </label>\n                    <input type=\"number\" id=\"num-elements\" min=\"1\" max=\"20\" value=\"10\">\n                    <button id=\"init-btn\">Initialize</button>\n                </div>\n                <div>\n                    <label for=\"element1\">Element 1: </label>\n                    <input type=\"number\" id=\"element1\" min=\"0\" value=\"0\">\n                    <label for=\"element2\">Element 2: </label>\n                    <input type=\"number\" id=\"element2\" min=\"0\" value=\"1\">\n                    <button id=\"union-btn\">Union</button>\n                </div>\n                <div>\n                    <label for=\"find-element\">Find: </label>\n                    <input type=\"number\" id=\"find-element\" min=\"0\" value=\"0\">\n                    <button id=\"find-btn\">Find</button>\n                </div>\n                <button id=\"reset-btn\">Reset</button>\n            </div>\n            \n            <div id=\"sets-container\"></div>\n            \n            <h3>Operation Log</h3>\n            <div id=\"log\" class=\"log\"></div>\n        </div>\n    </div>\n\n    <script>\n        class UnionFind {\n            constructor(size) {\n                this.parent = new Array(size);\n                this.rank = new Array(size);\n                this.size = size;\n                \n                // Initialize each element as its own set\n                for (let i = 0; i < size; i++) {\n                    this.parent[i] = i;\n                    this.rank[i] = 0;\n                }\n            }\n            \n            // Find with path compression\n            find(x) {\n                if (this.parent[x] !== x) {\n                    // Path compression: make x point directly to the root\n                    this.parent[x] = this.find(this.parent[x]);\n                }\n                return this.parent[x];\n            }\n            \n            // Union by rank\n            union(x, y) {\n                const rootX = this.find(x);\n                const rootY = this.find(y);\n                \n                if (rootX === rootY) {\n                    return false; // Already in the same set\n                }\n                \n                // Union by rank: attach smaller tree to larger tree\n                if (this.rank[rootX] < this.rank[rootY]) {\n                    this.parent[rootX] = rootY;\n                } else if (this.rank[rootX] > this.rank[rootY]) {\n                    this.parent[rootY] = rootX;\n                } else {\n                    // If ranks are equal, make one root and increment its rank\n                    this.parent[rootY] = rootX;\n                    this.rank[rootX]++;\n                }\n                \n                return true;\n            }\n        }\n\n        // Visualization logic\n        let uf;\n        let animationSpeed = 800; // milliseconds\n        let selectedElements = [];\n        \n        // DOM elements\n        const numElementsInput = document.getElementById('num-elements');\n        const element1Input = document.getElementById('element1');\n        const element2Input = document.getElementById('element2');\n        const findElementInput = document.getElementById('find-element');\n        const initBtn = document.getElementById('init-btn');\n        const unionBtn = document.getElementById('union-btn');\n        const findBtn = document.getElementById('find-btn');\n        const resetBtn = document.getElementById('reset-btn');\n        const setsContainer = document.getElementById('sets-container');\n        const logElement = document.getElementById('log');\n        const speedSlowBtn = document.getElementById('speed-slow');\n        const speedMediumBtn = document.getElementById('speed-medium');\n        const speedFastBtn = document.getElementById('speed-fast');\n        \n        // Initialize the visualization\n        function init() {\n            const size = parseInt(numElementsInput.value);\n            if (size < 1 || size > 20) {\n                alert('Please enter a number between 1 and 20');\n                return;\n            }\n            \n            uf = new UnionFind(size);\n            selectedElements = [];\n            updateVisualization();\n            addLog(`Initialized Union-Find with ${size} elements`, 'info');\n        }\n        \n        // Perform union operation\n        function performUnion() {\n            if (!uf) {\n                alert('Please initialize first');\n                return;\n            }\n            \n            const x = parseInt(element1Input.value);\n            const y = parseInt(element2Input.value);\n            \n            if (isNaN(x) || isNaN(y) || x < 0 || y < 0 || x >= uf.size || y >= uf.size) {\n                alert(`Please enter valid element numbers between 0 and ${uf.size - 1}`);\n                return;\n            }\n            \n            if (x === y) {\n                alert('Elements must be different for union operation');\n                return;\n            }\n            \n            selectedElements = [x, y];\n            updateVisualization();\n            \n            setTimeout(() => {\n                const result = uf.union(x, y);\n                if (result) {\n                    addLog(`Union(${x}, ${y}): Elements ${x} and ${y} are now in the same set`, 'success');\n                } else {\n                    addLog(`Union(${x}, ${y}): Elements ${x} and ${y} are already in the same set`, 'info');\n                }\n                selectedElements = [];\n                updateVisualization();\n            }, animationSpeed);\n        }\n        \n        // Perform find operation\n        function performFind() {\n            if (!uf) {\n                alert('Please initialize first');\n                return;\n            }\n            \n            const x = parseInt(findElementInput.value);\n            \n            if (isNaN(x) || x < 0 || x >= uf.size) {\n                alert(`Please enter a valid element number between 0 and ${uf.size - 1}`);\n                return;\n            }\n            \n            selectedElements = [x];\n            updateVisualization();\n            \n            setTimeout(() => {\n                const root = uf.find(x);\n                addLog(`Find(${x}): Element ${x} belongs to set with root ${root}`, 'success');\n                \n                // Highlight the path to the root\n                let current = x;\n                const path = [x];\n                \n                while (current !== uf.parent[current]) {\n                    current = uf.parent[current];\n                    path.push(current);\n                }\n                \n                selectedElements = path;\n                updateVisualization();\n                \n                setTimeout(() => {\n                    selectedElements = [];\n                    updateVisualization();\n                }, animationSpeed * 2);\n            }, animationSpeed);\n        }\n        \n        // Reset the visualization\n        function reset() {\n            if (uf) {\n                init();\n            }\n        }\n        \n        // Update the visualization\n        function updateVisualization() {\n            if (!uf) return;\n            \n            setsContainer.innerHTML = '';\n            \n            // Group elements by their root\n            const sets = new Map();\n            \n            for (let i = 0; i < uf.size; i++) {\n                const root = uf.find(i);\n                if (!sets.has(root)) {\n                    sets.set(root, []);\n                }\n                sets.get(root).push(i);\n            }\n            \n            // Create visual representation for each set\n            sets.forEach((elements, root) => {\n                const setElement = document.createElement('div');\n                setElement.className = 'set';\n                \n                const title = document.createElement('div');\n                title.className = 'set-title';\n                title.textContent = `Set with root ${root}`;\n                setElement.appendChild(title);\n                \n                elements.forEach(element => {\n                    const elementDiv = document.createElement('div');\n                    elementDiv.className = 'element';\n                    elementDiv.textContent = element;\n                    \n                    if (element === root) {\n                        elementDiv.classList.add('leader');\n                    }\n                    \n                    if (selectedElements.includes(element)) {\n                        elementDiv.classList.add('selected');\n                    }\n                    \n                    // Show parent relationship if not root\n                    if (element !== root) {\n                        const arrow = document.createElement('span');\n                        arrow.className = 'parent-arrow';\n                        arrow.textContent = '→';\n                        setElement.appendChild(arrow);\n                    }\n                    \n                    setElement.appendChild(elementDiv);\n                });\n                \n                setsContainer.appendChild(setElement);\n            });\n        }\n        \n        // Add log entry\n        function addLog(message, type) {\n            const logEntry = document.createElement('div');\n            logEntry.className = `log-entry ${type}`;\n            logEntry.textContent = message;\n            logElement.appendChild(logEntry);\n            logElement.scrollTop = logElement.scrollHeight;\n        }\n        \n        // Set animation speed\n        function setAnimationSpeed(speed) {\n            animationSpeed = speed;\n            \n            // Update button states\n            speedSlowBtn.disabled = speed === 1200;\n            speedMediumBtn.disabled = speed === 800;\n            speedFastBtn.disabled = speed === 400;\n        }\n        \n        // Event listeners\n        initBtn.addEventListener('click', init);\n        unionBtn.addEventListener('click', performUnion);\n        findBtn.addEventListener('click', performFind);\n        resetBtn.addEventListener('click', reset);\n        \n        speedSlowBtn.addEventListener('click', () => setAnimationSpeed(1200));\n        speedMediumBtn.addEventListener('click', () => setAnimationSpeed(800));\n        speedFastBtn.addEventListener('click', () => setAnimationSpeed(400));\n        \n        // Initialize on load\n        window.addEventListener('DOMContentLoaded', init);\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Union-Find (Disjoint Set)"
    }
  ],
  "topic": "Union-Find (Disjoint Set)",
  "hasFSM": false,
  "hasTest": true
}