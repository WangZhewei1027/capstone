{
  "id": "dfd78d49-d59e-11f0-ae0b-570552a0b645",
  "timestamp": "2025-12-10T08:07:28.808Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Linear Regression",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Linear Regression Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 900px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: white;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .description {\n            margin-bottom: 20px;\n            line-height: 1.6;\n        }\n        .canvas-container {\n            position: relative;\n            margin: 30px 0;\n        }\n        canvas {\n            border: 1px solid #ddd;\n            background-color: #fafafa;\n            cursor: crosshair;\n        }\n        .controls {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 15px;\n            margin: 20px 0;\n            padding: 15px;\n            background-color: #f9f9f9;\n            border-radius: 5px;\n        }\n        button {\n            padding: 8px 16px;\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            transition: background-color 0.3s;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        button.clear {\n            background-color: #f44336;\n        }\n        button.clear:hover {\n            background-color: #da190b;\n        }\n        .equation {\n            margin: 15px 0;\n            padding: 10px;\n            background-color: #e7f3ff;\n            border-left: 4px solid #2196F3;\n            font-family: monospace;\n            font-size: 16px;\n        }\n        .stats {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 15px;\n            margin-top: 20px;\n        }\n        .stat-item {\n            padding: 10px;\n            background-color: #f0f0f0;\n            border-radius: 5px;\n            text-align: center;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Linear Regression Visualization</h1>\n        \n        <div class=\"description\">\n            <p>Linear regression is a statistical method that models the relationship between a dependent variable (y) and one or more independent variables (x) using a linear equation.</p>\n            <p><strong>Click on the canvas below to add data points.</strong> The algorithm will automatically calculate and draw the best-fit line using the least squares method.</p>\n        </div>\n\n        <div class=\"controls\">\n            <button onclick=\"calculateRegression()\">Calculate Regression</button>\n            <button onclick=\"addRandomPoints(10)\">Add 10 Random Points</button>\n            <button class=\"clear\" onclick=\"clearCanvas()\">Clear All Points</button>\n        </div>\n\n        <div class=\"canvas-container\">\n            <canvas id=\"regressionCanvas\" width=\"800\" height=\"400\"></canvas>\n        </div>\n\n        <div class=\"equation\" id=\"equationDisplay\">\n            Regression equation will appear here\n        </div>\n\n        <div class=\"stats\" id=\"statsDisplay\">\n            <!-- Statistics will be populated here -->\n        </div>\n    </div>\n\n    <script>\n        // Canvas and context\n        const canvas = document.getElementById('regressionCanvas');\n        const ctx = canvas.getContext('2d');\n        \n        // Data points array\n        let points = [];\n        \n        // Initialize canvas\n        function initCanvas() {\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            \n            // Draw grid\n            drawGrid();\n            \n            // Draw existing points and regression line if available\n            redrawAll();\n        }\n        \n        // Draw grid on canvas\n        function drawGrid() {\n            ctx.strokeStyle = '#e0e0e0';\n            ctx.lineWidth = 0.5;\n            \n            // Vertical lines\n            for (let x = 0; x <= canvas.width; x += 50) {\n                ctx.beginPath();\n                ctx.moveTo(x, 0);\n                ctx.lineTo(x, canvas.height);\n                ctx.stroke();\n            }\n            \n            // Horizontal lines\n            for (let y = 0; y <= canvas.height; y += 50) {\n                ctx.beginPath();\n                ctx.moveTo(0, y);\n                ctx.lineTo(canvas.width, y);\n                ctx.stroke();\n            }\n            \n            // Axis\n            ctx.strokeStyle = '#000';\n            ctx.lineWidth = 2;\n            ctx.beginPath();\n            ctx.moveTo(0, canvas.height);\n            ctx.lineTo(canvas.width, canvas.height);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(0, canvas.height);\n            ctx.stroke();\n        }\n        \n        // Add point on canvas click\n        canvas.addEventListener('click', function(event) {\n            const rect = canvas.getBoundingClientRect();\n            const x = event.clientX - rect.left;\n            const y = event.clientY - rect.top;\n            \n            // Store point (convert to Cartesian coordinates with origin at bottom-left)\n            points.push({x: x, y: canvas.height - y});\n            \n            redrawAll();\n        });\n        \n        // Redraw everything (points and regression line)\n        function redrawAll() {\n            initCanvas();\n            \n            // Draw points\n            points.forEach(point => {\n                drawPoint(point.x, canvas.height - point.y);\n            });\n            \n            // Calculate and draw regression line if we have enough points\n            if (points.length >= 2) {\n                calculateRegression();\n            }\n        }\n        \n        // Draw a point on the canvas\n        function drawPoint(x, y) {\n            ctx.fillStyle = '#2196F3';\n            ctx.beginPath();\n            ctx.arc(x, y, 5, 0, Math.PI * 2);\n            ctx.fill();\n        }\n        \n        // Draw regression line\n        function drawLine(slope, intercept) {\n            // Convert slope and intercept to canvas coordinates\n            // y = mx + b in Cartesian becomes: canvasY = slope * canvasX + intercept\n            // But we need to convert to canvas coordinates where y increases downward\n            \n            // Calculate start and end points for the line\n            const startX = 0;\n            const startY = canvas.height - (slope * startX + intercept);\n            const endX = canvas.width;\n            const endY = canvas.height - (slope * endX + intercept);\n            \n            ctx.strokeStyle = '#FF5722';\n            ctx.lineWidth = 2;\n            ctx.beginPath();\n            ctx.moveTo(startX, startY);\n            ctx.lineTo(endX, endY);\n            ctx.stroke();\n        }\n        \n        // Calculate linear regression using least squares method\n        function calculateRegression() {\n            if (points.length < 2) {\n                document.getElementById('equationDisplay').textContent = \n                    'Need at least 2 points to calculate regression';\n                return;\n            }\n            \n            // Calculate means\n            const n = points.length;\n            const sumX = points.reduce((sum, point) => sum + point.x, 0);\n            const sumY = points.reduce((sum, point) => sum + point.y, 0);\n            const meanX = sumX / n;\n            const meanY = sumY / n;\n            \n            // Calculate slope (m) and intercept (b)\n            let numerator = 0;\n            let denominator = 0;\n            \n            for (let i = 0; i < n; i++) {\n                numerator += (points[i].x - meanX) * (points[i].y - meanY);\n                denominator += (points[i].x - meanX) * (points[i].x - meanX);\n            }\n            \n            const slope = numerator / denominator;\n            const intercept = meanY - slope * meanX;\n            \n            // Draw the regression line\n            drawLine(slope, intercept);\n            \n            // Calculate R-squared (coefficient of determination)\n            let ssTotal = 0;\n            let ssResidual = 0;\n            \n            for (let i = 0; i < n; i++) {\n                const yPredicted = slope * points[i].x + intercept;\n                ssTotal += Math.pow(points[i].y - meanY, 2);\n                ssResidual += Math.pow(points[i].y - yPredicted, 2);\n            }\n            \n            const rSquared = 1 - (ssResidual / ssTotal);\n            \n            // Update equation display\n            document.getElementById('equationDisplay').innerHTML = \n                `<strong>Regression Equation:</strong> y = ${slope.toFixed(4)}x + ${intercept.toFixed(4)}<br>\n                 <strong>R² (coefficient of determination):</strong> ${rSquared.toFixed(4)}`;\n            \n            // Update statistics\n            updateStatistics(slope, intercept, rSquared);\n        }\n        \n        // Update statistics display\n        function updateStatistics(slope, intercept, rSquared) {\n            const statsHTML = `\n                <div class=\"stat-item\">\n                    <strong>Number of Points:</strong><br>${points.length}\n                </div>\n                <div class=\"stat-item\">\n                    <strong>Slope (m):</strong><br>${slope.toFixed(4)}\n                </div>\n                <div class=\"stat-item\">\n                    <strong>Intercept (b):</strong><br>${intercept.toFixed(4)}\n                </div>\n                <div class=\"stat-item\">\n                    <strong>R² Value:</strong><br>${rSquared.toFixed(4)}\n                </div>\n            `;\n            \n            document.getElementById('statsDisplay').innerHTML = statsHTML;\n        }\n        \n        // Add random points for demonstration\n        function addRandomPoints(count) {\n            for (let i = 0; i < count; i++) {\n                const x = Math.random() * (canvas.width - 100) + 50; // Avoid edges\n                const y = Math.random() * (canvas.height - 100) + 50; // Avoid edges\n                points.push({x: x, y: canvas.height - y});\n            }\n            redrawAll();\n        }\n        \n        // Clear all points\n        function clearCanvas() {\n            points = [];\n            initCanvas();\n            document.getElementById('equationDisplay').textContent = \n                'Regression equation will appear here';\n            document.getElementById('statsDisplay').innerHTML = '';\n        }\n        \n        // Initialize on load\n        window.onload = initCanvas;\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Linear Regression"
    }
  ],
  "topic": "Linear Regression",
  "hasFSM": false,
  "hasTest": true
}