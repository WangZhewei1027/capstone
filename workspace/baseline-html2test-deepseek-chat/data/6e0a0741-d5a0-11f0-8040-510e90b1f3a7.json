{
  "id": "6e0a0741-d5a0-11f0-8040-510e90b1f3a7",
  "timestamp": "2025-12-10T08:19:38.131Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Counting Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Counting Sort Visualization</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n            color: #333;\n        }\n        h1 {\n            text-align: center;\n            color: #2c3e50;\n        }\n        .container {\n            display: flex;\n            flex-direction: column;\n            gap: 20px;\n        }\n        .explanation {\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .visualization {\n            display: flex;\n            flex-direction: column;\n            gap: 20px;\n        }\n        .controls {\n            display: flex;\n            gap: 10px;\n            align-items: center;\n            flex-wrap: wrap;\n            background-color: white;\n            padding: 15px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        input, button {\n            padding: 8px 12px;\n            border-radius: 4px;\n            border: 1px solid #ddd;\n        }\n        button {\n            background-color: #3498db;\n            color: white;\n            border: none;\n            cursor: pointer;\n            transition: background-color 0.3s;\n        }\n        button:hover {\n            background-color: #2980b9;\n        }\n        #array-input {\n            flex-grow: 1\n        }\n        .array-display {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 10px;\n            justify-content: center;\n            padding: 20px;\n            background-color: white;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .array-element {\n            width: 40px;\n            height: 40px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background-color: #3498db;\n            color: white;\n            font-weight: bold;\n            border-radius: 4px;\n            transition: background-color 0.3s, transform 0.3s;\n        }\n        .array-element.highlight {\n            background-color: #e74c3c;\n            transform: scale(1.1);\n        }\n        .array-element.sorted {\n            background-color: #2ecc71;\n        }\n        .count-array {\n            margin-top: 20px;\n            padding: 15px;\n            background-color: #f9f9f9;\n            border-radius: 8px;\n            border-left: 4px solid #3498db;\n        }\n        .steps {\n            background-color: white;\n            padding: 15px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            max-height: 200px;\n            overflow-y: auto;\n        }\n        .step-info {\n            margin: 5px 0;\n            padding: 8px;\n            background-color: #f8f9fa;\n            border-radius: 4px;\n        }\n        .complexity-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        .complexity-table th, .complexity-table td {\n            border: 1px solid #ddd;\n            padding: 10px;\n            text-align: center;\n        }\n        .complexity-table th {\n            background-color: #f2f2f2;\n        }\n    </style>\n</head>\n<body>\n    <h1>Counting Sort Visualization</h1>\n    \n    <div class=\"container\">\n        <div class=\"explanation\">\n            <h2>What is Counting Sort?</h2>\n            <p>Counting Sort is a non-comparison based sorting algorithm that works by counting the occurrences of each distinct element in the input array. It then calculates the position of each element in the sorted output.</p>\n            \n            <h3>Algorithm Steps:</h3>\n            <ol>\n                <li>Find the maximum element in the array to determine the range</li>\n                <li>Create a count array to store the count of each unique element</li>\n                <li>Modify the count array to store cumulative counts</li>\n                <li>Build the output array by placing elements in their correct positions</li>\n            </ol>\n            \n            <h3>Time Complexity:</h3>\n            <table class=\"complexity-table\">\n                <tr>\n                    <th>Case</th>\n                    <th>Time Complexity</th>\n                </tr>\n                <tr>\n                    <td>Best Case</td>\n                    <td>O(n + k)</td>\n                </tr>\n                <tr>\n                    <td>Average Case</td>\n                    <td>O(n + k)</td>\n                </tr>\n                <tr>\n                    <td>Worst Case</td>\n                    <td>O(n + k)</td>\n                </tr>\n            </table>\n            <p>Where n is the number of elements and k is the range of input.</p>\n        </div>\n        \n        <div class=\"visualization\">\n            <div class=\"controls\">\n                <input type=\"text\" id=\"array-input\" placeholder=\"Enter numbers separated by commas (e.g., 4,2,2,8,3,3,1)\">\n                <button id=\"generate-random\">Generate Random Array</button>\n                <button id=\"sort-button\">Sort</button>\n                <button id=\"reset-button\">Reset</button>\n            </div>\n            \n            <div id=\"original-array\" class=\"array-display\">\n                <!-- Original array will be displayed here -->\n            </div>\n            \n            <div id=\"count-array\" class=\"count-array\">\n                <!-- Count array will be displayed here -->\n            </div>\n            \n            <div id=\"sorted-array\" class=\"array-display\">\n                <!-- Sorted array will be displayed here -->\n            </div>\n            \n            <div class=\"steps\">\n                <h3>Sorting Steps:</h3>\n                <div id=\"step-info\"></div>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // DOM elements\n        const arrayInput = document.getElementById('array-input');\n        const generateRandomBtn = document.getElementById('generate-random');\n        const sortButton = document.getElementById('sort-button');\n        const resetButton = document.getElementById('reset-button');\n        const originalArrayDisplay = document.getElementById('original-array');\n        const countArrayDisplay = document.getElementById('count-array');\n        const sortedArrayDisplay = document.getElementById('sorted-array');\n        const stepInfo = document.getElementById('step-info');\n        \n        // Current state\n        let originalArray = [];\n        let countArray = [];\n        let sortedArray = [];\n        let animationDelay = 800; // Delay between steps in milliseconds\n        \n        // Initialize with a sample array\n        arrayInput.value = \"4,2,2,8,3,3,1\";\n        displayOriginalArray();\n        \n        // Event listeners\n        generateRandomBtn.addEventListener('click', generateRandomArray);\n        sortButton.addEventListener('click', startSorting);\n        resetButton.addEventListener('click', resetVisualization);\n        arrayInput.addEventListener('change', displayOriginalArray);\n        \n        // Functions\n        function generateRandomArray() {\n            const size = Math.floor(Math.random() * 10) + 5; // Random size between 5 and 14\n            originalArray = [];\n            for (let i = 0; i < size; i++) {\n                originalArray.push(Math.floor(Math.random() * 10) + 1); // Random numbers between 1 and 10\n            }\n            arrayInput.value = originalArray.join(',');\n            displayOriginalArray();\n        }\n        \n        function displayOriginalArray() {\n            originalArray = arrayInput.value.split(',').map(Number).filter(n => !isNaN(n));\n            originalArrayDisplay.innerHTML = '';\n            originalArray.forEach(num => {\n                const element = document.createElement('div');\n                element.className = 'array-element';\n                element.textContent = num;\n                originalArrayDisplay.appendChild(element);\n            });\n            \n            // Clear other displays\n            countArrayDisplay.innerHTML = '<h3>Count Array:</h3>';\n            sortedArrayDisplay.innerHTML = '';\n            stepInfo.innerHTML = '';\n        }\n        \n        function resetVisualization() {\n            displayOriginalArray();\n        }\n        \n        function startSorting() {\n            // Reset displays\n            resetVisualization();\n            \n            // Disable buttons during sorting\n            sortButton.disabled = true;\n            generateRandomBtn.disabled = true;\n            resetButton.disabled = true;\n            \n            // Start the sorting process\n            countingSortWithSteps();\n        }\n        \n        async function countingSortWithSteps() {\n            // Step 1: Find the maximum value\n            const max = Math.max(...originalArray);\n            addStep(`Step 1: Maximum value in array is ${max}`);\n            \n            // Step 2: Initialize count array with zeros\n            countArray = new Array(max + 1).fill(0);\n            displayCountArray(\"Initializing count array with zeros\");\n            await sleep(animationDelay);\n            \n            // Step 3: Store count of each element\n            addStep(\"Step 3: Counting occurrences of each element\");\n            for (let i = 0; i < originalArray.length; i++) {\n                const value = originalArray[i];\n                countArray[value]++;\n                displayCountArray(`Count for ${value} increased to ${countArray[value]}`);\n                highlightElement(originalArrayDisplay.children[i]);\n                await sleep(animationDelay);\n                unhighlightElement(originalArrayDisplay.children[i]);\n            }\n            \n            // Step 4: Modify count array to store cumulative counts\n            addStep(\"Step 4: Converting count to cumulative counts\");\n            for (let i = 1; i <= max; i++) {\n                countArray[i] += countArray[i - 1];\n                displayCountArray(`Cumulative count at index ${i} is ${countArray[i]}`);\n                await sleep(animationDelay);\n            }\n            \n            // Step 5: Build the output array\n            addStep(\"Step 5: Building the sorted output array\");\n            sortedArray = new Array(originalArray.length);\n            for (let i = originalArray.length - 1; i >= 0; i--) {\n                const value = originalArray[i];\n                const position = countArray[value] - 1;\n                sortedArray[position] = value;\n                countArray[value]--;\n                \n                // Visualize this step\n                displayCountArray(`Placing ${value} at position ${position + 1}`);\n                displaySortedArray(position, value);\n                \n                highlightElement(originalArrayDisplay.children[i]);\n                await sleep(animationDelay);\n                unhighlightElement(originalArrayDisplay.children[i]);\n            }\n            \n            addStep(\"Sorting completed!\");\n            \n            // Re-enable buttons\n            sortButton.disabled = false;\n            generateRandomBtn.disabled = false;\n            resetButton.disabled = false;\n        }\n        \n        function displayCountArray(message) {\n            countArrayDisplay.innerHTML = '<h3>Count Array:</h3>';\n            \n            // Create a table for better visualization\n            const table = document.createElement('table');\n            table.className = 'complexity-table';\n            \n            // Create header row\n            const headerRow = document.createElement('tr');\n            headerRow.innerHTML = '<th>Index</th>';\n            for (let i = 0; i < countArray.length; i++) {\n                const th = document.createElement('th');\n                th.textContent = i;\n                headerRow.appendChild(th);\n            }\n            table.appendChild(headerRow);\n            \n            // Create values row\n            const valueRow = document.createElement('tr');\n            valueRow.innerHTML = '<td>Count</td>';\n            for (let i = 0; i < countArray.length; i++) {\n                const td = document.createElement('td');\n                td.textContent = countArray[i];\n                valueRow.appendChild(td);\n            }\n            table.appendChild(valueRow);\n            \n            countArrayDisplay.appendChild(table);\n            \n            // Add message if provided\n            if (message) {\n                const messageElement = document.createElement('p');\n                messageElement.textContent = message;\n                messageElement.style.fontStyle = 'italic';\n                messageElement.style.marginTop = '10px';\n                countArrayDisplay.appendChild(messageElement);\n            }\n        }\n        \n        function displaySortedArray(position, value) {\n            // Clear and rebuild the sorted array display\n            sortedArrayDisplay.innerHTML = '';\n            \n            for (let i = 0; i < originalArray.length; i++) {\n                const element = document.createElement('div');\n                element.className = 'array-element';\n                \n                // Show value if it's already placed\n                if (i <= position && sortedArray[i] !== undefined) {\n                    element.textContent = sortedArray[i];\n                    element.classList.add('sorted');\n                } else {\n                    element.textContent = '?';\n                }\n                \n                // Highlight the current position\n                if (i === position) {\n                    element.classList.add('highlight');\n                }\n                \n                sortedArrayDisplay.appendChild(element);\n            }\n        }\n        \n        function addStep(description) {\n            const stepElement = document.createElement('div');\n            stepElement.className = 'step-info';\n            stepElement.textContent = description;\n            stepInfo.appendChild(stepElement);\n            stepInfo.scrollTop = stepInfo.scrollHeight;\n        }\n        \n        function highlightElement(element) {\n            element.classList.add('highlight');\n        }\n        \n        function unhighlightElement(element) {\n            element.classList.remove('highlight');\n        }\n        \n        function sleep(ms) {\n            return new Promise(resolve => setTimeout(resolve, ms));\n        }\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Counting Sort"
    }
  ],
  "topic": "Counting Sort",
  "hasFSM": false,
  "hasTest": true
}