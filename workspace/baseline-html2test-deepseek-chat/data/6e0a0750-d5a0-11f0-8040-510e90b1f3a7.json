{
  "id": "6e0a0750-d5a0-11f0-8040-510e90b1f3a7",
  "timestamp": "2025-12-10T08:20:34.672Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Huffman Coding",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Huffman Coding Demo</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 1000px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .input-section, .output-section {\n            margin-bottom: 20px;\n        }\n        textarea {\n            width: 100%;\n            height: 80px;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            resize: vertical;\n        }\n        button {\n            background-color: #4CAF50;\n            color: white;\n            padding: 10px 20px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            margin-right: 10px;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        .result {\n            margin-top: 20px;\n            padding: 15px;\n            background-color: #f9f9f9;\n            border-radius: 4px;\n            white-space: pre-wrap;\n        }\n        .tree-visualization {\n            margin-top: 20px;\n            overflow-x: auto;\n        }\n        .node {\n            display: inline-block;\n            padding: 10px;\n            margin: 5px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            background-color: #e9e9e9;\n            text-align: center;\n            min-width: 80px;\n        }\n        .leaf {\n            background-color: #c9e7ff;\n        }\n        .frequency {\n            font-weight: bold;\n        }\n        .character {\n            font-size: 12px;\n            color: #666;\n        }\n        .code {\n            font-family: monospace;\n            background-color: #f0f0f0;\n            padding: 2px 5px;\n            border-radius: 3px;\n        }\n        .compression-stats {\n            margin-top: 15px;\n            padding: 10px;\n            background-color: #e7f3ff;\n            border-radius: 4px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>Huffman Coding Demo</h1>\n        \n        <div class=\"input-section\">\n            <h3>Enter text to encode:</h3>\n            <textarea id=\"inputText\" placeholder=\"Enter some text here...\">Hello, World!</textarea>\n            <br><br>\n            <button onclick=\"encodeText()\">Encode Text</button>\n            <button onclick=\"decodeText()\">Decode Text</button>\n            <button onclick=\"clearAll()\">Clear</button>\n        </div>\n        \n        <div class=\"output-section\">\n            <h3>Results:</h3>\n            <div id=\"output\" class=\"result\"></div>\n            <div id=\"tree\" class=\"tree-visualization\"></div>\n            <div id=\"stats\" class=\"compression-stats\"></div>\n        </div>\n    </div>\n\n    <script>\n        class HuffmanNode {\n            constructor(character, frequency) {\n                this.character = character;\n                this.frequency = frequency;\n                this.left = null;\n                this.right = null;\n            }\n        }\n\n        class HuffmanCoding {\n            constructor() {\n                this.codes = {};\n                this.reverseCodes = {};\n                this.root = null;\n            }\n\n            buildFrequencyTable(text) {\n                const frequency = {};\n                for (let char of text) {\n                    frequency[char] = (frequency[char] || 0) + 1;\n                }\n                return frequency;\n            }\n\n            buildTree(frequency) {\n                const nodes = [];\n                \n                for (let char in frequency) {\n                    nodes.push(new HuffmanNode(char, frequency[char]));\n                }\n\n                while (nodes.length > 1) {\n                    nodes.sort((a, b) => a.frequency - b.frequency);\n                    \n                    const left = nodes.shift();\n                    const right = nodes.shift();\n                    \n                    const parent = new HuffmanNode(null, left.frequency + right.frequency);\n                    parent.left = left;\n                    parent.right = right;\n                    \n                    nodes.push(parent);\n                }\n                \n                this.root = nodes[0];\n                return this.root;\n            }\n\n            generateCodes(node = this.root, code = '') {\n                if (node.character !== null) {\n                    this.codes[node.character] = code;\n                    this.reverseCodes[code] = node.character;\n                    return;\n                }\n                \n                if (node.left) {\n                    this.generateCodes(node.left, code + '0');\n                }\n                \n                if (node.right) {\n                    this.generateCodes(node.right, code + '1');\n                }\n            }\n\n            encode(text) {\n                this.codes = {};\n                this.reverseCodes = {};\n                \n                const frequency = this.buildFrequencyTable(text);\n                this.buildTree(frequency);\n                this.generateCodes();\n                \n                let encoded = '';\n                for (let char of text) {\n                    encoded += this.codes[char];\n                }\n                \n                return encoded;\n            }\n\n            decode(encodedText) {\n                let current = this.root;\n                let decoded = '';\n                \n                for (let bit of encodedText) {\n                    current = bit === '0' ? current.left : current.right;\n                    \n                    if (current.character !== null) {\n                        decoded += current.character;\n                        current = this.root;\n                    }\n                }\n                \n                return decoded;\n            }\n\n            getTreeVisualization() {\n                return this._visualizeTree(this.root);\n            }\n\n            _visualizeTree(node, depth = 0) {\n                if (!node) return '';\n                \n                const indent = '  '.repeat(depth);\n                let visualization = '';\n                \n                if (node.character !== null) {\n                    visualization += `${indent}Char: '${node.character === ' ' ? 'SPACE' : node.character}' Freq: ${node.frequency}\\n`;\n                } else {\n                    visualization += `${indent}Node Freq: ${node.frequency}\\n`;\n                }\n                \n                if (node.left) {\n                    visualization += `${indent}Left:\\n${this._visualizeTree(node.left, depth + 1)}`;\n                }\n                \n                if (node.right) {\n                    visualization += `${indent}Right:\\n${this._visualizeTree(node.right, depth + 1)}`;\n                }\n                \n                return visualization;\n            }\n\n            getCompressionStats(originalText, encodedText) {\n                const originalBits = originalText.length * 8;\n                const encodedBits = encodedText.length;\n                const compressionRatio = ((originalBits - encodedBits) / originalBits * 100).toFixed(2);\n                \n                return {\n                    originalSize: originalBits,\n                    compressedSize: encodedBits,\n                    compressionRatio: compressionRatio,\n                    averageCodeLength: (encodedBits / originalText.length).toFixed(2)\n                };\n            }\n        }\n\n        const huffman = new HuffmanCoding();\n\n        function encodeText() {\n            const inputText = document.getElementById('inputText').value;\n            if (!inputText.trim()) {\n                alert('Please enter some text to encode.');\n                return;\n            }\n\n            const encoded = huffman.encode(inputText);\n            const decoded = huffman.decode(encoded);\n            const stats = huffman.getCompressionStats(inputText, encoded);\n\n            let output = `Original Text: \"${inputText}\"\\n\\n`;\n            output += `Character Frequencies:\\n`;\n            \n            const frequency = huffman.buildFrequencyTable(inputText);\n            for (let char in frequency) {\n                const displayChar = char === ' ' ? 'SPACE' : char;\n                output += `  '${displayChar}': ${frequency[char]} (Code: ${huffman.codes[char]})\\n`;\n            }\n            \n            output += `\\nEncoded Binary: ${encoded}\\n`;\n            output += `Decoded Text: \"${decoded}\"\\n`;\n            output += `Verification: ${inputText === decoded ? '✓ Success' : '✗ Failed'}\\n\\n`;\n\n            output += `Compression Statistics:\\n`;\n            output += `  Original Size: ${stats.originalSize} bits\\n`;\n            output += `  Compressed Size: ${stats.compressedSize} bits\\n`;\n            output += `  Compression Ratio: ${stats.compressionRatio}%\\n`;\n            output += `  Average Code Length: ${stats.averageCodeLength} bits/character\\n`;\n\n            document.getElementById('output').textContent = output;\n            \n            // Display tree visualization\n            document.getElementById('tree').innerHTML = '<h4>Huffman Tree:</h4>' + \n                '<pre>' + huffman.getTreeVisualization() + '</pre>';\n            \n            // Display binary representation\n            displayBinaryCodes(huffman.codes);\n        }\n\n        function decodeText() {\n            const encodedText = prompt('Enter the binary string to decode:');\n            if (!encodedText || !/^[01]+$/.test(encodedText)) {\n                alert('Please enter a valid binary string (only 0s and 1s).');\n                return;\n            }\n\n            try {\n                const decoded = huffman.decode(encodedText);\n                document.getElementById('output').textContent = \n                    `Encoded Binary: ${encodedText}\\nDecoded Text: \"${decoded}\"`;\n            } catch (error) {\n                alert('Error decoding: ' + error.message);\n            }\n        }\n\n        function displayBinaryCodes(codes) {\n            let html = '<h4>Binary Codes:</h4><div class=\"codes-container\">';\n            for (let char in codes) {\n                const displayChar = char === ' ' ? 'SPACE' : char;\n                html += `<div class=\"node leaf\">\n                    <div class=\"character\">'${displayChar}'</div>\n                    <div class=\"code\">${codes[char]}</div>\n                </div>`;\n            }\n            html += '</div>';\n            \n            const statsDiv = document.getElementById('stats');\n            statsDiv.innerHTML = html;\n        }\n\n        function clearAll() {\n            document.getElementById('inputText').value = '';\n            document.getElementById('output').textContent = '';\n            document.getElementById('tree').innerHTML = '';\n            document.getElementById('stats').innerHTML = '';\n        }\n\n        // Initialize with example\n        document.getElementById('inputText').value = \"Huffman coding is a lossless data compression algorithm.\";\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Huffman Coding"
    }
  ],
  "topic": "Huffman Coding",
  "hasFSM": false,
  "hasTest": true
}