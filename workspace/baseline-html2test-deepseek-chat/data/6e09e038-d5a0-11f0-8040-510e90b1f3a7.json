{
  "id": "6e09e038-d5a0-11f0-8040-510e90b1f3a7",
  "timestamp": "2025-12-10T08:19:53.339Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Quick Sort",
  "answer": {
    "role": "assistant",
    "content": "# Quick Sort Visualization\n\nI'll create an interactive visualization that demonstrates how the quick sort algorithm works with animated sorting actions.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Quick Sort Visualization</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n        \n        body {\n            background: linear-gradient(135deg, #1e3c72, #2a5298);\n            color: white;\n            min-height: 100vh;\n            padding: 20px;\n        }\n        \n        .container {\n            max-width: 1000px;\n            margin: 0 auto;\n            padding: 20px;\n        }\n        \n        header {\n            text-align: center;\n            margin-bottom: 30px;\n            padding: 20px;\n            background: rgba(0, 0, 0, 0.2);\n            border-radius: 10px;\n            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n        }\n        \n        h1 {\n            font-size: 2.5rem;\n            margin-bottom: 10px;\n            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n        }\n        \n        .description {\n            font-size: 1.1rem;\n            max-width: 800px;\n            margin: 0 auto 20px;\n            line-height: 1.6;\n        }\n        \n        .controls {\n            display: flex;\n            justify-content: center;\n            gap: 15px;\n            margin-bottom: 30px;\n            flex-wrap: wrap;\n        }\n        \n        button {\n            padding: 10px 20px;\n            font-size: 1rem;\n            background: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 5px;\n            cursor: pointer;\n            transition: all 0.3s;\n            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n        }\n        \n        button:hover {\n            background: #45a049;\n            transform: translateY(-2px);\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n        }\n        \n        button:disabled {\n            background: #cccccc;\n            cursor: not-allowed;\n            transform: none;\n            box-shadow: none;\n        }\n        \n        .slider-container {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            margin-bottom: 20px;\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .slider-container label {\n            font-weight: bold;\n        }\n        \n        input[type=\"range\"] {\n            width: 200px;\n        }\n        \n        .visualization {\n            display: flex;\n            align-items: flex-end;\n            justify-content: center;\n            height: 300px;\n            background: rgba(255, 255, 255, 0.1);\n            border-radius: 10px;\n            padding: 20px;\n            margin-bottom: 30px;\n            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);\n            overflow: hidden;\n        }\n        \n        .bar {\n            margin: 0 2px;\n            background: linear-gradient(to top, #ff7e5f, #feb47b);\n            transition: all 0.3s ease;\n            border-radius: 3px 3px 0 0;\n            position: relative;\n        }\n        \n        .bar-value {\n            position: absolute;\n            top: -25px;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 12px;\n            font-weight: bold;\n            color: white;\n            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);\n        }\n        \n        .bar.pivot {\n            background: linear-gradient(to top, #11998e, #38ef7d);\n        }\n        \n        .bar.comparing {\n            background: linear-gradient(to top, #ff416c, #ff4b2b);\n        }\n        \n        .bar.sorted {\n            background: linear-gradient(to top, #2193b0, #6dd5ed);\n        }\n        \n        .explanation {\n            background: rgba(255, 255, 255, 0.1);\n            padding: 20px;\n            border-radius: 10px;\n            margin-bottom: 20px;\n            line-height: 1.6;\n        }\n        \n        .algorithm-steps {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n            gap: 20px;\n        }\n        \n        .step {\n            background: rgba(255, 255, 255, 0.1);\n            padding: 15px;\n            border-radius: 10px;\n        }\n        \n        .step h3 {\n            margin-bottom: 10px;\n            color: #ff7e5f;\n        }\n        \n        .complexity-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n            background: rgba(255, 255, 255, 0.1);\n            border-radius: 10px;\n            overflow: hidden;\n        }\n        \n        .complexity-table th, .complexity-table td {\n            padding: 12px 15px;\n            text-align: left;\n            border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n        }\n        \n        .complexity-table th {\n            background: rgba(255, 255, 255, 0.2);\n            font-weight: bold;\n        }\n        \n        .complexity-table tr:last-child td {\n            border-bottom: none;\n        }\n        \n        @media (max-width: 768px) {\n            .visualization {\n                height: 200px;\n            }\n            \n            h1 {\n                font-size: 2rem;\n            }\n            \n            .controls {\n                flex-direction: column;\n                align-items: center;\n            }\n            \n            button {\n                width: 100%;\n                max-width: 300px;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <header>\n            <h1>Quick Sort Algorithm Visualization</h1>\n            <p class=\"description\">\n                Quick Sort is a highly efficient sorting algorithm that uses a divide-and-conquer approach. \n                It works by selecting a 'pivot' element and partitioning the array around the pivot, \n                placing smaller elements to the left and larger elements to the right. This process is \n                recursively applied to the sub-arrays until the entire array is sorted.\n            </p>\n        </header>\n        \n        <div class=\"controls\">\n            <button id=\"generateBtn\">Generate New Array</button>\n            <button id=\"sortBtn\">Start Quick Sort</button>\n            <button id=\"resetBtn\">Reset</button>\n            <button id=\"stepBtn\">Step Through</button>\n        </div>\n        \n        <div class=\"slider-container\">\n            <label for=\"arraySize\">Array Size:</label>\n            <input type=\"range\" id=\"arraySize\" min=\"5\" max=\"50\" value=\"20\">\n            <span id=\"sizeValue\">20</span>\n            \n            <label for=\"speed\">Speed:</label>\n            <input type=\"range\" id=\"speed\" min=\"1\" max=\"10\" value=\"5\">\n            <span id=\"speedValue\">5</span>\n        </div>\n        \n        <div class=\"visualization\" id=\"arrayContainer\"></div>\n        \n        <div class=\"explanation\">\n            <h2>How Quick Sort Works</h2>\n            <p id=\"currentStep\">Click \"Start Quick Sort\" to begin the visualization.</p>\n        </div>\n        \n        <div class=\"algorithm-steps\">\n            <div class=\"step\">\n                <h3>Step 1: Choose Pivot</h3>\n                <p>Select an element from the array as the pivot. In this visualization, we use the last element as the pivot.</p>\n            </div>\n            <div class=\"step\">\n                <h3>Step 2: Partition</h3>\n                <p>Rearrange the array so that all elements smaller than the pivot come before it, and all greater elements come after it.</p>\n            </div>\n            <div class=\"step\">\n                <h3>Step 3: Recursively Sort</h3>\n                <p>Apply the same process recursively to the sub-arrays formed by dividing the array at the pivot.</p>\n            </div>\n        </div>\n        \n        <table class=\"complexity-table\">\n            <tr>\n                <th>Case</th>\n                <th>Time Complexity</th>\n                <th>Space Complexity</th>\n            </tr>\n            <tr>\n                <td>Best Case (O(n log n))</td>\n                <td>O(n log n)</td>\n                <td>O(log n)</td>\n            </tr>\n            <tr>\n                <td>Average Case (O(n log n))</td>\n                <td>O(n log n)</td>\n                <td>O(log n)</td>\n            </tr>\n            <tr>\n                <td>Worst Case (O(n²))</td>\n                <td>O(n²)</td>\n                <td>O(n)</td>\n            </tr>\n        </table>\n    </div>\n\n    <script>\n        // DOM elements\n        const arrayContainer = document.getElementById('arrayContainer');\n        const generateBtn = document.getElementById('generateBtn');\n        const sortBtn = document.getElementById('sortBtn');\n        const resetBtn = document.getElementById('resetBtn');\n        const stepBtn = document.getElementById('stepBtn');\n        const arraySizeSlider = document.getElementById('arraySize');\n        const speedSlider = document.getElementById('speed');\n        const sizeValue = document.getElementById('sizeValue');\n        const speedValue = document.getElementById('speedValue');\n        const currentStep = document.getElementById('currentStep');\n        \n        // Variables\n        let array = [];\n        let arraySize = parseInt(arraySizeSlider.value);\n        let speed = 1100 - (parseInt(speedSlider.value) * 100); // Convert to delay in ms\n        let isSorting = false;\n        let sortQueue = [];\n        let stepIndex = 0;\n        \n        // Initialize\n        generateArray();\n        updateSizeValue();\n        updateSpeedValue();\n        \n        // Event listeners\n        generateBtn.addEventListener('click', () => {\n            if (!isSorting) {\n                generateArray();\n                currentStep.textContent = \"New array generated. Click 'Start Quick Sort' to begin.\";\n            }\n        });\n        \n        sortBtn.addEventListener('click', () => {\n            if (!isSorting && array.length > 0) {\n                isSorting = true;\n                disableButtons(true);\n                quickSort([...array], 0, array.length - 1).then(() => {\n                    isSorting = false;\n                    disableButtons(false);\n                    currentStep.textContent = \"Sorting completed! The array is now sorted.\";\n                });\n            }\n        });\n        \n        resetBtn.addEventListener('click', () => {\n            if (isSorting) return;\n            generateArray();\n            currentStep.textContent = \"Array reset. Click 'Start Quick Sort' to begin.\";\n        });\n        \n        stepBtn.addEventListener('click', () => {\n            if (!isSorting && array.length > 0) {\n                isSorting = true;\n                disableButtons(true);\n                stepThroughSort();\n            }\n        });\n        \n        arraySizeSlider.addEventListener('input', () => {\n            arraySize = parseInt(arraySizeSlider.value);\n            updateSizeValue();\n            if (!isSorting) {\n                generateArray();\n            }\n        });\n        \n        speedSlider.addEventListener('input', () => {\n            speed = 1100 - (parseInt(speedSlider.value) * 100);\n            updateSpeedValue();\n        });\n        \n        // Functions\n        function generateArray() {\n            array = [];\n            arrayContainer.innerHTML = '';\n            \n            for (let i = 0; i < arraySize; i++) {\n                array.push(Math.floor(Math.random() * 95) + 5); // Values between 5 and 100\n            }\n            \n            renderArray();\n        }\n        \n        function renderArray(highlightIndices = [], pivotIndex = -1, sortedIndices = []) {\n            arrayContainer.innerHTML = '';\n            \n            const containerHeight = arrayContainer.clientHeight;\n            const maxValue = Math.max(...array);\n            \n            array.forEach((value, index) => {\n                const bar = document.createElement('div');\n                bar.classList.add('bar');\n                \n                // Calculate bar height relative to container\n                const heightPercentage = (value / maxValue) * 90;\n                bar.style.height = `${heightPercentage}%`;\n                bar.style.width = `calc(95% / ${array.length})`;\n                \n                // Add value label\n                const valueLabel = document.createElement('div');\n                valueLabel.classList.add('bar-value');\n                valueLabel.textContent = value;\n                bar.appendChild(valueLabel);\n                \n                // Highlight bars based on their state\n                if (sortedIndices.includes(index)) {\n                    bar.classList.add('sorted');\n                } else if (index === pivotIndex) {\n                    bar.classList.add('pivot');\n                } else if (highlightIndices.includes(index)) {\n                    bar.classList.add('comparing');\n                }\n                \n                arrayContainer.appendChild(bar);\n            });\n        }\n        \n        function updateSizeValue() {\n            sizeValue.textContent = arraySizeSlider.value;\n        }\n        \n        function updateSpeedValue() {\n            speedValue.textContent = speedSlider.value;\n        }\n        \n        function disableButtons(disabled) {\n            generateBtn.disabled = disabled;\n            sortBtn.disabled = disabled;\n            resetBtn.disabled = disabled;\n            stepBtn.disabled = disabled;\n            arraySizeSlider.disabled = disabled;\n        }\n        \n        // Quick Sort implementation with visualization\n        async function quickSort(arr, low, high) {\n            if (low < high) {\n                // Partition the array and get the pivot index\n                const pivotIndex = await partition(arr, low, high);\n                \n                // Update the explanation\n                currentStep.textContent = `Partitioned around pivot ${arr[pivotIndex]}. Now recursively sorting left and right subarrays.`;\n                \n                // Recursively sort elements before and after partition\n                await quickSort(arr, low, pivotIndex - 1);\n                await quickSort(arr, pivotIndex + 1, high);\n            } else if (low === high) {\n                // Mark single element as sorted\n                await delay(speed);\n                renderArray([], -1, [...Array(low + 1).keys()]);\n                currentStep.textContent = `Element at position ${low} is in its correct position.`;\n            }\n            \n            return arr;\n        }\n        \n        async function partition(arr, low, high) {\n            // Choose the rightmost element as pivot\n            const pivot = arr[high];\n            \n            // Index of smaller element (indicates the right position of pivot found so far)\n            let i = low - 1;\n            \n            // Update explanation\n            currentStep.textContent = `Partitioning from index ${low} to ${high} with pivot ${pivot}.`;\n            \n            for (let j = low; j < high; j++) {\n                // If current element is smaller than or equal to pivot\n                await delay(speed);\n                renderArray([j, high], high, []);\n                currentStep.textContent = `Comparing element ${arr[j]} with pivot ${pivot}.`;\n                \n                if (arr[j] <= pivot) {\n                    i++; // Increment index of smaller element\n                    \n                    // Swap arr[i] and arr[j]\n                    if (i !== j) {\n                        await delay(speed);\n                        [arr[i], arr[j]] = [arr[j], arr[i]];\n                        renderArray([i, j], high, []);\n                        currentStep.textContent = `Swapping elements ${arr[i]} and ${arr[j]}.`;\n                    }\n                }\n            }\n            \n            // Swap arr[i+1] and arr[high] (or pivot)\n            await delay(speed);\n            [arr[i + 1], arr[high]] = [arr[high], arr[i + 1]];\n            renderArray([i + 1, high], -1, [i + 1]);\n            currentStep.textContent = `Placing pivot ${pivot} at its correct position ${i + 1}.`;\n            \n            await delay(speed);\n            renderArray([], -1, [i + 1]);\n            \n            return i + 1;\n        }\n        \n        function delay(ms) {\n            return new Promise(resolve => setTimeout(resolve, ms));\n        }\n        \n        // Step-through functionality\n        async function stepThroughSort() {\n            if (stepIndex === 0) {\n                // Initialize the step queue\n                sortQueue = [];\n                await buildStepQueue([...array], 0, array.length - 1);\n            }\n            \n            if (stepIndex < sortQueue.length) {\n                const step = sortQueue[stepIndex];\n                stepIndex++;\n                \n                if (step.type === 'partition') {\n                    currentStep.textContent = step.message;\n                    renderArray(step.highlight || [], step.pivot, step.sorted || []);\n                } else if (step.type === 'compare') {\n                    currentStep.textContent = step.message;\n                    renderArray(step.highlight || [], step.pivot, step.sorted || []);\n                } else if (step.type === 'swap') {\n                    currentStep.textContent = step.message;\n                    \n                    // Perform the swap in the array\n                    [array[step.indices[0]], array[step.indices[1]]] = [array[step.indices[1]], array[step.indices[0]]];\n                    \n                    renderArray(step.highlight || [], step.pivot, step.sorted || []);\n                } else if (step.type === 'pivot_placed') {\n                    currentStep.textContent = step.message;\n                    renderArray(step.highlight || [], -1, step.sorted || []);\n                }\n                \n                // If this is the last step, reset\n                if (stepIndex === sortQueue.length) {\n                    isSorting = false;\n                    disableButtons(false);\n                    stepIndex = 0;\n                    currentStep.textContent = \"Sorting completed! The array is now sorted.\";\n                }\n            }\n        }\n        \n        async function buildStepQueue(arr, low, high) {\n            if (low < high) {\n                sortQueue.push({\n                    type"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Quick Sort"
    }
  ],
  "topic": "Quick Sort",
  "hasFSM": false,
  "hasTest": true
}