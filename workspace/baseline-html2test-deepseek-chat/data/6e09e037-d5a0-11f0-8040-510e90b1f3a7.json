{
  "id": "6e09e037-d5a0-11f0-8040-510e90b1f3a7",
  "timestamp": "2025-12-10T08:19:38.240Z",
  "type": "html-to-test",
  "htmlModel": "deepseek-chat",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Merge Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Merge Sort Visualization</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 1000px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n            color: #333;\n        }\n        \n        h1 {\n            color: #2c3e50;\n            text-align: center;\n        }\n        \n        .controls {\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            margin-bottom: 20px;\n        }\n        \n        .array-input {\n            display: flex;\n            gap: 10px;\n            align-items: center;\n            margin-bottom: 15px;\n        }\n        \n        input[type=\"text\"] {\n            flex: 1;\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            font-size: 16px;\n        }\n        \n        button {\n            background-color: #3498db;\n            color: white;\n            border: none;\n            padding: 10px 15px;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            transition: background-color 0.3s;\n        }\n        \n        button:hover {\n            background-color: #2980b9;\n        }\n        \n        .algorithm-info {\n            background-color: white;\n            padding: 15px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            margin-bottom: 20px;\n        }\n        \n        .visualization {\n            display: flex;\n            flex-direction: column;\n            gap: 10px;\n            margin-top: 20px;\n        }\n        \n        .step {\n            background-color: white;\n            padding: 15px;\n            border-radius: 8px;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n        }\n        \n        .step-title {\n            font-weight: bold;\n            margin-bottom: 10px;\n            color: #2c3e50;\n        }\n        \n        .array-container {\n            display: flex;\n            gap: 5px;\n            flex-wrap: wrap;\n            margin-bottom: 10px;\n        }\n        \n        .array-element {\n            width: 40px;\n            height: 40px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background-color: #3498db;\n            color: white;\n            border-radius: 4px;\n            font-weight: bold;\n        }\n        \n        .array-element.merged {\n            background-color: #2ecc71;\n        }\n        \n        .array-element.being-sorted {\n            background-color: #e74c3c;\n        }\n        \n        .explanation {\n            font-size: 14px;\n            color: #555;\n            margin-top: 10px;\n        }\n        \n        .complexity {\n            display: flex;\n            justify-content: space-around;\n            margin-top: 20px;\n            margin-bottom: 20px;\n        }\n        \n        .complexity-item {\n            text-align: center;\n            background-color: white;\n            padding: 15px;\n            border-radius: 8px;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n            flex: 1;\n            margin: 0 10px;\n        }\n        \n        .complexity-value {\n            font-size: 24px;\n            font-weight: bold;\n            color: #e74c3c;\n        }\n    </style>\n</head>\n<body>\n    <h1>Merge Sort Visualization</h1>\n    \n    <div class=\"controls\">\n        <div class=\"array-input\">\n            <label for=\"array-input\">Enter numbers (comma-separated):</label>\n            <input type=\"text\" id=\"array-input\" value=\"38, 27, 43, 3, 9, 82, 10\">\n            <button id=\"sort-button\">Sort Step by Step</button>\n            <button id=\"random-button\">Generate Random Array</button>\n        </div>\n    </div>\n    \n    <div class=\"algorithm-info\">\n        <h2>About Merge Sort</h2>\n        <p>Merge Sort is a divide-and-conquer algorithm that works by recursively dividing the array into smaller subarrays until each subarray contains a single element, and then merging those subarrays in a sorted manner.</p>\n        \n        <div class=\"complexity\">\n            <div class=\"complexity-item\">\n                <div>Time Complexity (Best)</div>\n                <div class=\"complexity-value\">O(n log n)</div>\n            </div>\n            <div class=\"complexity-item\">\n                <div>Time Complexity (Average)</div>\n                <div class=\"complexity-value\">O(n log n)</div>\n            </div>\n            <div class=\"complexity-item\">\n                <div>Time Complexity (Worst)</div>\n                <div class=\"complexity-value\">O(n log n)</div>\n            </div>\n            <div class=\"complexity-item\">\n                <div>Space Complexity</div>\n                <div class=\"complexity-value\">O(n)</div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"visualization\" id=\"visualization\">\n        <!-- Steps will be dynamically added here -->\n    </div>\n\n    <script>\n        document.addEventListener('DOMContentLoaded', function() {\n            const arrayInput = document.getElementById('array-input');\n            const sortButton = document.getElementById('sort-button');\n            const randomButton = document.getElementById('random-button');\n            const visualization = document.getElementById('visualization');\n            \n            let currentStep = 0;\n            let steps = [];\n            \n            // Generate random array\n            randomButton.addEventListener('click', function() {\n                const length = Math.floor(Math.random() * 10) + 5; // 5 to 14 elements\n                const randomArray = [];\n                for (let i = 0; i < length; i++) {\n                    randomArray.push(Math.floor(Math.random() * 100) + 1);\n                }\n                arrayInput.value = randomArray.join(', ');\n                resetVisualization();\n            });\n            \n            // Start sorting\n            sortButton.addEventListener('click', function() {\n                const inputArray = arrayInput.value.split(',').map(num => parseInt(num.trim()));\n                if (inputArray.some(isNaN)) {\n                    alert('Please enter valid numbers separated by commas.');\n                    return;\n                }\n                \n                resetVisualization();\n                steps = [];\n                currentStep = 0;\n                \n                // Perform merge sort and capture steps\n                mergeSortWithSteps(inputArray, 0, inputArray.length - 1, []);\n                \n                // Display first step\n                displayStep(currentStep);\n                \n                // Add event listener for next step\n                document.addEventListener('keydown', handleKeyPress);\n            });\n            \n            function handleKeyPress(e) {\n                if (e.key === 'ArrowRight') {\n                    nextStep();\n                } else if (e.key === 'ArrowLeft') {\n                    previousStep();\n                }\n            }\n            \n            function nextStep() {\n                if (currentStep < steps.length - 1) {\n                    currentStep++;\n                    displayStep(currentStep);\n                }\n            }\n            \n            function previousStep() {\n                if (currentStep > 0) {\n                    currentStep--;\n                    displayStep(currentStep);\n                }\n            }\n            \n            function resetVisualization() {\n                visualization.innerHTML = '';\n                currentStep = 0;\n                steps = [];\n                document.removeEventListener('keydown', handleKeyPress);\n            }\n            \n            function displayStep(stepIndex) {\n                visualization.innerHTML = '';\n                \n                if (steps.length === 0) return;\n                \n                const step = steps[stepIndex];\n                \n                // Show step counter\n                const stepCounter = document.createElement('div');\n                stepCounter.innerHTML = `<strong>Step ${stepIndex + 1} of ${steps.length}</strong> - Use left/right arrow keys to navigate`;\n                visualization.appendChild(stepCounter);\n                \n                // Create step visualization\n                const stepDiv = document.createElement('div');\n                stepDiv.className = 'step';\n                \n                const title = document.createElement('div');\n                title.className = 'step-title';\n                title.textContent = step.description;\n                stepDiv.appendChild(title);\n                \n                const arrayContainer = document.createElement('div');\n                arrayContainer.className = 'array-container';\n                \n                step.array.forEach((num, index) => {\n                    const element = document.createElement('div');\n                    element.className = 'array-element';\n                    \n                    // Highlight elements being processed\n                    if (step.highlightedIndices && step.highlightedIndices.includes(index)) {\n                        element.classList.add('being-sorted');\n                    } \n                    // Highlight merged elements\n                    else if (step.mergedIndices && step.mergedIndices.includes(index)) {\n                        element.classList.add('merged');\n                    }\n                    \n                    element.textContent = num;\n                    arrayContainer.appendChild(element);\n                });\n                \n                stepDiv.appendChild(arrayContainer);\n                \n                // Add explanation if available\n                if (step.explanation) {\n                    const explanation = document.createElement('div');\n                    explanation.className = 'explanation';\n                    explanation.textContent = step.explanation;\n                    stepDiv.appendChild(explanation);\n                }\n                \n                // Add navigation buttons\n                const navDiv = document.createElement('div');\n                navDiv.style.display = 'flex';\n                navDiv.style.gap = '10px';\n                navDiv.style.marginTop = '15px';\n                \n                const prevButton = document.createElement('button');\n                prevButton.textContent = 'Previous Step';\n                prevButton.disabled = stepIndex === 0;\n                prevButton.addEventListener('click', previousStep);\n                \n                const nextButton = document.createElement('button');\n                nextButton.textContent = 'Next Step';\n                nextButton.disabled = stepIndex === steps.length - 1;\n                nextButton.addEventListener('click', nextStep);\n                \n                navDiv.appendChild(prevButton);\n                navDiv.appendChild(nextButton);\n                stepDiv.appendChild(navDiv);\n                \n                visualization.appendChild(stepDiv);\n            }\n            \n            function mergeSortWithSteps(arr, left, right, parentIndices) {\n                if (left >= right) return;\n                \n                const mid = Math.floor((left + right) / 2);\n                \n                // Add step for dividing\n                steps.push({\n                    array: [...arr],\n                    description: `Dividing array from index ${left} to ${right}`,\n                    highlightedIndices: Array.from({length: right - left + 1}, (_, i) => left + i),\n                    explanation: `Finding midpoint at index ${mid} and preparing to divide into left (${left}-${mid}) and right (${mid+1}-${right}) subarrays.`\n                });\n                \n                // Recursively sort left and right halves\n                mergeSortWithSteps(arr, left, mid, [...parentIndices, ...Array.from({length: mid - left + 1}, (_, i) => left + i)]);\n                mergeSortWithSteps(arr, mid + 1, right, [...parentIndices, ...Array.from({length: right - mid}, (_, i) => mid + 1 + i)]);\n                \n                // Merge the sorted halves\n                mergeWithSteps(arr, left, mid, right, parentIndices);\n            }\n            \n            function mergeWithSteps(arr, left, mid, right, parentIndices) {\n                const leftArr = arr.slice(left, mid + 1);\n                const rightArr = arr.slice(mid + 1, right + 1);\n                \n                let i = 0, j = 0, k = left;\n                const mergedIndices = [];\n                \n                // Add step for starting merge\n                steps.push({\n                    array: [...arr],\n                    description: `Merging sorted subarrays from index ${left} to ${right}`,\n                    highlightedIndices: Array.from({length: right - left + 1}, (_, idx) => left + idx),\n                    explanation: `Comparing elements from left subarray [${leftArr.join(', ')}] and right subarray [${rightArr.join(', ')}].`\n                });\n                \n                while (i < leftArr.length && j < rightArr.length) {\n                    if (leftArr[i] <= rightArr[j]) {\n                        arr[k] = leftArr[i];\n                        mergedIndices.push(k);\n                        \n                        // Add step for comparison and placement\n                        steps.push({\n                            array: [...arr],\n                            description: `Comparing ${leftArr[i]} (left) and ${rightArr[j]} (right)`,\n                            highlightedIndices: [k],\n                            mergedIndices: [...mergedIndices],\n                            explanation: `${leftArr[i]} â‰¤ ${rightArr[j]}, so placing ${leftArr[i]} from left subarray at position ${k}.`\n                        });\n                        \n                        i++;\n                    } else {\n                        arr[k] = rightArr[j];\n                        mergedIndices.push(k);\n                        \n                        // Add step for comparison and placement\n                        steps.push({\n                            array: [...arr],\n                            description: `Comparing ${leftArr[i]} (left) and ${rightArr[j]} (right)`,\n                            highlightedIndices: [k],\n                            mergedIndices: [...mergedIndices],\n                            explanation: `${leftArr[i]} > ${rightArr[j]}, so placing ${rightArr[j]} from right subarray at position ${k}.`\n                        });\n                        \n                        j++;\n                    }\n                    k++;\n                }\n                \n                // Add remaining elements from leftArr\n                while (i < leftArr.length) {\n                    arr[k] = leftArr[i];\n                    mergedIndices.push(k);\n                    \n                    steps.push({\n                        array: [...arr],\n                        description: `Adding remaining element from left subarray`,\n                        highlightedIndices: [k],\n                        mergedIndices: [...mergedIndices],\n                        explanation: `Left subarray still has elements, so placing ${leftArr[i]} at position ${k}.`\n                    });\n                    \n                    i++;\n                    k++;\n                }\n                \n                // Add remaining elements from rightArr\n                while (j < rightArr.length) {\n                    arr[k] = rightArr[j];\n                    mergedIndices.push(k);\n                    \n                    steps.push({\n                        array: [...arr],\n                        description: `Adding remaining element from right subarray`,\n                        highlightedIndices: [k],\n                        mergedIndices: [...mergedIndices],\n                        explanation: `Right subarray still has elements, so placing ${rightArr[j]} at position ${k}.`\n                    });\n                    \n                    j++;\n                    k++;\n                }\n                \n                // Add final step for this merge\n                steps.push({\n                    array: [...arr],\n                    description: `Completed merge from index ${left} to ${right}`,\n                    highlightedIndices: Array.from({length: right - left + 1}, (_, idx) => left + idx),\n                    mergedIndices: Array.from({length: right - left + 1}, (_, idx) => left + idx),\n                    explanation: `Subarray from index ${left} to ${right} is now sorted: [${arr.slice(left, right + 1).join(', ')}].`\n                });\n            }\n        });\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Merge Sort"
    }
  ],
  "topic": "Merge Sort",
  "hasFSM": false,
  "hasTest": true
}