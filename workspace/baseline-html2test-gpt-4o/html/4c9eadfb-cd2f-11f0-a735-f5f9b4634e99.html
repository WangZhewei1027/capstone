<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heap Sort Visualization</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
    }
    h1 {
      text-align: center;
    }
    .array {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .element {
      margin: 0 5px;
      padding: 10px;
      background-color: #f0f0f0;
      border-radius: 5px;
      width: 30px;
      text-align: center;
    }
    button {
      margin: 0 auto;
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Heap Sort Visualization</h1>
    <div id="array" class="array"></div>
    <button onclick="heapSort()">Sort Array</button>
  </div>

  <script>
    const array = [15, 3, 17, 10, 84, 19, 6, 22, 9];
    const arrayContainer = document.getElementById('array');

    function displayArray(arr) {
      arrayContainer.innerHTML = '';
      arr.forEach(value => {
        const element = document.createElement('div');
        element.className = 'element';
        element.textContent = value;
        arrayContainer.appendChild(element);
      });
    }

    function heapSort() {
      let n = array.length;

      for (let i = Math.floor(n / 2) - 1; i >= 0; i--) {
        heapify(array, n, i);
      }

      for (let i = n - 1; i > 0; i--) {
        [array[0], array[i]] = [array[i], array[0]];
        displayArray(array);
        heapify(array, i, 0);
      }
      displayArray(array);
    }

    function heapify(arr, n, i) {
      let largest = i;
      let left = 2 * i + 1;
      let right = 2 * i + 2;

      if (left < n && arr[left] > arr[largest]) {
        largest = left;
      }

      if (right < n && arr[right] > arr[largest]) {
        largest = right;
      }

      if (largest !== i) {
        [arr[i], arr[largest]] = [arr[largest], arr[i]];
        heapify(arr, n, largest);
      }
    }

    displayArray(array);
  </script>
</body>
</html>