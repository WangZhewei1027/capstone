<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huffman Coding Demonstration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        textarea {
            width: 80%;
            height: 100px;
            margin-top: 20px;
        }

        button {
            margin-top: 10px;
        }

        pre {
            background-color: #f8f8f8;
            padding: 10px;
            width: 80%;
            overflow-x: auto;
        }
    </style>
</head>

<body>
    <h1>Huffman Coding Demonstration</h1>
    <textarea id="textInput" placeholder="Enter text to encode"></textarea>
    <button onclick="performHuffmanCoding()">Encode</button>

    <h2>Results:</h2>
    <div>
        <strong>Huffman Codes:</strong>
        <pre id="huffmanTree"></pre>
    </div>
    <div>
        <strong>Encoded Text:</strong>
        <pre id="encodedText"></pre>
    </div>

    <script>
        class Node {
            constructor(char, freq, left = null, right = null) {
                this.char = char;
                this.freq = freq;
                this.left = left;
                this.right = right;
            }
        }

        function buildHuffmanTree(text) {
            const frequency = {};
            for (const char of text) {
                if (!frequency[char]) {
                    frequency[char] = 0;
                }
                frequency[char]++;
            }
            const nodes = Object.keys(frequency).map(char => new Node(char, frequency[char]));

            while (nodes.length > 1) {
                nodes.sort((a, b) => a.freq - b.freq);
                const left = nodes.shift();
                const right = nodes.shift();
                const newNode = new Node(null, left.freq + right.freq, left, right);
                nodes.push(newNode);
            }

            return nodes[0];
        }

        function generateHuffmanCodes(node, code = '', codes = {}) {
            if (node) {
                if (node.char !== null) {
                    codes[node.char] = code;
                }
                generateHuffmanCodes(node.left, code + '0', codes);
                generateHuffmanCodes(node.right, code + '1', codes);
            }
            return codes;
        }

        function encodeText(text, codes) {
            return text.split('').map(char => codes[char]).join('');
        }

        function performHuffmanCoding() {
            const textInput = document.getElementById('textInput').value;
            if (!textInput) {
                alert("Please enter some text to encode.");
                return;
            }

            const huffmanTreeRoot = buildHuffmanTree(textInput);
            const huffmanCodes = generateHuffmanCodes(huffmanTreeRoot);
            const encodedText = encodeText(textInput, huffmanCodes);

            document.getElementById('huffmanTree').textContent = JSON.stringify(huffmanCodes, null, 2);
            document.getElementById('encodedText').textContent = encodedText;
        }
    </script>
</body>

</html>