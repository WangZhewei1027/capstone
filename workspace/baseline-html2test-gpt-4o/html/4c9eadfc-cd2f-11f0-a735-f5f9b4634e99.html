<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counting Sort Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }
        input {
            margin: 20px;
        }
        .array-bars {
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }
        .bar {
            width: 30px;
            background-color: #4CAF50;
            margin: 2px;
            text-align: center;
            color: white;
            font-size: 12px;
        }
    </style>
</head>
<body>

    <h1>Counting Sort Visualization</h1>
    <input type="text" id="arrayInput" placeholder="Enter numbers separated by commas" size="50">
    <button onclick="visualizeCountingSort()">Visualize Counting Sort</button>

    <div id="barContainer" class="array-bars"></div>

    <script>
        function visualizeCountingSort() {
            const input = document.getElementById('arrayInput').value;
            const arr = input.split(',').map(num => parseInt(num.trim()));

            const maxValue = Math.max(...arr);
            const countArray = new Array(maxValue + 1).fill(0);
            const outputArray = new Array(arr.length);

            // Count the occurrences
            for (let num of arr) {
                countArray[num]++;
            }

            // Cumulative count
            for (let i = 1; i < countArray.length; i++) {
                countArray[i] += countArray[i - 1];
            }

            // Sort the array
            for (let j = arr.length - 1; j >= 0; j--) {
                const currentElement = arr[j];
                const position = countArray[currentElement] - 1;
                outputArray[position] = currentElement;
                countArray[currentElement]--;
            }

            displaySortedArray(outputArray);
        }

        function displaySortedArray(array) {
            const container = document.getElementById('barContainer');
            container.innerHTML = ''; // Clear previous result
            for (let value of array) {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = `${value * 15}px`;
                bar.innerText = value;
                container.appendChild(bar);
            }
        }
    </script>

</body>
</html>