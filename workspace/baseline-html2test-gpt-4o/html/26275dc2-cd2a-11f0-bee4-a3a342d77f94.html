<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Tree Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
        }
        .tree-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        .node {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: #4caf50;
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .line {
            position: absolute;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <div class="tree-container" id="treeContainer"></div>

    <script>
        class TreeNode {
            constructor(value, x, y) {
                this.value = value;
                this.x = x;
                this.y = y;
                this.left = null;
                this.right = null;
            }
        }

        class BinaryTree {
            constructor() {
                this.root = null;
            }

            insert(value) {
                const newNode = new TreeNode(value, 0, 0);
                if (this.root === null) {
                    this.root = newNode;
                } else {
                    this.insertNode(this.root, newNode);
                }
            }

            insertNode(node, newNode) {
                if (newNode.value < node.value) {
                    if (node.left === null) {
                        node.left = newNode;
                    } else {
                        this.insertNode(node.left, newNode);
                    }
                } else {
                    if (node.right === null) {
                        node.right = newNode;
                    } else {
                        this.insertNode(node.right, newNode);
                    }
                }
            }

            createTreeStructure(node, x, y, gap) {
                if (node !== null) {
                    node.x = x;
                    node.y = y;
                    const updatedGap = gap / 2;
                    this.createTreeStructure(node.left, x - updatedGap, y + 70, updatedGap);
                    this.createTreeStructure(node.right, x + updatedGap, y + 70, updatedGap);
                }
            }

            display() {
                const container = document.getElementById('treeContainer');
                container.innerHTML = '';
                if (this.root !== null) {
                    this.createTreeStructure(this.root, container.clientWidth / 2, 20, container.clientWidth / 4);
                    this.drawNode(container, this.root);
                }
            }

            drawNode(container, node) {
                if (node !== null) {
                    const div = document.createElement('div');
                    div.className = 'node';
                    div.textContent = node.value;
                    div.style.left = `${node.x}px`;
                    div.style.top = `${node.y}px`;
                    container.appendChild(div);
                    
                    if (node.left !== null) {
                        this.drawLine(container, node.x + 20, node.y + 40, node.left.x + 20, node.left.y);
                    }
                    
                    if (node.right !== null) {
                        this.drawLine(container, node.x + 20, node.y + 40, node.right.x + 20, node.right.y);
                    }
                    
                    this.drawNode(container, node.left);
                    this.drawNode(container, node.right);
                }
            }

            drawLine(container, x1, y1, x2, y2) {
                const length = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
                const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
                const line = document.createElement('div');
                line.className = 'line';
                line.style.width = `${length}px`;
                line.style.top = `${y1}px`;
                line.style.left = `${x1}px`;
                line.style.transform = `rotate(${angle}deg)`;
                container.appendChild(line);
            }
        }

        const binaryTree = new BinaryTree();
        const nodes = [10, 5, 15, 3, 7, 13, 17];
        nodes.forEach(value => binaryTree.insert(value));
        binaryTree.display();
    </script>
</body>
</html>