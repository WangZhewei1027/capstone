<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Regression Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        canvas {
            border: 1px solid black;
        }

        #output {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <h1>Linear Regression Demo</h1>
    <canvas id="canvas" width="500" height="500"></canvas>
    <div id="output"></div>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        // Simulate some data points (x, y)
        const data = [
            { x: 1, y: 2 },
            { x: 2, y: 3 },
            { x: 3, y: 5 },
            { x: 4, y: 7 },
            { x: 5, y: 11 },
        ];

        // Calculate means
        const xMean = data.reduce((sum, point) => sum + point.x, 0) / data.length;
        const yMean = data.reduce((sum, point) => sum + point.y, 0) / data.length;

        // Calculate slope (m) of the line
        let numerator = 0;
        let denominator = 0;
        data.forEach(point => {
            numerator += (point.x - xMean) * (point.y - yMean);
            denominator += Math.pow(point.x - xMean, 2);
        });
        const slope = numerator / denominator;

        // Calculate y-intercept (b) of the line
        const intercept = yMean - (slope * xMean);

        // Function to calculate y value of regression line at a given x value
        const regressionLine = x => slope * x + intercept;

        // Draw data points
        ctx.fillStyle = 'blue';
        data.forEach(point => {
            ctx.beginPath();
            ctx.arc(point.x * 80, canvas.height - point.y * 40, 5, 0, 2 * Math.PI);
            ctx.fill();
        });

        // Draw regression line
        ctx.strokeStyle = 'red';
        ctx.beginPath();
        ctx.moveTo(0, canvas.height - regressionLine(0) * 40);
        ctx.lineTo(canvas.width, canvas.height - regressionLine(7) * 40);
        ctx.stroke();

        // Display equation of the line
        document.getElementById('output').innerText = `y = ${slope.toFixed(2)}x + ${intercept.toFixed(2)}`;
    </script>
</body>

</html>