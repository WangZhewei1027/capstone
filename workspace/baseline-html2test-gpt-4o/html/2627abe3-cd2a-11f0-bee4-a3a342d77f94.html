<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counting Sort Demonstration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #array {
            margin-top: 10px;
        }
        button {
            margin-top: 20px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>Counting Sort Demonstration</h1>
    <p>Enter numbers (comma separated):</p>
    <input type="text" id="inputArray" placeholder="e.g. 4, 2, 2, 8, 3, 3, 1">
    <button onclick="performCountingSort()">Sort using Counting Sort</button>
    <p id="array"></p>

    <script>
        function performCountingSort() {
            const inputElement = document.getElementById('inputArray');
            const outputElement = document.getElementById('array');

            if (!inputElement.value) {
                outputElement.innerText = "Please enter some numbers!";
                return;
            }

            // Convert input into array of numbers
            const inputArray = inputElement.value.split(',').map(Number).filter(item => !isNaN(item));
            if (inputArray.length === 0) {
                outputElement.innerText = "Invalid input! Please enter numbers only.";
                return;
            }

            // Function for counting sort
            const countingSort = (arr) => {
                const max = Math.max(...arr);
                const min = Math.min(...arr);
                const range = max - min + 1;
                const countArray = new Array(range).fill(0);
                const outputArray = new Array(arr.length);

                // Count each element's frequency
                for (let i = 0; i < arr.length; i++) {
                    countArray[arr[i] - min]++;
                }

                // Modify countArray such that each element at each index 
                // stores the sum of previous counts
                for (let i = 1; i < countArray.length; i++) {
                    countArray[i] += countArray[i - 1];
                }

                // Build the output array
                for (let i = arr.length - 1; i >= 0; i--) {
                    outputArray[countArray[arr[i] - min] - 1] = arr[i];
                    countArray[arr[i] - min]--;
                }

                return outputArray;
            };

            // Perform sort and display result
            const sortedArray = countingSort(inputArray);
            outputElement.innerText = `Sorted Array: ${sortedArray.join(', ')}`;
        }
    </script>
</body>
</html>