<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dijkstra's Algorithm Demonstration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f4f4f9;
        }
        #graphContainer {
            display: flex;
            flex-direction: column;
        }
        #graph {
            display: grid;
            gap: 10px;
            grid-template-columns: repeat(5, 40px);
            margin-bottom: 20px;
        }
        .node {
            width: 40px;
            height: 40px;
            background-color: #fff;
            border: 2px solid #ddd;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
        }
        .node.active {
            background-color: #a2d5f2;
        }
        #result {
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div id="graphContainer">
        <div id="graph"></div>
        <div id="result">Shortest path from 0 to 4:</div>
    </div>

    <script>
        const graph = [
            { id: 0, edges: [[1, 10], [3, 5]] },
            { id: 1, edges: [[2, 1], [3, 2]] },
            { id: 2, edges: [[4, 4]] },
            { id: 3, edges: [[1, 3], [2, 8], [4, 2]] },
            { id: 4, edges: [] }
        ];

        const numNodes = graph.length;
        const distances = Array(numNodes).fill(Infinity);
        const previousNodes = Array(numNodes).fill(null);
        const visited = Array(numNodes).fill(false);
        distances[0] = 0;

        function dijkstra() {
            for (let i = 0; i < numNodes; i++) {
                const u = getSmallestUnvisitedNode();
                if (u === undefined) break;

                visited[u] = true;
                for (let [v, weight] of graph[u].edges) {
                    const alt = distances[u] + weight;
                    if (alt < distances[v]) {
                        distances[v] = alt;
                        previousNodes[v] = u;
                    }
                }
            }
            displayResult();
        }

        function getSmallestUnvisitedNode() {
            let minDistance = Infinity;
            let minNode = undefined;
            for (let i = 0; i < numNodes; i++) {
                if (!visited[i] && distances[i] < minDistance) {
                    minDistance = distances[i];
                    minNode = i;
                }
            }
            return minNode;
        }

        function displayResult() {
            const path = [];
            for (let at = 4; at !== null; at = previousNodes[at]) {
                path.push(at);
            }
            path.reverse();

            document.getElementById('result').innerHTML =
                `Shortest path from 0 to 4: ${path.join(' â†’ ')} with distance ${distances[4]}`;

            path.forEach((node) => {
                document.getElementById(`node-${node}`).classList.add('active');
            });
        }
        
        function createGraph() {
            const container = document.getElementById('graph');
            for (let i = 0; i < numNodes; i++) {
                const nodeElement = document.createElement('div');
                nodeElement.id = `node-${i}`;
                nodeElement.className = 'node';
                nodeElement.innerText = i;
                container.appendChild(nodeElement);
            }
        }

        createGraph();
        dijkstra();
    </script>
</body>
</html>