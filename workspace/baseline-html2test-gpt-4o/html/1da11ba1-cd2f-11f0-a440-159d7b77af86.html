<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bellman-Ford Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
        }
        #graph-container {
            margin: 20px auto;
            width: 600px;
            height: 400px;
            border: 1px solid #ccc;
            position: relative;
        }
        .node {
            width: 30px;
            height: 30px;
            background-color: #3498db;
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: absolute;
        }
        .edge {
            position: absolute;
            color: #555;
        }
        button {
            margin-top: 20px;
            padding: 10px 20px;
        }
    </style>
</head>
<body>
    <h1>Bellman-Ford Algorithm Visualization</h1>
    <div id="graph-container">
        <div id="node0" class="node" data-x="50" data-y="100" style="left: 50px; top: 100px;">A</div>
        <div id="node1" class="node" data-x="200" data-y="50" style="left: 200px; top: 50px;">B</div>
        <div id="node2" class="node" data-x="350" data-y="150" style="left: 350px; top: 150px;">C</div>
        <div id="node3" class="node" data-x="250" data-y="300" style="left: 250px; top: 300px;">D</div>

        <canvas id="edges" width="600" height="400" style="position:absolute; top:0; left:0;"></canvas>
    </div>
    <button onclick="runBellmanFord()">Run Bellman-Ford</button>
    <script>
        const nodes = [
            {id: 0, name: 'A'},
            {id: 1, name: 'B'},
            {id: 2, name: 'C'},
            {id: 3, name: 'D'},
        ];

        const edges = [
            {start: 0, end: 1, weight: 1},
            {start: 0, end: 2, weight: 4},
            {start: 1, end: 2, weight: -2},
            {start: 1, end: 3, weight: 2},
            {start: 3, end: 2, weight: 3},
        ];

        const distances = Array(nodes.length).fill(Infinity);
        distances[0] = 0;

        const drawGraph = () => {
            const canvas = document.getElementById('edges');
            const context = canvas.getContext('2d');
            edges.forEach(edge => {
                const startNode = document.getElementById('node' + edge.start);
                const endNode = document.getElementById('node' + edge.end);
                const startX = startNode.dataset.x;
                const startY = startNode.dataset.y;
                const endX = endNode.dataset.x;
                const endY = endNode.dataset.y;
                
                context.beginPath();
                context.moveTo(startX, startY);
                context.lineTo(endX, endY);
                context.stroke();
                context.fillStyle = "black";
                context.fillText(`Weight: ${edge.weight}`, (parseInt(startX) + parseInt(endX)) / 2, (parseInt(startY) + parseInt(endY)) / 2);
            });
        };

        const runBellmanFord = () => {
            for(let i = 0; i < nodes.length - 1; i++) {
                edges.forEach(edge => {
                    if(distances[edge.start] + edge.weight < distances[edge.end]) {
                        distances[edge.end] = distances[edge.start] + edge.weight;
                    }
                });
            }
            const result = nodes.map((node, idx) => `Distance from A to ${node.name}: ${distances[idx]}`).join('<br>');
            alert(result);
        };

        drawGraph();

    </script>
</body>
</html>