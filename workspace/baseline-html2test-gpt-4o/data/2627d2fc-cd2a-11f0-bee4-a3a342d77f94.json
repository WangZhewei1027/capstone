{
  "id": "2627d2fc-cd2a-11f0-bee4-a3a342d77f94",
  "timestamp": "2025-11-29T13:49:46.071Z",
  "type": "html-to-test",
  "htmlModel": "gpt-4o",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "K-Nearest Neighbors (KNN)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Nearest Neighbors Demo</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin-top: 50px;\n        }\n        #canvasContainer {\n            position: relative;\n            margin: 20px;\n        }\n        canvas {\n            border: 1px solid black;\n        }\n        #info {\n            margin-top: 20px;\n        }\n    </style>\n</head>\n<body>\n    <h1>K-Nearest Neighbors (KNN) Demo</h1>\n    <div id=\"canvasContainer\">\n        <canvas id=\"knnCanvas\" width=\"400\" height=\"400\"></canvas>\n    </div>\n    <div id=\"info\">\n        <p>Click to add a new point. The KNN algorithm will classify the point based on its 3 nearest neighbors.</p>\n    </div>\n\n    <script>\n        const canvas = document.getElementById('knnCanvas');\n        const ctx = canvas.getContext('2d');\n        const k = 3;\n\n        const points = [\n            { x: 50, y: 60, label: 'A' },\n            { x: 200, y: 250, label: 'A' },\n            { x: 150, y: 50, label: 'B' },\n            { x: 300, y: 300, label: 'B' }\n        ];\n\n        function drawPoints() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            points.forEach(point => {\n                ctx.beginPath();\n                ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n                ctx.fillStyle = point.label === 'A' ? 'blue' : 'red';\n                ctx.fill();\n                ctx.closePath();\n            });\n        }\n\n        function distance(p1, p2) {\n            return Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);\n        }\n\n        function classifyPoint(newPoint) {\n            const distances = points.map((point, index) => ({\n                index: index,\n                distance: distance(point, newPoint)\n            }));\n            distances.sort((a, b) => a.distance - b.distance);\n\n            const nearestNeighbors = distances.slice(0, k);\n            const count = { 'A': 0, 'B': 0 };\n\n            nearestNeighbors.forEach(neighbor => {\n                count[points[neighbor.index].label]++;\n            });\n\n            return count['A'] > count['B'] ? 'A' : 'B';\n        }\n\n        canvas.addEventListener('click', event => {\n            const rect = canvas.getBoundingClientRect();\n            const x = event.clientX - rect.left;\n            const y = event.clientY - rect.top;\n\n            const newPoint = { x, y };\n            const label = classifyPoint(newPoint);\n\n            points.push({ x, y, label });\n\n            drawPoints();\n            ctx.beginPath();\n            ctx.arc(x, y, 5, 0, Math.PI * 2);\n            ctx.fillStyle = label === 'A' ? 'lightblue' : 'pink';\n            ctx.fill();\n            ctx.closePath();\n        });\n\n        drawPoints();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Nearest Neighbors (KNN)"
    }
  ],
  "topic": "K-Nearest Neighbors (KNN)",
  "hasFSM": false,
  "hasTest": true
}