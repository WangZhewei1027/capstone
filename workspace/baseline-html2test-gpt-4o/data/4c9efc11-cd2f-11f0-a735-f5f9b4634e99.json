{
  "id": "4c9efc11-cd2f-11f0-a735-f5f9b4634e99",
  "timestamp": "2025-11-29T14:26:36.478Z",
  "type": "html-to-test",
  "htmlModel": "gpt-4o",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "K-Nearest Neighbors (KNN)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Nearest Neighbors (KNN) Demonstration</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 30px;\n        }\n        canvas {\n            border: 1px solid #ccc;\n        }\n        .controls {\n            margin-bottom: 15px;\n        }\n    </style>\n</head>\n<body>\n    <h1>K-Nearest Neighbors (KNN) Demonstration</h1>\n    <div class=\"controls\">\n        <label for=\"kValue\">Number of Neighbors (K):</label>\n        <input type=\"number\" id=\"kValue\" value=\"3\" min=\"1\" max=\"10\">\n        <button onclick=\"classify()\">Classify New Point</button>\n    </div>\n    <canvas id=\"canvas\" width=\"500\" height=\"400\"></canvas>\n    <p id=\"output\"></p>\n    \n    <script>\n        const canvas = document.getElementById('canvas');\n        const ctx = canvas.getContext('2d');\n        const output = document.getElementById('output');\n        \n        // Randomly generate some data points for two classes\n        const data = [\n            {x: 100, y: 150, class: 'A'},\n            {x: 200, y: 250, class: 'A'},\n            {x: 300, y: 200, class: 'A'},\n            {x: 150, y: 100, class: 'B'},\n            {x: 250, y: 150, class: 'B'},\n            {x: 350, y: 300, class: 'B'}\n        ];\n\n        const colors = { 'A': 'blue', 'B': 'red' };\n\n        function drawData() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            for (const point of data) {\n                ctx.fillStyle = colors[point.class];\n                ctx.beginPath();\n                ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n                ctx.fill();\n            }\n        }\n\n        function distance(point1, point2) {\n            return Math.sqrt((point1.x - point2.x) ** 2 + (point1.y - point2.y) ** 2);\n        }\n\n        function classify() {\n            const k = parseInt(document.getElementById('kValue').value, 10);\n            const newPoint = {x: 250, y: 250}; // This is the new point we classify\n            let distances = [];\n\n            for (const point of data) {\n                distances.push({\n                    ...point,\n                    dist: distance(newPoint, point)\n                });\n            }\n\n            distances.sort((a, b) => a.dist - b.dist);\n            const nearestNeighbors = distances.slice(0, k);\n\n            const classCount = {};\n            for (const neighbor of nearestNeighbors) {\n                classCount[neighbor.class] = (classCount[neighbor.class] || 0) + 1;\n            }\n\n            let maxClass;\n            let maxCount = 0;\n            for (const cls in classCount) {\n                if (classCount[cls] > maxCount) {\n                    maxCount = classCount[cls];\n                    maxClass = cls;\n                }\n            }\n\n            output.innerHTML = `New point classified as: <strong>${maxClass}</strong>`;\n            \n            // Draw the new point and highlight nearest neighbors\n            drawData();\n            \n            ctx.fillStyle = 'green';\n            ctx.beginPath();\n            ctx.arc(newPoint.x, newPoint.y, 5, 0, Math.PI * 2);\n            ctx.fill();\n            \n            ctx.strokeStyle = 'green';\n            for (const neighbor of nearestNeighbors) {\n                ctx.beginPath();\n                ctx.moveTo(newPoint.x, newPoint.y);\n                ctx.lineTo(neighbor.x, neighbor.y);\n                ctx.stroke();\n            }\n        }\n\n        // Initial draw\n        drawData();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Nearest Neighbors (KNN)"
    }
  ],
  "topic": "K-Nearest Neighbors (KNN)",
  "hasFSM": false,
  "hasTest": true
}