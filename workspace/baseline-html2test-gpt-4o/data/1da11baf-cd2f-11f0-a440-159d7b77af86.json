{
  "id": "1da11baf-cd2f-11f0-a440-159d7b77af86",
  "timestamp": "2025-11-29T14:25:23.339Z",
  "type": "html-to-test",
  "htmlModel": "gpt-4o",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "K-Nearest Neighbors (KNN)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Nearest Neighbors (KNN) Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin: 0;\n            padding: 20px;\n            background-color: #f7f7f7;\n        }\n        canvas {\n            border: 1px solid #aaa;\n            background-color: #fff;\n        }\n        .controls {\n            margin-top: 20px;\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        }\n        .controls input {\n            width: 50px;\n        }\n    </style>\n</head>\n<body>\n    <h1>K-Nearest Neighbors (KNN) Demonstration</h1>\n    <canvas id=\"knnCanvas\" width=\"600\" height=\"400\"></canvas>\n    <div class=\"controls\">\n        <label for=\"kValue\">K Value: </label>\n        <input type=\"number\" id=\"kValue\" value=\"3\" min=\"1\"/>\n        <button id=\"addPoint\">Add Point</button>\n    </div>\n    <script>\n        const canvas = document.getElementById('knnCanvas');\n        const ctx = canvas.getContext('2d');\n        const kInput = document.getElementById('kValue');\n        const addPointBtn = document.getElementById('addPoint');\n\n        let data = [\n            { x: 50, y: 100, class: 'A' },\n            { x: 120, y: 200, class: 'A' },\n            { x: 200, y: 150, class: 'B' },\n            { x: 300, y: 90, class: 'B' },\n            { x: 400, y: 300, class: 'A' },\n            { x: 500, y: 240, class: 'B' }\n        ];\n\n        function draw() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            data.forEach(point => {\n                ctx.fillStyle = point.class === 'A' ? '#FF5733' : '#33FF57';\n                ctx.beginPath();\n                ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n                ctx.fill();\n            });\n        }\n\n        function addNewPoint(event) {\n            const rect = canvas.getBoundingClientRect();\n            const x = event.clientX - rect.left;\n            const y = event.clientY - rect.top;\n\n            const distances = data.map(point => ({\n                ...point,\n                distance: Math.sqrt(Math.pow(point.x - x, 2) + Math.pow(point.y - y, 2))\n            }));\n\n            distances.sort((a, b) => a.distance - b.distance);\n            const k = parseInt(kInput.value, 10);\n            const nearestNeighbors = distances.slice(0, k);\n\n            const classCount = nearestNeighbors.reduce((count, neighbor) => {\n                count[neighbor.class] = (count[neighbor.class] || 0) + 1;\n                return count;\n            }, {});\n\n            const newClass = Object.keys(classCount).reduce((prev, curr) => classCount[prev] > classCount[curr] ? prev : curr);\n            data.push({ x, y, class: newClass });\n            draw();\n        }\n\n        canvas.addEventListener('click', addNewPoint);\n        addPointBtn.addEventListener('click', draw);\n\n        draw();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Nearest Neighbors (KNN)"
    }
  ],
  "topic": "K-Nearest Neighbors (KNN)",
  "hasFSM": false,
  "hasTest": true
}