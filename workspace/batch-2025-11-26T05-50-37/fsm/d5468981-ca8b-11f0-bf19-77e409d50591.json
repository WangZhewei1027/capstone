{
  "topic": "Deque",
  "description": "Finite state machine modeling the interactive Deque demo UI: button/key interactions, animations/delays, fill-random loop, rendering and logging for push/pop/peek/clear operations.",
  "states": [
    {
      "name": "idle",
      "onEnter": "render",
      "onExit": "noop",
      "on": {
        "PUSH_FRONT_CLICKED": "animating_push_front",
        "PUSH_BACK_CLICKED": "animating_push_back",
        "POP_FRONT_CLICKED": "animating_pop_front",
        "POP_BACK_CLICKED": "animating_pop_back",
        "PEEK_FRONT_CLICKED": "animating_peek_front",
        "PEEK_BACK_CLICKED": "animating_peek_back",
        "CLEAR_CLICKED": "animating_clear",
        "FILL_RANDOM_CLICKED": "filling_random",
        "INPUT_EMPTY": "idle",
        "SPEED_CHANGED": "idle"
      }
    },
    {
      "name": "animating_push_front",
      "onEnter": "animateOperation(dq.pushFront(parseInput(value)), log pushFront, render)",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle",
        "RESIZE_OCCURRED": "idle"
      }
    },
    {
      "name": "animating_push_back",
      "onEnter": "animateOperation(dq.pushBack(parseInput(value)), log pushBack, render)",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle",
        "RESIZE_OCCURRED": "idle"
      }
    },
    {
      "name": "animating_pop_front",
      "onEnter": "animateOperation(dq.popFront(), log popFront, render)",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "animating_pop_back",
      "onEnter": "animateOperation(dq.popBack(), log popBack, render)",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "animating_peek_front",
      "onEnter": "animateOperation(dq.peekFront(), log peekFront, render)",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "animating_peek_back",
      "onEnter": "animateOperation(dq.peekBack(), log peekBack, render)",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "animating_clear",
      "onEnter": "animateOperation(dq.clear(), log clear, render)",
      "onExit": "noop",
      "on": {
        "OP_COMPLETE": "idle"
      }
    },
    {
      "name": "filling_random",
      "onEnter": "fillRandomLoop(pushBack multiple times, render per push, log).",
      "onExit": "noop",
      "on": {
        "FILL_RANDOM_DONE": "idle",
        "RESIZE_OCCURRED": "filling_random"
      }
    }
  ],
  "events": [
    "PUSH_FRONT_CLICKED",
    "PUSH_BACK_CLICKED",
    "POP_FRONT_CLICKED",
    "POP_BACK_CLICKED",
    "PEEK_FRONT_CLICKED",
    "PEEK_BACK_CLICKED",
    "CLEAR_CLICKED",
    "FILL_RANDOM_CLICKED",
    "INPUT_EMPTY",
    "SPEED_CHANGED",
    "KEY_BRACKET_LEFT",
    "KEY_BRACKET_RIGHT",
    "KEY_ENTER",
    "OP_COMPLETE",
    "FILL_RANDOM_DONE",
    "RESIZE_OCCURRED"
  ],
  "triggers": {
    "PUSH_FRONT_CLICKED": "#pushFrontBtn",
    "PUSH_BACK_CLICKED": "#pushBackBtn",
    "POP_FRONT_CLICKED": "#popFrontBtn",
    "POP_BACK_CLICKED": "#popBackBtn",
    "PEEK_FRONT_CLICKED": "#peekFrontBtn",
    "PEEK_BACK_CLICKED": "#peekBackBtn",
    "CLEAR_CLICKED": "#clearBtn",
    "FILL_RANDOM_CLICKED": "#fillRandomBtn",
    "INPUT_EMPTY": "#pushFrontBtn, #pushBackBtn",
    "SPEED_CHANGED": "#speedRange",
    "KEY_BRACKET_LEFT": "#pushFrontBtn",
    "KEY_BRACKET_RIGHT": "#pushBackBtn",
    "KEY_ENTER": "#pushBackBtn",
    "OP_COMPLETE": "#dequeVisual",
    "FILL_RANDOM_DONE": "#fillRandomBtn, #dequeVisual",
    "RESIZE_OCCURRED": "#internalArr"
  },
  "notes": "Triggers map UI events to DOM selectors found in the HTML. 'INPUT_EMPTY' represents attempted pushes with an empty #valueInput. 'OP_COMPLETE' is the logical completion of animateOperation (delay controlled by #speedRange) which results in rendering to #dequeVisual and #internalArr. 'RESIZE_OCCURRED' maps to updates to the internal buffer visualization (#internalArr). Keyboard shortcuts '[' and ']' map to push-front and push-back (they call the same button handlers)."
}