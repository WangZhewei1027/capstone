{
  "id": "d5468980-ca8b-11f0-bf19-77e409d50591",
  "timestamp": "2025-11-26T05:54:06.094Z",
  "model": "gpt-5-mini",
  "status": "success",
  "question": "Queue",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <title>Queue Visualizer</title>\n  <style>\n    :root{\n      --bg:#0f1724;\n      --card:#0b1220;\n      --accent:#3b82f6;\n      --muted:#94a3b8;\n      --success:#10b981;\n      --danger:#ef4444;\n      --box:#071027;\n      --glass: rgba(255,255,255,0.03);\n      font-family: Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n      color-scheme: dark;\n    }\n    html,body{height:100%; margin:0; background: linear-gradient(180deg,#071025 0%, #07142a 100%); color:#e6eef6;}\n    .container{max-width:1100px; margin:28px auto; padding:20px; }\n    header{display:flex; gap:16px; align-items:center; margin-bottom:18px;}\n    h1{font-size:20px;margin:0;}\n    p.lead{margin:0;color:var(--muted); font-size:13px;}\n    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); padding:16px; border-radius:10px;}\n    .controls{display:flex; gap:12px; flex-wrap:wrap; margin-top:12px; align-items:center;}\n    .controls > *{margin:4px 0;}\n    input[type=\"text\"], input[type=\"number\"], select{\n      padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background:var(--box); color:inherit; outline:none;\n      min-width:110px;\n    }\n    button{\n      background:var(--accent); color:white; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; box-shadow:0 4px 10px rgba(59,130,246,0.12);\n    }\n    button.ghost{background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted);}\n    button.danger{background:var(--danger); box-shadow:0 4px 10px rgba(239,68,68,0.12);}\n    button.small{padding:6px 8px; font-size:13px;}\n    .grid{display:grid; grid-template-columns: 1fr 420px; gap:14px; margin-top:16px;}\n    .vis.card{min-height:220px; display:flex; flex-direction:column; gap:12px; }\n    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center;}\n    .slots{display:flex; gap:8px; align-items:center; overflow:auto; padding:6px 2px;}\n    .slot{min-width:72px; height:56px; background:var(--box); border-radius:8px; display:flex; align-items:center; justify-content:center; font-weight:600; color:#dbeafe; position:relative; border:1px solid rgba(255,255,255,0.03);}\n    .slot.empty{color:var(--muted); font-weight:500; }\n    .index{position:absolute; bottom:4px; right:6px; font-size:11px; color:var(--muted);}\n    .pointer{font-size:12px; padding:4px 8px; border-radius:8px; background:rgba(255,255,255,0.03); color:var(--muted);}\n    .arrow{display:flex; gap:8px; align-items:center;}\n    .arrow .pointer{background:linear-gradient(90deg, rgba(59,130,246,0.12), rgba(16,185,129,0.06)); color: #dbeafe; border:1px solid rgba(255,255,255,0.02); }\n    .info{font-size:13px; color:var(--muted);}\n    .log{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.03)); border-radius:8px; padding:10px; height:220px; overflow:auto; font-family:monospace; font-size:13px; color:#cfe9ff;}\n    .log p{margin:0 0 8px 0;}\n    .highlight{box-shadow:0 6px 20px rgba(59,130,246,0.16); transform:translateY(-4px); border-color: rgba(59,130,246,0.28);}\n    .pulse{animation:pulse 700ms ease;}\n    @keyframes pulse{\n      0%{transform:scale(0.96); opacity:0.7}\n      40%{transform:scale(1.02); opacity:1}\n      100%{transform:scale(1); opacity:1}\n    }\n    .muted{color:var(--muted);}\n    footer{margin-top:18px; color:var(--muted); font-size:13px;}\n    .status{display:flex; gap:8px; align-items:center; font-size:13px;}\n    .badge{padding:6px 8px; border-radius:8px; background:var(--glass); color:var(--muted); font-weight:600; font-size:13px;}\n    .controls .small-input{width:90px}\n    .center{display:flex; align-items:center; gap:8px;}\n    @media (max-width:980px){ .grid{grid-template-columns:1fr; } .slots{padding:6px 0;} .slot{min-width:64px; height:52px;} }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <header>\n      <div>\n        <h1>Queue Visualizer</h1>\n        <p class=\"lead\">Interactive demonstration of queue operations (enqueue, dequeue, peek, clear). Try both dynamic and circular implementations.</p>\n      </div>\n    </header>\n\n    <div class=\"grid\">\n      <div class=\"vis card\">\n        <div class=\"row\">\n          <div style=\"display:flex; gap:8px; align-items:center; flex-wrap:wrap;\">\n            <label class=\"muted\">Implementation:</label>\n            <select id=\"implSelect\" title=\"Choose implementation\">\n              <option value=\"dynamic\">Dynamic Array Queue</option>\n              <option value=\"circular\">Fixed-size Circular Queue</option>\n            </select>\n\n            <div id=\"capacityBox\" style=\"display:none; align-items:center;\">\n              <label class=\"muted\">Capacity:</label>\n              <input type=\"number\" id=\"capacityInput\" class=\"small-input\" min=\"2\" max=\"20\" value=\"8\" />\n            </div>\n\n            <label class=\"muted\">Value:</label>\n            <input id=\"valueInput\" type=\"text\" placeholder=\"e.g. 42 or hello\" />\n            <button id=\"enqueueBtn\">Enqueue</button>\n            <button id=\"dequeueBtn\" class=\"ghost\">Dequeue</button>\n            <button id=\"peekBtn\" class=\"ghost small\">Peek</button>\n            <button id=\"clearBtn\" class=\"danger ghost small\">Clear</button>\n            <button id=\"randBtn\" class=\"ghost small\">Random</button>\n            <button id=\"autoBtn\" class=\"ghost small\">Auto</button>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div style=\"flex:1\">\n            <div style=\"display:flex; justify-content:space-between; align-items:center;\">\n              <div class=\"info\">\n                <strong id=\"typeLabel\">Dynamic Array Queue</strong>\n                <span class=\"muted\"> — visual representation</span>\n              </div>\n              <div class=\"status\">\n                <div class=\"badge\">size: <span id=\"sizeBadge\">0</span></div>\n                <div class=\"badge\">capacity: <span id=\"capBadge\">auto</span></div>\n              </div>\n            </div>\n\n            <div class=\"slots\" id=\"slotsContainer\" style=\"margin-top:12px;\"></div>\n            <div style=\"display:flex; gap:8px; margin-top:8px; align-items:center;\">\n              <div class=\"arrow\"><div class=\"pointer\">HEAD</div><div id=\"headIndex\" class=\"muted\" style=\"margin-left:6px;\">-</div></div>\n              <div class=\"arrow\"><div class=\"pointer\">TAIL</div><div id=\"tailIndex\" class=\"muted\" style=\"margin-left:6px;\">-</div></div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <div class=\"card\" style=\"height:100%; display:flex; flex-direction:column; gap:12px;\">\n          <div style=\"display:flex; justify-content:space-between; align-items:flex-start;\">\n            <div>\n              <h3 style=\"margin:0 0 6px 0; font-size:16px;\">Operation Log</h3>\n              <div class=\"muted\" style=\"font-size:13px;\">Recent queue operations and messages.</div>\n            </div>\n            <div style=\"display:flex; gap:8px; align-items:center;\">\n              <button id=\"clearLog\" class=\"ghost small\">Clear Log</button>\n            </div>\n          </div>\n\n          <div class=\"log\" id=\"logArea\"></div>\n\n          <div style=\"display:flex; gap:8px; align-items:center; justify-content:space-between;\">\n            <div class=\"muted\">Tip: Use \"Circular\" implementation to see wrap-around behavior when capacity is reached.</div>\n            <div style=\"display:flex; gap:8px;\">\n              <button id=\"demoFill\" class=\"small\">Fill</button>\n              <button id=\"demoEmpty\" class=\"small ghost\">Drain</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <footer>\n      <div class=\"muted\" style=\"margin-top:10px;\">This demo shows how a queue works: FIFO (first-in, first-out). You can enqueue items to add them to the tail and dequeue from the head.</div>\n    </footer>\n  </div>\n\n  <script>\n    // Queue implementations\n    class DynamicQueue {\n      constructor(){\n        this._arr = [];\n      }\n      enqueue(v){ this._arr.push(v); return true; }\n      dequeue(){ return this._arr.length? this._arr.shift() : undefined; }\n      peek(){ return this._arr.length? this._arr[0] : undefined; }\n      size(){ return this._arr.length; }\n      capacity(){ return 'auto'; }\n      clear(){ this._arr=[]; }\n      internal(){ return this._arr.slice(); } // for rendering in order\n      headIndex(){ return this._arr.length? 0 : -1; }\n      tailIndex(){ return this._arr.length? this._arr.length-1 : -1; }\n    }\n\n    class CircularQueue {\n      constructor(cap){\n        this._cap = Math.max(2, Math.floor(cap));\n        this._arr = new Array(this._cap).fill(null);\n        this._head = 0;\n        this._tail = 0; // points to next insertion index\n        this._count = 0;\n      }\n      enqueue(v){\n        if(this._count === this._cap) return false; // full\n        this._arr[this._tail] = v;\n        this._tail = (this._tail + 1) % this._cap;\n        this._count++;\n        return true;\n      }\n      dequeue(){\n        if(this._count === 0) return undefined;\n        const v = this._arr[this._head];\n        this._arr[this._head] = null;\n        this._head = (this._head + 1) % this._cap;\n        this._count--;\n        return v;\n      }\n      peek(){ return this._count? this._arr[this._head] : undefined; }\n      size(){ return this._count; }\n      capacity(){ return this._cap; }\n      clear(){ this._arr.fill(null); this._head=0; this._tail=0; this._count=0; }\n      internal(){ return this._arr.slice(); }\n      headIndex(){ return this._count? this._head : -1; }\n      tailIndex(){ return this._count? (this._tail - 1 + this._cap)%this._cap : -1; }\n    }\n\n    // DOM elements\n    const implSelect = document.getElementById('implSelect');\n    const capacityBox = document.getElementById('capacityBox');\n    const capacityInput = document.getElementById('capacityInput');\n    const valueInput = document.getElementById('valueInput');\n    const enqueueBtn = document.getElementById('enqueueBtn');\n    const dequeueBtn = document.getElementById('dequeueBtn');\n    const peekBtn = document.getElementById('peekBtn');\n    const clearBtn = document.getElementById('clearBtn');\n    const randBtn = document.getElementById('randBtn');\n    const autoBtn = document.getElementById('autoBtn');\n    const slotsContainer = document.getElementById('slotsContainer');\n    const sizeBadge = document.getElementById('sizeBadge');\n    const capBadge = document.getElementById('capBadge');\n    const headIndexLabel = document.getElementById('headIndex');\n    const tailIndexLabel = document.getElementById('tailIndex');\n    const logArea = document.getElementById('logArea');\n    const typeLabel = document.getElementById('typeLabel');\n    const clearLog = document.getElementById('clearLog');\n    const demoFill = document.getElementById('demoFill');\n    const demoEmpty = document.getElementById('demoEmpty');\n\n    let queue = new DynamicQueue();\n    let autoInterval = null;\n    let autoRunning = false;\n\n    function log(msg, kind='info'){\n      const p = document.createElement('p');\n      const t = new Date().toLocaleTimeString();\n      p.textContent = `[${t}] ${msg}`;\n      if(kind==='error') p.style.color='var(--danger)';\n      else if(kind==='ok') p.style.color='var(--success)';\n      logArea.prepend(p);\n    }\n\n    function render(){\n      const impl = implSelect.value;\n      typeLabel.textContent = impl === 'dynamic' ? 'Dynamic Array Queue' : 'Circular Queue';\n      const arr = queue.internal();\n      const size = queue.size();\n      const cap = queue.capacity();\n      sizeBadge.textContent = size;\n      capBadge.textContent = cap;\n      slotsContainer.innerHTML = '';\n\n      if(impl === 'dynamic'){\n        // Render dynamic slots in-order\n        if(arr.length === 0){\n          const emptyBox = document.createElement('div');\n          emptyBox.className = 'slot empty';\n          emptyBox.textContent = 'empty';\n          slotsContainer.appendChild(emptyBox);\n        } else {\n          arr.forEach((val,i)=>{\n            const s = document.createElement('div');\n            s.className = 'slot';\n            s.textContent = String(val);\n            const idx = document.createElement('div');\n            idx.className='index';\n            idx.textContent = i;\n            s.appendChild(idx);\n            slotsContainer.appendChild(s);\n          });\n        }\n        headIndexLabel.textContent = queue.headIndex() >= 0 ? queue.headIndex() : '-';\n        tailIndexLabel.textContent = queue.tailIndex() >= 0 ? queue.tailIndex() : '-';\n      } else {\n        // Circular: render fixed capacity boxes with indices\n        for(let i=0;i<cap;i++){\n          const s = document.createElement('div');\n          s.className = 'slot';\n          const val = arr[i];\n          if(val === null || val === undefined){\n            s.classList.add('empty');\n            s.textContent = '—';\n          } else {\n            s.textContent = String(val);\n          }\n          const idx = document.createElement('div');\n          idx.className='index';\n          idx.textContent = i;\n          s.appendChild(idx);\n          // highlight head/tail\n          if(queue.headIndex() === i){\n            const tag = document.createElement('div');\n            tag.className = 'pointer';\n            tag.style.position='absolute';\n            tag.style.top='6px';\n            tag.style.left='6px';\n            tag.style.fontSize='11px';\n            tag.textContent = 'HEAD';\n            s.appendChild(tag);\n            s.style.boxShadow='0 12px 30px rgba(16,185,129,0.06)';\n            s.style.border='1px solid rgba(16,185,129,0.12)';\n          }\n          if(queue.tailIndex() === i){\n            const tag = document.createElement('div');\n            tag.className = 'pointer';\n            tag.style.position='absolute';\n            tag.style.top='6px';\n            tag.style.right='6px';\n            tag.style.fontSize='11px';\n            tag.textContent = 'TAIL';\n            s.appendChild(tag);\n            s.style.boxShadow='0 12px 30px rgba(59,130,246,0.06)';\n            s.style.border='1px solid rgba(59,130,246,0.12)';\n          }\n          slotsContainer.appendChild(s);\n        }\n        headIndexLabel.textContent = queue.headIndex() >= 0 ? queue.headIndex() : '-';\n        tailIndexLabel.textContent = queue.tailIndex() >= 0 ? queue.tailIndex() : '-';\n      }\n    }\n\n    // Actions\n    function enqueueAction(value){\n      if(value === '' || value == null){\n        log('Cannot enqueue empty value', 'error');\n        flash('enqueueBtn');\n        return;\n      }\n      const ok = queue.enqueue(value);\n      if(ok){\n        log(`Enqueued: ${value}`, 'ok');\n        render();\n        animateLastEnqueue();\n      } else {\n        log('Enqueue failed: queue is full', 'error');\n        flash('enqueueBtn', true);\n      }\n    }\n\n    function dequeueAction(){\n      const v = queue.dequeue();\n      if(v === undefined){\n        log('Dequeue failed: queue is empty', 'error');\n        flash('dequeueBtn', true);\n      } else {\n        log(`Dequeued: ${v}`, 'ok');\n        render();\n        animateDequeue();\n      }\n    }\n\n    function peekAction(){\n      const v = queue.peek();\n      if(v === undefined){\n        log('Peek: queue is empty', 'error');\n        flash('peekBtn', true);\n      } else {\n        log(`Peek: ${v}`, 'info');\n        flashPeek();\n      }\n    }\n\n    function clearAction(){\n      queue.clear();\n      log('Queue cleared', 'info');\n      render();\n    }\n\n    function flash(id, danger=false){\n      const el = document.getElementById(id);\n      if(!el) return;\n      const orig = el.style.boxShadow;\n      el.classList.add('pulse');\n      setTimeout(()=> el.classList.remove('pulse'), 700);\n    }\n\n    function animateLastEnqueue(){\n      // highlight last slot\n      const slots = Array.from(slotsContainer.children);\n      if(slots.length === 0) return;\n      // choose which slot: dynamic -> last slot; circular -> tail index (tail was moved after enqueue, so tailIndex() points to last inserted)\n      let targetIdx = null;\n      if(implSelect.value === 'dynamic'){\n        targetIdx = slots.length - 1;\n      } else {\n        // find slot where element is not empty and has a pointer 'TAIL' (we marked tail)\n        targetIdx = slots.findIndex(s => {\n          return Array.from(s.querySelectorAll('.pointer')).some(p => p.textContent === 'TAIL');\n        });\n        if(targetIdx === -1) targetIdx = null;\n      }\n      if(targetIdx !== null && targetIdx >= 0){\n        const target = slots[targetIdx];\n        target.classList.add('highlight');\n        setTimeout(()=> target.classList.remove('highlight'), 700);\n      }\n    }\n\n    function animateDequeue(){\n      // highlight head slot briefly\n      const slots = Array.from(slotsContainer.children);\n      if(slots.length === 0) return;\n      let targetIdx = null;\n      if(implSelect.value === 'dynamic'){\n        targetIdx = 0;\n      } else {\n        targetIdx = slots.findIndex(s => {\n          return Array.from(s.querySelectorAll('.pointer')).some(p => p.textContent === 'HEAD');\n        });\n        if(targetIdx === -1) targetIdx = null;\n      }\n      if(targetIdx !== null && targetIdx >= 0){\n        const target = slots[targetIdx];\n        target.classList.add('pulse');\n        setTimeout(()=> target.classList.remove('pulse'), 700);\n      }\n    }\n\n    function flashPeek(){\n      // highlight head slot\n      const slots = Array.from(slotsContainer.children);\n      if(slots.length === 0) return;\n      let idx = null;\n      if(implSelect.value === 'dynamic') idx = 0;\n      else idx = slots.findIndex(s => Array.from(s.querySelectorAll('.pointer')).some(p => p.textContent === 'HEAD'));\n      if(idx !== null && idx >= 0){\n        const s = slots[idx];\n        s.style.border = '1px solid rgba(59,130,246,0.18)';\n        setTimeout(()=> s.style.border = '1px solid rgba(255,255,255,0.03)', 600);\n      }\n    }\n\n    // Events\n    enqueueBtn.addEventListener('click', ()=> {\n      enqueueAction(valueInput.value.trim());\n      valueInput.value = '';\n      valueInput.focus();\n    });\n    dequeueBtn.addEventListener('click', ()=> dequeueAction());\n    peekBtn.addEventListener('click', ()=> peekAction());\n    clearBtn.addEventListener('click', ()=> clearAction());\n    randBtn.addEventListener('click', ()=> {\n      const v = Math.random().toString(36).slice(2,7);\n      log(`Generated random: ${v}`, 'info');\n      enqueueAction(v);\n    });\n\n    implSelect.addEventListener('change', ()=> {\n      if(implSelect.value === 'circular'){\n        capacityBox.style.display = 'inline-flex';\n        const cap = parseInt(capacityInput.value,10) || 8;\n        queue = new CircularQueue(cap);\n        capBadge.textContent = cap;\n      } else {\n        capacityBox.style.display = 'none';\n        queue = new DynamicQueue();\n        capBadge.textContent = 'auto';\n      }\n      render();\n      log(`Switched implementation to ${implSelect.value}`, 'info');\n    });\n\n    capacityInput.addEventListener('change', ()=> {\n      if(implSelect.value === 'circular'){\n        const cap = Math.max(2, Math.min(20, parseInt(capacityInput.value)||8));\n        capacityInput.value = cap;\n        queue = new CircularQueue(cap);\n        render();\n        log(`Circular queue capacity set to ${cap}`, 'info');\n      }\n    });\n\n    clearLog.addEventListener('click', ()=> logArea.innerHTML='');\n\n    demoFill.addEventListener('click', ()=>{\n      if(implSelect.value === 'dynamic'){\n        // fill with sample values\n        for(let i=1;i<=6;i++) queue.enqueue('v'+i);\n        log('Demo: filled dynamic queue', 'info');\n      } else {\n        const cap = queue.capacity();\n        for(let i=0;i<cap;i++) queue.enqueue('v'+(i+1));\n        log('Demo: filled circular queue', 'info');\n      }\n      render();\n    });\n\n    demoEmpty.addEventListener('click', ()=>{\n      const n = queue.size();\n      for(let i=0;i<n;i++) { queue.dequeue(); }\n      log('Demo: drained queue', 'info');\n      render();\n    });\n\n    // Auto enqueue toggle\n    autoBtn.addEventListener('click', ()=>{\n      if(autoRunning){\n        clearInterval(autoInterval);\n        autoRunning=false;\n        autoBtn.textContent='Auto';\n        autoBtn.classList.remove('danger');\n        log('Auto enqueuing stopped', 'info');\n      } else {\n        autoRunning=true;\n        autoBtn.textContent='Stop';\n        autoBtn.classList.add('danger');\n        autoInterval = setInterval(()=>{\n          const v = Math.random().toString(36).slice(2,6);\n          const ok = queue.enqueue(v);\n          if(!ok){\n            log('Auto stopped: queue is full', 'error');\n            clearInterval(autoInterval);\n            autoRunning=false;\n            autoBtn.textContent='Auto';\n            autoBtn.classList.remove('danger');\n          } else {\n            log(`Auto enqueued: ${v}`, 'ok');\n            render();\n            animateLastEnqueue();\n          }\n        }, 700);\n        log('Auto enqueuing started', 'info');\n      }\n    });\n\n    // Initialization\n    render();\n    log('Visualizer ready. Try enqueuing items.', 'info');\n\n    // Keyboard support: Enter to enqueue\n    valueInput.addEventListener('keyup', (e)=>{\n      if(e.key === 'Enter') enqueueBtn.click();\n    });\n\n    // Basic accessibility: focus first input\n    valueInput.focus();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Queue"
    }
  ],
  "topic": "Queue",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}