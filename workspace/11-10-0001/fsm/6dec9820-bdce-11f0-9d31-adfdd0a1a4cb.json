{
  "topic": "Interactive Hash Map Explorer",
  "description": "Finite state machine modeling user interactions, animations and data operations (insert, search, delete, hash visualization, bucket highlighting, table reset/clear, sample fill) in the Hash Map visualizer.",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "CLICK_INSERT": "inserting",
        "CLICK_SEARCH": "searching",
        "CLICK_DELETE": "deleting",
        "CLICK_VISUALIZE_HASH": "visualizing_hash",
        "CLICK_RESET": "resetting_table",
        "CLICK_CLEAR": "clearing_table",
        "CLICK_FILL_SAMPLE": "filling_sample",
        "CLICK_BUCKET": "highlighting_bucket",
        "KEY_ENTER": "inserting",
        "KEY_SHIFT_ENTER": "searching",
        "BUCKETS_CHANGED": "resetting_table",
        "RESIZE": "idle"
      }
    },
    {
      "name": "inserting",
      "onEnter": "startInsertAnimation",
      "onExit": "finalizeInsert",
      "on": {
        "INSERT_ANIMATION_END": "idle",
        "DUPLICATE_DETECTED": "idle",
        "INVALID_INPUT": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "searching",
      "onEnter": "startSequentialSearch",
      "onExit": "clearHighlights",
      "on": {
        "SEARCH_STEP": "searching",
        "SEARCH_FOUND": "idle",
        "SEARCH_NOT_FOUND": "idle",
        "SEARCH_COMPLETE": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "deleting",
      "onEnter": "startDeleteAnimation",
      "onExit": "updateStats",
      "on": {
        "DELETE_DONE": "idle",
        "DELETE_NOT_FOUND": "idle",
        "INVALID_INPUT": "idle"
      }
    },
    {
      "name": "visualizing_hash",
      "onEnter": "startHashVisualization",
      "onExit": "showHashResult",
      "on": {
        "HASH_VIS_STEP": "visualizing_hash",
        "HASH_VIS_DONE": "idle",
        "INVALID_INPUT": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "highlighting_bucket",
      "onEnter": "highlightBucketUI",
      "onExit": "clearHighlight",
      "on": {
        "HIGHLIGHT_DONE": "idle",
        "CLICK_BUCKET": "highlighting_bucket",
        "CANCEL": "idle"
      }
    },
    {
      "name": "resetting_table",
      "onEnter": "makeBuckets",
      "onExit": "updateStats",
      "on": {
        "RESET_DONE": "idle",
        "INVALID_BUCKETS": "idle"
      }
    },
    {
      "name": "clearing_table",
      "onEnter": "clearTable",
      "onExit": "updateStats",
      "on": {
        "CLEAR_DONE": "idle"
      }
    },
    {
      "name": "filling_sample",
      "onEnter": "startSampleInsertion",
      "onExit": "updateStats",
      "on": {
        "SAMPLE_STEP": "filling_sample",
        "SAMPLE_COMPLETE": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "error",
      "onEnter": "showError",
      "onExit": "noop",
      "on": {
        "DISMISS_ERROR": "idle"
      }
    }
  ],
  "events": [
    "CLICK_INSERT",
    "CLICK_SEARCH",
    "CLICK_DELETE",
    "CLICK_VISUALIZE_HASH",
    "CLICK_RESET",
    "CLICK_CLEAR",
    "CLICK_FILL_SAMPLE",
    "CLICK_BUCKET",
    "KEY_ENTER",
    "KEY_SHIFT_ENTER",
    "BUCKETS_CHANGED",
    "RESIZE",
    "INSERT_ANIMATION_END",
    "DUPLICATE_DETECTED",
    "INVALID_INPUT",
    "CANCEL",
    "SEARCH_STEP",
    "SEARCH_FOUND",
    "SEARCH_NOT_FOUND",
    "SEARCH_COMPLETE",
    "DELETE_DONE",
    "DELETE_NOT_FOUND",
    "HASH_VIS_STEP",
    "HASH_VIS_DONE",
    "HIGHLIGHT_DONE",
    "RESET_DONE",
    "CLEAR_DONE",
    "SAMPLE_STEP",
    "SAMPLE_COMPLETE",
    "DISMISS_ERROR"
  ],
  "notes": "This FSM is high-level and models asynchronous/animated operations (insert move animation, per-step search highlighting, delete removal animation, stepwise hash visualization and sample bulk inserts). Timers and DOM transitionend callbacks drive transitions such as INSERT_ANIMATION_END, SEARCH_FOUND/NOT_FOUND, DELETE_DONE, HASH_VIS_DONE and SAMPLE_COMPLETE. Invalid input or constraints (empty key, buckets out of range, duplicate key) produce transient error/result messages and return to idle."
}