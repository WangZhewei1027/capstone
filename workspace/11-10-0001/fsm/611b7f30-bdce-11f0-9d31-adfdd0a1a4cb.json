{
  "topic": "Interactive Hash Table (Separate Chaining)",
  "description": "Models the interactive states and transitions of a visual hash table demo supporting insert, search, delete, reset, random fill, and table-size changes with animated highlights and transitions.",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "CLICK_INSERT": "inserting",
        "CLICK_SEARCH": "searching",
        "CLICK_DELETE": "deleting",
        "NODE_DELETE_CLICK": "deleting",
        "KEYBOARD_NODE_DELETE": "deleting",
        "CLICK_RESET": "resetting",
        "CLICK_RANDOM": "filling_random",
        "CHANGE_TABLE_SIZE": "resetting",
        "INPUT_ENTER": "noop"
      }
    },
    {
      "name": "inserting",
      "onEnter": "computeHash_highlightBucket_animateMove",
      "onExit": "render_updateMetrics_setStatus",
      "on": {
        "ANIMATION_MOVE_END": "idle",
        "INVALID_INPUT": "idle",
        "ANIMATION_ERROR": "idle"
      }
    },
    {
      "name": "searching",
      "onEnter": "computeHash_highlightBucket_stepThroughNodes",
      "onExit": "clearHighlights",
      "on": {
        "SEARCH_FOUND": "found",
        "SEARCH_NOT_FOUND": "not_found",
        "SEARCH_EMPTY_BUCKET": "not_found",
        "INVALID_INPUT": "idle"
      }
    },
    {
      "name": "found",
      "onEnter": "highlightNode_found_setStatus",
      "onExit": "clearFoundHighlight",
      "on": {
        "FOUND_COMPLETE": "idle",
        "FOUND_TIMEOUT": "idle"
      }
    },
    {
      "name": "not_found",
      "onEnter": "setStatusNotFound",
      "onExit": "noop",
      "on": {
        "NOT_FOUND_ACK": "idle"
      }
    },
    {
      "name": "deleting",
      "onEnter": "computeHash_highlightBucket_markRemoving",
      "onExit": "render_updateMetrics_setStatus",
      "on": {
        "DELETE_ANIMATION_END": "idle",
        "DELETE_NOT_FOUND": "idle",
        "INVALID_INPUT": "idle"
      }
    },
    {
      "name": "resetting",
      "onEnter": "validateSize_initTable_render_updateMetrics_setStatus",
      "onExit": "noop",
      "on": {
        "RESET_COMPLETE": "idle",
        "SIZE_INVALID": "idle"
      }
    },
    {
      "name": "filling_random",
      "onEnter": "resetTable_populateChains_render_updateMetrics_setStatus",
      "onExit": "noop",
      "on": {
        "FILL_COMPLETE": "idle"
      }
    }
  ],
  "events": [
    "CLICK_INSERT",
    "CLICK_SEARCH",
    "CLICK_DELETE",
    "NODE_DELETE_CLICK",
    "KEYBOARD_NODE_DELETE",
    "CLICK_RESET",
    "CLICK_RANDOM",
    "CHANGE_TABLE_SIZE",
    "INPUT_ENTER",
    "ANIMATION_MOVE_END",
    "ANIMATION_ERROR",
    "SEARCH_FOUND",
    "SEARCH_NOT_FOUND",
    "SEARCH_EMPTY_BUCKET",
    "FOUND_COMPLETE",
    "FOUND_TIMEOUT",
    "NOT_FOUND_ACK",
    "DELETE_ANIMATION_END",
    "DELETE_NOT_FOUND",
    "RESET_COMPLETE",
    "FILL_COMPLETE",
    "SIZE_INVALID",
    "INVALID_INPUT"
  ],
  "notes": "This FSM models user-triggered operations and the transient animated/timeout-driven steps used by the demo. onEnter actions describe sequences invoked when entering a state (e.g., compute hash, highlight bucket, animate move, step through nodes, mark node removing). Many transitions are driven by timeouts or animation callbacks (represented as ANIMATION_MOVE_END, DELETE_ANIMATION_END, SEARCH_FOUND/SEARCH_NOT_FOUND). INVALID_INPUT and SIZE_INVALID represent early-return checks (empty key or invalid table size). Rendering and metrics updates occur on exits of mutating states (inserting, deleting, resetting, filling_random)."
}