{
  "topic": "Hash Map Visual Explorer (Separate Chaining)",
  "description": "Models the interactive states of a hash-map visualization web app: typing/previewing keys, inserting (with floating-bubble animation), finding (stepping through a chain), deleting (stepping + removal animation), autofill batch inserts, capacity/hash-method changes, and UI/ARIA interactions.",
  "states": [
    {
      "name": "idle",
      "onEnter": "announceReady",
      "on": {
        "INPUT_KEY": "previewing",
        "CLICK_INSERT": "inserting",
        "CLICK_FIND": "finding",
        "CLICK_DELETE": "deleting",
        "CLICK_FILL": "autofilling",
        "CHANGE_CAPACITY": "capacity_change",
        "CHANGE_HASH_METHOD": "hashmethod_change",
        "CLICK_CLEAR": "clearing",
        "CLICK_EXPLAIN": "explaining",
        "NODE_FOCUS": "node_focused",
        "NODE_DELETE_CLICK": "deleting"
      }
    },
    {
      "name": "previewing",
      "onEnter": "computePreview",
      "onExit": "clearPreviewTimers",
      "on": {
        "INPUT_KEY": "previewing",
        "KEY_ENTER": "inserting",
        "CLICK_INSERT": "inserting",
        "BLUR": "idle",
        "CHANGE_HASH_METHOD": "hashmethod_change"
      }
    },
    {
      "name": "inserting",
      "onEnter": "insertKeyProcess",
      "onExit": "renderBuckets",
      "on": {
        "INSERT_SUCCESS": "idle",
        "INSERT_REPLACED": "idle",
        "INSERT_ERROR": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "finding",
      "onEnter": "findKeyProcess",
      "onExit": "clearHighlights",
      "on": {
        "FIND_STEP": "finding",
        "FIND_FOUND": "found",
        "FIND_NOT_FOUND": "not_found",
        "FIND_ERROR": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "found",
      "onEnter": "announceFoundAndHighlight",
      "onExit": "clearFoundHighlight",
      "on": {
        "FOUND_TIMEOUT": "idle",
        "CLICK_DELETE": "deleting",
        "CLICK_EXPLAIN": "explaining"
      }
    },
    {
      "name": "not_found",
      "onEnter": "announceNotFoundAndFlash",
      "onExit": "clearBucketFlash",
      "on": {
        "NOT_FOUND_TIMEOUT": "idle",
        "CLICK_EXPLAIN": "explaining"
      }
    },
    {
      "name": "deleting",
      "onEnter": "deleteKeyProcess",
      "onExit": "renderBuckets",
      "on": {
        "DELETE_SUCCESS": "idle",
        "DELETE_NOT_FOUND": "idle",
        "DELETE_ERROR": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "autofilling",
      "onEnter": "autofillSequenceStart",
      "onExit": "updateStats",
      "on": {
        "FILL_STEP": "autofilling",
        "FILL_COMPLETE": "idle",
        "FILL_ERROR": "idle",
        "CANCEL": "idle"
      }
    },
    {
      "name": "capacity_change",
      "onEnter": "initBuckets",
      "onExit": "renderBuckets",
      "on": {
        "CAPACITY_SET": "idle",
        "CAPACITY_ERROR": "idle"
      }
    },
    {
      "name": "hashmethod_change",
      "onEnter": "computePreview",
      "onExit": null,
      "on": {
        "HASHMETHOD_SET": "idle"
      }
    },
    {
      "name": "clearing",
      "onEnter": "initBuckets",
      "onExit": "renderBuckets",
      "on": {
        "CLEARED": "idle"
      }
    },
    {
      "name": "explaining",
      "onEnter": "alertExplain",
      "onExit": "clearAlert",
      "on": {
        "ALERT_ACK": "idle"
      }
    },
    {
      "name": "node_focused",
      "onEnter": "announceNodeDetails",
      "onExit": "clearNodeFocus",
      "on": {
        "NODE_FOCUS_OUT": "idle",
        "NODE_DELETE_CLICK": "deleting",
        "CLICK_DELETE": "deleting",
        "CLICK_EXPLAIN": "explaining"
      }
    }
  ],
  "events": [
    "INPUT_KEY",
    "KEY_ENTER",
    "BLUR",
    "CLICK_INSERT",
    "CLICK_FIND",
    "CLICK_DELETE",
    "CLICK_FILL",
    "CLICK_CLEAR",
    "CLICK_EXPLAIN",
    "CHANGE_CAPACITY",
    "CHANGE_HASH_METHOD",
    "NODE_FOCUS",
    "NODE_FOCUS_OUT",
    "NODE_DELETE_CLICK",
    "INSERT_SUCCESS",
    "INSERT_REPLACED",
    "INSERT_ERROR",
    "INSERT_ANIMATION_END",
    "FIND_STEP",
    "FIND_FOUND",
    "FIND_NOT_FOUND",
    "FIND_ERROR",
    "DELETE_SUCCESS",
    "DELETE_NOT_FOUND",
    "DELETE_ERROR",
    "DELETE_ANIMATION_END",
    "FILL_STEP",
    "FILL_COMPLETE",
    "FILL_ERROR",
    "CAPACITY_SET",
    "CAPACITY_ERROR",
    "HASHMETHOD_SET",
    "CLEARED",
    "ALERT_ACK",
    "CANCEL",
    "FOUND_TIMEOUT",
    "NOT_FOUND_TIMEOUT"
  ],
  "notes": "States map to interactive flows implemented in the page script. Key preview updates computeHash -> update raw/index pills. insertKeyProcess represents the async insertKey flow: computeHash, animateInsertBubble, then mutate buckets (replace or push), renderBuckets, updateStats and announce. findKeyProcess steps through chain nodes, highlighting each (FIND_STEP) and resolving to FIND_FOUND or FIND_NOT_FOUND; found state temporarily highlights then returns to idle. deleteKeyProcess steps to node then animates removal, updates data and stats. autofilling triggers repeated insertKeyProcess calls (overlapping animations are possible). capacity_change / clearing call initBuckets which resets buckets and announces. explaining shows an alert with last action text and waits for user ACK. node_focused maps to keyboard/mouse focus on an individual node and announces details. Events like INSERT_ANIMATION_END, DELETE_ANIMATION_END and step events are logical signals corresponding to animation/await completions in the code. Action names correspond to code functions/behaviors: computePreview (computeHash -> update raw/index pills), announceReady/announce* (announce()), animateInsertBubble, insertKeyProcess (insertKey sequence), findKeyProcess (findKey sequence), deleteKeyProcess (deleteKey sequence), renderBuckets, updateStats, initBuckets, alertExplain (explainBtn alert), flashBucket, announceFoundAndHighlight, announceNotFoundAndFlash, clearHighlights, clearFoundHighlight, clearBucketFlash, announceNodeDetails."
}