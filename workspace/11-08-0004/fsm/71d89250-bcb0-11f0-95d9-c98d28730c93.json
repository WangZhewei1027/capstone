{
  "topic": "Binary Search â€” Interactive Module",
  "description": "Finite state machine modelling the interactive visualization's UI and algorithmic states: array generation/reset, target setting, stepping (animated), auto-run, fast completion, and terminal found/not-found states. Includes user events (buttons, inputs, clicks), animation lifecycle, and control interactions.",
  "states": [
    {
      "name": "no_target",
      "onEnter": "resetState(newArray) / renderArray / highlightLine(1) / updatePredicted",
      "onExit": "none",
      "on": {
        "SET_TARGET": "ready",
        "CLICK_CELL_TARGET": "ready",
        "RANDOMIZE": "no_target",
        "RESET": "no_target",
        "SIZE_CHANGE": "no_target",
        "CUSTOM_ARRAY_SET": "no_target",
        "FAST_COMPLETE": "no_target",
        "AUTO_TOGGLE": "auto_running",
        "STEP": "no_target",
        "SPEED_CHANGE": "no_target",
        "WINDOW_RESIZE": "no_target"
      }
    },
    {
      "name": "ready",
      "onEnter": "setTarget(v) / highlightLine(1) / updatePointersVisual",
      "onExit": "none",
      "on": {
        "STEP": "stepping",
        "AUTO_TOGGLE": "auto_running",
        "FAST_COMPLETE": "fast_complete_processing",
        "RANDOMIZE": "no_target",
        "RESET": "no_target",
        "SIZE_CHANGE": "no_target",
        "CUSTOM_ARRAY_SET": "no_target",
        "SET_TARGET": "ready",
        "CLICK_CELL_TARGET": "ready",
        "SPEED_CHANGE": "ready",
        "WINDOW_RESIZE": "ready"
      }
    },
    {
      "name": "stepping",
      "onEnter": "stepIteration(animated=true)  (sets animating=true; increments iterations; highlight lines; compute mid; animate compare; increment comparisons; updatePointersVisual)",
      "onExit": "animating=false / updatePointersVisual",
      "on": {
        "STEP_CONTINUE": "ready",
        "STEP_FOUND": "found",
        "STEP_NOT_FOUND": "not_found",
        "RANDOMIZE": "no_target",
        "RESET": "no_target",
        "SIZE_CHANGE": "no_target",
        "CUSTOM_ARRAY_SET": "no_target",
        "AUTO_TOGGLE": "auto_running",
        "FAST_COMPLETE": "fast_complete_processing",
        "SPEED_CHANGE": "stepping",
        "WINDOW_RESIZE": "stepping"
      }
    },
    {
      "name": "auto_running",
      "onEnter": "startAuto() (set running=true; disable step; enable stop; schedule periodic stepIteration with interval from speedInput)",
      "onExit": "stopAuto() (clear interval; enable step; disable stop)",
      "on": {
        "AUTO_TOGGLE": "ready",
        "STOP": "ready",
        "STEP": "auto_running",
        "STEP_FOUND": "found",
        "STEP_NOT_FOUND": "not_found",
        "SET_TARGET": "auto_running",
        "CLICK_CELL_TARGET": "auto_running",
        "FAST_COMPLETE": "fast_complete_processing",
        "RANDOMIZE": "no_target",
        "RESET": "no_target",
        "SIZE_CHANGE": "no_target",
        "CUSTOM_ARRAY_SET": "no_target",
        "SPEED_CHANGE": "auto_running",
        "WINDOW_RESIZE": "auto_running"
      }
    },
    {
      "name": "fast_complete_processing",
      "onEnter": "fastComplete() (runs binary search without animation, increments comparisons/iterations, updates visuals and pointers; calls stopAuto())",
      "onExit": "none",
      "on": {
        "FAST_FOUND": "found",
        "FAST_NOT_FOUND": "not_found",
        "RANDOMIZE": "no_target",
        "RESET": "no_target",
        "SIZE_CHANGE": "no_target",
        "CUSTOM_ARRAY_SET": "no_target",
        "WINDOW_RESIZE": "fast_complete_processing"
      }
    },
    {
      "name": "found",
      "onEnter": "displayFound(mid) / highlightLine(4) / updatePointersVisual / stopAuto",
      "onExit": "none",
      "on": {
        "RANDOMIZE": "no_target",
        "RESET": "no_target",
        "SIZE_CHANGE": "no_target",
        "CUSTOM_ARRAY_SET": "no_target",
        "SET_TARGET": "ready",
        "CLICK_CELL_TARGET": "ready",
        "AUTO_TOGGLE": "auto_running",
        "WINDOW_RESIZE": "found"
      }
    },
    {
      "name": "not_found",
      "onEnter": "displayNotFound() / highlightLine(7) / updatePointersVisual / stopAuto",
      "onExit": "none",
      "on": {
        "RANDOMIZE": "no_target",
        "RESET": "no_target",
        "SIZE_CHANGE": "no_target",
        "CUSTOM_ARRAY_SET": "no_target",
        "SET_TARGET": "ready",
        "CLICK_CELL_TARGET": "ready",
        "AUTO_TOGGLE": "auto_running",
        "WINDOW_RESIZE": "not_found"
      }
    }
  ],
  "events": [
    "RANDOMIZE",
    "RESET",
    "SIZE_CHANGE",
    "CUSTOM_ARRAY_SET",
    "SET_TARGET",
    "CLICK_CELL_TARGET",
    "STEP",
    "STEP_CONTINUE",
    "STEP_FOUND",
    "STEP_NOT_FOUND",
    "AUTO_TOGGLE",
    "STOP",
    "FAST_COMPLETE",
    "FAST_FOUND",
    "FAST_NOT_FOUND",
    "SPEED_CHANGE",
    "WINDOW_RESIZE"
  ],
  "notes": "State actions map to functions in the codebase: resetState(newArr), renderArray(), updatePredicted(), updatePointersVisual(), highlightLine(n), startAuto(), stopAuto(), stepIteration(animated=true), fastComplete(), setTarget(v). Events STEP_FOUND / STEP_NOT_FOUND / STEP_CONTINUE are logical outcomes emitted by stepIteration (found, terminated without match, or continued). FAST_COMPLETE triggers fastComplete() which immediately yields FAST_FOUND or FAST_NOT_FOUND. Global controls (Randomize/Reset/Size/Custom array) always reset the search and transition to no_target. SET_TARGET and CLICK_CELL_TARGET set the target and reset counters; if auto-run is active they do not stop it (transition stays in auto_running). SPEED_CHANGE while auto_running restarts the interval (re-enter auto_running). WINDOW_RESIZE triggers updatePointersVisual without changing logical search state."
}