<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Min/Max Heap Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #heap-container {
            margin-top: 20px;
        }
        .node {
            display: inline-block;
            border: 1px solid black;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            margin: 5px;
        }
        .level {
            display: flex;
            justify-content: center;
        }
    </style>
</head>
<body>
    <h1>Min/Max Heap Visualization</h1>
    <input type="number" id="value-input" placeholder="Enter a number" />
    <button onclick="insertValue()">Insert</button>
    <button onclick="removeValue()">Remove Root</button>
    
    <div id="heap-container"></div>
    
    <script>
        class MinHeap {
            constructor() {
                this.heap = [];
            }
            
            insert(num) {
                this.heap.push(num);
                this.bubbleUp();
                this.display();
            }
            
            bubbleUp() {
                let index = this.heap.length - 1;
                while (index > 0) {
                    const element = this.heap[index];
                    const parentIndex = Math.floor((index - 1) / 2);
                    const parent = this.heap[parentIndex];

                    if (element >= parent) break;

                    this.heap[parentIndex] = element;
                    this.heap[index] = parent;
                    index = parentIndex;
                }
            }

            remove() {
                const min = this.heap[0];
                const end = this.heap.pop();
                if (this.heap.length > 0) {
                    this.heap[0] = end;
                    this.bubbleDown();
                }
                this.display();
                return min;
            }

            bubbleDown() {
                let index = 0;
                const length = this.heap.length;
                const element = this.heap[0];

                while (true) {
                    let leftChildIndex = 2 * index + 1;
                    let rightChildIndex = 2 * index + 2;
                    let leftChild, rightChild;
                    let swap = null;

                    if (leftChildIndex < length) {
                        leftChild = this.heap[leftChildIndex];
                        if (leftChild < element) {
                            swap = leftChildIndex;
                        }
                    }

                    if (rightChildIndex < length) {
                        rightChild = this.heap[rightChildIndex];
                        if ((swap === null && rightChild < element) || (swap !== null && rightChild < leftChild)) {
                            swap = rightChildIndex;
                        }
                    }

                    if (swap === null) break;

                    this.heap[index] = this.heap[swap];
                    this.heap[swap] = element;
                    index = swap;
                }
            }

            display() {
                const container = document.getElementById('heap-container');
                container.innerHTML = '';
                let levels = Math.ceil(Math.log2(this.heap.length + 1));
                let index = 0;
                for (let i = 0; i < levels; i++) {
                    const levelCount = Math.pow(2, i);
                    const nodes = this.heap.slice(index, index + levelCount);
                    const levelDiv = document.createElement('div');
                    levelDiv.className = 'level';
                    nodes.forEach(node => {
                        const nodeDiv = document.createElement('div');
                        nodeDiv.className = 'node';
                        nodeDiv.textContent = node;
                        levelDiv.appendChild(nodeDiv);
                    });
                    container.appendChild(levelDiv);
                    index += levelCount;
                }
            }
        }

        const minHeap = new MinHeap();

        function insertValue() {
            const valueInput = document.getElementById('value-input');
            const value = parseInt(valueInput.value, 10);
            if (!isNaN(value)) {
                minHeap.insert(value);
                valueInput.value = '';
            }
        }

        function removeValue() {
            minHeap.remove();
        }
    </script>
</body>
</html>