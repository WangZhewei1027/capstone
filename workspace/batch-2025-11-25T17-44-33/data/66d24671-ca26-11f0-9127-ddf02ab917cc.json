{
  "id": "66d24671-ca26-11f0-9127-ddf02ab917cc",
  "timestamp": "2025-11-25T17:45:14.831Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "Heap (Min/Max)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Min/Max Heap Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n        }\n        #heap-container {\n            margin-top: 20px;\n        }\n        .node {\n            display: inline-block;\n            border: 1px solid black;\n            border-radius: 50%;\n            width: 30px;\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            margin: 5px;\n        }\n        .level {\n            display: flex;\n            justify-content: center;\n        }\n    </style>\n</head>\n<body>\n    <h1>Min/Max Heap Visualization</h1>\n    <input type=\"number\" id=\"value-input\" placeholder=\"Enter a number\" />\n    <button onclick=\"insertValue()\">Insert</button>\n    <button onclick=\"removeValue()\">Remove Root</button>\n    \n    <div id=\"heap-container\"></div>\n    \n    <script>\n        class MinHeap {\n            constructor() {\n                this.heap = [];\n            }\n            \n            insert(num) {\n                this.heap.push(num);\n                this.bubbleUp();\n                this.display();\n            }\n            \n            bubbleUp() {\n                let index = this.heap.length - 1;\n                while (index > 0) {\n                    const element = this.heap[index];\n                    const parentIndex = Math.floor((index - 1) / 2);\n                    const parent = this.heap[parentIndex];\n\n                    if (element >= parent) break;\n\n                    this.heap[parentIndex] = element;\n                    this.heap[index] = parent;\n                    index = parentIndex;\n                }\n            }\n\n            remove() {\n                const min = this.heap[0];\n                const end = this.heap.pop();\n                if (this.heap.length > 0) {\n                    this.heap[0] = end;\n                    this.bubbleDown();\n                }\n                this.display();\n                return min;\n            }\n\n            bubbleDown() {\n                let index = 0;\n                const length = this.heap.length;\n                const element = this.heap[0];\n\n                while (true) {\n                    let leftChildIndex = 2 * index + 1;\n                    let rightChildIndex = 2 * index + 2;\n                    let leftChild, rightChild;\n                    let swap = null;\n\n                    if (leftChildIndex < length) {\n                        leftChild = this.heap[leftChildIndex];\n                        if (leftChild < element) {\n                            swap = leftChildIndex;\n                        }\n                    }\n\n                    if (rightChildIndex < length) {\n                        rightChild = this.heap[rightChildIndex];\n                        if ((swap === null && rightChild < element) || (swap !== null && rightChild < leftChild)) {\n                            swap = rightChildIndex;\n                        }\n                    }\n\n                    if (swap === null) break;\n\n                    this.heap[index] = this.heap[swap];\n                    this.heap[swap] = element;\n                    index = swap;\n                }\n            }\n\n            display() {\n                const container = document.getElementById('heap-container');\n                container.innerHTML = '';\n                let levels = Math.ceil(Math.log2(this.heap.length + 1));\n                let index = 0;\n                for (let i = 0; i < levels; i++) {\n                    const levelCount = Math.pow(2, i);\n                    const nodes = this.heap.slice(index, index + levelCount);\n                    const levelDiv = document.createElement('div');\n                    levelDiv.className = 'level';\n                    nodes.forEach(node => {\n                        const nodeDiv = document.createElement('div');\n                        nodeDiv.className = 'node';\n                        nodeDiv.textContent = node;\n                        levelDiv.appendChild(nodeDiv);\n                    });\n                    container.appendChild(levelDiv);\n                    index += levelCount;\n                }\n            }\n        }\n\n        const minHeap = new MinHeap();\n\n        function insertValue() {\n            const valueInput = document.getElementById('value-input');\n            const value = parseInt(valueInput.value, 10);\n            if (!isNaN(value)) {\n                minHeap.insert(value);\n                valueInput.value = '';\n            }\n        }\n\n        function removeValue() {\n            minHeap.remove();\n        }\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Heap (Min/Max)"
    }
  ],
  "topic": "Heap (Min/Max)",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}