<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adjacency List</title>
    <style>
        table {
            border-collapse: collapse;
        }
        
        th, td {
            border: 1px solid black;
            padding: 10px;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>Adjacency List</h1>
    <form id="input-form">
        <label for="vertices">Vertices:</label>
        <input type="number" id="vertices" name="vertices"><br><br>
        <label for="edges">Edges:</label>
        <input type="number" id="edges" name="edges"><br><br>
        <label for="adjacency-list">Adjacency List:</label>
        <textarea id="adjacency-list" name="adjacency-list"></textarea><br><br>
        <button id="add-button">Add</button>
        <button id="clear-button">Clear</button>
    </form>

    <div id="result"></div>

    <script>
        const form = document.getElementById('input-form');
        const verticesInput = document.getElementById('vertices');
        const edgesInput = document.getElementById('edges');
        const adjacencyListInput = document.getElementById('adjacency-list');
        const addButton = document.getElementById('add-button');
        const clearButton = document.getElementById('clear-button');
        const resultDiv = document.getElementById('result');

        let vertices = [];
        let edges = [];
        let adjacencyList = {};

        function addVertex() {
            const vertex = parseInt(verticesInput.value);
            if (vertex < 1 || vertex > 1000) {
                alert('Invalid vertex value. Please enter a value between 1 and 1000.');
                return;
            }
            vertices.push(vertex);
            updateAdjacencyList();
            updateResult();
            verticesInput.value = '';
        }

        function addEdge() {
            const fromVertex = parseInt(verticesInput.value);
            const toVertex = parseInt(edgesInput.value);
            if (fromVertex < 1 || fromVertex > 1000 || toVertex < 1 || toVertex > 1000) {
                alert('Invalid vertex value. Please enter a value between 1 and 1000.');
                return;
            }
            if (fromVertex > toVertex) {
                alert('Edge cannot be directed. Please enter the correct direction.');
                return;
            }
            edges.push({fromVertex, toVertex});
            updateAdjacencyList();
            updateResult();
            verticesInput.value = '';
            edgesInput.value = '';
        }

        function updateAdjacencyList() {
            adjacencyList = {};
            for (let i = 0; i < vertices.length; i++) {
                adjacencyList[i] = [];
            }
            for (const edge of edges) {
                adjacencyList[edge.fromVertex].push(edge.toVertex);
                adjacencyList[edge.toVertex].push(edge.fromVertex);
            }
        }

        function updateResult() {
            const result = '';
            for (let i = 0; i < vertices.length; i++) {
                result += `Vertex ${i + 1}: ${adjacencyList[i].length} edges<br>`;
            }
            result += 'Adjacency List:<br>';
            for (const vertex in adjacencyList) {
                result += `Vertex ${vertex}: ${adjacencyList[vertex].length} edges<br>`;
            }
            resultDiv.innerText = result;
        }

        addButton.addEventListener('click', addVertex);
        clearButton.addEventListener('click', clearAdjacencyList);

        function clearAdjacencyList() {
            adjacencyList = {};
            for (let i = 0; i < vertices.length; i++) {
                adjacencyList[i] = [];
            }
            updateResult();
            resultDiv.innerText = 'Adjacency List:<br>';
            for (const vertex in adjacencyList) {
                resultDiv.innerText += `Vertex ${vertex}: ${adjacencyList[vertex].length} edges<br>`;
            }
        }
    </script>
</body>
</html>