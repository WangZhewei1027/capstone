<!DOCTYPE html>
<html>
<head>
    <title>Bellman-Ford Algorithm</title>
    <style>
        body {
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>Bellman-Ford Algorithm</h1>
    <h2>Problem:</h2>
    <p>Given a weighted graph, find the shortest path from node 0 to node n-1.</p>

    <h2>Input:</h2>
    <pre>
        <code>
            let graph = {
                '0': {'1': 1, '2': 4, '3': 3},
                '1': {'0': 1, '2': 2, '3': 5},
                '2': {'0': 4, '1': 2, '3': 1},
                '3': {'0': 3, '1': 5, '2': 1}
            };
        </code>
    </pre>

    <h2>Output:</h2>
    <pre>
        <code>
            let distances = {};
            let predecessor = {};
            let queue = ['0'];

            while (queue.length > 0) {
                let u = queue.shift();
                for (let v in graph[u]) {
                    let alt = distances[u] + graph[u][v];
                    if (!(v in distances) || alt < distances[v]) {
                        distances[v] = alt;
                        predecessor[v] = u;
                        queue.push(v);
                    }
                }
            }

            let path = [];
            let u = 'n-1';
            while (u !== '0') {
                path.push(u);
                u = predecessor[u];
            }
            path.push('0');
            console.log('Shortest path:', path.reverse());
        </code>
    </pre>

    <script>
        let graph = {
            '0': {'1': 1, '2': 4, '3': 3},
            '1': {'0': 1, '2': 2, '3': 5},
            '2': {'0': 4, '1': 2, '3': 1},
            '3': {'0': 3, '1': 5, '2': 1}
        };

        function bellmanFord(graph, start) {
            let distances = {};
            let predecessor = {};
            let queue = [start];

            while (queue.length > 0) {
                let u = queue.shift();
                for (let v in graph[u]) {
                    let alt = distances[u] + graph[u][v];
                    if (!(v in distances) || alt < distances[v]) {
                        distances[v] = alt;
                        predecessor[v] = u;
                        queue.push(v);
                    }
                }
            }

            return distances, predecessor;
        }

        let distances, predecessor;
        let startNode = '0';
        let endNode = 'n-1';

        bellmanFord(graph, startNode);
        console.log('Shortest distances:', distances);
        console.log('Shortest predecessor:', predecessor);
    </script>
</body>
</html>