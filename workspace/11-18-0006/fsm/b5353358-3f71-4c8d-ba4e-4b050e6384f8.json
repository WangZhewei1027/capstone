{
  "topic": "Bubble Sort",
  "description": "This visualization teaches the Bubble Sort algorithm, demonstrating how elements are compared and swapped to sort an array.",
  "dataStructure": {
    "type": "array",
    "initialValue": "[5, 3, 8, 4, 2]",
    "constraints": "max size 10, values between 0 and 100"
  },
  "uiElements": {
    "required": [
      "arrayDisplay",
      "startButton",
      "pauseButton",
      "resetButton",
      "inputField"
    ],
    "optional": [
      "speedSlider"
    ],
    "testIds": {
      "arrayDisplay": "data-testid-array-display",
      "startButton": "data-testid-start-button",
      "pauseButton": "data-testid-pause-button",
      "resetButton": "data-testid-reset-button",
      "inputField": "data-testid-input-field"
    }
  },
  "states": [
    {
      "name": "idle",
      "description": "Initial state",
      "uiRequirements": {
        "visualization": "Show initial data",
        "controls": [
          "start button enabled",
          "input enabled",
          "pause button disabled",
          "reset button disabled"
        ],
        "status": "Ready to start"
      },
      "dataRequirements": {
        "conditions": "Data must be valid",
        "display": "Display array in horizontal layout"
      },
      "on": {
        "START": "running",
        "INPUT_CHANGE": "idle",
        "RESET": "idle"
      }
    },
    {
      "name": "running",
      "description": "Algorithm is running",
      "uiRequirements": {
        "visualization": "Animate comparisons and swaps",
        "controls": [
          "start button disabled",
          "pause button enabled",
          "reset button enabled"
        ],
        "status": "Sorting in progress"
      },
      "dataRequirements": {
        "conditions": "Data is being processed",
        "display": "Highlight current elements being compared"
      },
      "on": {
        "PAUSE": "paused",
        "COMPLETE": "complete",
        "ERROR": "error"
      }
    },
    {
      "name": "paused",
      "description": "Algorithm is paused",
      "uiRequirements": {
        "visualization": "Freeze current state",
        "controls": [
          "start button enabled",
          "pause button disabled",
          "reset button enabled"
        ],
        "status": "Paused"
      },
      "dataRequirements": {
        "conditions": "Data remains unchanged",
        "display": "Show current state of array"
      },
      "on": {
        "START": "running",
        "RESET": "idle"
      }
    },
    {
      "name": "complete",
      "description": "Sorting is complete",
      "uiRequirements": {
        "visualization": "Show sorted array",
        "controls": [
          "start button disabled",
          "pause button disabled",
          "reset button enabled"
        ],
        "status": "Sorting complete"
      },
      "dataRequirements": {
        "conditions": "Data is sorted",
        "display": "Highlight sorted array in green"
      },
      "on": {
        "RESET": "idle"
      }
    },
    {
      "name": "error",
      "description": "Error state",
      "uiRequirements": {
        "visualization": "Display error message",
        "controls": [
          "start button enabled",
          "pause button disabled",
          "reset button enabled"
        ],
        "status": "Error occurred"
      },
      "dataRequirements": {
        "conditions": "Invalid data",
        "display": "Show error message"
      },
      "on": {
        "RESET": "idle"
      }
    }
  ],
  "events": [
    {
      "name": "START",
      "trigger": "User clicks start button",
      "validation": "Data must not be empty and must be valid",
      "effect": "Begin algorithm animation"
    },
    {
      "name": "PAUSE",
      "trigger": "User clicks pause button",
      "validation": "None",
      "effect": "Pause the algorithm animation"
    },
    {
      "name": "RESET",
      "trigger": "User clicks reset button",
      "validation": "None",
      "effect": "Reset to initial state"
    },
    {
      "name": "INPUT_CHANGE",
      "trigger": "User changes input data",
      "validation": "Data must be valid",
      "effect": "Update array display"
    },
    {
      "name": "COMPLETE",
      "trigger": "Algorithm completes sorting",
      "validation": "Array must be sorted",
      "effect": "Transition to complete state"
    },
    {
      "name": "ERROR",
      "trigger": "An error occurs",
      "validation": "Invalid data detected",
      "effect": "Transition to error state"
    }
  ],
  "animations": {
    "comparison": "Highlight compared elements in yellow",
    "swap": "Animate swap with smooth transition",
    "complete": "Highlight final sorted array in green"
  },
  "errorHandling": {
    "emptyInput": "Show error message, stay in idle",
    "invalidInput": "Show validation error, stay in idle",
    "runtimeError": "Show error message, transition to error"
  },
  "acceptanceCriteria": [
    "User can input custom data",
    "Animation can be started, paused, and reset",
    "Each step is visually clear",
    "Final result is correct and sorted",
    "Error messages are displayed for invalid inputs"
  ]
}