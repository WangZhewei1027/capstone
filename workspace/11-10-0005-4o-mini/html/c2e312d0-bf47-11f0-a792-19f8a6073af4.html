<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bubble Sort Explained</title>
<style>
    body { 
        font-family: Arial, sans-serif; 
        margin: 24px; 
    }
    #array { 
        display: flex; 
        justify-content: center; 
        margin-bottom: 16px; 
    }
    .element { 
        background-color: lightblue; 
        padding: 8px 16px; 
        margin: 0 8px; 
    }
    button { 
        background-color: lightcoral; 
        color: white; 
        padding: 8px 16px; 
        border: none; 
        cursor: pointer; 
    }
</style>
</head>
<body>
<div id="array">
    <div class="element">8</div>
    <div class="element">3</div>
    <div class="element">5</div>
    <div class="element">2</div>
    <div class="element">9</div>
</div>
<button onclick="bubbleSort()">Sort</button>

<script>
function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

async function bubbleSort() {
    let arr = document.querySelectorAll('.element');
    let len = arr.length;
    for (let i = 0; i < len-1; i++) {
        for (let j = 0; j < len-i-1; j++) {
            arr[j].style.backgroundColor = 'orange';
            arr[j+1].style.backgroundColor = 'orange';
            await sleep(1000); // 1 second delay

            if (parseInt(arr[j].innerText) > parseInt(arr[j+1].innerText)) {
                let temp = arr[j].innerText;
                arr[j].innerText = arr[j+1].innerText;
                arr[j+1].innerText = temp;
            }
            arr[j].style.backgroundColor = 'lightblue';
            arr[j+1].style.backgroundColor = 'lightblue';
        }
        arr[len-i-1].style.backgroundColor = 'lightgreen'; // Element in its final position
    }
    arr[0].style.backgroundColor = 'lightgreen'; // Final sorted array
}
</script>
</body>
</html>