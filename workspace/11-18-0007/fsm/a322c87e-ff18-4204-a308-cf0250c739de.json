{
  "topic": "Bubble Sort Visualization",
  "description": "This visualization teaches how the Bubble Sort algorithm works by allowing users to see each step of the sorting process interactively.",
  "dataStructure": {
    "type": "array",
    "initialValue": "[5, 3, 8, 4, 2]",
    "constraints": "max size 20, values must be integers between 0 and 100"
  },
  "uiElements": {
    "required": [
      "arrayDisplay",
      "startButton",
      "pauseButton",
      "resetButton",
      "inputField"
    ],
    "optional": [
      "speedSlider"
    ],
    "testIds": {
      "arrayDisplay": "data-testid-array",
      "startButton": "data-testid-start",
      "pauseButton": "data-testid-pause",
      "resetButton": "data-testid-reset",
      "inputField": "data-testid-input",
      "speedSlider": "data-testid-speed"
    }
  },
  "states": [
    {
      "name": "idle",
      "description": "Initial state where the user can input data and start the visualization.",
      "uiRequirements": {
        "visualization": "Show initial array data",
        "controls": [
          "start button enabled",
          "input enabled",
          "pause button disabled",
          "reset button disabled"
        ],
        "status": "Ready to start"
      },
      "dataRequirements": {
        "conditions": "Data must be valid according to constraints",
        "display": "Array elements displayed as bars"
      },
      "on": {
        "START": "running",
        "INPUT_CHANGE": "idle"
      }
    },
    {
      "name": "running",
      "description": "State where the algorithm is actively sorting the array.",
      "uiRequirements": {
        "visualization": "Show current state of array with active comparisons",
        "controls": [
          "pause button enabled",
          "reset button enabled",
          "start button disabled",
          "input disabled"
        ],
        "status": "Sorting in progress"
      },
      "dataRequirements": {
        "conditions": "Data is being sorted",
        "display": "Highlight current elements being compared"
      },
      "on": {
        "PAUSE": "paused",
        "RESET": "idle",
        "COMPLETE": "completed"
      }
    },
    {
      "name": "paused",
      "description": "State where the sorting process is paused.",
      "uiRequirements": {
        "visualization": "Show current state of array",
        "controls": [
          "start button enabled",
          "reset button enabled",
          "pause button disabled",
          "input disabled"
        ],
        "status": "Paused"
      },
      "dataRequirements": {
        "conditions": "Data remains unchanged",
        "display": "Current elements remain highlighted"
      },
      "on": {
        "START": "running",
        "RESET": "idle"
      }
    },
    {
      "name": "completed",
      "description": "Final state where the sorting process is complete.",
      "uiRequirements": {
        "visualization": "Show sorted array",
        "controls": [
          "reset button enabled",
          "start button disabled",
          "pause button disabled",
          "input enabled"
        ],
        "status": "Sorting complete"
      },
      "dataRequirements": {
        "conditions": "Data is sorted",
        "display": "Highlight sorted array in green"
      },
      "on": {
        "RESET": "idle"
      }
    }
  ],
  "events": [
    {
      "name": "START",
      "trigger": "User clicks start button",
      "validation": "Data must not be empty and must meet constraints",
      "effect": "Begin algorithm animation"
    },
    {
      "name": "PAUSE",
      "trigger": "User clicks pause button",
      "validation": "None",
      "effect": "Pause algorithm animation"
    },
    {
      "name": "RESET",
      "trigger": "User clicks reset button",
      "validation": "None",
      "effect": "Reset visualization to initial state"
    },
    {
      "name": "INPUT_CHANGE",
      "trigger": "User inputs new data",
      "validation": "Data must meet constraints",
      "effect": "Update array display"
    },
    {
      "name": "COMPLETE",
      "trigger": "Algorithm finishes sorting",
      "validation": "None",
      "effect": "Transition to completed state"
    }
  ],
  "animations": {
    "comparison": "Highlight compared elements in yellow",
    "swap": "Animate swap with smooth transition",
    "complete": "Highlight final sorted array in green"
  },
  "errorHandling": {
    "emptyInput": "Show error message 'Input cannot be empty', stay in idle",
    "invalidInput": "Show error message 'Input must be integers between 0 and 100', stay in idle"
  },
  "acceptanceCriteria": [
    "User can input custom data within constraints",
    "Animation can be started, paused, and reset",
    "Each step of the algorithm is visually clear",
    "Final sorted array is correct and highlighted"
  ]
}