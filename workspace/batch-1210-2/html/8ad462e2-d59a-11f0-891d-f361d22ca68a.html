<!DOCTYPE html>
<html>
<head>
    <title>Bellman-Ford Algorithm</title>
    <style>
        #graph {
            border: 1px solid black;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>Bellman-Ford Algorithm</h1>
    <p>Given a weighted graph, the Bellman-Ford algorithm finds the shortest path from a source vertex to all other vertices.</p>
    <form id="graph-form">
        <input type="text" id="source" placeholder="Source Vertex">
        <input type="number" id="weight" placeholder="Weight">
        <button id="submit">Submit</button>
    </form>
    <div id="graph"></div>
    <script>
        let graph = {};
        let sourceVertex, weight, shortestDistances, predecessor;

        function createGraph() {
            graph = {};
            sourceVertex = document.getElementById('source').value;
            weight = document.getElementById('weight').value;

            // Read the graph from the input
            for (let i = 0; i < 10; i++) {
                for (let j = 0; j < 10; j++) {
                    if (i === j) {
                        graph[i] = {to: j, weight: 0};
                    } else {
                        graph[i] = {to: j, weight: weight[i][j]};
                    }
                }
            }
        }

        function bellmanFord() {
            // Initialize distances and predecessors
            shortestDistances = {};
            predecessor = {};

            // Initialize distance to the source vertex as 0
            shortestDistances[sourceVertex] = 0;

            // Relax edges repeatedly
            for (let i = 0; i < 100; i++) { // Relax edges 100 times
                for (let v in graph) {
                    for (let u in graph) {
                        if (graph[u].weight + graph[v].weight < shortestDistances[v]) {
                            shortestDistances[v] = graph[u].weight + graph[v].weight;
                            predecessor[v] = u;
                        }
                    }
                }
            }

            // Check for negative-weight cycles
            for (let v in graph) {
                for (let u in graph) {
                    if (graph[u].weight + graph[v].weight < shortestDistances[v]) {
                        console.log("Negative-weight cycle detected");
                        break;
                    }
                }
            }
        }

        function displayGraph() {
            // Clear the graph
            document.getElementById("graph").innerHTML = "";
            for (let v in graph) {
                document.createElement("div").innerHTML = `Vertex ${v} -> ${graph[v].to} (Weight: ${graph[v].weight})`;
            }
        }

        createGraph();
        document.getElementById("submit").addEventListener("click", function() {
            createGraph();
            bellmanFord();
            displayGraph();
        });
    </script>
</body>
</html>