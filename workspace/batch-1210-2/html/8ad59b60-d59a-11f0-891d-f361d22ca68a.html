<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Regression</title>
    <style>
        #graph {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Linear Regression</h1>
    <form id="form">
        <label for="x">X:</label>
        <input type="number" id="x" name="x"><br><br>
        <label for="y">Y:</label>
        <input type="number" id="y" name="y"><br><br>
        <label for="range">Range:</label>
        <input type="number" id="range" name="range"><br><br>
        <button id="calculate">Calculate</button>
        <div id="graph"></div>
    </form>
    <script>
        const form = document.getElementById('form');
        const xInput = document.getElementById('x');
        const yInput = document.getElementById('y');
        const rangeInput = document.getElementById('range');
        const graphDiv = document.getElementById('graph');

        form.addEventListener('submit', (e) => {
            e.preventDefault();

            const x = parseFloat(xInput.value);
            const y = parseFloat(yInput.value);
            const range = parseInt(rangeInput.value);

            const data = [x, y, range];
            const dataPoints = data.map((item) => item * Math.pow(10, -2));

            const line = new Line(dataPoints);
            const points = line.points;

            const ctx = graphDiv.getContext('2d');
            ctx.beginPath();
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 2;
            ctx.moveTo(points[0].x, points[0].y);
            for (let i = 1; i < points.length; i++) {
                ctx.lineTo(points[i].x, points[i].y);
            }
            ctx.stroke();

            const stats = line.stats;
            console.log(`M: ${stats.m}, B: ${stats.b}, y-intercept: ${stats.y_intercept}`);
        });
    </script>
    <script>
        class Line {
            constructor(data) {
                this.points = data.map((item) => ({ x: item[0], y: item[1] }));
            }

            stats = {
                m: 0,
                b: 0,
                y_intercept: 0
            };

            calculate() {
                this.stats.m = this.points.reduce((acc, point) => acc + (point.y - point.x) / (this.points.length - 1), 0) / this.points.length;
                this.stats.b = this.stats.m * this.points[0].x + this.stats.m * this.points[1].x - this.stats.m * this.points[2].x + this.points[0].y - this.points[0].x * this.stats.m;
                this.stats.y_intercept = this.stats.m * this.points[0].x + this.stats.m * this.points[1].x - this.stats.m * this.points[2].x + this.points[0].y - this.points[0].x * this.stats.m - this.stats.b;
            }
        }
    </script>
</body>
</html>