<!DOCTYPE html>
<html>
<head>
    <title>K-Means Clustering</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #chart {
            width: 800px;
            height: 600px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>K-Means Clustering</h1>
    <input id="input" type="number" placeholder="Enter the number of clusters">
    <button id="generate-btn">Generate</button>
    <canvas id="chart" width="800" height="600"></canvas>

    <script>
        const input = document.getElementById('input');
        const generateBtn = document.getElementById('generate-btn');
        const chart = document.getElementById('chart');

        generateBtn.addEventListener('click', () => {
            const clusters = parseInt(input.value);
            const data = [];

            for (let i = 0; i < 100; i++) {
                data.push({
                    x: Math.random() * 100,
                    y: Math.random() * 100,
                    label: `Cluster ${i + 1}`
                });
            }

            const colors = [];
            const clustersData = [];
            let total = 0;

            for (let i = 0; i < data.length; i++) {
                const dist = Math.sqrt(Math.pow(data[i].x - data[0].x, 2) + Math.pow(data[i].y - data[0].y, 2));
                if (dist < 100) {
                    colors.push(`rgb(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)})`);
                    clustersData.push(data[i]);
                    total++;
                }
            }

            const clusterColors = new Array(clusters).fill(0).map((_, i) => colors[i]);

            const clusters = new KMeans({
                clusters: clustersData,
                colors: clusterColors
            });

            const clusterData = clusters.getClusterData();

            const chartData = {
                labels: clusterData.map((cluster) => cluster.label),
                datasets: [{
                    label: 'K-Means Clustering',
                    data: clusterData.map((cluster) => cluster.y),
                    backgroundColor: clusterColors,
                    borderColor: clusterColors,
                    pointRadius: 0
                }]
            };

            chart.data = chartData;
            chart.render();
        });
    </script>
</body>
</html>