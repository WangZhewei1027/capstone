<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huffman Coding</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            width: 80%;
            margin: 40px auto;
            text-align: center;
        }
        .huffman-code {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .huffman-text {
            font-size: 18px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Huffman Coding</h2>
        <p>Given text: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Text encoded: <span id="encoded-text"></span></p>
        <input id="text-input" type="text" placeholder="Enter your text">
        <button id="encode-button">Encode</button>
        <button id="decode-button">Decode</button>
        <div id="decoded-text"></div>
    </div>

    <script>
        const textInput = document.getElementById('text-input');
        const encodedTextSpan = document.getElementById('encoded-text');
        const decodedTextSpan = document.getElementById('decoded-text');
        const text = textInput.value;
        const textArray = text.split(' ');
        const frequencyMap = {};
        for (let i = 0; i < textArray.length; i++) {
            const char = textArray[i];
            if (char in frequencyMap) {
                frequencyMap[char] += 1;
            } else {
                frequencyMap[char] = 1;
            }
        }

        function calculateCode(frequency) {
            let code = '';
            let symbols = '0123456789abcdefghijklmnopqrstuvwxyz';
            let length = frequency.toString().length;
            for (let i = 0; i < length; i++) {
                code += symbols[Math.floor(frequency / Math.pow(10, i)) % 16];
            }
            return code;
        }

        function buildHuffmanTree() {
            const heap = Object.keys(frequencyMap).map((key) => ({ key, value: frequencyMap[key] }));
            heap.sort((a, b) => a.value - b.value);
            let node = heap[0];
            let left = heap[1];
            let right = heap[2];
            if (node.value === 1) {
                return { left, right };
            } else {
                node.left = { left, right };
                node.right = { left: right, right: null };
                return node;
            }
        }

        function buildHuffmanCode(node) {
            if (node === null) {
                return '';
            } else {
                let code = '';
                if (node.left === null) {
                    code += '0';
                } else {
                    code += '0' + buildHuffmanCode(node.left);
                }
                if (node.right === null) {
                    code += '1';
                } else {
                    code += '1' + buildHuffmanCode(node.right);
                }
                return code;
            }
        }

        function huffmanEncoding(text) {
            const huffmanTree = buildHuffmanTree();
            const huffmanCode = buildHuffmanCode(huffmanTree);
            const encodedText = text.split('').map((char) => huffmanCode.indexOf(char)).join('');
            return encodedText;
        }

        function huffmanDecoding(encodedText) {
            const huffmanCode = {
                '0': 'a',
                '1': 'b',
                '2': 'c',
                // Add more codes as needed
            };
            const decodedText = encodedText.split('').map((char) => huffmanCode[char]).join('');
            return decodedText;
        }

        function encode() {
            const encodedText = huffmanEncoding(text);
            encodedTextSpan.textContent = encodedText;
        }

        function decode() {
            const decodedText = huffmanDecoding(encodedText);
            decodedTextSpan.textContent = decodedText;
        }

        encodedTextSpan.addEventListener('input', encode);
        decodeButton.addEventListener('click', decode);
    </script>
</body>
</html>