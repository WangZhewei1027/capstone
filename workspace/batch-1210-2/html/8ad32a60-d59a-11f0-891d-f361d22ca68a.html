<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weighted Graph</title>
    <style>
        #graph {
            border: 2px solid black;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>Weighted Graph</h1>
    <input type="number" id="source" placeholder="Source node">
    <input type="number" id="target" placeholder="Target node">
    <input type="number" id="weight" placeholder="Weight">
    <button id="add-connection">Add Connection</button>
    <button id="clear-connections">Clear Connections</button>
    <div id="graph"></div>

    <script>
        let graph = {};
        let connections = [];

        document.getElementById("add-connection").addEventListener("click", () => {
            let source = document.getElementById("source").value;
            let target = document.getElementById("target").value;
            let weight = document.getElementById("weight").value;
            if (weight && source && target && weight !== "") {
                graph[source] = {};
                graph[source][target] = weight;
                connections.push({ source, target, weight });
                displayGraph();
            }
        });

        document.getElementById("clear-connections").addEventListener("click", () => {
            graph = {};
            connections = [];
            displayGraph();
        });

        function displayGraph() {
            let html = "";
            for (let node in graph) {
                html += `<div id="${node}" class="node">${node}</div>`;
            }
            document.getElementById("graph").innerHTML = html;
            for (let connection of connections) {
                let sourceNode = document.getElementById("source").value;
                let targetNode = document.getElementById("target").value;
                let weight = connection.weight;
                let source = document.getElementById(sourceNode);
                let target = document.getElementById(targetNode);
                let weightElement = document.getElementById("weight").value;
                source.textContent = sourceNode;
                target.textContent = targetNode;
                let weightElementElement = document.getElementById(weightElement);
                weightElementElement.textContent = weight;
                if (weight === "") {
                    target.style.background = "red";
                } else {
                    target.style.background = "lightblue";
                }
            }
        }
    </script>
</body>
</html>