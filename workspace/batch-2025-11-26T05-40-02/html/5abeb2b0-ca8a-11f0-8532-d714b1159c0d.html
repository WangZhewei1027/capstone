<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Depth-First Search</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #graph {
            width: 800px;
            height: 600px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <h1>Depth-First Search</h1>
    <input id="graph" type="text" placeholder="Enter graph (adjacency list) in adjacency list format (e.g., A -> B, B -> C, C -> A)">
    <button id="dfs-button">Perform DFS</button>
    <div id="graph-container"></div>

    <script>
        const graph = {};
        const dfsButton = document.getElementById('dfs-button');
        const graphContainer = document.getElementById('graph-container');

        function addNode(node) {
            graph[node] = [];
        }

        function addEdge(node1, node2) {
            graph[node1].push(node2);
            graph[node2].push(node1);
        }

        function dfs(node, visited, stack, result) {
            visited[node] = true;
            stack.push(node);
            result.push(node);

            for (const neighbor of graph[node]) {
                if (!visited[neighbor]) {
                    dfs(neighbor, visited, stack, result);
                } else if (stack.includes(neighbor)) {
                    // Cycle detected
                    console.log(`Cycle detected from node ${node}`);
                    return;
                }
            }

            stack.pop();
        }

        function drawGraph() {
            const graphElement = document.getElementById('graph');
            graphElement.innerHTML = '';

            for (const node in graph) {
                const element = document.createElement('div');
                element.classList.add('node');

                const label = document.createElement('span');
                label.textContent = node;
                element.appendChild(label);

                const edges = document.createElement('div');
                edges.classList.add('edges');
                graph[node].forEach(neighbor => {
                    const edge = document.createElement('span');
                    edge.textContent = ` -> ${neighbor}`;
                    edges.appendChild(edge);
                });
                element.appendChild(edges);

                graphElement.appendChild(element);
            }
        }

        const graphInput = document.getElementById('graph');
        const dfsButton = document.getElementById('dfs-button');
        const graphContainer = document.getElementById('graph-container');

        graphInput.addEventListener('input', () => {
            const graphString = graphInput.value;
            const nodes = graphString.split(' -> ');
            nodes.forEach(node => {
                const nodeText = node.trim();
                const node = nodeText.split(' ')[0];
                addNode(node);
                addEdge(node, nodeText.split(' ')[1]);
            });

            dfsButton.disabled = false;
            graphContainer.innerHTML = '';

            const stack = [];
            const visited = {};
            const result = [];

            graphContainer.appendChild(drawGraph());

            dfsButton.addEventListener('click', () => {
                const node = stack.pop();
                visited[node] = true;
                dfs(node, visited, stack, result);
                graphContainer.innerHTML = '';
                drawGraph();
            });
        });
    </script>
</body>
</html>