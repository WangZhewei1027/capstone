<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prim's Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #canvas {
            border: 1px solid black;
            margin-top: 20px;
        }
        button {
            margin-top: 10px;
        }
        .edge {
            stroke: #ccc;
            stroke-width: 2;
        }
        .selected {
            stroke: #ff0000;
            stroke-width: 3;
        }
    </style>
</head>
<body>

<h1>Prim's Algorithm Visualization</h1>
<p>This demonstration visualizes Prim's Algorithm for finding the Minimum Spanning Tree (MST) in an undirected graph.</p>
<button onclick="startPrimsAlgorithm()">Start Prim's Algorithm</button>
<svg id="canvas" width="600" height="400"></svg>

<script>
    const nodes = [
        { id: 0, x: 100, y: 100 },
        { id: 1, x: 200, y: 150 },
        { id: 2, x: 300, y: 100 },
        { id: 3, x: 400, y: 200 },
        { id: 4, x: 250, y: 300 }
    ];

    const edges = [
        { from: 0, to: 1, weight: 10 },
        { from: 0, to: 2, weight: 6 },
        { from: 0, to: 3, weight: 5 },
        { from: 1, to: 3, weight: 15 },
        { from: 1, to: 4, weight: 10 },
        { from: 2, to: 4, weight: 8 },
        { from: 3, to: 4, weight: 7 }
    ];

    const svg = document.getElementById("canvas");

    function drawGraph() {
        // Draw edges
        edges.forEach(edge => {
            const fromNode = nodes.find(node => node.id === edge.from);
            const toNode = nodes.find(node => node.id === edge.to);
            const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
            line.classList.add("edge");
            line.setAttribute("x1", fromNode.x);
            line.setAttribute("y1", fromNode.y);
            line.setAttribute("x2", toNode.x);
            line.setAttribute("y2", toNode.y);
            svg.appendChild(line);
        });

        // Draw nodes
        nodes.forEach(node => {
            const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            circle.setAttribute("cx", node.x);
            circle.setAttribute("cy", node.y);
            circle.setAttribute("r", 10);
            circle.setAttribute("fill", "blue");
            circle.setAttribute("stroke", "black");
            circle.setAttribute("stroke-width", "2");
            svg.appendChild(circle);
        });
    }

    async function startPrimsAlgorithm() {
        const visited = new Set();
        const startNode = nodes[0];
        visited.add(startNode.id);
        
        const mstEdges = [];
        
        while (visited.size < nodes.length) {
            let minEdge = null;

            edges.forEach(edge => {
                if (visited.has(edge.from) && !visited.has(edge.to)) {
                    if (!minEdge || edge.weight < minEdge.weight) {
                        minEdge = edge;
                    }
                } else if (visited.has(edge.to) && !visited.has(edge.from)) {
                    if (!minEdge || edge.weight < minEdge.weight) {
                        minEdge = edge;
                    }
                }
            });

            if (minEdge) {
                visited.add(minEdge.to);
                mstEdges.push(minEdge);
                highlightEdge(minEdge);
                await new Promise(resolve => setTimeout(resolve, 1000)); // Pause for effect
            }
        }

        console.log("Minimum Spanning Tree Edges:", mstEdges);
    }

    function highlightEdge(edge) {
        const fromNode = nodes.find(node => node.id === edge.from);
        const toNode = nodes.find(node => node.id === edge.to);
        const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
        line.classList.add("selected");
        line.setAttribute("x1", fromNode.x);
        line.setAttribute("y1", fromNode.y);
        line.setAttribute("x2", toNode.x);
        line.setAttribute("y2", toNode.y);
        svg.appendChild(line);
    }

    drawGraph();
</script>

</body>
</html>