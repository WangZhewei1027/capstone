<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Nearest Neighbors Demonstration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        #chartContainer {
            width: 80%;
            height: 400px;
            margin: 0 auto;
            position: relative;
        }
        .point {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            position: absolute;
        }
        .red {
            background-color: red;
        }
        .blue {
            background-color: blue;
        }
        .green {
            background-color: green;
        }
    </style>
</head>
<body>

<h1>K-Nearest Neighbors (KNN) Visualization</h1>
<p>Click on the graph to add a new point. The nearest neighbors will be highlighted.</p>
<div id="chartContainer"></div>
<button id="resetButton">Reset</button>

<script>
    const chartContainer = document.getElementById('chartContainer');
    let points = [];
    const k = 3; // Number of neighbors
    const colors = ['red', 'blue'];

    chartContainer.addEventListener('click', (event) => {
        const rect = chartContainer.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;
        const point = { x: x, y: y, class: colors[Math.floor(Math.random() * colors.length)] };
        points.push(point);
        drawPoints();
        highlightNeighbors(point);
    });

    function drawPoints() {
        chartContainer.innerHTML = '';
        points.forEach(point => {
            const div = document.createElement('div');
            div.className = 'point ' + point.class;
            div.style.left = point.x + 'px';
            div.style.top = point.y + 'px';
            chartContainer.appendChild(div);
        });
    }

    function highlightNeighbors(newPoint) {
        const distances = points.map(point => {
            return {
                point,
                distance: Math.sqrt(Math.pow(point.x - newPoint.x, 2) + Math.pow(point.y - newPoint.y, 2))
            };
        }).sort((a, b) => a.distance - b.distance);

        const nearestNeighbors = distances.slice(0, k);
        nearestNeighbors.forEach(neighbor => {
            const neighborPoint = neighbor.point;
            const div = document.createElement('div');
            div.className = 'point ' + neighborPoint.class + ' highlighted';
            div.style.left = neighborPoint.x + 'px';
            div.style.top = neighborPoint.y + 'px';
            div.style.border = '2px solid yellow'; // Highlight nearest neighbor
            chartContainer.appendChild(div);
        });
    }

    document.getElementById('resetButton').onclick = () => {
        points = [];
        chartContainer.innerHTML = '';
    };
</script>

</body>
</html>