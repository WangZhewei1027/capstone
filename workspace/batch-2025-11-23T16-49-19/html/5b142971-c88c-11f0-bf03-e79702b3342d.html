<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Stack Demonstration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 400px;
    margin: 30px auto;
    padding: 0 20px;
    background: #f9f9f9;
    color: #333;
  }
  h1 {
    text-align: center;
    margin-bottom: 1rem;
  }
  #stack-container {
    border: 2px solid #555;
    border-radius: 5px;
    background: #fff;
    min-height: 150px;
    padding: 10px;
    display: flex;
    flex-direction: column-reverse;
    align-items: center;
    margin-bottom: 1rem;
    box-shadow: 0 2px 6px #ccc;
  }
  .stack-element {
    background: #2196f3;
    color: white;
    padding: 10px 20px;
    margin: 5px 0;
    width: 80%;
    border-radius: 3px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    font-weight: bold;
    text-align: center;
  }
  #controls {
    text-align: center;
  }
  input[type="text"] {
    width: 60%;
    padding: 8px;
    font-size: 1rem;
    border-radius: 4px;
    border: 1px solid #ccc;
    margin-right: 10px;
  }
  button {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 9px 15px;
    font-size: 1rem;
    border-radius: 4px;
    cursor: pointer;
    margin: 3px;
    transition: background-color 0.3s ease;
  }
  button:disabled {
    background-color: #9e9e9e;
    cursor: not-allowed;
  }
  button:hover:not(:disabled) {
    background-color: #388e3c;
  }
  #message {
    margin-top: 1rem;
    min-height: 1.4em;
    font-weight: 600;
    color: #d32f2f;
  }
  #stack-label {
    font-weight: 600;
    margin-bottom: 5px;
  }
  #top-label {
    font-style: italic;
    color: #666;
    margin-bottom: 10px;
    font-size: 0.9rem;
  }
</style>
</head>
<body>
  <h1>Stack (LIFO) Demonstration</h1>
  <div id="stack-label">Stack Contents:</div>
  <div id="stack-container" aria-live="polite" aria-label="Stack container" role="list"></div>
  <div id="top-label">Top of Stack â†‘ (Last pushed element appears at top)</div>
  <div id="controls">
    <input type="text" id="push-input" placeholder="Enter element to push" aria-label="Element to push" />
    <button id="push-btn">Push</button>
    <button id="pop-btn">Pop</button>
    <button id="peek-btn">Peek (Top Element)</button>
    <button id="clear-btn">Clear Stack</button>
  </div>
  <div id="message" role="alert" aria-live="assertive"></div>

<script>
  // Stack class implementing LIFO behavior
  class Stack {
    constructor() {
      this.items = [];
    }
    push(element) {
      this.items.push(element);
    }
    pop() {
      if (this.isEmpty()) {
        return null;
      }
      return this.items.pop();
    }
    peek() {
      if (this.isEmpty()) {
        return null;
      }
      return this.items[this.items.length - 1];
    }
    isEmpty() {
      return this.items.length === 0;
    }
    clear() {
      this.items = [];
    }
    getItems() {
      return this.items.slice();
    }
  }

  // UI Handling
  const stack = new Stack();
  const stackContainer = document.getElementById('stack-container');
  const pushBtn = document.getElementById('push-btn');
  const popBtn = document.getElementById('pop-btn');
  const peekBtn = document.getElementById('peek-btn');
  const clearBtn = document.getElementById('clear-btn');
  const pushInput = document.getElementById('push-input');
  const message = document.getElementById('message');

  function renderStack() {
    stackContainer.innerHTML = '';

    const elements = stack.getItems();

    if (elements.length === 0) {
      const emptyNote = document.createElement('div');
      emptyNote.textContent = '(Stack is empty)';
      emptyNote.style.color = '#777';
      emptyNote.style.fontStyle = 'italic';
      stackContainer.appendChild(emptyNote);
      return;
    }

    // Because container is column-reverse, last element goes to bottom visually,
    // so push elements in normal order:
    elements.forEach((el, i) => {
      const elemDiv = document.createElement('div');
      elemDiv.className = 'stack-element';
      elemDiv.setAttribute('role', 'listitem');
      elemDiv.textContent = el;
      stackContainer.appendChild(elemDiv);
    });
  }

  function showMessage(msg, isError = false) {
    message.textContent = msg;
    message.style.color = isError ? '#d32f2f' : '#2e7d32';
  }

  pushBtn.addEventListener('click', () => {
    const value = pushInput.value.trim();
    if (value === '') {
      showMessage('Please enter a value to push.', true);
      return;
    }
    stack.push(value);
    pushInput.value = '';
    renderStack();
    showMessage(`Pushed "${value}" onto the stack.`);
    pushInput.focus();
  });

  popBtn.addEventListener('click', () => {
    const popped = stack.pop();
    if (popped === null) {
      showMessage('Stack is empty. Cannot pop.', true);
    } else {
      renderStack();
      showMessage(`Popped "${popped}" from the stack.`);
    }
    pushInput.focus();
  });

  peekBtn.addEventListener('click', () => {
    const top = stack.peek();
    if (top === null) {
      showMessage('Stack is empty. Nothing to peek.', true);
    } else {
      showMessage(`Top element is "${top}".`);
    }
    pushInput.focus();
  });

  clearBtn.addEventListener('click', () => {
    if (stack.isEmpty()) {
      showMessage('Stack is already empty.', true);
      return;
    }
    stack.clear();
    renderStack();
    showMessage('Stack cleared.');
    pushInput.focus();
  });

  // Pressing Enter on input triggers push:
  pushInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      pushBtn.click();
    }
  });

  renderStack();
  pushInput.focus();
</script>
</body>
</html>