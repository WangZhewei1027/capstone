<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Queue Demonstration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    max-width: 600px;
  }
  h1 {
    text-align: center;
  }
  #queue-display {
    border: 2px solid #333;
    min-height: 50px;
    padding: 10px;
    margin-bottom: 1rem;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  .queue-item {
    background-color: #4CAF50;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 0.3rem;
    font-weight: bold;
    min-width: 30px;
    text-align: center;
  }
  .controls {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
    align-items: center;
  }
  input[type="text"] {
    padding: 0.5rem;
    font-size: 1rem;
    flex-grow: 1;
    min-width: 120px;
  }
  button {
    padding: 0.5rem 1rem;
    font-size: 1rem;
    cursor: pointer;
  }
  #log {
    background-color: #f0f0f0;
    border: 1px solid #ddd;
    height: 120px;
    overflow-y: auto;
    padding: 10px;
    font-family: monospace;
    white-space: pre-line;
  }
  #log-title {
    margin-bottom: 0.5rem;
    font-weight: bold;
  }
</style>
</head>
<body>
<h1>Queue Demonstration</h1>

<div id="queue-display" aria-label="Queue contents" role="list"></div>

<div class="controls">
  <input type="text" id="enqueue-input" placeholder="Enter value to enqueue" aria-label="Value to add to queue"/>
  <button id="enqueue-btn">Enqueue</button>
  <button id="dequeue-btn">Dequeue</button>
  <button id="peek-btn">Peek</button>
  <button id="clear-btn">Clear Queue</button>
</div>

<div id="log-container">
  <div id="log-title">Operation Log:</div>
  <div id="log" aria-live="polite" aria-atomic="true"></div>
</div>

<script>
// Simple Queue class implementation
class Queue {
  constructor() {
    this._items = [];
  }

  enqueue(element) {
    this._items.push(element);
  }

  dequeue() {
    if(this.isEmpty()) return null;
    return this._items.shift();
  }

  peek() {
    if(this.isEmpty()) return null;
    return this._items[0];
  }

  clear() {
    this._items = [];
  }

  isEmpty() {
    return this._items.length === 0;
  }

  get items() {
    return this._items.slice();
  }

  size() {
    return this._items.length;
  }
}

const queue = new Queue();

const queueDisplay = document.getElementById('queue-display');
const enqueueInput = document.getElementById('enqueue-input');
const enqueueBtn = document.getElementById('enqueue-btn');
const dequeueBtn = document.getElementById('dequeue-btn');
const peekBtn = document.getElementById('peek-btn');
const clearBtn = document.getElementById('clear-btn');
const logContainer = document.getElementById('log');

function updateQueueDisplay() {
  queueDisplay.innerHTML = '';
  if(queue.isEmpty()) {
    const emptyMsg = document.createElement('span');
    emptyMsg.textContent = '(Queue is empty)';
    emptyMsg.style.color = '#777';
    queueDisplay.appendChild(emptyMsg);
    return;
  }
  queue.items.forEach((item, index) => {
    const div = document.createElement('div');
    div.className = 'queue-item';
    div.setAttribute('role','listitem');
    div.textContent = item;
    if(index === 0) {
      div.style.border = '2px solid #FFD700'; // gold border for front
      div.title = 'Front of the queue';
    }
    if(index === queue.size()-1) {
      div.style.borderRadius = '0.3rem 0.3rem 0.3rem 0.3rem';
      div.style.backgroundColor = '#2196F3';
      div.title = 'Rear of the queue';
    }
    queueDisplay.appendChild(div);
  });
}

function log(message) {
  const time = new Date().toLocaleTimeString();
  logContainer.textContent = `[${time}] ${message}\n` + logContainer.textContent;
}

enqueueBtn.addEventListener('click', () => {
  const val = enqueueInput.value.trim();
  if(val === '') {
    alert('Please enter a value to enqueue.');
    enqueueInput.focus();
    return;
  }
  queue.enqueue(val);
  log(`Enqueued "${val}". Queue size is now ${queue.size()}.`);
  enqueueInput.value = '';
  updateQueueDisplay();
  enqueueInput.focus();
});

dequeueBtn.addEventListener('click', () => {
  if(queue.isEmpty()) {
    alert('Queue is empty. Cannot dequeue.');
    return;
  }
  const removed = queue.dequeue();
  log(`Dequeued "${removed}". Queue size is now ${queue.size()}.`);
  updateQueueDisplay();
});

peekBtn.addEventListener('click', () => {
  if(queue.isEmpty()) {
    alert('Queue is empty. Nothing to peek.');
    return;
  }
  const front = queue.peek();
  alert(`Front of the queue: "${front}"`);
  log(`Peeked at front: "${front}".`);
});

clearBtn.addEventListener('click', () => {
  if(queue.isEmpty()) {
    alert('Queue is already empty.');
    return;
  }
  queue.clear();
  log('Queue cleared.');
  updateQueueDisplay();
});

enqueueInput.addEventListener('keyup', (e) => {
  if(e.key === 'Enter') {
    enqueueBtn.click();
  }
});

updateQueueDisplay();
log('Queue demo initialized.');
</script>
</body>
</html>