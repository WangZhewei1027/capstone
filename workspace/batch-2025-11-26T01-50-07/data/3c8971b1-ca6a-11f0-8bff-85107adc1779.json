{
  "id": "3c8971b1-ca6a-11f0-8bff-85107adc1779",
  "timestamp": "2025-11-26T01:51:24.537Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Binary Search",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Binary Search Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    background: #f5f5f5;\n  }\n  h1 {\n    text-align: center;\n  }\n  #array-container {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 1rem;\n    flex-wrap: wrap;\n    gap: 5px;\n  }\n  .array-item {\n    width: 40px;\n    height: 40px;\n    background: white;\n    border: 2px solid #333;\n    border-radius: 4px;\n    line-height: 40px;\n    text-align: center;\n    font-weight: bold;\n    user-select: none;\n    transition: background-color 0.3s, border-color 0.3s;\n    position: relative;\n  }\n  .array-item.low {\n    border-color: #007bff;\n  }\n  .array-item.high {\n    border-color: #28a745;\n  }\n  .array-item.mid {\n    border-color: #ffc107;\n  }\n  .array-item.checked {\n    background-color: #ffe082;\n  }\n  .array-item.found {\n    background-color: #28a745;\n    color: white;\n    font-weight: bolder;\n  }\n  .array-item.not-found {\n    background-color: #dc3545;\n    color: white;\n  }\n  #controls {\n    max-width: 600px;\n    margin: 0 auto 2rem auto;\n    text-align: center;\n  }\n  input[type=number] {\n    width: 80px;\n    font-size: 1rem;\n    padding: 0.3rem;\n    margin-right: 0.5rem;\n  }\n  button {\n    font-size: 1rem;\n    padding: 0.4rem 1rem;\n    cursor: pointer;\n  }\n  #log {\n    max-width: 600px;\n    margin: 0 auto;\n    background: white;\n    border: 1px solid #ccc;\n    padding: 1rem;\n    height: 150px;\n    overflow-y: auto;\n    font-family: monospace;\n    white-space: pre-line;\n  }\n  #speed-control {\n    margin-top: 1rem;\n    text-align: center;\n  }\n  label {\n    font-size: 0.9rem;\n    margin-right: 0.5rem;\n  }\n</style>\n</head>\n<body>\n\n<h1>Binary Search Demonstration</h1>\n\n<div id=\"array-container\" aria-label=\"Array to search\"></div>\n\n<div id=\"controls\">\n  <input type=\"number\" id=\"array-size\" aria-label=\"Array size\" min=\"5\" max=\"30\" value=\"15\" />\n  <button id=\"generate-array\">Generate Sorted Array</button>\n  <br /><br />\n  <input type=\"number\" id=\"target-value\" aria-label=\"Target value\" placeholder=\"Enter target\" />\n  <button id=\"start-search\">Start Search</button>\n\n  <div id=\"speed-control\">\n    <label for=\"speed-range\">Step Delay (ms):</label>\n    <input type=\"range\" id=\"speed-range\" min=\"100\" max=\"2000\" step=\"100\" value=\"700\" />\n    <span id=\"speed-display\">700 ms</span>\n  </div>\n</div>\n\n<div id=\"log\" aria-live=\"polite\">\n  Click \"Generate Sorted Array\" to create an array.<br />\n  Then enter a target value and click \"Start Search\" to see binary search in action.\n</div>\n\n<script>\n(() => {\n  const arrayContainer = document.getElementById('array-container');\n  const generateArrayBtn = document.getElementById('generate-array');\n  const startSearchBtn = document.getElementById('start-search');\n  const arraySizeInput = document.getElementById('array-size');\n  const targetValueInput = document.getElementById('target-value');\n  const logElement = document.getElementById('log');\n  const speedRange = document.getElementById('speed-range');\n  const speedDisplay = document.getElementById('speed-display');\n\n  let array = [];\n  let stepDelay = parseInt(speedRange.value);\n\n  // Utility to log messages to the log panel\n  function log(message) {\n    logElement.textContent += message + '\\n';\n    logElement.scrollTop = logElement.scrollHeight;\n  }\n\n  // Clears previous array display and log\n  function clearDisplay() {\n    arrayContainer.innerHTML = '';\n    logElement.textContent = '';\n  }\n\n  // Generate a sorted array of given size with unique integers\n  function generateSortedArray(size) {\n    let arr = [];\n    // To keep numbers unique and sorted, start random between 1 and 3, then add 1-5 increment\n    let current = Math.floor(Math.random() * 3) + 1;\n    for (let i = 0; i < size; i++) {\n      arr.push(current);\n      current += Math.floor(Math.random() * 5) + 1;\n    }\n    return arr;\n  }\n\n  // Render the array to the page\n  function renderArray(arr) {\n    arrayContainer.innerHTML = '';\n    arr.forEach((val) => {\n      const item = document.createElement('div');\n      item.classList.add('array-item');\n      item.textContent = val;\n      arrayContainer.appendChild(item);\n    });\n  }\n\n  // Update element classes for low, high, mid and checked/found indicators\n  function updateHighlights(low, high, mid, checkedIndexes = [], foundIndex = -1) {\n    const items = arrayContainer.children;\n    for (let i = 0; i < items.length; i++) {\n      items[i].className = 'array-item'; // Reset all classes\n      if (i === low) items[i].classList.add('low');\n      if (i === high) items[i].classList.add('high');\n      if (i === mid) items[i].classList.add('mid');\n      if (checkedIndexes.includes(i)) items[i].classList.add('checked');\n      if (i === foundIndex) items[i].classList.add('found');\n    }\n  }\n\n  // Sleep helper for async delays\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Perform binary search with visualization\n  async function binarySearchVisual(arr, target) {\n    log(`Starting binary search for target: ${target}`);\n    let low = 0;\n    let high = arr.length - 1;\n\n    while (low <= high) {\n      let mid = Math.floor((low + high) / 2);\n      updateHighlights(low, high, mid);\n      log(`Checking middle index ${mid} with value ${arr[mid]}...`);\n      await sleep(stepDelay);\n\n      if (arr[mid] === target) {\n        log(`Found target ${target} at index ${mid}.`);\n        updateHighlights(low, high, mid, [], mid);\n        return mid;\n      } else if (arr[mid] < target) {\n        log(`Target is greater than ${arr[mid]}, moving low to ${mid + 1}`);\n        low = mid + 1;\n      } else {\n        log(`Target is less than ${arr[mid]}, moving high to ${mid - 1}`);\n        high = mid - 1;\n      }\n      updateHighlights(low, high, mid, [mid]);\n      await sleep(stepDelay);\n    }\n    log(`Target ${target} not found in the array.`);\n    // Mark all items checked as not-found, highlight last low and high\n    const items = arrayContainer.children;\n    for(let i = 0; i < items.length; i++) {\n      items[i].classList.remove('checked');\n      if (i >= low && i <= high) {\n        items[i].classList.add('not-found');\n      }\n    }\n    return -1;\n  }\n\n  // Event listeners\n  generateArrayBtn.addEventListener('click', () => {\n    clearDisplay();\n    const size = parseInt(arraySizeInput.value);\n    if (isNaN(size) || size < 5 || size > 30) {\n      alert(\"Please enter an array size between 5 and 30.\");\n      return;\n    }\n    array = generateSortedArray(size);\n    renderArray(array);\n    log(\"Generated sorted array:\\n[\" + array.join(', ') + \"]\");\n  });\n\n  startSearchBtn.addEventListener('click', async () => {\n    if (array.length === 0) {\n      alert(\"Generate the array first.\");\n      return;\n    }\n    const target = parseInt(targetValueInput.value);\n    if (isNaN(target)) {\n      alert(\"Please enter a valid target number.\");\n      return;\n    }\n    // Disable buttons during search\n    generateArrayBtn.disabled = true;\n    startSearchBtn.disabled = true;\n    arraySizeInput.disabled = true;\n    targetValueInput.disabled = true;\n\n    await binarySearchVisual(array, target);\n\n    // Re-enable controls\n    generateArrayBtn.disabled = false;\n    startSearchBtn.disabled = false;\n    arraySizeInput.disabled = false;\n    targetValueInput.disabled = false;\n  });\n\n  speedRange.addEventListener('input', () => {\n    stepDelay = parseInt(speedRange.value);\n    speedDisplay.textContent = stepDelay + ' ms';\n  });\n\n  // Initial generate\n  (() => {\n    array = generateSortedArray(parseInt(arraySizeInput.value));\n    renderArray(array);\n    log(\"Generated sorted array:\\n[\" + array.join(', ') + \"]\");\n  })();\n})();\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Binary Search"
    }
  ],
  "topic": "Binary Search",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}