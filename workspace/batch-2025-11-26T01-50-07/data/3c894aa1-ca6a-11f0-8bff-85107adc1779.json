{
  "id": "3c894aa1-ca6a-11f0-8bff-85107adc1779",
  "timestamp": "2025-11-26T01:51:06.264Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Radix Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Radix Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f5f7fa;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n  }\n  #inputArea {\n    margin-bottom: 15px;\n    text-align: center;\n  }\n  input[type=\"text\"] {\n    width: 300px;\n    font-size: 16px;\n    padding: 7px;\n    border-radius: 5px;\n    border: 2px solid #ccc;\n  }\n  button {\n    font-size: 16px;\n    padding: 8px 15px;\n    margin-left: 10px;\n    border: none;\n    border-radius: 5px;\n    background-color: #4a90e2;\n    color: white;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n  }\n  button:hover:not(:disabled) {\n    background-color: #357ABD;\n  }\n  button:disabled {\n    background-color: #a0a0a0;\n    cursor: not-allowed;\n  }\n  #arrayContainer {\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    margin-bottom: 20px;\n  }\n  .array-item {\n    background-color: #80b3ff;\n    color: white;\n    padding: 15px 20px;\n    margin: 5px;\n    border-radius: 6px;\n    font-weight: bold;\n    font-size: 18px;\n    min-width: 50px;\n    text-align: center;\n    box-shadow: 0 3px 6px rgba(0,0,0,0.1);\n    transition: background-color 0.5s ease;\n  }\n  .highlight {\n    background-color: #ffae42 !important;\n    box-shadow: 0 0 10px 3px #ffae42;\n  }\n  .bucket {\n    border: 2px dashed #4a90e2;\n    border-radius: 8px;\n    margin: 10px;\n    min-width: 60px;\n    min-height: 70px;\n    padding: 5px;\n    background: white;\n    box-shadow: inset 0 0 5px rgba(0,0,0,0.1);\n  }\n  .bucket-label {\n    font-size: 14px;\n    text-align: center;\n    margin-bottom: 3px;\n    color: #357ABD;\n    font-weight: 600;\n  }\n  #bucketsContainer {\n    display: flex;\n    justify-content: center;\n    flex-wrap: nowrap;\n  }\n  #log {\n    max-width: 800px;\n    margin: 20px auto 0;\n    background: white;\n    border-radius: 6px;\n    padding: 15px;\n    box-shadow: 0 3px 7px rgba(0,0,0,0.1);\n    height: 140px;\n    overflow-y: auto;\n    font-family: monospace;\n    font-size: 14px;\n    color: #444;\n    white-space: pre-wrap;\n  }\n  #speedControl {\n    margin-top: 10px;\n    text-align: center;\n  }\n  label {\n    font-size: 14px;\n  }\n</style>\n</head>\n<body>\n\n<h1>Radix Sort Visualization (LSD - Least Significant Digit)</h1>\n\n<div id=\"inputArea\">\n  <input id=\"inputArray\" type=\"text\" placeholder=\"Enter numbers separated by commas\" value=\"170, 45, 75, 90, 802, 24, 2, 66\" />\n  <button id=\"startBtn\">Start Sorting</button>\n</div>\n\n<div id=\"speedControl\">\n  <label for=\"speedRange\">Animation speed (ms delay between steps): </label>\n  <input id=\"speedRange\" type=\"range\" min=\"100\" max=\"2000\" value=\"800\" step=\"100\" />\n  <span id=\"speedValue\">800</span> ms\n</div>\n\n<div id=\"arrayContainer\"></div>\n\n<div id=\"bucketsContainer\"></div>\n\n<div id=\"log\"></div>\n\n<script>\n(() => {\n  const inputArray = document.getElementById(\"inputArray\");\n  const startBtn = document.getElementById(\"startBtn\");\n  const arrayContainer = document.getElementById(\"arrayContainer\");\n  const bucketsContainer = document.getElementById(\"bucketsContainer\");\n  const log = document.getElementById(\"log\");\n  const speedRange = document.getElementById(\"speedRange\");\n  const speedValue = document.getElementById(\"speedValue\");\n\n  speedRange.addEventListener('input', () => {\n    speedValue.textContent = speedRange.value;\n  });\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  function logMessage(msg) {\n    log.textContent += msg + \"\\n\";\n    log.scrollTop = log.scrollHeight;\n  }\n\n  // Render the array visually\n  function renderArray(arr, highlightIndices = []) {\n    arrayContainer.innerHTML = \"\";\n    arr.forEach((num, i) => {\n      const div = document.createElement(\"div\");\n      div.className = \"array-item\";\n      if (highlightIndices.includes(i)) {\n        div.classList.add(\"highlight\");\n      }\n      div.textContent = num;\n      arrayContainer.appendChild(div);\n    });\n  }\n\n  // Render the buckets visually\n  function renderBuckets(buckets, currentDigit) {\n    bucketsContainer.innerHTML = \"\";\n    for(let i=0; i<10; i++) {\n      const bucketDiv = document.createElement(\"div\");\n      bucketDiv.className = \"bucket\";\n      const label = document.createElement(\"div\");\n      label.className = \"bucket-label\";\n      label.textContent = `Digit ${i}`;\n      bucketDiv.appendChild(label);\n\n      buckets[i].forEach(num => {\n        const numDiv = document.createElement(\"div\");\n        numDiv.className = \"array-item\";\n        numDiv.style.padding = \"5px 10px\";\n        numDiv.style.margin = \"3px auto\";\n        numDiv.style.minWidth = \"40px\";\n        numDiv.textContent = num;\n        bucketDiv.appendChild(numDiv);\n      });\n\n      if(i === currentDigit) {\n        bucketDiv.style.borderColor = \"#ffae42\";\n        bucketDiv.style.backgroundColor = \"#fff3e0\";\n      } else {\n        bucketDiv.style.borderColor = \"#4a90e2\";\n        bucketDiv.style.backgroundColor = \"white\";\n      }\n      bucketsContainer.appendChild(bucketDiv);\n    }\n  }\n\n  // Helper to get digit at position d (0-based from right)\n  function getDigit(num, d) {\n    return Math.floor(Math.abs(num) / Math.pow(10, d)) % 10;\n  }\n\n  // Find max number of digits in array elements\n  function getMaxDigits(arr) {\n    let max = 0;\n    for(let num of arr) {\n      max = Math.max(max, num.toString().length);\n    }\n    return max;\n  }\n\n  async function radixSort(arr) {\n    log.textContent = \"\";\n    const maxDigitCount = getMaxDigits(arr);\n    logMessage(`Maximum number of digits found: ${maxDigitCount}`);\n\n    let output = [...arr];\n\n    for(let digitIndex = 0; digitIndex < maxDigitCount; digitIndex++) {\n      logMessage(`\\n--- Sorting by digit index (from right) = ${digitIndex} ---`);\n\n      // Create buckets for each digit 0-9\n      let buckets = Array.from({length:10}, () => []);\n\n      // Place elements in buckets based on current digit\n      for(let i=0; i<output.length; i++) {\n        const num = output[i];\n        const digit = getDigit(num, digitIndex);\n        logMessage(`Placing ${num} in bucket ${digit}`);\n        buckets[digit].push(num);\n\n        renderArray(output, [i]);\n        renderBuckets(buckets, digit);\n        await sleep(speedRange.value);\n      }\n\n      // Concatenate buckets in order\n      output = [];\n      for(let i=0; i<10; i++) {\n        if(buckets[i].length > 0) {\n          logMessage(`Collecting bucket ${i}: [${buckets[i].join(\", \")}]`);\n        }\n        output.push(...buckets[i]);\n\n        renderArray(output);\n        renderBuckets(buckets, i);\n        await sleep(speedRange.value / 2);\n      }\n      logMessage(`Array after sorting by digit ${digitIndex}: [${output.join(\", \")}]`);\n    }\n    logMessage(\"\\nSorting completed!\");\n    renderArray(output);\n    bucketsContainer.innerHTML = \"\";\n  }\n\n  startBtn.addEventListener(\"click\", async () => {\n    let rawInput = inputArray.value.trim();\n    if(!rawInput) {\n      alert(\"Please enter some numbers separated by commas.\");\n      return;\n    }\n    let arr = rawInput.split(\",\").map(s => s.trim()).map(Number);\n    if(arr.some(isNaN)) {\n      alert(\"Please enter valid integers separated by commas.\");\n      return;\n    }\n    if(arr.some(n => n < 0)) {\n      alert(\"This visualization supports only non-negative integers.\");\n      return;\n    }\n    startBtn.disabled = true;\n    inputArray.disabled = true;\n    speedRange.disabled = true;\n    try {\n      await radixSort(arr);\n    } catch(e) {\n      alert(\"An error occurred during sorting.\");\n      console.error(e);\n    }\n    startBtn.disabled = false;\n    inputArray.disabled = false;\n    speedRange.disabled = false;\n  });\n\n  // Initial render\n  renderArray([170, 45, 75, 90, 802, 24, 2, 66]);\n})();\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Radix Sort"
    }
  ],
  "topic": "Radix Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}