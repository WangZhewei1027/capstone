{
  "id": "3c8a0df0-ca6a-11f0-8bff-85107adc1779",
  "timestamp": "2025-11-26T01:50:54.638Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Topological Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Topological Sort Demo</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 1em;\n    background: #f4f4f9;\n  }\n  h1 {\n    text-align: center;\n    color: #333;\n  }\n  #graphInput {\n    width: 100%;\n    height: 150px;\n    font-family: monospace;\n    font-size: 14px;\n    padding: 0.5em;\n    box-sizing: border-box;\n  }\n  #runButton {\n    margin-top: 0.5em;\n    padding: 0.6em 1.2em;\n    font-size: 1em;\n    background: #0066cc;\n    color: white;\n    border: none;\n    cursor: pointer;\n    border-radius: 4px;\n  }\n  #runButton:hover {\n    background: #005bb5;\n  }\n  #output {\n    margin-top: 1em;\n    padding: 1em;\n    background: white;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n    min-height: 70px;\n    white-space: pre-wrap;\n    font-family: monospace;\n  }\n  #hint {\n    margin-top: 0.5em;\n    font-size: 0.9em;\n    color: #666;\n  }\n  label {\n    font-weight: bold;\n    display: block;\n    margin-bottom: 0.3em;\n  }\n</style>\n</head>\n<body>\n<h1>Topological Sort Demo</h1>\n\n<label for=\"graphInput\">Enter Directed Graph (Edges) in JSON format:</label>\n<textarea id=\"graphInput\" aria-label=\"Graph input\">\n{\n  \"A\": [\"C\"],\n  \"B\": [\"C\", \"D\"],\n  \"C\": [\"E\"],\n  \"D\": [\"F\"],\n  \"E\": [\"H\", \"F\"],\n  \"F\": [\"G\"],\n  \"G\": [],\n  \"H\": []\n}\n</textarea>\n<div id=\"hint\">\nFormat: JSON object where keys are nodes and values are arrays of nodes they direct to.<br/>\nExample: {\"A\":[\"C\"],\"B\":[\"C\",\"D\"],\"C\":[\"E\"],\"D\":[\"F\"],\"E\":[\"H\",\"F\"],\"F\":[\"G\"],\"G\":[],\"H\":[]}\n</div>\n\n<button id=\"runButton\">Run Topological Sort</button>\n\n<div id=\"output\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n\n<script>\n  // Function: perform topological sort\n  // Input: graph as adjacency list {node: [neighbors]}\n  // Output: array of nodes in topological order or error if cycle detected\n  function topologicalSort(graph) {\n    const visited = new Set();\n    const onStack = new Set();\n    const result = [];\n    let hasCycle = false;\n\n    function dfs(node) {\n      if (hasCycle) return;\n\n      visited.add(node);\n      onStack.add(node);\n\n      for (const neighbor of (graph[node] || [])) {\n        if (!visited.has(neighbor)) {\n          dfs(neighbor);\n        } else if (onStack.has(neighbor)) {\n          hasCycle = true;\n          return;\n        }\n      }\n\n      onStack.delete(node);\n      result.push(node);\n    }\n\n    // Ensure all nodes appear in the graph (some nodes might not be keys if they have no outgoing edges)\n    const nodes = new Set(Object.keys(graph));\n    for (const adjs of Object.values(graph)) {\n      for (const n of adjs) {\n        nodes.add(n);\n        if (!(n in graph)) graph[n] = [];\n      }\n    }\n\n    for (const node of nodes) {\n      if (!visited.has(node)) {\n        dfs(node);\n      }\n    }\n\n    if (hasCycle) {\n      return { error: \"Cycle detected in the graph – topological sort not possible.\"};\n    } else {\n      return { order: result.reverse() }; // reverse because we push after dfs completes node\n    }\n  }\n\n  const graphInput = document.getElementById(\"graphInput\");\n  const runBtn = document.getElementById(\"runButton\");\n  const output = document.getElementById(\"output\");\n\n  runBtn.addEventListener(\"click\", () => {\n    output.textContent = \"\";\n    let graph;\n    try {\n      graph = JSON.parse(graphInput.value);\n      if (typeof graph !== \"object\" || graph === null || Array.isArray(graph)) {\n        throw new Error(\"Input must be a JSON object.\");\n      }\n    } catch (e) {\n      output.textContent = \"Invalid JSON input:\\n\" + e.message;\n      return;\n    }\n\n    const result = topologicalSort(graph);\n\n    if (result.error) {\n      output.textContent = \"Error: \" + result.error;\n    } else {\n      output.textContent = \"Topological Order:\\n\" + result.order.join(\" → \");\n    }\n  });\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Topological Sort"
    }
  ],
  "topic": "Topological Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}