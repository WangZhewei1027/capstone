{
  "id": "3c88fc80-ca6a-11f0-8bff-85107adc1779",
  "timestamp": "2025-11-26T01:51:00.736Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Insertion Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Insertion Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 30px;\n    background-color: #f0f4f8;\n  }\n  h1 {\n    text-align: center;\n    color: #222;\n  }\n  #container {\n    max-width: 800px;\n    margin: 0 auto;\n  }\n  #arrayInput {\n    width: 100%;\n    font-size: 1.1rem;\n    padding: 10px;\n    margin-bottom: 10px;\n    box-sizing: border-box;\n  }\n  button {\n    background-color: #007bff;\n    border: none;\n    color: #fff;\n    padding: 10px 15px;\n    font-size: 1rem;\n    cursor: pointer;\n    border-radius: 4px;\n  }\n  button:disabled {\n    background-color: #aacdff;\n    cursor: not-allowed;\n  }\n  #visualization {\n    margin-top: 40px;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    gap: 5px;\n    height: 300px;\n    background-color: white;\n    border: 1px solid #ccc;\n    padding: 15px;\n    border-radius: 6px;\n  }\n  .bar {\n    background-color: #6c63ff;\n    width: 30px;\n    text-align: center;\n    color: white;\n    border-radius: 4px 4px 0 0;\n    font-weight: bold;\n    user-select: none;\n    position: relative;\n  }\n  .bar.current {\n    background-color: #ff6f61;\n    box-shadow: 0 0 10px #ff6f61;\n  }\n  .bar.compared {\n    background-color: #4caf50;\n    box-shadow: 0 0 10px #4caf50;\n  }\n  .bar.sorted {\n    background-color: #2e7d32;\n  }\n  #legend {\n    margin-top: 20px;\n    display: flex;\n    justify-content: center;\n    gap: 15px;\n  }\n  .legend-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n  .legend-color {\n    width: 20px;\n    height: 20px;\n    border-radius: 4px;\n  }\n  .color-current {\n    background-color: #ff6f61;\n    box-shadow: 0 0 5px #ff6f61;\n  }\n  .color-compared {\n    background-color: #4caf50;\n    box-shadow: 0 0 5px #4caf50;\n  }\n  .color-sorted {\n    background-color: #2e7d32;\n  }\n  #description {\n    max-width: 800px;\n    margin: 30px auto 0;\n    font-size: 1.1rem;\n    line-height: 1.5;\n    color: #333;\n  }\n  #speedControl {\n    width: 100%;\n    margin-top: 10px;\n  }\n  label {\n    font-size: 0.9rem;\n    color: #555;\n  }\n</style>\n</head>\n<body>\n  <div id=\"container\">\n    <h1>Insertion Sort Visualization</h1>\n    <input\n      id=\"arrayInput\"\n      type=\"text\"\n      placeholder=\"Enter numbers separated by commas, e.g. 8,3,5,2,9\"\n      aria-label=\"Array input\"\n    />\n    <button id=\"startBtn\" aria-live=\"polite\">Start Sorting</button>\n    <label for=\"speedControl\">Animation Speed: <span id=\"speedValue\">500</span> ms</label>\n    <input type=\"range\" id=\"speedControl\" min=\"50\" max=\"1500\" value=\"500\" step=\"50\" />\n    <div id=\"visualization\" aria-label=\"Insertion sort visualization\"></div>\n    <div id=\"legend\" aria-label=\"Color legend\">\n      <div class=\"legend-item\"><div class=\"legend-color color-current\"></div> Current element</div>\n      <div class=\"legend-item\"><div class=\"legend-color color-compared\"></div> Compared element</div>\n      <div class=\"legend-item\"><div class=\"legend-color color-sorted\"></div> Sorted part</div>\n    </div>\n    <div id=\"description\">\n      <h2>What is Insertion Sort?</h2>\n      <p>\n        Insertion sort is a simple sorting algorithm that builds the final sorted array one item at a time.\n        It works by iterating through the input array and growing a sorted section of the array at its start.\n        At each iteration, it removes one element from the input data, finds the location it belongs within the sorted list, and inserts it there.\n      </p>\n      <p>\n        Although it is not efficient for large datasets (average and worst-case time complexity of O(nÂ²)),\n        insertion sort is simple to implement and efficient for small or nearly sorted data.\n      </p>\n    </div>\n  </div>\n<script>\n  (() => {\n    const arrayInput = document.getElementById(\"arrayInput\");\n    const startBtn = document.getElementById(\"startBtn\");\n    const visualization = document.getElementById(\"visualization\");\n    const speedControl = document.getElementById(\"speedControl\");\n    const speedValue = document.getElementById(\"speedValue\");\n\n    let array = [];\n    let bars = [];\n    let delay = 500;\n    let sorting = false;\n\n    speedControl.addEventListener(\"input\", () => {\n      delay = parseInt(speedControl.value, 10);\n      speedValue.textContent = delay;\n    });\n\n    function createBars(arr) {\n      visualization.innerHTML = \"\";\n      bars = [];\n      for (let val of arr) {\n        const bar = document.createElement(\"div\");\n        bar.classList.add(\"bar\");\n        bar.style.height = val * 5 + 10 + \"px\";\n        bar.textContent = val;\n        bar.setAttribute(\"aria-label\", `Value ${val}`);\n        visualization.appendChild(bar);\n        bars.push(bar);\n      }\n    }\n\n    function sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    async function insertionSort(arr) {\n      const n = arr.length;\n      // Initially, first element is considered sorted - mark it sorted\n      bars[0].classList.add(\"sorted\");\n\n      for (let i = 1; i < n; i++) {\n        // current element to insert\n        let key = arr[i];\n        let j = i - 1;\n\n        // Visual: highlight current element\n        bars[i].classList.add(\"current\");\n\n        await sleep(delay);\n\n        // Move elements of arr[0..i-1], that are greater than key,\n        // to one position ahead of their current position\n        while (j >= 0 && arr[j] > key) {\n          // Visual: highlight compared element\n          bars[j].classList.add(\"compared\");\n          await sleep(delay);\n\n          arr[j + 1] = arr[j];\n          bars[j + 1].style.height = bars[j].style.height;\n          bars[j + 1].textContent = arr[j];\n          // Remove highlight on previous compared if not current\n          bars[j].classList.remove(\"compared\");\n\n          j--;\n\n          await sleep(delay);\n        }\n        arr[j + 1] = key;\n        bars[j + 1].style.height = key * 5 + 10 + \"px\";\n        bars[j + 1].textContent = key;\n\n        // Remove highlight from current bar\n        bars[i].classList.remove(\"current\");\n\n        // Mark the sorted portion bars\n        for (let k = 0; k <= i; k++) {\n          bars[k].classList.add(\"sorted\");\n        }\n\n        // Remove compared highlight on all other bars\n        for (let k = i + 1; k < n; k++) {\n          bars[k].classList.remove(\"compared\");\n        }\n\n        await sleep(delay);\n      }\n    }\n\n    startBtn.addEventListener(\"click\", async () => {\n      if (sorting) return;\n\n      let inputStr = arrayInput.value.trim();\n      if (!inputStr) {\n        alert(\"Please enter some numbers separated by commas.\");\n        return;\n      }\n\n      // Parse input\n      let inputArray = inputStr.split(\",\").map(s => s.trim()).filter(s => s !== \"\").map(Number);\n      if (inputArray.some(isNaN)) {\n        alert(\"Please enter valid numbers separated by commas.\");\n        return;\n      }\n      if (inputArray.length < 2) {\n        alert(\"Please enter at least two numbers to sort.\");\n        return;\n      }\n      if (inputArray.length > 30) {\n        alert(\"For visualization, please enter 30 or fewer numbers.\");\n        return;\n      }\n\n      array = inputArray;\n      createBars(array);\n\n      sorting = true;\n      startBtn.disabled = true;\n      arrayInput.disabled = true;\n      speedControl.disabled = true;\n\n      await insertionSort(array);\n\n      sorting = false;\n      startBtn.disabled = false;\n      arrayInput.disabled = false;\n      speedControl.disabled = false;\n    });\n  })();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Insertion Sort"
    }
  ],
  "topic": "Insertion Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}