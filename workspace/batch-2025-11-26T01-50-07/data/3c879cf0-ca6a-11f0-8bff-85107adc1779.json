{
  "id": "3c879cf0-ca6a-11f0-8bff-85107adc1779",
  "timestamp": "2025-11-26T01:51:25.983Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Hash Table",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Hash Table Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 2rem;\n    max-width: 600px;\n  }\n  h1 {\n    text-align: center;\n  }\n  #hashTable {\n    margin-top: 1rem;\n    border-collapse: collapse;\n    width: 100%;\n  }\n  #hashTable th, #hashTable td {\n    border: 1px solid #aaa;\n    padding: 8px;\n    text-align: left;\n    vertical-align: top;\n  }\n  #hashTable th {\n    background-color: #f4f4f4;\n  }\n  .bucket-items {\n    font-family: monospace;\n  }\n  label {\n    display: inline-block;\n    width: 50px;\n  }\n  input[type=\"text\"] {\n    width: 150px;\n    padding: 4px;\n  }\n  button {\n    padding: 6px 12px;\n    margin-left: 0.5rem;\n  }\n  #message {\n    margin-top: 1rem;\n    min-height: 1.2em;\n    color: green;\n  }\n</style>\n</head>\n<body>\n<h1>Hash Table Demo</h1>\n\n<form id=\"form\">\n  <div>\n    <label for=\"key\">Key:</label>\n    <input type=\"text\" id=\"key\" required />\n    <label for=\"value\" style=\"margin-left:1rem;\">Value:</label>\n    <input type=\"text\" id=\"value\" />\n    <button type=\"submit\">Insert / Update</button>\n  </div>\n  <div style=\"margin-top: 0.5rem;\">\n    <label for=\"lookupKey\">Lookup Key:</label>\n    <input type=\"text\" id=\"lookupKey\" />\n    <button type=\"button\" id=\"lookupBtn\">Lookup</button>\n    <button type=\"button\" id=\"deleteBtn\" style=\"margin-left: 1rem;\">Delete Key</button>\n  </div>\n</form>\n\n<div id=\"message\" aria-live=\"polite\"></div>\n\n<table id=\"hashTable\" aria-label=\"Hash Table buckets\">\n<thead>\n  <tr>\n    <th>Bucket Index</th>\n    <th>Items (Key: Value)</th>\n  </tr>\n</thead>\n<tbody></tbody>\n</table>\n\n<script>\n  /*\n    Simple hash table with separate chaining to handle collisions.\n    Keys and values are strings.\n  */\n\n  class HashTable {\n    constructor(size = 10) {\n      this.size = size;\n      this.buckets = Array(this.size).fill(null).map(() => []);\n    }\n\n    // Basic hash function for strings\n    // Sum char codes modulo size\n    _hash(key) {\n      let hash = 0;\n      for (let i = 0; i < key.length; i++) {\n        hash = (hash + key.charCodeAt(i)) % this.size;\n      }\n      return hash;\n    }\n\n    set(key, value) {\n      const index = this._hash(key);\n      const bucket = this.buckets[index];\n      for (let i = 0; i < bucket.length; i++) {\n        if (bucket[i].key === key) {\n          bucket[i].value = value;\n          return false; // updated existing key\n        }\n      }\n      bucket.push({ key, value });\n      return true; // added new key\n    }\n\n    get(key) {\n      const index = this._hash(key);\n      const bucket = this.buckets[index];\n      for (const entry of bucket) {\n        if (entry.key === key) {\n          return entry.value;\n        }\n      }\n      return undefined;\n    }\n\n    delete(key) {\n      const index = this._hash(key);\n      const bucket = this.buckets[index];\n      for (let i = 0; i < bucket.length; i++) {\n        if (bucket[i].key === key) {\n          bucket.splice(i, 1);\n          return true;\n        }\n      }\n      return false;\n    }\n\n    entries() {\n      // Return array of objects: { index, items: [{key, value}, ...]}\n      return this.buckets.map((bucket, i) => ({ index: i, items: bucket.slice() }));\n    }\n  }\n\n  // Instantiate a hash table\n  const hashTable = new HashTable(10);\n\n  // DOM references\n  const form = document.getElementById('form');\n  const keyInput = document.getElementById('key');\n  const valueInput = document.getElementById('value');\n  const lookupKeyInput = document.getElementById('lookupKey');\n  const lookupBtn = document.getElementById('lookupBtn');\n  const deleteBtn = document.getElementById('deleteBtn');\n  const messageDiv = document.getElementById('message');\n  const tbody = document.querySelector('#hashTable tbody');\n\n  function renderTable() {\n    const entries = hashTable.entries();\n    tbody.innerHTML = '';\n    for (const { index, items } of entries) {\n      const tr = document.createElement('tr');\n      const tdIndex = document.createElement('td');\n      tdIndex.textContent = index;\n\n      const tdItems = document.createElement('td');\n      if (items.length === 0) {\n        tdItems.textContent = '-';\n      } else {\n        const fragments = [];\n        for (const entry of items) {\n          const span = document.createElement('span');\n          span.className = 'bucket-items';\n          span.textContent = `${entry.key}: ${entry.value}`;\n          fragments.push(span);\n          fragments.push(document.createElement('br'));\n        }\n        // Append all spans and line breaks\n        for (const f of fragments) {\n          tdItems.appendChild(f);\n        }\n      }\n      tr.appendChild(tdIndex);\n      tr.appendChild(tdItems);\n      tbody.appendChild(tr);\n    }\n  }\n\n  form.addEventListener('submit', e => {\n    e.preventDefault();\n    const key = keyInput.value.trim();\n    const value = valueInput.value;\n\n    if (key === '') {\n      messageDiv.textContent = 'Key cannot be empty.';\n      messageDiv.style.color = 'red';\n      return;\n    }\n    const addedNew = hashTable.set(key, value);\n    if (addedNew) {\n      messageDiv.textContent = `Inserted key \"${key}\" with value \"${value}\".`;\n    } else {\n      messageDiv.textContent = `Updated key \"${key}\" with new value \"${value}\".`;\n    }\n    messageDiv.style.color = 'green';\n\n    keyInput.value = '';\n    valueInput.value = '';\n    renderTable();\n  });\n\n  lookupBtn.addEventListener('click', () => {\n    const key = lookupKeyInput.value.trim();\n    if (key === '') {\n      messageDiv.textContent = 'Please enter a key to lookup.';\n      messageDiv.style.color = 'red';\n      return;\n    }\n    const val = hashTable.get(key);\n    if (val === undefined) {\n      messageDiv.textContent = `Key \"${key}\" not found.`;\n      messageDiv.style.color = 'red';\n    } else {\n      messageDiv.textContent = `Value for key \"${key}\": \"${val}\".`;\n      messageDiv.style.color = 'green';\n    }\n  });\n\n  deleteBtn.addEventListener('click', () => {\n    const key = lookupKeyInput.value.trim();\n    if (key === '') {\n      messageDiv.textContent = 'Please enter a key to delete.';\n      messageDiv.style.color = 'red';\n      return;\n    }\n    const deleted = hashTable.delete(key);\n    if (deleted) {\n      messageDiv.textContent = `Key \"${key}\" deleted successfully.`;\n      messageDiv.style.color = 'green';\n      renderTable();\n    } else {\n      messageDiv.textContent = `Key \"${key}\" not found. Cannot delete.`;\n      messageDiv.style.color = 'red';\n    }\n  });\n\n  // Initial render\n  renderTable();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Hash Table"
    }
  ],
  "topic": "Hash Table",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}