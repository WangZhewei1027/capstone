<!DOCTYPE html>
```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Floyd-Warshall Algorithm Visualization</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background: #f9f9f9;
  }
  h1 {
    text-align: center;
    color: #333;
  }
  #graphInput {
    max-width: 600px;
    margin: 0 auto 20px auto;
    background: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 2px 7px rgba(0,0,0,0.1);
  }
  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }
  textarea {
    width: 100%;
    height: 120px;
    font-family: monospace;
    font-size: 14px;
    resize: vertical;
    margin-bottom: 10px;
  }
  button {
    background-color: #0078d7;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 15px;
    cursor: pointer;
  }
  button:hover {
    background-color: #005ea2;
  }
  #output {
    max-width: 700px;
    margin: 20px auto;
    overflow-x: auto;
    background: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 2px 7px rgba(0,0,0,0.1);
  }
  table {
    border-collapse: collapse;
    margin: 0 auto 20px auto;
  }
  th, td {
    border: 1px solid #aaa;
    padding: 6px 10px;
    text-align: center;
    min-width: 40px;
  }
  th {
    background: #0078d7;
    color: white;
  }
  .inf {
    color: #a00;
    font-style: italic;
  }
  #steps {
    max-width: 700px;
    margin: 0 auto;
    background: #fff;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 2px 7px rgba(0,0,0,0.1);
    max-height: 300px;
    overflow-y: auto;
    font-family: monospace;
    font-size: 13px;
    white-space: pre-wrap;
  }
  #info {
    max-width: 700px;
    margin: 0 auto 30px auto;
    font-size: 15px;
    color: #444;
  }
  .highlight {
    background-color: #ffff99;
  }
</style>
</head>
<body>
<h1>Floyd-Warshall Algorithm Demo</h1>

<div id="graphInput">
  <label for="vertexCount">Number of vertices (max 10):</label>
  <input type="number" id="vertexCount" min="2" max="10" value="4" style="width: 60px; margin-bottom:10px;"/>
  
  <label for="graphMatrix">Enter adjacency matrix (use 0 for self-distances and Infinity or a large number for no direct edge). Separate numbers with spaces, rows with new lines:</label>
  <textarea id="graphMatrix">0 3 Infinity 7
8 0 2 Infinity
5 Infinity 0 1
2 Infinity Infinity 0</textarea>
  
  <button id="runButton">Run Floyd-Warshall</button>
</div>

<div id="info">
  <strong>Instructions:</strong> Enter the number of vertices, then provide the adjacency matrix of the graph.  
  Use <code>Infinity</code> for no direct edge and <code>0</code> for distances from a vertex to itself.
</div>

<div id="output"></div>

<div id="steps"></div>

<script>
  // Helper function to parse input matrix
  function parseMatrix(text, n) {
    const rows = text.trim().split('\n');
    if (rows.length !== n) {
      throw new Error(`Expected ${n} rows but got ${rows.length}`);
    }
    const matrix = [];
    for(let i = 0; i < n; i++) {
      let row = rows[i].trim().split(/\s+/);
      if(row.length !== n) {
        throw new Error(`Row ${i+1} expected ${n} columns but got ${row.length}`);
      }
      const parsedRow = row.map(val => {
        if(val.toLowerCase() === 'infinity' || val.toLowerCase() === 'inf') return Infinity;
        let num = Number(val);
        if(isNaN(num)) throw new Error(`Invalid number '${val}' in matrix`);
        return num;
      });
      matrix.push(parsedRow);
    }
    return matrix;
  }

  function createTable(matrix, elementId, captionText, highlightK = null) {
    const n = matrix.length;
    const container = document.getElementById(elementId);
    container.innerHTML = '';
    const table = document.createElement('table');
    const caption = document.createElement('caption');
    caption.textContent = captionText;
    caption.style.fontWeight = 'bold';
    caption.style.marginBottom = '8px';
    caption.style.color = '#0078d7';
    table.appendChild(caption);

    const thead = document.createElement('thead');
    const headRow = document.createElement('tr');
    const emptyTh = document.createElement('th');
    emptyTh.textContent = '';
    headRow.appendChild(emptyTh);
    for(let i = 0; i < n; i++){
      const th = document.createElement('th');
      th.textContent = `V${i}`;
      headRow.appendChild(th);
    }
    thead.appendChild(headRow);
    table.appendChild(thead);

    const tbody = document.createElement('tbody');
    for(let i = 0; i < n; i++) {
      const tr = document.createElement('tr');
      const rowLabel = document.createElement('th');
      rowLabel.textContent = `V${i}`;
      tr.appendChild(rowLabel);
      for(let j = 0; j < n; j++) {
        const td = document.createElement('td');
        const val = matrix[i][j];
        if(val === Infinity) {
          td.textContent = 'âˆž';
          td.classList.add('inf');
        } else {
          td.textContent = val;
        }
        // Highlight when i==k or j==k for current k-step if provided
        if(highlightK !== null && (i === highlightK || j === highlightK)) {
          td.classList.add('highlight');
        }
        tr.appendChild(td);
      }
      tbody.appendChild(tr);
    }
    table.appendChild(tbody);
    container.appendChild(table);
  }

  function floydWarshall(graph, n, stepCallback) {
    // Initialize distance matrix with input graph