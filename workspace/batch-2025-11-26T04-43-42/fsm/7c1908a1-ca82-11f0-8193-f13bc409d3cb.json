{
  "meta": {
    "concept": "FloydWarshallAlgorithm",
    "topic": "Floyd-Warshall Algorithm",
    "educational_goal": "Demonstrate the Floyd-Warshall algorithm for finding shortest paths in a graph",
    "expected_interactions": [
      "inputMatrix",
      "calculatePaths",
      "reset"
    ]
  },
  "states": [
    {
      "id": "S0_Idle",
      "label": "Idle",
      "type": "idle",
      "entry_actions": [
        "enableInput()"
      ],
      "exit_actions": []
    },
    {
      "id": "S1_InputMatrix",
      "label": "InputMatrix",
      "type": "atomic",
      "entry_actions": [
        "highlightInputFields()"
      ],
      "exit_actions": [
        "clearHighlights()"
      ]
    },
    {
      "id": "S2_CalculatingPaths",
      "label": "CalculatingPaths",
      "type": "atomic",
      "entry_actions": [
        "startCalculation()"
      ],
      "exit_actions": [
        "finishCalculation()"
      ]
    },
    {
      "id": "S3_DisplayResults",
      "label": "DisplayResults",
      "type": "atomic",
      "entry_actions": [
        "showResults()"
      ],
      "exit_actions": []
    },
    {
      "id": "S4_ErrorAlert",
      "label": "ErrorAlert",
      "type": "atomic",
      "entry_actions": [
        "showErrorDialog()"
      ],
      "exit_actions": [
        "clearError()"
      ]
    }
  ],
  "events": [
    {
      "id": "UserEntersMatrix",
      "event_type": "user_action",
      "description": "User enters the distance matrix values"
    },
    {
      "id": "UserClicksCalculate",
      "event_type": "user_action",
      "description": "User clicks the Calculate button"
    },
    {
      "id": "CalculationComplete",
      "event_type": "system_event",
      "description": "Calculation of shortest paths is complete"
    },
    {
      "id": "UserDismissesError",
      "event_type": "user_action",
      "description": "User dismisses the error alert"
    }
  ],
  "transitions": [
    {
      "from": "S0_Idle",
      "to": "S1_InputMatrix",
      "event": "UserEntersMatrix",
      "guard": "true",
      "actions": [
        "enableMatrixInput()"
      ],
      "expected_observables": [
        "dom:matrixInputEnabled"
      ],
      "timeout": 500
    },
    {
      "from": "S1_InputMatrix",
      "to": "S2_CalculatingPaths",
      "event": "UserClicksCalculate",
      "guard": "matrixIsValid",
      "actions": [
        "validateMatrix()",
        "beginCalculation()"
      ],
      "expected_observables": [
        "dom:calculationStarted"
      ],
      "timeout": 1000
    },
    {
      "from": "S1_InputMatrix",
      "to": "S4_ErrorAlert",
      "event": "UserClicksCalculate",
      "guard": "matrixIsInvalid",
      "actions": [
        "showError()",
        "focusMatrixInput()"
      ],
      "expected_observables": [
        "dom:errorDialogShown"
      ],
      "timeout": 1000
    },
    {
      "from": "S2_CalculatingPaths",
      "to": "S3_DisplayResults",
      "event": "CalculationComplete",
      "guard": "true",
      "actions": [
        "displayResults()"
      ],
      "expected_observables": [
        "dom:resultsDisplayed"
      ],
      "timeout": 1500
    },
    {
      "from": "S4_ErrorAlert",
      "to": "S0_Idle",
      "event": "UserDismissesError",
      "guard": "true",
      "actions": [
        "clearErrorState()",
        "resetInputFields()"
      ],
      "expected_observables": [
        "dom:errorDialogClosed"
      ],
      "timeout": 500
    }
  ],
  "components": [
    "distanceMatrix",
    "calculateButton"
  ]
}