<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Means Clustering</title>
    <style>
        #chart {
            width: 800px;
            height: 600px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>K-Means Clustering</h1>
    <form id="form">
        <label for="data">Enter data:</label>
        <textarea id="data" rows="10" cols="50"></textarea>
        <button type="submit">Submit</button>
    </form>
    <div id="chart"></div>

    <script>
        const form = document.getElementById('form');
        const chart = document.getElementById('chart');
        let data = '';
        let clusters = [];

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const input = document.getElementById('data').value;
            const rows = input.split('\n');
            for (let i = 0; i < rows.length; i++) {
                const row = rows[i].split(',');
                data += row.join(',') + '\n';
            }
            const dataArray = data.trim().split('\n').map((item) => item.split(',').map(Number));
            const clusterCount = 5; // Change this to change the number of clusters
            const kMeans = new KMeans(clusterCount, dataArray);
            kMeans.run();
            const clustersArray = kMeans.getClusters();
            clusters = clustersArray.map((cluster) => cluster.map((value) => value.toFixed(2)));
            const chartData = {
                labels: dataArray.map((row) => row[0]),
                datasets: [{
                    label: 'Data Points',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1,
                    data: dataArray.map((row) => row[1])
                }]
            };
            chartData.datasets[0].data = clusters;
            chartData.datasets[0].label = 'Clusters';
            chartData.datasets[0]. borderColor = 'rgba(54, 162, 235, 1)';
            chartData.datasets[0].borderWidth = 1;
            chartData.datasets[0].pointRadius = 0;
            chartData.datasets[0].pointColor = 'rgba(255, 99, 132, 1)';
            chartData.datasets[0].pointHoverRadius = 0;
            chartData.datasets[0].pointHoverColor = 'rgba(255, 99, 132, 1)';
            chartData.datasets[0].pointBackgroundColor = 'rgba(54, 162, 235, 1)';
            chartData.datasets[0].pointHoverBackgroundColor = 'rgba(54, 162, 235, 1)';
            chartData.datasets[0].pointHoverStrokeColor = 'rgba(255, 99, 132, 1)';
            chartData.datasets[0].pointHoverStrokeWidth = 1;
            chartData.datasets[0].pointHoverStrokeDasharray = '3,3';
            chartData.datasets[0].pointHoverStrokeDashoffset = '0,0';
            chartData.datasets[0].pointLineDash = '3,3';
            chartData.datasets[0].lineColor = 'rgba(54, 162, 235, 1)';
            chartData.datasets[0].lineDash = '3,3';
            chartData.datasets[0].lineDashArray = '3,3';
            chartData.datasets[0].lineDashOffset = '0,0';
            chartData.datasets[0].lineColorDark = 'rgba(54, 162, 235, 1)';
            chartData.datasets[0].lineColorDarkDash = '3,3';
            chartData.datasets[0].lineColorDarkDashArray = '3,3';
            chartData.datasets[0].lineColorDarkDashOffset = '0,0';
            chartData.datasets[0].lineColorLight = 'rgba(255, 99, 132, 1)';
            chartData.datasets[0].lineColorLightDash = '3,3';
            chartData.datasets[0].lineColorLightDashArray = '3,3';
            chartData.datasets[0].lineColorLightDashOffset = '0,0';
            chartData.datasets[0].lineColorLight = 'rgba(255, 99, 132, 1)';
            chartData.datasets[0].lineColorLightDashOffset = '0,0';
            chartData.datasets[0].lineColorLightDashOffset = '0,0';
            chart.render();
        });
    </script>
</body>
</html>