<!DOCTYPE html>
<html>
<head>
    <title>Topological Sort</title>
    <style>
        table {
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>Topological Sort</h1>
    <form id="topological-sort-form">
        <label for="graph">Graph:</label>
        <textarea id="graph" rows="10" cols="50"></textarea>
        <br><br>
        <label for="vertices">Vertices:</label>
        <input type="number" id="vertices" value="5">
        <br><br>
        <label for="edges">Edges:</label>
        <input type="number" id="edges" value="10">
        <br><br>
        <button type="button" id="sort-btn">Sort</button>
    </form>
    <div id="graph-container"></div>
    <div id="result"></div>

    <script>
        const graphContainer = document.getElementById('graph-container');
        const resultDiv = document.getElementById('result');
        const graph = document.getElementById('graph');
        const vertices = document.getElementById('vertices');
        const edges = document.getElementById('edges');
        const sortBtn = document.getElementById('sort-btn');

        // Function to draw graph
        function drawGraph() {
            const graphStr = graph.value;
            const graphArr = graphStr.split('\n');
            const graphAdj = {};
            graphArr.forEach(str => {
                const [vertex, edgesStr] = str.split('->');
                vertex = vertex.trim();
                edgesStr = edgesStr.trim();
                const edgesArr = edgesStr.split(',').map(Number);
                graphAdj[vertex] = edgesArr;
            });

            const sortedVertices = Object.keys(graphAdj).sort((a, b) => graphAdj[b].length - graphAdj[a].length);
            const sortedEdges = [];

            graphArr.forEach(str => {
                const [vertex, edgesStr] = str.split('->');
                vertex = vertex.trim();
                edgesStr = edgesStr.trim();
                const edgesArr = edgesStr.split(',').map(Number);
                if (vertex in graphAdj) {
                    graphAdj[vertex].forEach(edge => {
                        sortedEdges.push([vertex, edge]);
                    });
                }
            });

            sortedVertices.forEach(vertex => {
                const row = [];
                graphAdj[vertex].forEach(edge => {
                    row.push(edge);
                });
                graphArr.push(row.join(' -> '));
            });

            graphContainer.innerHTML = graphArr.join('\n');
            resultDiv.innerHTML = 'Sorted Vertices: ' + sortedVertices.join(', ');
            resultDiv.innerHTML += '\nSorted Edges: ';
            sortedEdges.forEach(edge => {
                resultDiv.innerHTML += edge.join(', ');
                resultDiv.innerHTML += '\n';
            });
        }

        vertices.addEventListener('input', () => {
            graph.value = graphArr.join('\n');
            drawGraph();
        });

        edges.addEventListener('input', () => {
            graph.value = graphArr.join('\n');
            drawGraph();
        });

        sortBtn.addEventListener('click', () => {
            drawGraph();
        });

        graph.addEventListener('change', drawGraph);
    </script>
</body>
</html>