<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adjacency List</title>
    <style>
        table {
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>Adjacency List</h1>
    <form id="input-form">
        <label for="source">Source:</label>
        <input type="text" id="source" name="source"><br><br>
        <label for="target">Target:</label>
        <input type="text" id="target" name="target"><br><br>
        <label for="adjacency-list">Adjacency List:</label>
        <textarea id="adjacency-list" name="adjacency-list"></textarea><br><br>
        <button id="add-btn">Add</button>
    </form>
    <div id="result"></div>

    <script>
        const form = document.getElementById('input-form');
        const result = document.getElementById('result');
        const source = document.getElementById('source');
        const target = document.getElementById('target');
        const adjacencyList = document.getElementById('adjacency-list');
        const addBtn = document.getElementById('add-btn');

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const sourceValue = source.value.trim();
            const targetValue = target.value.trim();
            const adjacencyListValue = adjacencyList.value.trim();

            if (sourceValue && targetValue && adjacencyListValue) {
                const adjacencyListArray = adjacencyListValue.split('\n');
                const sourceArray = sourceValue.split(',');
                const targetArray = targetValue.split(',');

                const adjacencyListList = [];

                for (let i = 0; i < adjacencyListArray.length; i++) {
                    const [sourceNode, targetNode] = adjacencyListArray[i].split(':');
                    const [source, target] = sourceArray[i].split(',');
                    const [sourceNodeId, targetNodeId] = source.split(':');
                    const targetNodeId = parseInt(targetNodeId);
                    const sourceNodeId = parseInt(sourceNodeId);

                    if (sourceNodeId === targetNodeId) {
                        adjacencyListList.push({ source: sourceNode, target: targetNode });
                    }
                }

                result.innerHTML = '';
                for (let i = 0; i < adjacencyListList.length; i++) {
                    const row = document.createElement('tr');
                    const sourceCell = document.createElement('td');
                    const targetCell = document.createElement('td');
                    const rowElement = document.createElement('tr');
                    rowElement.innerHTML = `${adjacencyListList[i].source} -> ${adjacencyListList[i].target}`;

                    sourceCell.textContent = `${adjacencyListList[i].source} `;
                    targetCell.textContent = `${adjacencyListList[i].target} `;
                    row.appendChild(sourceCell);
                    row.appendChild(targetCell);
                    rowElement.appendChild(row);
                    result.appendChild(rowElement);
                }
            } else {
                result.innerHTML = 'Please fill in all fields.';
            }
        });

        addBtn.addEventListener('click', () => {
            const sourceValue = source.value.trim();
            const targetValue = target.value.trim();
            const adjacencyListValue = adjacencyList.value.trim();

            if (sourceValue && targetValue && adjacencyListValue) {
                const adjacencyListArray = adjacencyListValue.split('\n');
                const sourceArray = sourceValue.split(',');
                const targetArray = targetValue.split(',');

                const adjacencyListList = [];

                for (let i = 0; i < adjacencyListArray.length; i++) {
                    const [sourceNode, targetNode] = adjacencyListArray[i].split(':');
                    const [source, target] = sourceArray[i].split(',');
                    const [sourceNodeId, targetNodeId] = source.split(':');
                    const targetNodeId = parseInt(targetNodeId);
                    const sourceNodeId = parseInt(sourceNodeId);

                    if (sourceNodeId === targetNodeId) {
                        adjacencyListList.push({ source: sourceNode, target: targetNode });
                    }
                }

                result.innerHTML = '';
                for (let i = 0; i < adjacencyListList.length; i++) {
                    const row = document.createElement('tr');
                    const sourceCell = document.createElement('td');
                    const targetCell = document.createElement('td');
                    const rowElement = document.createElement('tr');
                    rowElement.innerHTML = `${adjacencyListList[i].source} -> ${adjacencyListList[i].target}`;

                    sourceCell.textContent = `${adjacencyListList[i].source} `;
                    targetCell.textContent = `${adjacencyListList[i].target} `;
                    row.appendChild(sourceCell);
                    row.appendChild(targetCell);
                    rowElement.appendChild(row);
                    result.appendChild(rowElement);
                }
            } else {
                result.innerHTML = 'Please fill in all fields.';
            }
        });
    </script>
</body>
</html>