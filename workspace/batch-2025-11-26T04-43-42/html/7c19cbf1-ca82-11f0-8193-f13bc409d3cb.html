<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Nearest Neighbors (KNN) Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            width: 80%;
            margin: 40px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .input-container {
            display: flex;
            align-items: center;
        }
        .input-field {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 50%;
            margin-right: 10px;
        }
        .button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .button:hover {
            background-color: #ccc;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>K-Nearest Neighbors (KNN) Example</h2>
        <div class="input-container">
            <label for="features">Features:</label>
            <input type="text" id="features" class="input-field" placeholder="Enter features">
            <button class="button">Search</button>
        </div>
        <div class="input-container">
            <label for="k">K:</label>
            <input type="number" id="k" class="input-field" placeholder="Enter K">
            <button class="button">Calculate</button>
        </div>
        <div class="input-container">
            <label for="result">Result:</label>
            <p id="result"></p>
        </div>
    </div>

    <script>
        let data = [
            { id: 1, features: [1, 2, 3] },
            { id: 2, features: [4, 5, 6] },
            { id: 3, features: [7, 8, 9] },
            { id: 4, features: [10, 11, 12] },
            { id: 5, features: [13, 14, 15] }
        ];

        function calculateKnn(features, k) {
            const distances = {};
            for (const item of data) {
                const distance = calculateDistance(features, item.features);
                distances[item.id] = distance;
            }

            const sortedDistances = Object.keys(distances).sort((a, b) => distances[b] - distances[a]);
            const nearestNeighbors = sortedDistances.slice(0, k);
            return nearestNeighbors;
        }

        function calculateDistance(features, k) {
            const sumOfSquares = features.reduce((acc, feature, index) => acc + Math.pow(feature - k[index], 2), 0);
            return Math.sqrt(sumOfSquares);
        }

        const inputFeatures = document.getElementById('features');
        const inputK = document.getElementById('k');
        const resultElement = document.getElementById('result');

        inputFeatures.addEventListener('input', () => {
            const features = inputFeatures.value.split(' ');
            inputK.value = inputFeatures.value;
            resultElement.textContent = '';
            const nearestNeighbors = calculateKnn(features, parseInt(inputK.value));
            resultElement.textContent = nearestNeighbors.map(id => data[id].id).join(', ');
        });

        inputK.addEventListener('input', () => {
            resultElement.textContent = '';
            const nearestNeighbors = calculateKnn(inputFeatures.value.split(' '), parseInt(inputK.value));
            resultElement.textContent = nearestNeighbors.map(id => data[id].id).join(', ');
        });
    </script>
</body>
</html>