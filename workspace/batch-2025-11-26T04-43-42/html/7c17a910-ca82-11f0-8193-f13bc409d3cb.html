<!DOCTYPE html>
<html>
<head>
    <title>Binary Search Tree</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #tree {
            margin: 40px auto;
            text-align: center;
        }
        #tree ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        #tree li {
            margin: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
        }
        #tree li:hover {
            background-color: #f0f0f0;
        }
        #tree li span {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Binary Search Tree</h1>
    <div id="tree"></div>

    <script>
        class Node {
            constructor(data) {
                this.data = data;
                this.left = null;
                this.right = null;
            }
        }

        class BinarySearchTree {
            constructor() {
                this.root = null;
            }

            insert(data) {
                if (this.root === null) {
                    this.root = new Node(data);
                } else {
                    this._insert(data, this.root);
                }
            }

            _insert(data, node) {
                if (data < node.data) {
                    if (node.left === null) {
                        node.left = new Node(data);
                    } else {
                        this._insert(data, node.left);
                    }
                } else {
                    if (node.right === null) {
                        node.right = new Node(data);
                    } else {
                        this._insert(data, node.right);
                    }
                }
            }

            inorderTraversal() {
                if (this.root !== null) {
                    this._inorderTraversal(this.root);
                }
            }

            _inorderTraversal(node) {
                if (node !== null) {
                    this._inorderTraversal(node.left);
                    document.getElementById("tree").innerHTML += "<li>" + node.data + "</li>";
                    this._inorderTraversal(node.right);
                }
            }

            search(data) {
                return this._search(data, this.root);
            }

            _search(data, node) {
                if (node === null || node.data === data) {
                    return node;
                } else if (data < node.data) {
                    return this._search(data, node.left);
                } else {
                    return this._search(data, node.right);
                }
            }

            delete(data) {
                this.root = this._delete(data, this.root);
            }

            _delete(data, node) {
                if (node === null) {
                    return node;
                }
                if (data < node.data) {
                    node.left = this._delete(data, node.left);
                } else if (data > node.data) {
                    node.right = this._delete(data, node.right);
                } else {
                    if (node.left === null && node.right === null) {
                        return null;
                    } else if (node.left === null) {
                        return node.right;
                    } else if (node.right === null) {
                        return node.left;
                    } else {
                        let minNode = this._findMin(node.right);
                        node.data = minNode.data;
                        node.right = this._delete(minNode.data, node.right);
                    }
                }
                return node;
            }

            _findMin(node) {
                while (node.left !== null) {
                    node = node.left;
                }
                return node;
            }
        }

        let bst = new BinarySearchTree();
        bst.insert(50);
        bst.insert(30);
        bst.insert(20);
        bst.insert(40);
        bst.insert(70);
        bst.insert(60);
        bst.insert(80);

        document.getElementById("tree").innerHTML = "<li>" + bst.root.data + "</li>";

        console.log("Inorder traversal: ");
        bst.inorderTraversal();

        console.log("Search for 40: ", bst.search(40).data);
        console.log("Delete 20: ", bst.delete(20).data);
        console.log("Inorder traversal after deletion: ");
        bst.inorderTraversal();
    </script>
</body>
</html>