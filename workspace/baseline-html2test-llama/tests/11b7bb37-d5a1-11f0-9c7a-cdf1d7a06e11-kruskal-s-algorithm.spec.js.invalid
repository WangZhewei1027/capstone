import { test, expect } from '@playwright/test';

const APP_URL = 'http://127.0.0.1:5500/workspace/baseline-html2test-llama/html/11b7bb37-d5a1-11f0-9c7a-cdf1d7a06e11.html';

// Page object for the Kruskal's Algorithm demo page
class KruskalPage {
  /**
   * @param {import('@playwright/test').Page} page
   */
  constructor(page) {
    this.page = page;
    this.numEdgesInput = page.locator('#num-edges');
    this.generateButton = page.locator('button', { hasText: 'Generate Graph' });
    this.displayButton = page.locator('button', { hasText: 'Display Graph' });
    this.graphDiv = page.locator('#graph');
    this.heading = page.locator('h1');
  }

  async goto() {
    await this.page.goto(APP_URL);
  }

  async setNumEdges(value) {
    await this.numEdgesInput.fill(''); // clear
    await this.numEdgesInput.type(String(value));
  }

  async clickGenerate() {
    await this.generateButton.click();
  }

  async clickDisplay() {
    await this.displayButton.click();
  }

  async graphInnerHTML() {
    return this.page.evaluate(() => document.getElementById('graph').innerHTML);
  }

  async graphChildCount() {
    return this.page.evaluate(() => document.getElementById('graph').children.length