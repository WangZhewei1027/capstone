<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Means Clustering</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #graph {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>K-Means Clustering</h1>
    <p>Enter the number of clusters (k):</p>
    <input type="number" id="k" value="3">
    <button id="generate">Generate Graph</button>
    <div id="graph"></div>

    <script>
        let k = document.getElementById('k').value;
        let data = [];
        let clusters = [];

        function addData(x, y) {
            data.push([x, y]);
        }

        function generateGraph() {
            const graph = document.getElementById('graph');
            graph.innerHTML = '';

            for (let i = 0; i < k; i++) {
                graph.innerHTML += '<div id="cluster' + i + '"></div>';
            }

            for (let i = 0; i < data.length; i++) {
                const x = data[i][0];
                const y = data[i][1];

                const cluster = {
                    x: x,
                    y: y,
                    count: 0,
                    sumX: 0,
                    sumY: 0,
                };

                clusters.push(cluster);

                for (let j = 0; j < k; j++) {
                    if (i !== j) {
                        const dist = Math.sqrt(Math.pow(x - clusters[j].x, 2) + Math.pow(y - clusters[j].y, 2));
                        const clusterX = clusters[j].x + dist / 2;
                        const clusterY = clusters[j].y + dist / 2;

                        cluster.count++;
                        cluster.sumX += x;
                        cluster.sumY += y;

                        graph.getElementById(`cluster${i}`).innerHTML += `<span class="cluster${i}">${x}</span><span class="cluster${i}">${y}</span><span class="cluster${i}">${dist}</span><span class="cluster${i}">${clusterX}</span><span class="cluster${i}">${clusterY}</span><br>`;
                    }
                }
            }

            for (let i = 0; i < k; i++) {
                const cluster = clusters[i];
                const x = cluster.sumX / cluster.count;
                const y = cluster.sumY / cluster.count;
                const radius = Math.sqrt(Math.pow(x - cluster.x, 2) + Math.pow(y - cluster.y, 2));

                const clusterElement = document.getElementById(`cluster${i}`);
                clusterElement.innerHTML = `<div class="cluster" style="background-color: lightgray; border: 1px solid black; position: absolute; width: ${x}px; height: ${y}px;"></div>`;
            }
        }

        document.getElementById('generate').addEventListener('click', generateGraph);
    </script>
</body>
</html>