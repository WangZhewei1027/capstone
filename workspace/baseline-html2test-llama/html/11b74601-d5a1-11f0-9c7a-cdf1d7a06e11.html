<!DOCTYPE html>
<html>
<head>
    <title>Deque Implementation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <h1>Deque Implementation</h1>
    <form id="deque-form">
        <label for="deque-size">Deque Size:</label>
        <input type="number" id="deque-size" required>
        <br>
        <button id="add-button">Add</button>
        <button id="remove-button">Remove</button>
        <button id="display-button">Display</button>
        <button id="clear-button">Clear</button>
        <button id="save-button">Save</button>
    </form>
    <div id="deque-container"></div>

    <script>
        let deque = [];

        document.getElementById('add-button').addEventListener('click', () => {
            let size = parseInt(document.getElementById('deque-size').value);
            deque.push(...Array(size).fill(0));
            document.getElementById('deque-container').innerHTML += '<div class="deque-item"></div>';
        });

        document.getElementById('remove-button').addEventListener('click', () => {
            let size = parseInt(document.getElementById('deque-size').value);
            for (let i = 0; i < size; i++) {
                let item = deque.pop();
                document.getElementById('deque-container').innerHTML += '<div class="deque-item"></div>';
            }
        });

        document.getElementById('display-button').addEventListener('click', () => {
            let output = '';
            for (let i = 0; i < deque.length; i++) {
                output += `<div class="deque-item">${deque[i]}</div>`;
            }
            document.getElementById('deque-container').innerHTML = output;
        });

        document.getElementById('clear-button').addEventListener('click', () => {
            deque.length = 0;
            document.getElementById('deque-container').innerHTML = '';
        });

        document.getElementById('save-button').addEventListener('click', () => {
            localStorage.setItem('deque', JSON.stringify(deque));
        });

        let storedDeque = localStorage.getItem('deque');
        if (storedDeque) {
            deque = JSON.parse(storedDeque);
        }

        document.getElementById('deque-size').addEventListener('input', () => {
            let size = parseInt(document.getElementById('deque-size').value);
            deque = deque.slice(0, size);
            document.getElementById('deque-container').innerHTML = '';
            for (let i = 0; i < deque.length; i++) {
                document.getElementById('deque-container').innerHTML += `<div class="deque-item">${deque[i]}</div>`;
            }
        });
    </script>
</body>
</html>