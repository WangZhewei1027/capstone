<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heap (Min/Max) Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #heap-container {
            width: 800px;
            height: 600px;
            border: 1px solid black;
            margin: 40px auto;
        }
        #heap {
            width: 100%;
            height: 100%;
            max-height: 300px;
        }
        #min-max {
            font-size: 24px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Heap (Min/Max) Demo</h1>
    <div id="heap-container">
        <div id="heap"></div>
        <div id="min-max">Heap Size: 10</div>
    </div>

    <script>
        class Heap {
            constructor() {
                this.heap = [];
            }

            insert(value) {
                this.heap.push(value);
                this.bubbleUp(this.heap.length - 1);
            }

            remove() {
                if (this.heap.length === 0) {
                    return null;
                }
                if (this.heap.length === 1) {
                    return this.heap.pop();
                }
                const value = this.heap[0];
                this.heap[0] = this.heap.pop();
                this.bubbleDown(0);
                return value;
            }

            bubbleUp(index) {
                while (index > 0) {
                    const parentIndex = Math.floor((index - 1) / 2);
                    if (this.heap[parentIndex] < this.heap[index]) {
                        this.swap(parentIndex, index);
                        index = parentIndex;
                    } else {
                        break;
                    }
                }
            }

            bubbleDown(index) {
                while (true) {
                    const leftChildIndex = 2 * index + 1;
                    const rightChildIndex = 2 * index + 2;
                    let smallest = index;
                    if (leftChildIndex < this.heap.length && this.heap[leftChildIndex] < this.heap[smallest]) {
                        smallest = leftChildIndex;
                    }
                    if (rightChildIndex < this.heap.length && this.heap[rightChildIndex] < this.heap[smallest]) {
                        smallest = rightChildIndex;
                    }
                    if (smallest === index) {
                        break;
                    }
                    this.swap(smallest, index);
                    index = smallest;
                }
            }

            swap(i, j) {
                const temp = this.heap[i];
                this.heap[i] = this.heap[j];
                this.heap[j] = temp;
            }
        }

        const heap = new Heap();

        document.getElementById("min-max").innerHTML = `Heap Size: ${heap.heap.length}`;

        document.getElementById("heap").innerHTML = `
            <div id="heap"></div>
            <div id="min-max">Heap Size: ${heap.heap.length}</div>
        `;

        // Insert values
        for (let i = 0; i < 10; i++) {
            heap.insert(i);
        }

        // Remove values
        while (heap.heap.length > 0) {
            const removedValue = heap.remove();
            document.getElementById("heap").innerHTML += ` Removed: ${removedValue} <br>`;
            document.getElementById("min-max").innerHTML = `Heap Size: ${heap.heap.length}`;
        }
    </script>
</body>
</html>