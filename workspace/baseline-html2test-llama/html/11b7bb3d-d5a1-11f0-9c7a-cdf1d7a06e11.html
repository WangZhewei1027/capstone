<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huffman Coding Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <h1>Huffman Coding Example</h1>
    <p>Enter the number of symbols:</p>
    <input type="number" id="symbols" value="10">
    <button id="encode-button">Encode</button>
    <button id="decode-button">Decode</button>
    <div id="output"></div>

    <script>
        // Get the input element
        const symbolsInput = document.getElementById('symbols');
        const encodeButton = document.getElementById('encode-button');
        const decodeButton = document.getElementById('decode-button');
        const outputDiv = document.getElementById('output');

        // Get the input value
        const inputValue = symbolsInput.value;

        // Get the number of symbols
        const numSymbols = parseInt(inputValue);

        // Create a frequency map
        const frequencyMap = {};
        for (let i = 0; i < numSymbols; i++) {
            const symbol = String.fromCharCode(i + 97); // Convert to lowercase
            frequencyMap[symbol] = 0;
        }

        // Populate the frequency map
        for (let i = 0; i < inputValue; i++) {
            const symbol = String.fromCharCode(i + 97); // Convert to lowercase
            frequencyMap[symbol]++;
        }

        // Build the Huffman tree
        const huffmanTree = buildHuffmanTree(frequencyMap);

        // Generate the Huffman codes
        const huffmanCodes = generateHuffmanCodes(huffmanTree);

        // Encode the input
        const encodedText = encodeInput(inputValue, huffmanCodes);

        // Display the encoded text
        outputDiv.innerText = encodedText;

        // Decode the input
        const decodedText = decodeInput(encodedText, huffmanCodes);

        // Display the decoded text
        outputDiv.innerText = decodedText;
    </script>

    <script>
        // Function to build the Huffman tree
        function buildHuffmanTree(frequencyMap) {
            const sortedFrequencyMap = Object.entries(frequencyMap).sort((a, b) => b[1] - a[1]);
            const huffmanTree = {};
            for (const [symbol, frequency] of sortedFrequencyMap) {
                if (!huffmanTree[symbol]) {
                    huffmanTree[symbol] = {};
                }
                huffmanTree[symbol][frequency] = symbol;
            }
            return huffmanTree;
        }

        // Function to generate the Huffman codes
        function generateHuffmanCodes(huffmanTree) {
            const huffmanCodes = {};
            function generateCodes(node, code) {
                if (Object.keys(node).length === 0) {
                    huffmanCodes[node] = code;
                } else {
                    for (const symbol in node) {
                        generateCodes(node[symbol], code + symbol);
                    }
                }
            }
            generateCodes(huffmanTree, '');
            return huffmanCodes;
        }

        // Function to encode the input
        function encodeInput(inputValue, huffmanCodes) {
            let encodedText = '';
            for (const symbol in inputValue) {
                const code = huffmanCodes[symbol];
                encodedText += code + inputValue[symbol];
            }
            return encodedText;
        }

        // Function to decode the input
        function decodeInput(encodedText, huffmanCodes) {
            let decodedText = '';
            let temp = encodedText;
            for (const symbol in huffmanCodes) {
                decodedText += symbol;
                temp = temp.replace(huffmanCodes[symbol], '');
            }
            return decodedText;
        }
    </script>
</body>
</html>