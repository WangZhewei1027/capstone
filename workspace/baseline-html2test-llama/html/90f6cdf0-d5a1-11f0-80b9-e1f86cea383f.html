<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Union-Find (Disjoint Set)</title>
    <style>
        #graph {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Union-Find (Disjoint Set)</h1>
    <h2>Example</h2>
    <input id="num-vertices" type="number" placeholder="Enter the number of vertices">
    <button id="generate-graph">Generate Graph</button>
    <div id="graph"></div>

    <script>
        let graph = new Array(10).fill(0).map(() => []);
        let unionSet = new Array(10).fill(0).map(() => new Set());

        function find(x) {
            if (unionSet[x].has(x)) {
                return x;
            }
            return unionSet[x].set(x, find(unionSet[x].get(x)));
        }

        function union(x, y) {
            let rootX = find(x);
            let rootY = find(y);
            if (rootX !== rootY) {
                unionSet[rootX].delete(rootY);
                unionSet[rootY].delete(rootX);
            }
        }

        document.getElementById('num-vertices').addEventListener('input', function () {
            let numVertices = parseInt(this.value);
            graph = new Array(numVertices).fill(0).map(() => []);
            for (let i = 0; i < numVertices; i++) {
                let vertex = document.getElementById('num-vertices').value;
                graph[i].push(vertex);
                for (let j = 0; j < graph[i].length; j++) {
                    let otherVertex = document.getElementById(`graph-${i}-${j}`).value;
                    graph[i].push(otherVertex);
                    graph[otherVertex].push(i);
                }
            }
            let edges = [];
            for (let i = 0; i < numVertices; i++) {
                for (let j = i + 1; j < numVertices; j++) {
                    edges.push([i, j]);
                }
            }
            edges.sort((a, b) => a[0] - b[0]);
            for (let edge of edges) {
                union(edge[0], edge[1]);
            }
            let parent = new Array(numVertices).fill(-1);
            for (let i = 0; i < numVertices; i++) {
                parent[i] = find(i);
            }
            let result = '';
            for (let i = 0; i < numVertices; i++) {
                result += parent[i] + ' ';
            }
            document.getElementById('graph').innerHTML = '<table border="1"><tr><th>Vertex</th><th>Parent</th></tr>';
            for (let i = 0; i < numVertices; i++) {
                let row = '<tr><td>' + graph[i][0] + '</td><td>' + parent[i] + '</td></tr>';
                document.getElementById('graph').innerHTML += row + '<tr>';
            }
            document.getElementById('graph').innerHTML += '</table>';
        });

        document.getElementById('generate-graph').addEventListener('click', function () {
            let numVertices = parseInt(document.getElementById('num-vertices').value);
            graph = new Array(numVertices).fill(0).map(() => []);
            for (let i = 0; i < numVertices; i++) {
                let vertex = document.getElementById('num-vertices').value;
                graph[i].push(vertex);
                for (let j = 0; j < graph[i].length; j++) {
                    let otherVertex = document.getElementById(`graph-${i}-${j}`).value;
                    graph[i].push(otherVertex);
                    graph[otherVertex].push(i);
                }
            }
            let edges = [];
            for (let i = 0; i < numVertices; i++) {
                for (let j = i + 1; j < numVertices; j++) {
                    edges.push([i, j]);
                }
            }
            edges.sort((a, b) => a[0] - b[0]);
            for (let edge of edges) {
                union(edge[0], edge[1]);
            }
            let parent = new Array(numVertices).fill(-1);
            for (let i = 0; i < numVertices; i++) {
                parent[i] = find(i);
            }
            let result = '';
            for (let i = 0; i < numVertices; i++) {
                result += parent[i] + ' ';
            }
            document.getElementById('graph').innerHTML = '<table border="1"><tr><th>Vertex</th><th>Parent</th></tr>';
            for (let i = 0; i < numVertices; i++) {
                let row = '<tr><td>' + graph[i][0] + '</td><td>' + parent[i] + '</td></tr>';
                document.getElementById('graph').innerHTML += row + '<tr>';
            }
            document.getElementById('graph').innerHTML += '</table>';
        });
    </script>
</body>
</html>