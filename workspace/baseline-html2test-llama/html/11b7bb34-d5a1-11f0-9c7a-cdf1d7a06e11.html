<!DOCTYPE html>
<html>
<head>
    <title>Dijkstra's Algorithm</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        #graph {
            width: 800px;
            height: 600px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Dijkstra's Algorithm</h1>
    <p>Find the shortest path between two nodes in a graph using Dijkstra's algorithm.</p>
    <input id="graph" type="text" placeholder="Enter graph data (adjacency list)">
    <button id="start">Start</button>
    <button id="result">Result</button>
    <div id="graph-container"></div>

    <script>
        let graph = {};
        let startNode = null;
        let endNode = null;
        let distances = {};
        let previousNodes = {};
        let queue = [];

        function addNode(node, neighbors) {
            graph[node] = neighbors;
            return node;
        }

        function addEdge(node1, node2, weight) {
            if (!graph[node1]) graph[node1] = {};
            if (!graph[node2]) graph[node2] = {};
            graph[node1][node2] = weight;
            graph[node2][node1] = weight;
        }

        function dijkstra(startNode) {
            distances[startNode] = 0;
            queue.push([startNode, 0]);

            while (queue.length > 0) {
                let [node, dist] = queue.shift();

                if (dist > distances[node]) continue;

                for (let neighbor in graph[node]) {
                    let newDist = dist + graph[node][neighbor];
                    if (!distances[neighbor] || newDist < distances[neighbor]) {
                        distances[neighbor] = newDist;
                        previousNodes[neighbor] = node;
                        queue.push([neighbor, newDist]);
                    }
                }
            }
        }

        function printPath(node, path) {
            if (node === endNode) {
                console.log(path);
                return;
            }

            for (let neighbor in graph[node]) {
                if (graph[node][neighbor] === distances[neighbor]) {
                    let newPath = [...path, neighbor];
                    printPath(neighbor, newPath);
                }
            }
        }

        function start() {
            startNode = prompt("Enter start node:");
            endNode = prompt("Enter end node:");

            if (!startNode || !endNode) return;

            addNode(startNode, graph);
            addNode(endNode, graph);

            dijkstra(startNode);

            let path = [];
            printPath(startNode, path);
        }

        document.getElementById("start").addEventListener("click", start);
        document.getElementById("result").addEventListener("click", () => {
            let graphContainer = document.getElementById("graph-container");
            graphContainer.innerHTML = "";
            for (let node in graph) {
                graphContainer.innerHTML += `<p>${node} -> ${graph[node]}\n`;
            }
        });
    </script>
</body>
</html>