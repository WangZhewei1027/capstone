<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red-Black Tree</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #tree {
            width: 300px;
            height: 400px;
            border: 1px solid black;
            margin: 50px auto;
        }
        .node {
            position: relative;
            width: 50px;
            height: 50px;
            border: 1px solid black;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            line-height: 50px;
        }
        .node.left {
            transform: rotateX(180deg);
        }
        .node.right {
            transform: rotateX(0deg);
        }
        .node.top {
            transform: translateY(-50%);
        }
        .node.bottom {
            transform: translateY(50%);
        }
    </style>
</head>
<body>
    <input type="text" id="value" placeholder="Enter value to insert">
    <button id="insert">Insert</button>
    <button id="delete">Delete</button>
    <button id="search">Search</button>
    <div id="tree"></div>

    <script>
        class Node {
            constructor(value, left = null, right = null) {
                this.value = value;
                this.left = left;
                this.right = right;
            }
        }

        class RedBlackTree {
            constructor() {
                this.root = null;
            }

            insert(value) {
                if (this.root === null) {
                    this.root = new Node(value);
                } else {
                    this.root = this.insertNode(this.root, value);
                }
            }

            insertNode(node, value) {
                if (value < node.value) {
                    if (node.left === null) {
                        node.left = new Node(value);
                    } else {
                        node.left = this.insertNode(node.left, value);
                    }
                } else {
                    if (node.right === null) {
                        node.right = new Node(value);
                    } else {
                        node.right = this.insertNode(node.right, value);
                    }
                }
                return node;
            }

            delete(value) {
                this.root = this.deleteNode(this.root, value);
            }

            deleteNode(node, value) {
                if (node === null) {
                    return node;
                }
                if (value < node.value) {
                    node.left = this.deleteNode(node.left, value);
                } else if (value > node.value) {
                    node.right = this.deleteNode(node.right, value);
                } else {
                    if (node.left === null && node.right === null) {
                        return null;
                    } else if (node.left === null) {
                        return node.right;
                    } else if (node.right === null) {
                        return node.left;
                    } else {
                        // Find the node to be deleted
                        let successor = this.findSuccessor(node);
                        node.value = successor.value;
                        node.right = this.deleteNode(node.right, successor.value);
                    }
                }
                return node;
            }

            findSuccessor(node) {
                while (node.right !== null) {
                    node = node.right;
                }
                return node;
            }

            search(value) {
                return this.searchNode(this.root, value);
            }

            searchNode(node, value) {
                if (node === null) {
                    return false;
                }
                if (value < node.value) {
                    return this.searchNode(node.left, value);
                } else if (value > node.value) {
                    return this.searchNode(node.right, value);
                } else {
                    return true;
                }
            }
        }

        let tree = new RedBlackTree();
        let input = document.getElementById("value");
        let insertButton = document.getElementById("insert");
        let deleteButton = document.getElementById("delete");
        let searchButton = document.getElementById("search");

        insertButton.addEventListener("click", () => {
            let value = parseInt(input.value);
            tree.insert(value);
            input.value = "";
            updateTree();
        });

        deleteButton.addEventListener("click", () => {
            let value = parseInt(input.value);
            tree.delete(value);
            input.value = "";
            updateTree();
        });

        searchButton.addEventListener("click", () => {
            let value = parseInt(input.value);
            let result = tree.search(value);
            if (result) {
                document.getElementById("tree").innerHTML = `<p>Found: ${value}</p>`;
            } else {
                document.getElementById("tree").innerHTML = `<p>Not found</p>`;
            }
            input.value = "";
            updateTree();
        });

        function updateTree() {
            let treeString = "";
            let node = tree.root;
            while (node !== null) {
                treeString += `<p>${node.value}</p>`;
                node = node.left;
            }
            document.getElementById("tree").innerHTML = treeString;
        }
    </script>
</body>
</html>