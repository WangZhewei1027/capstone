<!DOCTYPE html>
<html>
<head>
    <title>Union-Find (Disjoint Set)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #graph {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Union-Find (Disjoint Set)</h1>
    <input type="number" id="num-vertices" placeholder="Enter number of vertices">
    <button id="add-vertex">Add Vertex</button>
    <button id="union-vertices">Union Vertices</button>
    <button id="find-vertex">Find Vertex</button>
    <button id="print-vertices">Print Vertices</button>
    <canvas id="graph"></canvas>

    <script>
        let vertices = new Array();
        let edges = new Array();
        let parent = new Array();
        let rank = new Array();
        let color = new Array();

        // Function to find parent of a vertex
        function find(x) {
            if (parent[x] !== x) {
                parent[x] = find(parent[x]);
            }
            return parent[x];
        }

        // Function to union two vertices
        function union(x, y) {
            let rootX = find(x);
            let rootY = find(y);
            if (rootX !== rootY) {
                if (rank[rootX] > rank[rootY]) {
                    parent[rootY] = rootX;
                } else if (rank[rootX] < rank[rootY]) {
                    parent[rootX] = rootY;
                } else {
                    parent[rootY] = rootX;
                    rank[rootX]++;
                }
            }
        }

        // Function to draw the graph
        function drawGraph() {
            let ctx = document.getElementById('graph').getContext('2d');
            ctx.clearRect(0, 0, 400, 400);
            for (let vertex of vertices) {
                ctx.beginPath();
                ctx.arc(vertex, 20, 10, 0, 2 * Math.PI);
                ctx.fillStyle = 'blue';
                ctx.fill();
            }
            for (let edge of edges) {
                let x1 = vertices[edge[0]];
                let y1 = color[edge[0]];
                let x2 = vertices[edge[1]];
                let y2 = color[edge[1]];
                ctx.beginPath();
                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
                ctx.strokeStyle = 'red';
                ctx.stroke();
            }
        }

        // Event listeners
        document.getElementById('add-vertex').addEventListener('click', () => {
            let numVertices = parseInt(document.getElementById('num-vertices').value);
            vertices = new Array(numVertices);
            for (let i = 0; i < numVertices; i++) {
                vertices[i] = i;
            }
            edges = new Array();
            for (let i = 0; i < numVertices; i++) {
                for (let j = i + 1; j < numVertices; j++) {
                    edges.push([i, j]);
                }
            }
            parent = new Array(numVertices);
            rank = new Array(numVertices);
            color = new Array(numVertices);
            drawGraph();
        });

        document.getElementById('union-vertices').addEventListener('click', () => {
            let vertex1 = parseInt(document.getElementById('vertex1').value) - 1;
            let vertex2 = parseInt(document.getElementById('vertex2').value) - 1;
            union(vertex1, vertex2);
            drawGraph();
        });

        document.getElementById('find-vertex').addEventListener('click', () => {
            let vertex = parseInt(document.getElementById('vertex').value) - 1;
            console.log(find(vertex));
        });

        document.getElementById('print-vertices').addEventListener('click', () => {
            console.log(vertices);
        });
    </script>
</body>
</html>