<!DOCTYPE html>
<html>
<head>
  <title>K-Nearest Neighbors (KNN) Example</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .container {
      width: 80%;
      margin: 40px auto;
    }
    .input-field {
      width: 50%;
      padding: 10px;
      font-size: 18px;
    }
    .button {
      width: 100%;
      padding: 10px 20px;
      font-size: 18px;
      background-color: #4CAF50;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .button:hover {
      background-color: #3e8e41;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>K-Nearest Neighbors (KNN) Example</h2>
    <form>
      <label for="distance">Enter distance (e.g., 5):</label>
      <input type="number" id="distance" placeholder="e.g., 5" value="5">
      <br><br>
      <label for="input-field">Enter data:</label>
      <input type="text" id="input-field" placeholder="Enter data">
      <br><br>
      <button class="button" onclick="knn()">KNN</button>
    </form>
    <div id="result"></div>
  </div>

  <script>
    function knn() {
      const distance = parseFloat(document.getElementById("distance").value);
      const inputField = document.getElementById("input-field").value;
      const data = document.querySelectorAll(".input-field");

      const nearestNeighbors = [];

      for (const item of data) {
        const value = parseFloat(item.textContent);
        const neighbor = item;
        const distanceToNeighbor = Math.abs(value - inputField);

        if (nearestNeighbors.length < 2) {
          nearestNeighbors.push(neighbor);
        } else {
          const minDistance = Math.min(...nearestNeighbors.map(neighbor => Math.abs(neighbor.textContent - value)));
          if (distanceToNeighbor < minDistance) {
            nearestNeighbors = [neighbor];
          } else if (distanceToNeighbor === minDistance) {
            nearestNeighbors.push(neighbor);
          }
        }
      }

      const result = nearestNeighbors.map(neighbor => {
        const value = parseFloat(neighbor.textContent);
        return value - inputField;
      }).sort((a, b) => b - a);

      const resultText = document.getElementById("result");
      resultText.innerHTML = `The KNN nearest neighbors are: ${result.map((x, i) => `Neighbor ${i + 1}: ${x}`).join(" ")}`;

      if (nearestNeighbors.length > 0) {
        resultText.style.color = "blue";
      } else {
        resultText.style.color = "red";
      }
    }
  </script>
</body>
</html>