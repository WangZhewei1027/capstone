<!DOCTYPE html>
<html>
<head>
    <title>Bellman-Ford Algorithm</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #graph {
            width: 800px;
            height: 400px;
            border: 1px solid black;
        }
        #input {
            width: 50%;
            height: 30px;
            font-size: 16px;
            padding: 10px;
            border: 1px solid black;
        }
        #output {
            width: 50%;
            height: 30px;
            font-size: 16px;
            padding: 10px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Bellman-Ford Algorithm</h1>
    <form id="graph-form">
        <label for="source">Source:</label>
        <input type="text" id="source" required><br><br>
        <label for="vertices">Vertices:</label>
        <input type="number" id="vertices" required><br><br>
        <label for="edges">Edges:</label>
        <input type="number" id="edges" required><br><br>
        <button type="submit">Apply Bellman-Ford</button>
    </form>
    <div id="graph"></div>
    <div id="input"></div>
    <div id="output"></div>

    <script>
        let source;
        let vertices;
        let edges;
        let graph = {};

        function createGraph() {
            source = parseInt(document.getElementById("source").value);
            vertices = parseInt(document.getElementById("vertices").value);
            edges = parseInt(document.getElementById("edges").value);

            for (let i = 1; i <= vertices; i++) {
                graph[i] = {};
            }

            for (let i = 1; i <= edges; i++) {
                let x = parseInt(document.getElementById("x").value);
                let y = parseInt(document.getElementById("y").value);
                let w = parseInt(document.getElementById("w").value);

                graph[x][y] = w;
                graph[y][x] = w;
            }

            for (let i = 1; i <= vertices; i++) {
                graph[i][i] = 0;
            }
        }

        function dijkstra(source) {
            let distances = new Array(vertices + 1).fill(Infinity);
            distances[source] = 0;

            let queue = new Array(vertices + 1).fill(0);
            queue[source] = 0;

            while (queue.length > 0) {
                let u = queue.shift();
                for (let v in graph[u]) {
                    if (graph[u][v] > 0 && distances[v] > distances[u] + graph[u][v]) {
                        distances[v] = distances[u] + graph[u][v];
                        queue.push(v);
                    }
                }
            }

            return distances;
        }

        createGraph();
        document.getElementById("input").innerHTML = "Vertices: " + vertices + "<br>Edges: " + edges;

        function plotGraph() {
            let graphStr = "";
            for (let i = 1; i <= vertices; i++) {
                graphStr += i + " -> ";
                for (let j in graph[i]) {
                    graphStr += graph[i][j] + " ";
                }
                graphStr += "<br>";
            }

            document.getElementById("graph").innerHTML = graphStr;
        }

        function bellmanFord() {
            let distances = dijkstra(source);
            plotGraph();

            for (let i = 1; i <= vertices; i++) {
                for (let j in graph[i]) {
                    if (graph[i][j] > 0 && distances[i] + graph[i][j] > distances[j]) {
                        console.log("Negative weight detected");
                    }
                }
            }
        }

        document.getElementById("graph-form").addEventListener("submit", function (e) {
            e.preventDefault();
            createGraph();
            bellmanFord();
        });
    </script>
</body>
</html>