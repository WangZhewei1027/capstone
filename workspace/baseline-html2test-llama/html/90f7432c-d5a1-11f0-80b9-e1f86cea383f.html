<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Regression</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 500px;
            margin: 40px auto;
            padding: 20px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .input-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 10px;
        }
        input[type="number"] {
            width: 100%;
            height: 30px;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ccc;
        }
        button {
            width: 100%;
            height: 30px;
            background-color: #4CAF50;
            color: #fff;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #3e8e41;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Linear Regression</h2>
        <form>
            <div class="input-group">
                <label for="x">X (dependent variable):</label>
                <input type="number" id="x" name="x">
            </div>
            <div class="input-group">
                <label for="y">Y (independent variable):</label>
                <input type="number" id="y" name="y">
            </div>
            <button type="submit" id="submit">Submit</button>
        </form>
        <h2>Output:</h2>
        <div id="output"></div>
    </div>

    <script>
        const x = document.getElementById('x');
        const y = document.getElementById('y');
        const output = document.getElementById('output');

        // Get the dependent and independent variables
        const dependentVariable = 'x';
        const independentVariable = 'y';

        // Function to calculate the linear regression equation
        function calculateRegressionEquation(x, y) {
            const meanX = x.reduce((sum, current) => sum + current, 0) / x.length;
            const meanY = y.reduce((sum, current) => sum + current, 0) / y.length;
            const numerator = x.reduce((sum, current) => sum + (current - meanX) * (current - meanY), 0);
            const denominator = x.reduce((sum, current) => sum + Math.pow(current - meanX, 2), 0);
            const regressionCoefficient = numerator / denominator;
            return regressionCoefficient;
        }

        // Function to calculate the predicted values
        function calculatePredictedValues(x, y, regressionCoefficient) {
            return x.map((xValue, index) => xValue - meanX + regressionCoefficient * (xValue - meanX));
        }

        // Function to calculate the mean squared error
        function calculateMeanSquaredError(y, predictedValues) {
            return y.reduce((sum, current) => sum + Math.pow(current - predictedValues[current], 2), 0) / y.length;
        }

        // Function to calculate the R-squared value
        function calculateRSquared(y, predictedValues) {
            return 1 - calculateMeanSquaredError(y, predictedValues) / Math.max(...y);
        }

        // Get the linear regression equation
        const regressionCoefficient = calculateRegressionEquation(x, y);

        // Calculate the predicted values
        const predictedValues = calculatePredictedValues(x, y, regressionCoefficient);

        // Calculate the mean squared error
        const mse = calculateMeanSquaredError(y, predictedValues);

        // Calculate the R-squared value
        const rSquared = calculateRSquared(y, predictedValues);

        // Display the results
        output.innerHTML = `Regression Equation: y = ${regressionCoefficient}x + ${regressionCoefficient * meanX}`;
        output.innerHTML += `\nPredicted Values: ${predictedValues.map((value, index) => `${index + 1}: ${value}`).join('\n')}`;
        output.innerHTML += `\nMean Squared Error: ${mse}`;
        output.innerHTML += `\nR-squared Value: ${rSquared}`;
    </script>
</body>
</html>