<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Means Clustering</title>
    <style>
        #graph {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>K-Means Clustering</h1>
    <div id="graph"></div>
    <input id="input" type="number" placeholder="Enter the number of clusters">
    <button id="start">Start Clustering</button>
    <button id="show">Show Graph</button>

    <script>
        let inputNumber = parseInt(document.getElementById('input').value);
        let data = [];

        document.getElementById('start').addEventListener('click', () => {
            document.getElementById('input').value = '';
            generateData(inputNumber);
        });

        document.getElementById('show').addEventListener('click', () => {
            if (inputNumber <= 0) {
                alert('Please enter a positive number for the number of clusters');
                return;
            }

            drawGraph(data);
        });

        function generateData(numClusters) {
            for (let i = 0; i < numClusters; i++) {
                data.push({
                    x: Math.random() * 100,
                    y: Math.random() * 100
                });
            }
        }

        function drawGraph(data) {
            let ctx = document.getElementById('graph');
            ctx.clearRect(0, 0, 400, 400);
            ctx.beginPath();
            ctx.arc(200, 200, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'blue';
            ctx.fill();

            let clusters = new Array(data.length);
            let centroids = new Array(data.length);

            for (let i = 0; i < data.length; i++) {
                clusters[i] = [data[i].x, data[i].y];
                centroids[i] = [data[i].x, data[i].y];
            }

            for (let i = 0; i < inputNumber; i++) {
                let xMin = Math.min(...clusters.map(c => c[0]));
                let yMin = Math.min(...clusters.map(c => c[1]));
                let xMax = Math.max(...clusters.map(c => c[0]));
                let yMax = Math.max(...clusters.map(c => c[1]));

                let x = (xMin + xMax) / 2;
                let y = (yMin + yMax) / 2;

                ctx.beginPath();
                ctx.arc(x, y, 10, 0, 2 * Math.PI);
                ctx.fillStyle = 'green';
                ctx.fill();

                ctx.beginPath();
                ctx.arc(x + 20, y + 20, 10, 0, 2 * Math.PI);
                ctx.fillStyle = 'red';
                ctx.fill();

                let cluster = [x, y];
                let centroid = [x, y];

                for (let j = 0; j < inputNumber; j++) {
                    let x = (xMin + xMax) / 2;
                    let y = (yMin + yMax) / 2;

                    if (Math.abs(x - xMin) < 10 && Math.abs(y - yMin) < 10) {
                        cluster = [x, y];
                        centroid = [x, y];
                    }
                }

                centroids[i] = [centroid[0], centroid[1]];
            }

            let maxDistance = 0;
            for (let i = 0; i < inputNumber; i++) {
                let distance = Math.sqrt(Math.pow(clusters[i][0] - centroids[i][0], 2) + Math.pow(clusters[i][1] - centroids[i][1], 2));
                if (distance > maxDistance) {
                    maxDistance = distance;
                }
            }

            ctx.beginPath();
            ctx.arc(200, 200, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'blue';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 20, 200 + 20, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'red';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 40, 200 + 40, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'green';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 60, 200 + 60, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'yellow';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 80, 200 + 80, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'purple';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 100, 200 + 100, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'orange';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 120, 200 + 120, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'pink';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 140, 200 + 140, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'brown';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 160, 200 + 160, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'gray';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 180, 200 + 180, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'black';
            ctx.fill();

            ctx.beginPath();
            ctx.arc(200 + 200, 200 + 200, 100, 0, 2 * Math.PI);
            ctx.fillStyle = 'white';
            ctx.fill();
        }
    </script>
</body>
</html>