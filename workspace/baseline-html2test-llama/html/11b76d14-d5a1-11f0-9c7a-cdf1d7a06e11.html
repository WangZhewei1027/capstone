<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weighted Graph</title>
    <style>
        #graph {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Weighted Graph</h1>
    <canvas id="graph" width="400" height="400"></canvas>

    <script>
        const canvas = document.getElementById('graph');
        const ctx = canvas.getContext('2d');

        let nodes = [];
        let edges = [];
        let weights = [];

        function addNode(node) {
            nodes.push(node);
            edges.push([]);
            weights.push(0);
        }

        function addEdge(from, to, weight) {
            edges[from].push(to);
            weights[from] += weight;
        }

        function drawGraph() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let node of nodes) {
                ctx.beginPath();
                ctx.arc(node.x, node.y, 10, 0, 2 * Math.PI);
                ctx.fillStyle = 'black';
                ctx.fill();
                ctx.fillStyle = 'white';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(node.name, node.x, node.y);
            }

            for (let i = 0; i < edges.length; i++) {
                ctx.beginPath();
                ctx.moveTo(nodes[i].x, nodes[i].y);
                for (let j = 0; j < edges[i].length; j++) {
                    ctx.lineTo(nodes[i].x + 20 * Math.cos((edges[i][j] * Math.PI) / 180), nodes[i].y + 20 * Math.sin((edges[i][j] * Math.PI) / 180));
                }
                ctx.strokeStyle = 'black';
                ctx.lineWidth = 2;
                ctx.stroke();
            }

            for (let i = 0; i < weights.length; i++) {
                ctx.beginPath();
                ctx.arc(i, canvas.height / 2, 5, 0, 2 * Math.PI);
                ctx.fillStyle = 'black';
                ctx.fill();
                ctx.fillStyle = 'white';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(weights[i], i, canvas.height / 2);
            }
        }

        function drawGraphNodes() {
            for (let i = 0; i < nodes.length; i++) {
                ctx.beginPath();
                ctx.arc(nodes[i].x, nodes[i].y, 5, 0, 2 * Math.PI);
                ctx.fillStyle = 'black';
                ctx.fill();
                ctx.fillStyle = 'white';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(nodes[i].name, nodes[i].x, nodes[i].y);
            }
        }

        function drawGraphEdges() {
            for (let i = 0; i < edges.length; i++) {
                ctx.beginPath();
                ctx.moveTo(nodes[i].x, nodes[i].y);
                for (let j = 0; j < edges[i].length; j++) {
                    ctx.lineTo(nodes[i].x + 20 * Math.cos((edges[i][j] * Math.PI) / 180), nodes[i].y + 20 * Math.sin((edges[i][j] * Math.PI) / 180));
                }
                ctx.strokeStyle = 'black';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        }

        addNode('A');
        addNode('B');
        addNode('C');
        addNode('D');

        addEdge('A', 'B', 5);
        addEdge('B', 'C', 3);
        addEdge('C', 'D', 4);
        addEdge('D', 'A', 2);

        drawGraph();
        drawGraphNodes();
        drawGraphEdges();
    </script>
</body>
</html>