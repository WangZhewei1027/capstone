<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bellman-Ford Algorithm</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        .button {
            padding: 10px 15px;
            margin-top: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        .button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>

<h2>Bellman-Ford Algorithm Visualization</h2>
<p>Enter the number of vertices and the edges (source, destination, weight) in the format:</p>
<p><strong>source destination weight</strong></p>
<textarea id="edges" rows="10" cols="50" placeholder="0 1 4&#10;0 2 1&#10;1 2 2&#10;1 3 5"></textarea><br>
<button class="button" id="run">Run Bellman-Ford</button>

<h3>Result:</h3>
<pre id="output"></pre>

<script>
    function bellmanFord(graph, V, start) {
        const dist = new Array(V).fill(Infinity);
        dist[start] = 0;

        for (let i = 1; i < V; i++) {
            for (const [u, v, weight] of graph) {
                if (dist[u] !== Infinity && dist[u] + weight < dist[v]) {
                    dist[v] = dist[u] + weight;
                }
            }
        }

        // Check for negative-weight cycles
        for (const [u, v, weight] of graph) {
            if (dist[u] !== Infinity && dist[u] + weight < dist[v]) {
                return "Graph contains negative weight cycle";
            }
        }

        return dist;
    }

    document.getElementById("run").addEventListener("click", () => {
        const edgesInput = document.getElementById("edges").value.trim();
        const edgesLines = edgesInput.split("\n");
        const graph = [];
        let V = 0;

        edgesLines.forEach(line => {
            const parts = line.split(" ");
            if (parts.length === 3) {
                const u = parseInt(parts[0]);
                const v = parseInt(parts[1]);
                const weight = parseInt(parts[2]);
                graph.push([u, v, weight]);
                V = Math.max(V, u + 1, v + 1); // Adjusting vertices count
            }
        });

        const result = bellmanFord(graph, V, 0);
        document.getElementById("output").innerText = JSON.stringify(result);
    });
</script>
</body>
</html>