<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph Visualization</title>
    <style>
        #graph {
            width: 600px;
            height: 400px;
            border: 1px solid #ccc;
            position: relative;
            margin: 20px auto;
        }
        .node {
            width: 20px;
            height: 20px;
            background-color: #007bff;
            border-radius: 50%;
            position: absolute;
            text-align: center;
            line-height: 20px;
            color: white;
            cursor: pointer;
        }
        .edge {
            position: absolute;
            height: 0;
            width: 0;
            border: 1px solid #ccc;
            border-left: none;
            border-bottom: none;
            transform-origin: 0 0;
        }
    </style>
</head>
<body>
    <h2>Graph Visualization (Directed/Undirected)</h2>
    <div id="graph"></div>

    <button onclick="addNode()">Add Node</button>
    <button onclick="addDirectedEdge()">Add Directed Edge</button>
    <button onclick="addUndirectedEdge()">Add Undirected Edge</button>

    <script>
        const graphContainer = document.getElementById('graph');
        let nodes = [];
        let edges = [];
        let nodeCount = 0;

        function addNode() {
            const node = {
                id: nodeCount,
                x: Math.random() * (graphContainer.clientWidth - 20),
                y: Math.random() * (graphContainer.clientHeight - 20)
            };
            nodes.push(node);
            nodeCount++;
            drawNode(node);
        }

        function drawNode(node) {
            const nodeDiv = document.createElement('div');
            nodeDiv.className = 'node';
            nodeDiv.style.left = node.x + 'px';
            nodeDiv.style.top = node.y + 'px';
            nodeDiv.innerText = node.id;
            nodeDiv.onclick = () => selectNode(node.id);
            graphContainer.appendChild(nodeDiv);
        }

        let selectedNode1 = null;
        
        function selectNode(nodeId) {
            if (selectedNode1 === null) {
                selectedNode1 = nodeId;
            } else {
                const node1 = nodes[selectedNode1];
                const node2 = nodes[nodeId];
                edges.push({from: node1.id, to: node2.id});
                drawEdge(node1, node2);
                selectedNode1 = null;
            }
        }

        function drawEdge(node1, node2) {
            const edgeDiv = document.createElement('div');
            edgeDiv.className = 'edge';
            const x1 = node1.x + 10;
            const y1 = node1.y + 10;
            const x2 = node2.x + 10;
            const y2 = node2.y + 10;

            const length = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
            const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;

            edgeDiv.style.width = length + 'px';
            edgeDiv.style.transform = `rotate(${angle}deg)`;
            edgeDiv.style.left = x1 + 'px';
            edgeDiv.style.top = y1 + 'px';
            graphContainer.appendChild(edgeDiv);
        }

        function addDirectedEdge() {
            alert("Select two nodes to add a directed edge. Click the first node, then the second node.");
        }

        function addUndirectedEdge() {
            alert("Select two nodes to add an undirected edge. Click the first node, then the second node.");
        }
    </script>
</body>
</html>