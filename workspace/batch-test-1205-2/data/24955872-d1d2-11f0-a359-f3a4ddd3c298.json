{
  "id": "24955872-d1d2-11f0-a359-f3a4ddd3c298",
  "timestamp": "2025-12-05T12:02:27.299Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "K-Means Clustering",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Means Clustering Demo</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n        }\n        #canvas {\n            border: 1px solid black;\n        }\n        #controls {\n            margin-top: 20px;\n        }\n    </style>\n</head>\n<body>\n    <h1>K-Means Clustering Demonstration</h1>\n    <canvas id=\"canvas\" width=\"600\" height=\"400\"></canvas>\n    <div id=\"controls\">\n        <button id=\"generateData\">Generate Random Data</button>\n        <button id=\"performClustering\">Perform K-Means Clustering</button>\n    </div>\n    <script>\n        const canvas = document.getElementById(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        const points = [];\n        const centers = [];\n        const k = 3; // number of clusters\n\n        function generateRandomData(numPoints = 100) {\n            points.length = 0; // Reset points\n            for (let i = 0; i < numPoints; i++) {\n                points.push({\n                    x: Math.random() * canvas.width,\n                    y: Math.random() * canvas.height\n                });\n            }\n            drawPoints();\n        }\n\n        function drawPoints() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            points.forEach(point => {\n                ctx.fillStyle = 'blue';\n                ctx.beginPath();\n                ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n                ctx.fill();\n            });\n        }\n\n        function initializeCenters() {\n            centers.length = 0;\n            for (let i = 0; i < k; i++) {\n                centers.push({\n                    x: Math.random() * canvas.width,\n                    y: Math.random() * canvas.height\n                });\n            }\n        }\n\n        function assignPointsToClusters() {\n            const clusters = Array.from({ length: k }, () => []);\n            points.forEach(point => {\n                let closestCenterIndex = 0;\n                let minDistance = Infinity;\n                \n                centers.forEach((center, index) => {\n                    const distance = Math.hypot(point.x - center.x, point.y - center.y);\n                    if (distance < minDistance) {\n                        minDistance = distance;\n                        closestCenterIndex = index;\n                    }\n                });\n                clusters[closestCenterIndex].push(point);\n            });\n            return clusters;\n        }\n\n        function updateCenters(clusters) {\n            centers.forEach((center, index) => {\n                if (clusters[index].length === 0) return; // skip if no points in the cluster\n                const avgX = clusters[index].reduce((sum, p) => sum + p.x, 0) / clusters[index].length;\n                const avgY = clusters[index].reduce((sum, p) => sum + p.y, 0) / clusters[index].length;\n                center.x = avgX;\n                center.y = avgY;\n            });\n        }\n\n        function drawClusters(clusters) {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            clusters.forEach((cluster, index) => {\n                ctx.fillStyle = getColor(index);\n                cluster.forEach(point => {\n                    ctx.beginPath();\n                    ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n                    ctx.fill();\n                });\n                // Draw the center\n                const center = centers[index];\n                ctx.fillStyle = 'red';\n                ctx.beginPath();\n                ctx.arc(center.x, center.y, 8, 0, Math.PI * 2);\n                ctx.fill();\n            });\n        }\n\n        function getColor(index) {\n            const colors = ['green', 'orange', 'purple', 'cyan', 'magenta'];\n            return colors[index % colors.length];\n        }\n\n        function performKMeans() {\n            initializeCenters();\n            let iterations = 10; // limited iterations for demonstration\n            for (let i = 0; i < iterations; i++) {\n                const clusters = assignPointsToClusters();\n                updateCenters(clusters);\n                drawClusters(clusters);\n            }\n        }\n\n        document.getElementById('generateData').addEventListener('click', generateRandomData);\n        document.getElementById('performClustering').addEventListener('click', performKMeans);\n\n        // Initial setup\n        generateRandomData();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Means Clustering"
    }
  ],
  "topic": "K-Means Clustering",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}