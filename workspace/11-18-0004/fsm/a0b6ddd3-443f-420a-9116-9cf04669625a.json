{
  "topic": "Bubble Sort",
  "description": "This visualization teaches the Bubble Sort algorithm by allowing users to see each comparison and swap step-by-step.",
  "dataStructure": {
    "type": "array",
    "initialValue": "[5, 3, 8, 4, 2]",
    "constraints": "max size: 10, value ranges: 0-100"
  },
  "uiElements": {
    "required": [
      "arrayDisplay",
      "startButton",
      "pauseButton",
      "resetButton",
      "inputField",
      "errorMessage"
    ],
    "optional": [
      "speedSlider"
    ],
    "testIds": {
      "arrayDisplay": "data-testid-array",
      "startButton": "data-testid-start",
      "pauseButton": "data-testid-pause",
      "resetButton": "data-testid-reset",
      "inputField": "data-testid-input",
      "errorMessage": "data-testid-error"
    }
  },
  "states": [
    {
      "name": "idle",
      "description": "Initial state where the user can input data and start the visualization.",
      "uiRequirements": {
        "visualization": "Show initial data",
        "controls": [
          "start button enabled",
          "input enabled",
          "pause button disabled",
          "reset button disabled"
        ],
        "status": "Ready to start"
      },
      "dataRequirements": {
        "conditions": "Data must be valid",
        "display": "Array elements displayed as bars"
      },
      "on": {
        "START": "running",
        "INPUT_CHANGE": "idle"
      }
    },
    {
      "name": "running",
      "description": "State when the algorithm is actively sorting the array.",
      "uiRequirements": {
        "visualization": "Show ongoing comparisons and swaps",
        "controls": [
          "start button disabled",
          "pause button enabled",
          "reset button enabled"
        ],
        "status": "Sorting in progress"
      },
      "dataRequirements": {
        "conditions": "Data is being processed",
        "display": "Highlight current comparison"
      },
      "on": {
        "PAUSE": "paused",
        "COMPLETE": "completed"
      }
    },
    {
      "name": "paused",
      "description": "State when the sorting is paused.",
      "uiRequirements": {
        "visualization": "Freeze current state of the array",
        "controls": [
          "start button enabled",
          "pause button disabled",
          "reset button enabled"
        ],
        "status": "Paused"
      },
      "dataRequirements": {
        "conditions": "Data remains unchanged",
        "display": "Highlight paused position"
      },
      "on": {
        "START": "running"
      }
    },
    {
      "name": "completed",
      "description": "State when sorting is completed.",
      "uiRequirements": {
        "visualization": "Show sorted array",
        "controls": [
          "start button disabled",
          "pause button disabled",
          "reset button enabled"
        ],
        "status": "Sorting complete"
      },
      "dataRequirements": {
        "conditions": "Data is sorted",
        "display": "Highlight sorted array in green"
      },
      "on": {
        "RESET": "idle"
      }
    }
  ],
  "events": [
    {
      "name": "START",
      "trigger": "User clicks start button",
      "validation": "Data must not be empty",
      "effect": "Begin sorting animation"
    },
    {
      "name": "PAUSE",
      "trigger": "User clicks pause button",
      "validation": "None",
      "effect": "Pause sorting animation"
    },
    {
      "name": "RESET",
      "trigger": "User clicks reset button",
      "validation": "None",
      "effect": "Reset to initial state"
    },
    {
      "name": "INPUT_CHANGE",
      "trigger": "User changes input data",
      "validation": "Check data validity",
      "effect": "Update array display"
    }
  ],
  "animations": {
    "comparison": "Highlight compared elements in yellow",
    "swap": "Animate swap with smooth transition",
    "complete": "Highlight final sorted array in green"
  },
  "errorHandling": {
    "emptyInput": "Show error message, stay in idle",
    "invalidInput": "Show validation error, stay in idle"
  },
  "acceptanceCriteria": [
    "User can input custom data",
    "Animation can be started, paused, and reset",
    "Each comparison and swap is visually clear",
    "Final sorted result is correct",
    "Handles edge cases like empty input gracefully"
  ]
}