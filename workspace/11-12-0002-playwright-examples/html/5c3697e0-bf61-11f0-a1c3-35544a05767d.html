<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Binary Search Tree (BST) Exploration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .bst-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .bst-node {
            display: inline-block;
            border: 1px solid #333;
            border-radius: 5px;
            background-color: #fff;
            padding: 10px 15px;
            margin: 10px;
            text-align: center;
        }
        .input-section {
            text-align: center;
            margin: 20px;
        }
        .input-field {
            padding: 10px;
            width: 100px;
        }
        .btn {
            padding: 10px 15px;
            margin-left: 10px;
            cursor: pointer;
        }
        #bstResult {
            margin-top: 20px;
            text-align: center;
            font-weight: bold;
            color: #333;
        }
    </style>
</head>
<body>

    <h1>Interactive Binary Search Tree (BST) Exploration</h1>

    <div class="input-section">
        <input type="number" id="value" class="input-field" placeholder="Enter a number" />
        <button class="btn" id="insertBtn">Insert Node</button>
        <button class="btn" id="searchBtn">Search Node</button>
        <button class="btn" id="deleteBtn">Delete Node</button>
    </div>

    <div class="bst-container" id="bstContainer"></div>
    
    <div id="bstResult"></div>

    <script>
        class Node {
            constructor(key) {
                this.left = null;
                this.right = null;
                this.val = key;
            }
        }

        class BinarySearchTree {
            constructor() {
                this.root = null;
            }

            insert(key) {
                this.root = this._insertRec(this.root, key);
            }

            _insertRec(root, key) {
                if (root === null) {
                    return new Node(key);
                }
                if (key < root.val) {
                    root.left = this._insertRec(root.left, key);
                } else if (key > root.val) {
                    root.right = this._insertRec(root.right, key);
                }
                return root;
            }

            search(key) {
                return this._searchRec(this.root, key);
            }

            _searchRec(root, key) {
                if (root === null || root.val === key) {
                    return root;
                }
                if (key < root.val) {
                    return this._searchRec(root.left, key);
                }
                return this._searchRec(root.right, key);
            }

            delete(key) {
                this.root = this._deleteRec(this.root, key);
            }

            _deleteRec(root, key) {
                if (root === null) {
                    return root;
                }
                if (key < root.val) {
                    root.left = this._deleteRec(root.left, key);
                } else if (key > root.val) {
                    root.right = this._deleteRec(root.right, key);
                } else {
                    if (root.left === null) {
                        return root.right;
                    } else if (root.right === null) {
                        return root.left;
                    }
                    root.val = this._minValue(root.right);
                    root.right = this._deleteRec(root.right, root.val);
                }
                return root;
            }

            _minValue(root) {
                let minv = root.val;
                while (root.left !== null) {
                    minv = root.left.val;
                    root = root.left;
                }
                return minv;
            }

            renderTree(container) {
                container.innerHTML = '';
                this._renderNode(this.root, container);
            }

            _renderNode(node, container, level = 0) {
                if (!node) return;
                const div = document.createElement('div');
                div.className = 'bst-node';
                div.innerText = node.val;
                container.appendChild(div);
                const leftContainer = document.createElement('div');
                const rightContainer = document.createElement('div');
                leftContainer.style.marginLeft = '30px';
                rightContainer.style.marginLeft = '30px';
                this._renderNode(node.left, leftContainer, level + 1);
                this._renderNode(node.right, rightContainer, level + 1);
                container.appendChild(leftContainer);
                container.appendChild(rightContainer);
            }
        }

        const bst = new BinarySearchTree();
        const bstContainer = document.getElementById('bstContainer');
        const bstResult = document.getElementById('bstResult');

        document.getElementById('insertBtn').onclick = function() {
            const value = parseInt(document.getElementById('value').value);
            if (!isNaN(value)) {
                bst.insert(value);
                bst.renderTree(bstContainer);
                bstResult.innerText = `Inserted: ${value}`;
            } else {
                bstResult.innerText = 'Please enter a valid number.';
            }
            document.getElementById('value').value = '';
        };

        document.getElementById('searchBtn').onclick = function() {
            const value = parseInt(document.getElementById('value').value);
            if (!isNaN(value)) {
                const foundNode = bst.search(value);
                if (foundNode) {
                    bstResult.innerText = `Found: ${value}`;
                } else {
                    bstResult.innerText = `Not Found: ${value}`;
                }
            } else {
                bstResult.innerText = 'Please enter a valid number.';
            }
            document.getElementById('value').value = '';
        };

        document.getElementById('deleteBtn').onclick = function() {
            const value = parseInt(document.getElementById('value').value);
            if (!isNaN(value)) {
                bst.delete(value);
                bst.renderTree(bstContainer);
                bstResult.innerText = `Deleted: ${value}`;
            } else {
                bstResult.innerText = 'Please enter a valid number.';
            }
            document.getElementById('value').value = '';
        };
    </script>
</body>
</html>