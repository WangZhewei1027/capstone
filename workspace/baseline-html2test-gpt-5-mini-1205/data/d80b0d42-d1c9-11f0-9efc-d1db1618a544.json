{
  "id": "d80b0d42-d1c9-11f0-9efc-d1db1618a544",
  "timestamp": "2025-12-05T11:05:00.918Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Linear Search",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Linear Search Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --card:#0b1220;\n      --accent:#06b6d4;\n      --muted:#93a2b8;\n      --ok:#16a34a;\n      --danger:#ef4444;\n      --glass: rgba(255,255,255,0.04);\n      font-family: Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n      color-scheme: dark;\n    }\n    html,body{height:100%; margin:0; background:linear-gradient(180deg,#071024 0%, #07182b 50%); color:#e6eef6;}\n    .wrap{max-width:1100px;margin:28px auto;padding:20px;}\n    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}\n    header h1{font-size:20px;margin:0}\n    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.04); border-radius:12px; padding:16px;}\n    .controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center}\n    label{font-size:13px;color:var(--muted)}\n    input[type=\"text\"], input[type=\"number\"]{background:var(--glass);border:1px solid rgba(255,255,255,0.03);padding:8px 10px;border-radius:8px;color:inherit}\n    button{background:var(--accent);border:none;color:#042027;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600}\n    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}\n    button.warn{background:var(--danger); color:white}\n    .row{display:flex;gap:12px;align-items:center}\n    .visual{margin-top:20px;padding:18px; border-radius:12px; display:flex; flex-direction:column; gap:14px; min-height:160px; justify-content:center; background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005))}\n    .array{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}\n    .cell{width:66px;height:66px;border-radius:10px;background:rgba(255,255,255,0.02);display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.03);position:relative;transition:transform .18s, background .18s, border-color .18s}\n    .cell .idx{position:absolute;top:6px;right:8px;font-size:11px;color:var(--muted)}\n    .cell .val{font-size:18px;font-weight:700}\n    .cell.current{background:linear-gradient(180deg,var(--accent),#0ea5a3); color:#002428; transform:translateY(-6px); border-color:rgba(255,255,255,0.12)}\n    .cell.found{background:linear-gradient(180deg,var(--ok),#059669); color:#002715}\n    .cell.checked{opacity:0.55}\n    .status{display:flex;gap:16px;align-items:center;flex-wrap:wrap}\n    .badge{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);font-size:13px}\n    .log{max-height:140px;overflow:auto;padding:10px;border-radius:8px;background:rgba(255,255,255,0.01);font-family:monospace;font-size:13px;color:var(--muted)}\n    .pseudocode{padding:12px;border-radius:8px;background:rgba(255,255,255,0.01);font-family:monospace}\n    .code-line{padding:6px 8px;border-radius:6px}\n    .code-line.active{background:rgba(6,182,212,0.12);border-left:3px solid var(--accent);color:var(--accent);font-weight:600}\n    .footer{margin-top:14px;display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}\n    .small{font-size:13px;color:var(--muted)}\n    .slider{width:160px}\n    @media(max-width:720px){\n      .cell{width:56px;height:56px}\n      .wrap{padding:12px}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"wrap\">\n    <header>\n      <h1>Linear Search — Interactive Demo</h1>\n      <div class=\"small\">Step through how linear search checks each element until the target is found (or array ends).</div>\n    </header>\n\n    <div class=\"panel\">\n      <div class=\"controls\">\n        <div style=\"min-width:260px\">\n          <label for=\"arrayInput\">Array (comma or space separated)</label><br/>\n          <input id=\"arrayInput\" type=\"text\" value=\"7, 3, 9, 1, 4, 5, 2\" style=\"width:100%\" />\n        </div>\n\n        <div>\n          <label for=\"targetInput\">Target value</label><br/>\n          <input id=\"targetInput\" type=\"text\" value=\"4\" style=\"width:120px\" />\n        </div>\n\n        <div>\n          <label for=\"lengthRand\">Randomize</label><br/>\n          <div class=\"row\">\n            <input id=\"lengthRand\" type=\"number\" value=\"8\" min=\"1\" max=\"30\" style=\"width:70px\" />\n            <input id=\"maxRand\" type=\"number\" value=\"20\" min=\"1\" max=\"999\" style=\"width:70px\" />\n            <button id=\"randBtn\" title=\"Generate random array\">Generate</button>\n          </div>\n        </div>\n\n        <div>\n          <label>&nbsp;</label><br/>\n          <div class=\"row\">\n            <button id=\"startBtn\">Start Search</button>\n            <button id=\"stepBtn\" class=\"ghost\">Step</button>\n            <button id=\"autoBtn\" class=\"ghost\">Auto Play</button>\n            <button id=\"resetBtn\" class=\"ghost\">Reset</button>\n          </div>\n        </div>\n\n        <div>\n          <label for=\"speed\">Speed</label><br/>\n          <input id=\"speed\" class=\"slider\" type=\"range\" min=\"200\" max=\"1500\" step=\"100\" value=\"650\" />\n        </div>\n      </div>\n\n      <div class=\"visual\">\n        <div class=\"array\" id=\"arrayArea\" aria-live=\"polite\"></div>\n\n        <div class=\"status\">\n          <div class=\"badge\">Current index: <strong id=\"currentIndex\">—</strong></div>\n          <div class=\"badge\">Comparisons: <strong id=\"comparisons\">0</strong></div>\n          <div class=\"badge\">Result: <strong id=\"result\">—</strong></div>\n        </div>\n\n        <div style=\"display:flex;gap:12px;align-items:flex-start;flex-wrap:wrap\">\n          <div style=\"flex:1;min-width:260px\">\n            <div style=\"margin-top:8px;font-weight:600\">Trace / Log</div>\n            <div class=\"log\" id=\"log\"></div>\n          </div>\n\n          <div style=\"width:360px;min-width:220px\">\n            <div style=\"margin-top:8px;font-weight:600\">Pseudocode</div>\n            <div class=\"pseudocode\" id=\"pseudocode\">\n              <div class=\"code-line\" data-line=\"1\">function linearSearch(array, target):</div>\n              <div class=\"code-line\" data-line=\"2\">&nbsp;&nbsp;for i from 0 to array.length - 1:</div>\n              <div class=\"code-line\" data-line=\"3\">&nbsp;&nbsp;&nbsp;&nbsp;if array[i] == target:</div>\n              <div class=\"code-line\" data-line=\"4\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return i  // found</div>\n              <div class=\"code-line\" data-line=\"5\">&nbsp;&nbsp;end for</div>\n              <div class=\"code-line\" data-line=\"6\">&nbsp;&nbsp;return -1 // not found</div>\n            </div>\n            <div style=\"margin-top:8px\" class=\"small\">\n              Time complexity: O(n) — worst case checks every element. Best case O(1) if first element is target.\n            </div>\n          </div>\n        </div>\n\n        <div class=\"footer\">\n          <div class=\"small\">Tip: Use \"Step\" to manually advance, \"Auto Play\" to animate. \"Reset\" clears highlights but keeps current inputs.</div>\n          <div class=\"small\">This demo returns the first match found.</div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    (function(){\n      // UI elements\n      const arrayInput = document.getElementById('arrayInput');\n      const targetInput = document.getElementById('targetInput');\n      const randBtn = document.getElementById('randBtn');\n      const lengthRand = document.getElementById('lengthRand');\n      const maxRand = document.getElementById('maxRand');\n      const startBtn = document.getElementById('startBtn');\n      const stepBtn = document.getElementById('stepBtn');\n      const autoBtn = document.getElementById('autoBtn');\n      const resetBtn = document.getElementById('resetBtn');\n      const speed = document.getElementById('speed');\n\n      const arrayArea = document.getElementById('arrayArea');\n      const currentIndexEl = document.getElementById('currentIndex');\n      const comparisonsEl = document.getElementById('comparisons');\n      const resultEl = document.getElementById('result');\n      const logEl = document.getElementById('log');\n      const pseudocode = document.getElementById('pseudocode');\n\n      // State\n      let arr = [];\n      let target = null;\n      let i = -1;\n      let comparisons = 0;\n      let running = false;\n      let autoInterval = null;\n      let foundIndex = -1;\n      let started = false;\n\n      // Helpers\n      function parseArrayInput(text){\n        if(!text.trim()) return [];\n        // split by comma or whitespace\n        const tokens = text.split(/[,\\\\s]+/).filter(s=>s.length);\n        // try parse numbers, but keep strings if not numeric\n        return tokens.map(t=>{\n          if(/^[-+]?\\\\d+$/.test(t)) return parseInt(t,10);\n          if(/^[-+]?\\\\d*\\\\.\\\\d+$/.test(t)) return parseFloat(t);\n          return t;\n        });\n      }\n\n      function renderArray(){\n        arrayArea.innerHTML = '';\n        arr.forEach((val, idx)=>{\n          const c = document.createElement('div');\n          c.className = 'cell';\n          c.setAttribute('data-idx', idx);\n          c.innerHTML = '<div class=\"idx\">'+idx+'</div><div class=\"val\">'+String(val)+'</div>';\n          arrayArea.appendChild(c);\n        });\n      }\n\n      function setStatus(){\n        currentIndexEl.textContent = (i>=0 && i < arr.length) ? i : '—';\n        comparisonsEl.textContent = comparisons;\n        if(foundIndex !== -1) {\n          resultEl.innerHTML = 'Found at index ' + foundIndex;\n          resultEl.style.color = 'var(--ok)';\n        } else if (started && i >= arr.length) {\n          resultEl.innerHTML = 'Not found';\n          resultEl.style.color = 'var(--muted)';\n        } else {\n          resultEl.innerHTML = '—';\n          resultEl.style.color = '';\n        }\n      }\n\n      function log(msg){\n        const t = document.createElement('div');\n        t.textContent = msg;\n        logEl.prepend(t);\n      }\n\n      function highlightLine(n){\n        const lines = pseudocode.querySelectorAll('.code-line');\n        lines.forEach(l=> l.classList.toggle('active', Number(l.getAttribute('data-line')) === n));\n      }\n\n      function clearHighlights(){\n        const cells = arrayArea.querySelectorAll('.cell');\n        cells.forEach(c=>{\n          c.classList.remove('current','found','checked');\n        });\n        highlightLine(null);\n      }\n\n      function updateCells(){\n        const cells = arrayArea.querySelectorAll('.cell');\n        cells.forEach(c=>{\n          const idx = Number(c.getAttribute('data-idx'));\n          c.classList.remove('current','found','checked');\n          if(foundIndex === idx) c.classList.add('found');\n          else if (i > idx) c.classList.add('checked');\n          if (i === idx && foundIndex === -1 && i < arr.length) c.classList.add('current');\n        });\n      }\n\n      function stepSearch(){\n        if(!started) {\n          // initialize\n          arr = parseArrayInput(arrayInput.value);\n          target = parseNumberOrString(targetInput.value);\n          i = 0;\n          comparisons = 0;\n          foundIndex = -1;\n          started = true;\n          running = true;\n          log('Search started. Target = ' + stringify(target) + '. Array length = ' + arr.length);\n        }\n        if(foundIndex !== -1 || i >= arr.length){\n          // already finished\n          running = false;\n          stopAuto();\n          if(foundIndex === -1 && i >= arr.length){\n            log('End of array reached. Target not found.');\n            highlightLine(6);\n          }\n          setStatus();\n          updateCells();\n          return;\n        }\n\n        // highlight for the current step\n        highlightLine(2); // entering loop\n        updateCells();\n        setStatus();\n\n        // inspect element at i\n        highlightLine(3);\n        comparisons++;\n        setStatus();\n        log('Compare array['+i+'] ('+stringify(arr[i])+') with target '+ stringify(target) );\n        updateCells();\n\n        // check equality (strict equality for numbers and strings)\n        if(equals(arr[i], target)){\n          foundIndex = i;\n          log('Match found at index ' + i);\n          highlightLine(4);\n          // mark found cell\n          updateCells();\n          setStatus();\n          running = false;\n          stopAuto();\n          return;\n        } else {\n          // not found at this index\n          log('Not a match at index ' + i);\n          highlightLine(5);\n        }\n\n        // move to next index\n        i++;\n        updateCells();\n        setStatus();\n\n        if(i >= arr.length){\n          // finished\n          log('Reached end of array. Target not found.');\n          highlightLine(6);\n          running = false;\n          stopAuto();\n        }\n      }\n\n      function equals(a,b){\n        // compare numbers and strings strictly; other objects compare with JSON fallback\n        if(typeof a === typeof b) return a === b;\n        // special: if both can be converted to numbers and both numeric strings\n        if(typeof a === 'string' && typeof b === 'number') return Number(a) === b && !Number.isNaN(Number(a));\n        if(typeof b === 'string' && typeof a === 'number') return Number(b) === a && !Number.isNaN(Number(b));\n        return String(a) === String(b);\n      }\n\n      function parseNumberOrString(s){\n        s = s.trim();\n        if(s === '') return s;\n        if(/^[-+]?\\\\d+$/.test(s)) return parseInt(s,10);\n        if(/^[-+]?\\\\d*\\\\.\\\\d+$/.test(s)) return parseFloat(s);\n        return s;\n      }\n\n      function stringify(x){\n        if (typeof x === 'string') return '\"' + x + '\"';\n        return String(x);\n      }\n\n      function startAuto(){\n        if(autoInterval) return;\n        autoBtn.textContent = 'Pause';\n        autoBtn.classList.add('ghost');\n        const delay = Number(speed.value);\n        autoInterval = setInterval(()=>{\n          if(!running) {\n            // if not running but not finished, ensure started\n            if(!started) stepSearch();\n            if(!running) stopAuto();\n            return;\n          }\n          stepSearch();\n        }, delay);\n      }\n\n      function stopAuto(){\n        if(autoInterval) {\n          clearInterval(autoInterval);\n          autoInterval = null;\n          autoBtn.textContent = 'Auto Play';\n        }\n        autoBtn.classList.remove('active');\n      }\n\n      function resetDemo(){\n        stopAuto();\n        started = false;\n        running = false;\n        i = -1;\n        comparisons = 0;\n        foundIndex = -1;\n        currentIndexEl.textContent = '—';\n        comparisonsEl.textContent = '0';\n        resultEl.textContent = '—';\n        log('Reset demo.');\n        clearHighlights();\n        updateCells();\n      }\n\n      // initial render\n      arr = parseArrayInput(arrayInput.value);\n      renderArray();\n      resetDemo();\n\n      // UI events\n      randBtn.addEventListener('click', ()=>{\n        const n = Math.max(1, Math.min(200, Number(lengthRand.value) || 8));\n        const max = Math.max(1, Number(maxRand.value) || 20);\n        const values = Array.from({length:n}, ()=> Math.floor(Math.random()*max)+1);\n        arrayInput.value = values.join(', ');\n        arr = parseArrayInput(arrayInput.value);\n        renderArray();\n        resetDemo();\n      });\n\n      startBtn.addEventListener('click', ()=>{\n        // start a fresh search if not started\n        if(!started){\n          arr = parseArrayInput(arrayInput.value);\n          renderArray();\n        }\n        // initialize and run until finish or found\n        started = true;\n        running = true;\n        foundIndex = -1;\n        i = 0;\n        comparisons = 0;\n        log('Starting full search (will run until found or end).');\n        setStatus();\n        updateCells();\n        // run loop quickly but allow UI updates using setTimeout\n        function runOne(){\n          if(!running) return;\n          stepSearch();\n          // continue in next event loop to keep UI responsive\n          if(running) setTimeout(runOne, Number(speed.value)/4);\n        }\n        runOne();\n      });\n\n      stepBtn.addEventListener('click', ()=>{\n        // perform one step\n        if(!started || (!running && foundIndex === -1 && i >= arr.length)){\n          // reinitialize\n          arr = parseArrayInput(arrayInput.value);\n          renderArray();\n          started = false;\n        }\n        if(!started) {\n          started = true;\n          i = 0;\n          comparisons = 0;\n          foundIndex = -1;\n          log('Search started for target ' + stringify(parseNumberOrString(targetInput.value)));\n        }\n        running = true;\n        stepSearch();\n      });\n\n      autoBtn.addEventListener('click', ()=>{\n        if(autoInterval){\n          stopAuto();\n        } else {\n          // start auto\n          // if not started, initialize state\n          if(!started){\n            arr = parseArrayInput(arrayInput.value);\n            renderArray();\n            i = 0;\n            comparisons = 0;\n            foundIndex = -1;\n            started = true;\n            running = true;\n            log('Auto search started.');\n          } else {\n            running = true;\n          }\n          startAuto();\n        }\n      });\n\n      resetBtn.addEventListener('click', ()=>{\n        resetDemo();\n      });\n\n      // allow pressing Enter in inputs to start\n      [arrayInput, targetInput].forEach(el=>{\n        el.addEventListener('keydown', (e)=>{\n          if(e.key === 'Enter') {\n            e.preventDefault();\n            resetDemo();\n            arr = parseArrayInput(arrayInput.value);\n            renderArray();\n            stepBtn.click();\n          }\n        });\n      });\n\n      // when array text changes, update render\n      arrayInput.addEventListener('change', ()=>{\n        arr = parseArrayInput(arrayInput.value);\n        renderArray();\n        resetDemo();\n      });\n\n      // helper: when speed changed, if auto running restart interval with new delay\n      speed.addEventListener('change', ()=>{\n        if(autoInterval){\n          stopAuto();\n          startAuto();\n        }\n      });\n\n      // keyboard shortcuts for convenience\n      document.addEventListener('keydown', (e)=>{\n        if(e.key === ' ' && !/input|textarea/i.test(document.activeElement.tagName)){\n          e.preventDefault();\n          stepBtn.click();\n        } else if (e.key.toLowerCase() === 'a' && !/input|textarea/i.test(document.activeElement.tagName)){\n          e.preventDefault();\n          autoBtn.click();\n        } else if (e.key.toLowerCase() === 'r' && !/input|textarea/i.test(document.activeElement.tagName)){\n          e.preventDefault();\n          resetBtn.click();\n        }\n      });\n\n      // small accessibility: announce when value found (via log)\n      const observer = new MutationObserver(()=>{/* no-op, kept for potential future use */});\n      observer.observe(logEl, {childList:true});\n\n      // Small utility to ensure cells reflect initial state\n      updateCells();\n      setStatus();\n\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Linear Search"
    }
  ],
  "topic": "Linear Search",
  "hasFSM": false,
  "hasTest": true
}