{
  "id": "d8095f90-d1c9-11f0-9efc-d1db1618a544",
  "timestamp": "2025-12-05T11:04:10.676Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Stack",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Interactive Stack Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root {\n      --bg: #0f1724;\n      --panel: #0b1220;\n      --accent: #0ea5ff;\n      --muted: #94a3b8;\n      --card: #0b1220;\n      --good: #16a34a;\n      --bad: #ef4444;\n    }\n    * { box-sizing: border-box; font-family: Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial; }\n    body { margin: 0; min-height: 100vh; background: linear-gradient(180deg,#071027 0%, #071826 60%); color: #e6eef8; display: flex; align-items: center; justify-content: center; padding: 24px; }\n    .container { width: 980px; max-width: 100%; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border: 1px solid rgba(255,255,255,0.04); border-radius: 12px; padding: 18px; box-shadow: 0 10px 30px rgba(2,6,23,0.6); display: grid; grid-template-columns: 360px 1fr; gap: 18px; }\n    h1 { margin: 0 0 8px 0; font-size: 18px; color: var(--accent); }\n    p.lead { margin: 0 0 12px 0; color: var(--muted); font-size: 13px; }\n    .controls { background: rgba(255,255,255,0.02); padding: 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.03); }\n    .controls label { display: block; font-size: 12px; color: var(--muted); margin-bottom: 6px; }\n    .row { display:flex; gap:8px; align-items:center; }\n    input[type=\"text\"] { flex:1; padding:8px 10px; background: transparent; border:1px solid rgba(255,255,255,0.06); color: #e6eef8; border-radius: 6px; outline: none; font-size: 14px; }\n    button { padding:8px 10px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.05); color: #e6eef8; border-radius: 6px; cursor: pointer; transition: transform .08s ease, box-shadow .08s; }\n    button:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(2,6,23,0.5); }\n    button.primary { background: linear-gradient(180deg, rgba(14,165,255,0.12), rgba(14,165,255,0.06)); border-color: rgba(14,165,255,0.18); color: var(--accent); }\n    button.warn { background: linear-gradient(180deg, rgba(239,68,68,0.08), rgba(239,68,68,0.04)); border-color: rgba(239,68,68,0.12); color: var(--bad); }\n    .stack-area { background: rgba(255,255,255,0.02); padding: 12px; border-radius: 8px; min-height: 360px; display:flex; flex-direction:column; gap:12px; }\n    .visual { display:flex; gap:16px; align-items:flex-start; }\n    .stack-visual { width: 220px; min-height: 260px; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); border-radius: 8px; border:1px solid rgba(255,255,255,0.03); padding:12px; display:flex; flex-direction:column-reverse; align-items:center; position:relative; overflow:hidden; }\n    .stack-slot { width: 100%; height:44px; margin-bottom:8px; display:flex; align-items:center; justify-content:center; border-radius:6px; background: rgba(255,255,255,0.02); border:1px dashed rgba(255,255,255,0.02); color: var(--muted); font-size:13px; transition: transform .28s cubic-bezier(.2,.9,.2,1), background .18s, box-shadow .18s; }\n    .stack-slot.filled { background: linear-gradient(90deg, rgba(14,165,255,0.08), rgba(16,185,129,0.02)); border:1px solid rgba(14,165,255,0.18); color: #dff6ff; box-shadow: 0 6px 20px rgba(2,6,23,0.5); transform: translateY(0); }\n    .slot-top { position:absolute; top:8px; left:10px; font-size:12px; color:var(--muted); }\n    .stack-info { flex:1; display:flex; flex-direction:column; gap:8px; }\n    .code { background: rgba(2,6,23,0.6); padding:8px; border-radius:6px; font-family: Menlo, monospace; font-size:13px; color:#cfefff; max-height:180px; overflow:auto; border:1px solid rgba(255,255,255,0.02); }\n    .log { background: rgba(255,255,255,0.01); padding:8px; border-radius:6px; min-height:80px; max-height:120px; overflow:auto; font-size:13px; color:var(--muted); border:1px solid rgba(255,255,255,0.02); }\n    .badge { font-size:12px; padding:6px 8px; border-radius:999px; background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); color:var(--muted); }\n    .small { font-size:12px; color:var(--muted); }\n    footer { text-align:center; padding-top:8px; color:var(--muted); font-size:12px; }\n    .muted { color:var(--muted); }\n    .flex-between { display:flex; justify-content:space-between; align-items:center; gap:8px; }\n    .controls-grid { display:grid; grid-template-columns: 1fr 1fr; gap:8px; margin-top:10px; }\n    .animated { transition: transform .28s cubic-bezier(.2,.9,.2,1), opacity .22s; }\n  </style>\n</head>\n<body>\n  <div class=\"container\" role=\"main\">\n    <div>\n      <h1>Stack (LIFO) — Interactive Demo</h1>\n      <p class=\"lead\">A stack is a Last-In-First-Out data structure. Push adds an item to the top, pop removes the top item. Try pushing values and watching the visualization.</p>\n\n      <div class=\"controls\" aria-label=\"Stack controls\">\n        <label for=\"valueInput\">Value to push</label>\n        <div class=\"row\">\n          <input id=\"valueInput\" type=\"text\" placeholder='e.g. 42 or \"hello\" or {\"x\":1}' aria-label=\"Value input\" />\n          <button id=\"pushBtn\" class=\"primary\" title=\"Push\">Push</button>\n          <button id=\"popBtn\" class=\"warn\" title=\"Pop\">Pop</button>\n        </div>\n\n        <div class=\"controls-grid\">\n          <button id=\"peekBtn\" title=\"Peek (view top)\">Peek</button>\n          <button id=\"clearBtn\" title=\"Clear all\">Clear</button>\n          <button id=\"randomBtn\" title=\"Push random\">Push Random</button>\n          <button id=\"fillBtn\" title=\"Fill sample\">Fill Sample</button>\n        </div>\n\n        <div style=\"margin-top:10px;\" class=\"flex-between\">\n          <div class=\"badge\" id=\"sizeBadge\">Size: 0</div>\n          <div class=\"small\">Top at the top</div>\n        </div>\n      </div>\n\n      <div style=\"height:12px;\"></div>\n\n      <div class=\"controls\" aria-label=\"Operations log\">\n        <div style=\"display:flex; gap:8px; align-items:center; margin-bottom:8px;\">\n          <strong style=\"color:var(--accent);\">Operations</strong>\n          <div class=\"small muted\">Recent actions and results</div>\n        </div>\n        <div id=\"log\" class=\"log\" aria-live=\"polite\"></div>\n      </div>\n    </div>\n\n    <div class=\"stack-area\">\n      <div class=\"visual\">\n        <div class=\"stack-visual\" id=\"stackVisual\" aria-label=\"Stack visualization\">\n          <div class=\"slot-top small muted\">Top</div>\n          <!-- slots inserted here -->\n        </div>\n\n        <div class=\"stack-info\">\n          <div style=\"display:flex; gap:8px; align-items:center; justify-content:space-between;\">\n            <div>\n              <div class=\"small muted\">Internal array representation</div>\n              <div id=\"arrayView\" class=\"code\">[]</div>\n            </div>\n            <div style=\"display:flex; flex-direction:column; gap:8px; align-items:flex-end;\">\n              <div class=\"badge\" id=\"peekBadge\">Peek: —</div>\n              <div class=\"badge\" id=\"lastOpBadge\">Last: —</div>\n            </div>\n          </div>\n\n          <div>\n            <div class=\"small muted\">Stack implementation (JavaScript)</div>\n            <pre class=\"code\" id=\"impl\">\nclass Stack {\n  constructor() { this._data = []; }\n  push(x) { this._data.push(x); }\n  pop() { return this._data.length ? this._data.pop() : undefined; }\n  peek() { return this._data.length ? this._data[this._data.length-1] : undefined; }\n  size() { return this._data.length; }\n}\n            </pre>\n          </div>\n        </div>\n      </div>\n\n      <footer>\n        Built for demonstration — interact with buttons to see push/pop animate. Top is shown above slots.\n      </footer>\n    </div>\n  </div>\n\n  <script>\n    // Stack class and visualization logic\n    class Stack {\n      constructor() { this._data = []; }\n      push(x) { this._data.push(x); }\n      pop() { return this._data.length ? this._data.pop() : undefined; }\n      peek() { return this._data.length ? this._data[this._data.length - 1] : undefined; }\n      size() { return this._data.length; }\n      toArray() { return this._data.slice(); }\n    }\n\n    // Utilities\n    const q = sel => document.querySelector(sel);\n    const makeSlot = (value, key) => {\n      const el = document.createElement('div');\n      el.className = 'stack-slot filled animated';\n      el.textContent = value;\n      el.dataset.idx = key;\n      el.style.transform = 'translateY(12px)';\n      el.style.opacity = '0';\n      // animate in\n      requestAnimationFrame(() => {\n        el.style.transform = 'translateY(0)';\n        el.style.opacity = '1';\n      });\n      return el;\n    };\n\n    const makeEmptySlot = () => {\n      const el = document.createElement('div');\n      el.className = 'stack-slot';\n      el.textContent = 'empty';\n      return el;\n    };\n\n    // Elements\n    const stackVisual = q('#stackVisual');\n    const arrayView = q('#arrayView');\n    const sizeBadge = q('#sizeBadge');\n    const logEl = q('#log');\n    const peekBadge = q('#peekBadge');\n    const lastOpBadge = q('#lastOpBadge');\n\n    const valueInput = q('#valueInput');\n    const pushBtn = q('#pushBtn');\n    const popBtn = q('#popBtn');\n    const peekBtn = q('#peekBtn');\n    const clearBtn = q('#clearBtn');\n    const randomBtn = q('#randomBtn');\n    const fillBtn = q('#fillBtn');\n\n    // Stack instance\n    const stack = new Stack();\n    const maxSlots = 8;\n\n    // Initialize empty slots\n    function renderSlots() {\n      // Clear all slots (except .slot-top)\n      Array.from(stackVisual.querySelectorAll('.stack-slot')).forEach(n => n.remove());\n      const arr = stack.toArray();\n      // We'll show up to maxSlots slots. Stack grows from bottom (index 0) to top (last).\n      for (let i = arr.length - 1; i >= 0; i--) {\n        const val = arr[i];\n        const slot = makeSlot(formatValue(val), i);\n        stackVisual.appendChild(slot);\n      }\n      // Add empty placeholders to show capacity visually\n      const emptyCount = Math.max(0, maxSlots - arr.length);\n      for (let i = 0; i < emptyCount; i++) {\n        const es = makeEmptySlot();\n        stackVisual.appendChild(es);\n      }\n      arrayView.textContent = JSON.stringify(stack.toArray());\n      sizeBadge.textContent = 'Size: ' + stack.size();\n      const peekVal = stack.peek();\n      peekBadge.textContent = 'Peek: ' + (peekVal === undefined ? '—' : formatValue(peekVal));\n    }\n\n    function formatValue(v) {\n      // If it's an object, show JSON-like short\n      if (v === null) return 'null';\n      if (v === undefined) return 'undefined';\n      if (typeof v === 'object') {\n        try {\n          return JSON.stringify(v);\n        } catch { return String(v); }\n      }\n      return String(v);\n    }\n\n    function log(msg, kind = 'info') {\n      const d = document.createElement('div');\n      d.style.marginBottom = '6px';\n      if (kind === 'error') d.style.color = 'var(--bad)';\n      else if (kind === 'success') d.style.color = 'var(--good)';\n      else d.style.color = '';\n      const time = new Date().toLocaleTimeString();\n      d.textContent = `[${time}] ${msg}`;\n      logEl.prepend(d);\n      // keep only last 200 messages\n      while (logEl.children.length > 200) logEl.removeChild(logEl.lastChild);\n    }\n\n    // Button handlers\n    pushBtn.addEventListener('click', () => {\n      const raw = valueInput.value.trim();\n      if (raw === '') {\n        log('Push skipped: empty input', 'error');\n        lastOpBadge.textContent = 'Last: push skipped';\n        return;\n      }\n      let parsed = raw;\n      // Try to parse as JSON to allow pushing numbers, objects, arrays\n      try {\n        parsed = JSON.parse(raw);\n      } catch (e) {\n        // leave as string\n        parsed = raw;\n      }\n      stack.push(parsed);\n      log('push(' + formatValue(parsed) + ')');\n      lastOpBadge.textContent = 'Last: push';\n      renderSlots();\n      valueInput.value = '';\n      focusInput();\n    });\n\n    popBtn.addEventListener('click', () => {\n      const popped = stack.pop();\n      if (popped === undefined) {\n        log('pop() -> undefined (stack empty)', 'error');\n        lastOpBadge.textContent = 'Last: pop (empty)';\n      } else {\n        log('pop() -> ' + formatValue(popped), 'success');\n        lastOpBadge.textContent = 'Last: pop';\n      }\n      renderSlots();\n      focusInput();\n    });\n\n    peekBtn.addEventListener('click', () => {\n      const p = stack.peek();\n      if (p === undefined) {\n        log('peek() -> undefined (stack empty)', 'error');\n        lastOpBadge.textContent = 'Last: peek (empty)';\n      } else {\n        log('peek() -> ' + formatValue(p));\n        lastOpBadge.textContent = 'Last: peek';\n      }\n      renderSlots();\n      focusInput();\n    });\n\n    clearBtn.addEventListener('click', () => {\n      while (stack.size()) stack.pop();\n      log('clear() — stack emptied', 'info');\n      lastOpBadge.textContent = 'Last: clear';\n      renderSlots();\n      focusInput();\n    });\n\n    randomBtn.addEventListener('click', () => {\n      // Push a random value (number, string, object)\n      const r = Math.random();\n      let val;\n      if (r < 0.4) val = Math.round(Math.random() * 100);\n      else if (r < 0.8) val = ['a','b','c','d'][Math.floor(Math.random()*4)] + Math.floor(Math.random()*10);\n      else val = {x: Math.round(Math.random()*10), y: Math.round(Math.random()*10)};\n      stack.push(val);\n      log('push(random -> ' + formatValue(val) + ')');\n      lastOpBadge.textContent = 'Last: push (random)';\n      renderSlots();\n      focusInput();\n    });\n\n    fillBtn.addEventListener('click', () => {\n      const sample = [1, 2, 3, {name:'Alice'}, \"hello\"];\n      sample.forEach(v => stack.push(v));\n      log('fill sample values: ' + sample.map(formatValue).join(', '));\n      lastOpBadge.textContent = 'Last: fill';\n      renderSlots();\n      focusInput();\n    });\n\n    // Keyboard: Enter to push\n    valueInput.addEventListener('keydown', (e) => {\n      if (e.key === 'Enter') {\n        pushBtn.click();\n      }\n    });\n\n    function focusInput() {\n      setTimeout(() => valueInput.focus(), 100);\n    }\n\n    // Initial render with empty slots\n    renderSlots();\n    focusInput();\n\n    // Accessibility: announce changes as they happen\n    const liveRegion = document.createElement('div');\n    liveRegion.setAttribute('aria-live', 'polite');\n    liveRegion.style.position = 'absolute';\n    liveRegion.style.left = '-9999px';\n    document.body.appendChild(liveRegion);\n\n    const originalLog = log;\n    // Wrap log to also update live region\n    const wrappedLog = (msg, kind) => {\n      originalLog(msg, kind);\n      liveRegion.textContent = msg;\n    };\n    // Replace log function used above\n    window.log = wrappedLog;\n\n    // Demonstrate a small animation when popping (remove top smoothly)\n    // We'll observe mutations and apply a quick fade for removed elements.\n    const obs = new MutationObserver((mutations) => {\n      mutations.forEach(m => {\n        if (m.type === 'childList' && m.removedNodes.length) {\n          // If nodes removed, we can't animate removal after it's gone,\n          // but we can briefly flash the new top to indicate change.\n          const topNode = stackVisual.querySelector('.stack-slot.filled');\n          if (topNode) {\n            topNode.style.transform = 'translateY(-6px)';\n            setTimeout(() => topNode.style.transform = 'translateY(0)', 220);\n          }\n        }\n      });\n    });\n    obs.observe(stackVisual, {childList: true});\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Stack"
    }
  ],
  "topic": "Stack",
  "hasFSM": false,
  "hasTest": true
}