<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Union-Find (Disjoint Set) Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .sets {
            margin: 20px 0;
        }
        .input {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Union-Find (Disjoint Set)</h2>
        <div class="input">
            <input type="number" id="elementA" placeholder="Element A" min="0"/>
            <input type="number" id="elementB" placeholder="Element B" min="0"/>
            <button id="unionBtn">Union</button>
            <button id="findBtn">Find</button>
        </div>
        <div class="sets" id="setsDisplay"></div>
    </div>

    <script>
        class UnionFind {
            constructor(size) {
                this.parent = Array.from({length: size}, (_, i) => i);
                this.rank = Array(size).fill(0);
            }

            find(p) {
                if (this.parent[p] !== p) {
                    this.parent[p] = this.find(this.parent[p]); // Path compression
                }
                return this.parent[p];
            }

            union(p, q) {
                const rootP = this.find(p);
                const rootQ = this.find(q);
                if (rootP === rootQ) return;
                
                // Union by rank
                if (this.rank[rootP] > this.rank[rootQ]) {
                    this.parent[rootQ] = rootP;
                } else if (this.rank[rootP] < this.rank[rootQ]) {
                    this.parent[rootP] = rootQ;
                } else {
                    this.parent[rootQ] = rootP;
                    this.rank[rootP]++;
                }
            }

            getSets() {
                const sets = {};
                for (let i = 0; i < this.parent.length; i++) {
                    const root = this.find(i);
                    if (!sets[root]) {
                        sets[root] = [];
                    }
                    sets[root].push(i);
                }
                return Object.values(sets);
            }
        }

        const uf = new UnionFind(10);
        const setsDisplay = document.getElementById('setsDisplay');

        function updateDisplay() {
            const sets = uf.getSets();
            setsDisplay.innerHTML = 'Sets: ' + sets.map(set => '{ ' + set.join(', ') + ' }').join(' | ');
        }

        document.getElementById('unionBtn').addEventListener('click', () => {
            const a = parseInt(document.getElementById('elementA').value);
            const b = parseInt(document.getElementById('elementB').value);
            uf.union(a, b);
            updateDisplay();
        });

        document.getElementById('findBtn').addEventListener('click', () => {
            const a = parseInt(document.getElementById('elementA').value);
            const parent = uf.find(a);
            alert(`Root of ${a} is ${parent}`);
        });

        updateDisplay();
    </script>
</body>
</html>