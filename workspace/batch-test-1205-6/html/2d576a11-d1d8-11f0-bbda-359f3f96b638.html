<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kruskal's Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        .graph {
            width: 400px;
            height: 400px;
            border: 1px solid #333;
            position: relative;
            margin: 20px auto;
        }
        .edge {
            stroke: grey;
            stroke-width: 2;
        }
        .edge.selected {
            stroke: green;
            stroke-width: 3;
        }
        .vertex {
            fill: blue;
            stroke: black;
            stroke-width: 2;
            cursor: pointer;
        }
        .vertex.selected {
            fill: red;
        }
    </style>
</head>
<body>

<h1>Kruskal's Algorithm Visualization</h1>
<p>Click the button below to visualize Kruskal's Algorithm on a sample graph.</p>
<button id="start">Run Kruskal's Algorithm</button>

<svg class="graph" id="graph" viewBox="0 0 400 400"></svg>

<script>
    // Graph edges and vertices definition
    const edges = [
        { start: 0, end: 1, weight: 10 },
        { start: 0, end: 2, weight: 6 },
        { start: 0, end: 3, weight: 5 },
        { start: 1, end: 3, weight: 15 },
        { start: 2, end: 3, weight: 4 }
    ];

    const vertices = [
        { x: 50, y: 50 },
        { x: 200, y: 30 },
        { x: 150, y: 200 },
        { x: 300, y: 200 }
    ];

    const graphElement = document.getElementById('graph');

    function drawGraph() {
        // Draw edges
        edges.forEach(edge => {
            const startVertex = vertices[edge.start];
            const endVertex = vertices[edge.end];
            const edgeElement = document.createElementNS("http://www.w3.org/2000/svg", "line");
            edgeElement.setAttribute("class", "edge");
            edgeElement.setAttribute("x1", startVertex.x);
            edgeElement.setAttribute("y1", startVertex.y);
            edgeElement.setAttribute("x2", endVertex.x);
            edgeElement.setAttribute("y2", endVertex.y);
            graphElement.appendChild(edgeElement);
        });

        // Draw vertices
        vertices.forEach((vertex, i) => {
            const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            circle.setAttribute("class", "vertex");
            circle.setAttribute("cx", vertex.x);
            circle.setAttribute("cy", vertex.y);
            circle.setAttribute("r", 15);
            graphElement.appendChild(circle);
            // Label the vertex
            const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
            text.setAttribute("x", vertex.x);
            text.setAttribute("y", vertex.y);
            text.setAttribute("text-anchor", "middle");
            text.setAttribute("dy", "5");
            text.textContent = i;
            graphElement.appendChild(text);
        });
    }

    function find(parent, i) {
        if (parent[i] === -1) {
            return i;
        }
        return find(parent, parent[i]);
    }

    function union(parent, x, y) {
        parent[x] = y;
    }

    function kruskal() {
        const result = [];
        edges.sort((a, b) => a.weight - b.weight); // Sort edges based on weight
        const parent = Array(edges.length).fill(-1);
        
        for (let edge of edges) {
            const x = find(parent, edge.start);
            const y = find(parent, edge.end);
            if (x !== y) {
                result.push(edge);
                union(parent, x, y);
            }
        }
        return result;
    }

    document.getElementById('start').onclick = function() {
        const result = kruskal();
        // Highlight the edges in the result
        const edgeLines = document.querySelectorAll('.edge');
        edgeLines.forEach(line => line.classList.remove('selected'));
        result.forEach(edge => {
            const selectedEdge = Array.from(edgeLines).find(line => {
                const startVertex = vertices[edge.start];
                const endVertex = vertices[edge.end];
                return line.getAttribute('x1') == startVertex.x &&
                       line.getAttribute('y1') == startVertex.y &&
                       line.getAttribute('x2') == endVertex.x &&
                       line.getAttribute('y2') == endVertex.y;
            });
            if (selectedEdge) {
                selectedEdge.classList.add('selected');
            }
        });
    };

    drawGraph();
</script>

</body>
</html>