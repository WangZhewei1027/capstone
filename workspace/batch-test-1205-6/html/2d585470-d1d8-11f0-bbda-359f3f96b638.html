<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Regression Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #chart {
            width: 600px;
            height: 400px;
            border: 1px solid #cccccc;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<h1>Linear Regression Demonstration</h1>
<canvas id="chart"></canvas>
<input type="number" id="slope" placeholder="Slope (m)" step="0.1" />
<input type="number" id="intercept" placeholder="Intercept (b)" step="0.1" />
<button id="update">Update Line</button>

<script>
    const ctx = document.getElementById('chart').getContext('2d');
    let dataPoints = [
        {x: 1, y: 2},
        {x: 2, y: 3},
        {x: 3, y: 5},
        {x: 4, y: 7},
        {x: 5, y: 11},
        {x: 6, y: 13}
    ];

    const scatterData = {
        datasets: [{
            label: 'Data Points',
            data: dataPoints,
            backgroundColor: 'rgba(255, 99, 132, 1)',
            pointRadius: 5,
        }]
    };

    const regressionLine = {
        label: 'Regression Line',
        data: [],
        borderColor: 'rgba(54, 162, 235, 1)',
        borderWidth: 2,
        fill: false
    };

    const config = {
        type: 'scatter',
        data: {
            datasets: [scatterData.datasets[0], regressionLine]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                    type: 'linear',
                    position: 'bottom'
                },
                y: {
                    beginAtZero: true
                }
            }
        }
    };

    const myChart = new Chart(ctx, config);

    function calculateRegressionLine(slope, intercept) {
        regressionLine.data = [];
        for (let x = 0; x <= 7; x++) {
            regressionLine.data.push({x: x, y: slope * x + intercept});
        }
        myChart.update();
    }

    document.getElementById('update').addEventListener('click', () => {
        const slope = parseFloat(document.getElementById('slope').value);
        const intercept = parseFloat(document.getElementById('intercept').value);
        calculateRegressionLine(slope, intercept);
    });

    // Initial regression line using default values slope=1, intercept=0
    calculateRegressionLine(1, 0);
</script>

</body>
</html>