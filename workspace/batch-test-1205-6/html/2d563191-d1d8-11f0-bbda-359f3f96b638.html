<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heap (Min/Max) Demonstration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #output {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Heap Min/Max Demonstration</h1>
    <label for="numInput">Enter numbers separated by commas:</label>
    <input type="text" id="numInput" placeholder="e.g. 3,1,4,1,5,9,2,6,5">
    <button onclick="createHeaps()">Create Heaps</button>
    
    <div id="output"></div>

    <script>
        class MinHeap {
            constructor() {
                this.heap = [];
            }

            insert(num) {
                this.heap.push(num);
                this.bubbleUp();
            }

            bubbleUp() {
                let index = this.heap.length - 1;
                while (index > 0) {
                    let parentIndex = Math.floor((index - 1) / 2);
                    if (this.heap[index] >= this.heap[parentIndex]) break;
                    [this.heap[index], this.heap[parentIndex]] = [this.heap[parentIndex], this.heap[index]];
                    index = parentIndex;
                }
            }

            extractMin() {
                if (this.heap.length === 0) return null;
                if (this.heap.length === 1) return this.heap.pop();
                const min = this.heap[0];
                this.heap[0] = this.heap.pop();
                this.bubbleDown();
                return min;
            }

            bubbleDown() {
                let index = 0;
                const length = this.heap.length;
                while (true) {
                    let leftChildIndex = 2 * index + 1;
                    let rightChildIndex = 2 * index + 2;
                    let smallestChildIndex = null;

                    if (leftChildIndex < length) {
                        if (rightChildIndex < length) {
                            smallestChildIndex = this.heap[leftChildIndex] < this.heap[rightChildIndex]
                                ? leftChildIndex
                                : rightChildIndex;
                        } else {
                            smallestChildIndex = leftChildIndex;
                        }
                    } else {
                        break;
                    }

                    if (this.heap[smallestChildIndex] >= this.heap[index]) break;
                    [this.heap[index], this.heap[smallestChildIndex]] = [this.heap[smallestChildIndex], this.heap[index]];
                    index = smallestChildIndex;
                }
            }

            getHeap() {
                return this.heap;
            }
        }

        class MaxHeap {
            constructor() {
                this.heap = [];
            }

            insert(num) {
                this.heap.push(num);
                this.bubbleUp();
            }

            bubbleUp() {
                let index = this.heap.length - 1;
                while (index > 0) {
                    let parentIndex = Math.floor((index - 1) / 2);
                    if (this.heap[index] <= this.heap[parentIndex]) break;
                    [this.heap[index], this.heap[parentIndex]] = [this.heap[parentIndex], this.heap[index]];
                    index = parentIndex;
                }
            }

            extractMax() {
                if (this.heap.length === 0) return null;
                if (this.heap.length === 1) return this.heap.pop();
                const max = this.heap[0];
                this.heap[0] = this.heap.pop();
                this.bubbleDown();
                return max;
            }

            bubbleDown() {
                let index = 0;
                const length = this.heap.length;
                while (true) {
                    let leftChildIndex = 2 * index + 1;
                    let rightChildIndex = 2 * index + 2;
                    let largestChildIndex = null;

                    if (leftChildIndex < length) {
                        if (rightChildIndex < length) {
                            largestChildIndex = this.heap[leftChildIndex] > this.heap[rightChildIndex]
                                ? leftChildIndex
                                : rightChildIndex;
                        } else {
                            largestChildIndex = leftChildIndex;
                        }
                    } else {
                        break;
                    }

                    if (this.heap[largestChildIndex] <= this.heap[index]) break;
                    [this.heap[index], this.heap[largestChildIndex]] = [this.heap[largestChildIndex], this.heap[index]];
                    index = largestChildIndex;
                }
            }

            getHeap() {
                return this.heap;
            }
        }

        function createHeaps() {
            const input = document.getElementById('numInput').value;
            const nums = input.split(',').map(num => parseInt(num.trim()));
            
            const minHeap = new MinHeap();
            const maxHeap = new MaxHeap();

            nums.forEach(num => {
                minHeap.insert(num);
                maxHeap.insert(num);
            });

            const minHeapOutput = minHeap.getHeap().join(', ');
            const maxHeapOutput = maxHeap.getHeap().join(', ');

            document.getElementById('output').innerHTML = `
                <h2>Results</h2>
                <p><strong>Min Heap:</strong> ${minHeapOutput}</p>
                <p><strong>Max Heap:</strong> ${maxHeapOutput}</p>
            `;
        }
    </script>
</body>
</html>