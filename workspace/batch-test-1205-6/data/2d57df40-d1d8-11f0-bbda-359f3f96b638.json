{
  "id": "2d57df40-d1d8-11f0-bbda-359f3f96b638",
  "timestamp": "2025-12-05T12:46:32.134Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "Huffman Coding",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Huffman Coding Demonstration</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 20px;\n        }\n        #inputText {\n            width: 100%;\n            height: 100px;\n        }\n        #result {\n            margin-top: 20px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 10px;\n        }\n        th, td {\n            border: 1px solid #ddd;\n            padding: 8px;\n            text-align: center;\n        }\n        th {\n            background-color: #f2f2f2;\n        }\n    </style>\n</head>\n<body>\n\n<h1>Huffman Coding Demonstration</h1>\n<p>Enter text to encode using Huffman coding:</p>\n<textarea id=\"inputText\"></textarea>\n<button onclick=\"generateHuffmanCodes()\">Generate Huffman Codes</button>\n\n<div id=\"result\"></div>\n\n<script>\n    class Node {\n        constructor(char, freq) {\n            this.char = char;\n            this.freq = freq;\n            this.left = null;\n            this.right = null;\n        }\n    }\n\n    class MinHeap {\n        constructor() {\n            this.nodes = [];\n        }\n\n        insert(node) {\n            this.nodes.push(node);\n            this.bubbleUp();\n        }\n\n        bubbleUp() {\n            let idx = this.nodes.length - 1;\n            while (idx > 0) {\n                let parentIdx = Math.floor((idx - 1) / 2);\n                if (this.nodes[parentIdx].freq <= this.nodes[idx].freq) break;\n                [this.nodes[parentIdx], this.nodes[idx]] = [this.nodes[idx], this.nodes[parentIdx]];\n                idx = parentIdx;\n            }\n        }\n\n        remove() {\n            const min = this.nodes[0];\n            const end = this.nodes.pop();\n            if (this.nodes.length > 0) {\n                this.nodes[0] = end;\n                this.bubbleDown();\n            }\n            return min;\n        }\n\n        bubbleDown() {\n            let idx = 0;\n            const length = this.nodes.length;\n            const element = this.nodes[0];\n\n            while (true) {\n                let leftChildIdx = 2 * idx + 1;\n                let rightChildIdx = 2 * idx + 2;\n                let leftChild, rightChild;\n                let swap = null;\n\n                if (leftChildIdx < length) {\n                    leftChild = this.nodes[leftChildIdx];\n                    if (leftChild.freq < element.freq) {\n                        swap = leftChildIdx;\n                    }\n                }\n                if (rightChildIdx < length) {\n                    rightChild = this.nodes[rightChildIdx];\n                    if (\n                        (swap === null && rightChild.freq < element.freq) ||\n                        (swap !== null && rightChild.freq < leftChild.freq)\n                    ) {\n                        swap = rightChildIdx;\n                    }\n                }\n                if (swap === null) break;\n                this.nodes[idx] = this.nodes[swap];\n                this.nodes[swap] = element;\n                idx = swap;\n            }\n        }\n\n        isEmpty() {\n            return this.nodes.length === 0;\n        }\n    }\n\n    function buildHuffmanTree(text) {\n        const frequency = {};\n        for (const char of text) {\n            frequency[char] = (frequency[char] || 0) + 1;\n        }\n\n        const minHeap = new MinHeap();\n        for (const [char, freq] of Object.entries(frequency)) {\n            minHeap.insert(new Node(char, freq));\n        }\n\n        while (minHeap.nodes.length > 1) {\n            const left = minHeap.remove();\n            const right = minHeap.remove();\n            const merged = new Node(null, left.freq + right.freq);\n            merged.left = left;\n            merged.right = right;\n            minHeap.insert(merged);\n        }\n\n        return minHeap.remove();\n    }\n\n    function generateCodes(node, prefix = \"\", codes = {}) {\n        if (node === null) return;\n\n        if (node.char !== null) {\n            codes[node.char] = prefix;\n        }\n\n        generateCodes(node.left, prefix + \"0\", codes);\n        generateCodes(node.right, prefix + \"1\", codes);\n\n        return codes;\n    }\n\n    function generateHuffmanCodes() {\n        const inputText = document.getElementById(\"inputText\").value;\n        if (!inputText) {\n            alert(\"Please enter some text to encode.\");\n            return;\n        }\n\n        const huffmanTree = buildHuffmanTree(inputText);\n        const huffmanCodes = generateCodes(huffmanTree);\n\n        let resultHTML = '<h2>Huffman Codes:</h2>';\n        resultHTML += '<table><tr><th>Character</th><th>Code</th></tr>';\n        for (const char in huffmanCodes) {\n            resultHTML += `<tr><td>${char}</td><td>${huffmanCodes[char]}</td></tr>`;\n        }\n        resultHTML += '</table>';\n        resultHTML += `<h3>Encoded Text: </h3><p>${inputText.split('').map(char => huffmanCodes[char]).join('')}</p>`;\n        \n        document.getElementById(\"result\").innerHTML = resultHTML;\n    }\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Huffman Coding"
    }
  ],
  "topic": "Huffman Coding",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}