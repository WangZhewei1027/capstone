{
  "timestamp": "2025-10-29T02:01:00.906Z",
  "html_file": "5736e9c0-b408-11f0-ab52-fbe7249bf639.html",
  "strategy_used": "通用交互应用",
  "fsm_config": {
    "topic": "Interactive Application",
    "description": "FSM for a Min/Max Heap interactive module where users type a number and click Insert to add it to a heap, which is then heapified and rendered with user feedback.",
    "states": [
      {
        "name": "idle",
        "on": {
          "INPUT_FOCUS": "editing_input",
          "INPUT_CHANGE": "editing_input",
          "CLICK_INSERT": "validating_input"
        }
      },
      {
        "name": "editing_input",
        "on": {
          "INPUT_CHANGE": "editing_input",
          "CLICK_INSERT": "validating_input",
          "INPUT_BLUR": "idle"
        }
      },
      {
        "name": "validating_input",
        "onEnter": "validateInput",
        "on": {
          "VALID_NUMBER": "inserting_value",
          "INVALID_NUMBER": "error_feedback"
        }
      },
      {
        "name": "error_feedback",
        "onEnter": "showErrorFeedback",
        "on": {
          "INPUT_CHANGE": "editing_input",
          "CLICK_INSERT": "validating_input",
          "INPUT_BLUR": "idle"
        }
      },
      {
        "name": "inserting_value",
        "onEnter": "pushToHeap",
        "on": {
          "INSERT_PUSHED": "heapify_compare"
        }
      },
      {
        "name": "heapify_compare",
        "onEnter": "compareWithParent",
        "on": {
          "SHOULD_SWAP": "heapify_swap",
          "HEAPIFY_DONE": "rendering"
        }
      },
      {
        "name": "heapify_swap",
        "onEnter": "swapWithParent",
        "on": {
          "SWAP_DONE": "heapify_compare"
        }
      },
      {
        "name": "rendering",
        "onEnter": "renderHeap",
        "on": {
          "RENDER_DONE": "success_feedback"
        }
      },
      {
        "name": "success_feedback",
        "onEnter": "showSuccessFeedback",
        "on": {
          "FEEDBACK_SHOWN": "clearing_input"
        }
      },
      {
        "name": "clearing_input",
        "onEnter": "clearInputField",
        "on": {
          "INPUT_CLEARED": "idle"
        }
      }
    ],
    "events": [
      "INPUT_FOCUS",
      "INPUT_CHANGE",
      "INPUT_BLUR",
      "CLICK_INSERT",
      "VALID_NUMBER",
      "INVALID_NUMBER",
      "INSERT_PUSHED",
      "SHOULD_SWAP",
      "HEAPIFY_DONE",
      "SWAP_DONE",
      "RENDER_DONE",
      "FEEDBACK_SHOWN",
      "INPUT_CLEARED"
    ],
    "notes": "Mapping to code: validateInput corresponds to parseInt on #nodeValue and isNaN check; showErrorFeedback sets feedback to 'Please enter a valid number.'; pushToHeap is heap.push(value) from insert(); compareWithParent reflects bubbleUp comparison using isMinHeap parity logic; swapWithParent swaps child/parent and loops; renderHeap corresponds to display() that rebuilds #heap DOM nodes; showSuccessFeedback sets feedback to 'Inserted X into the heap!'; clearInputField sets #nodeValue.value = ''. All internal transitions (INSERT_PUSHED, SHOULD_SWAP, SWAP_DONE, HEAPIFY_DONE, RENDER_DONE, FEEDBACK_SHOWN, INPUT_CLEARED) are synchronous/automatic within the handler and methods. Node hover is purely CSS and not represented as states."
  },
  "total_screenshots": 7,
  "total_steps": 7,
  "screenshot_folder": "D:\\largeProjects\\CS-Capstone\\capstone\\workspace\\vlm-test\\visuals\\5736e9c0-b408-11f0-ab52-fbe7249bf639"
}