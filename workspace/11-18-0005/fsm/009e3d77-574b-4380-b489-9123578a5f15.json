{
  "topic": "Bubble Sort Visualization",
  "description": "This visualization teaches the Bubble Sort algorithm by allowing users to input data and observe the sorting process step-by-step.",
  "dataStructure": {
    "type": "array",
    "initialValue": "[]",
    "constraints": "max size: 20, value range: 0-100"
  },
  "uiElements": {
    "required": [
      "arrayDisplay",
      "startButton",
      "pauseButton",
      "resetButton",
      "inputField",
      "errorMessage"
    ],
    "optional": [
      "speedSlider"
    ],
    "testIds": {
      "arrayDisplay": "array-display",
      "startButton": "start-button",
      "pauseButton": "pause-button",
      "resetButton": "reset-button",
      "inputField": "input-field",
      "errorMessage": "error-message"
    }
  },
  "states": [
    {
      "name": "idle",
      "description": "Initial state",
      "uiRequirements": {
        "visualization": "Show initial data",
        "controls": [
          "start button enabled",
          "input enabled",
          "pause button disabled",
          "reset button disabled"
        ],
        "status": "Ready to start"
      },
      "dataRequirements": {
        "conditions": "Data must be valid",
        "display": "Show data as horizontal bars with values"
      },
      "on": {
        "START": "running",
        "INPUT_CHANGE": "idle",
        "RESET": "idle"
      }
    },
    {
      "name": "running",
      "description": "Algorithm is running",
      "uiRequirements": {
        "visualization": "Animate current step",
        "controls": [
          "start button disabled",
          "input disabled",
          "pause button enabled",
          "reset button enabled"
        ],
        "status": "Sorting in progress"
      },
      "dataRequirements": {
        "conditions": "Data is being processed",
        "display": "Highlight current elements being compared"
      },
      "on": {
        "PAUSE": "paused",
        "COMPLETE": "completed",
        "RESET": "idle"
      }
    },
    {
      "name": "paused",
      "description": "Algorithm is paused",
      "uiRequirements": {
        "visualization": "Show current state of data",
        "controls": [
          "start button enabled",
          "input disabled",
          "pause button disabled",
          "reset button enabled"
        ],
        "status": "Paused"
      },
      "dataRequirements": {
        "conditions": "Data is unchanged",
        "display": "Show current state of data"
      },
      "on": {
        "START": "running",
        "RESET": "idle"
      }
    },
    {
      "name": "completed",
      "description": "Sorting is complete",
      "uiRequirements": {
        "visualization": "Show sorted data",
        "controls": [
          "start button disabled",
          "input enabled",
          "pause button disabled",
          "reset button enabled"
        ],
        "status": "Sorting complete"
      },
      "dataRequirements": {
        "conditions": "Data is sorted",
        "display": "Highlight sorted data in green"
      },
      "on": {
        "RESET": "idle"
      }
    }
  ],
  "events": [
    {
      "name": "START",
      "trigger": "User clicks start button",
      "validation": "Data must not be empty",
      "effect": "Begin algorithm animation"
    },
    {
      "name": "PAUSE",
      "trigger": "User clicks pause button",
      "validation": "None",
      "effect": "Pause algorithm animation"
    },
    {
      "name": "RESET",
      "trigger": "User clicks reset button",
      "validation": "None",
      "effect": "Reset data to initial state"
    },
    {
      "name": "INPUT_CHANGE",
      "trigger": "User changes input data",
      "validation": "Data must be valid",
      "effect": "Update data display"
    },
    {
      "name": "COMPLETE",
      "trigger": "Algorithm completes sorting",
      "validation": "Data must be sorted",
      "effect": "Transition to completed state"
    }
  ],
  "animations": {
    "comparison": "Highlight compared elements in yellow",
    "swap": "Animate swap with smooth transition",
    "complete": "Highlight final sorted array in green"
  },
  "errorHandling": {
    "emptyInput": "Show error message 'Input cannot be empty', stay in idle",
    "invalidInput": "Show validation error 'Invalid input', stay in idle",
    "exceedMaxSize": "Show error message 'Input exceeds maximum size', stay in idle"
  },
  "acceptanceCriteria": [
    "User can input custom data",
    "Animation can be started, paused, and reset",
    "Each comparison and swap is visually clear",
    "Final sorted result is correct and highlighted",
    "Error messages are displayed for invalid inputs"
  ]
}