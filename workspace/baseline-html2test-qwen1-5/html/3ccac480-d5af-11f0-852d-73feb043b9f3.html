<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>K-Nearest Neighbors</title>
</head>
<body>
  <h1>K-Nearest Neighbors</h1>
  <form id="knn-form">
    <label for="x-score">X Score:</label>
    <input type="number" id="x-score" min="1" max="100">
    <br>
    <label for="y-score">Y Score:</label>
    <input type="number" id="y-score" min="1" max="100">
    <br>
    <button type="submit">Submit</button>
  </form>

  <div id="results"></div>

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tensorflow@4.6.0"></script>
  <script>
    const model = await tf.loadModel('model.tflite', {
      inputShape: [1, 2], // inputs should be two-dimensional
      outputShape: [1, 1], // outputs should be one-dimensional
    });

    const k = 5; // number of nearest neighbors to return

    const x = tf.tensor([[1, 2], [3, 4]], 'float32');
    const y = tf.tensor([0, 1], 'float32');

    let results;

    function calculateResults() {
      results = [];

      for (let i = 0; i < 10; i++) {
        const prediction = model.predict(x);
        const actual = x[i];
        const distance = tf.sqrt(tf.abs(prediction - actual));

        results.push({
          xIndex: i,
          predictedValue: prediction,
          actualValue: actual,
          distance,
        });
      }

      results.sort((a, b) => b.distance - a.distance);

      document.getElementById('results').innerHTML = results.join('\n');
    }

    calculateResults();
  </script>
</body>
</html>