<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubble Sort Interactive Exploration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
        }
        #array {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .bar {
            width: 30px;
            margin: 0 2px;
            background-color: #4CAF50;
            display: inline-block;
        }
        #controls {
            text-align: center;
        }
        button {
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
        }
        #description {
            margin: 20px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Bubble Sort Interactive Exploration</h1>

    <div id="description">
        <p>Bubble Sort is a simple sorting algorithm that repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order. The pass through the list is repeated until the list is sorted.</p>
        <p>Press "Start Sorting" to visualize the Bubble Sort algorithm with the current array.</p>
    </div>

    <div id="array"></div>
    <div id="controls">
        <button id="generateArray">Generate Random Array</button>
        <button id="startSort" disabled>Start Sorting</button>
    </div>

    <script>
        const arrayContainer = document.getElementById('array');
        const generateButton = document.getElementById('generateArray');
        const startButton = document.getElementById('startSort');

        let array = [];
        const arraySize = 10;

        function generateRandomArray() {
            array = Array.from({length: arraySize}, () => Math.floor(Math.random() * 100) + 1);
            renderArray();
            startButton.disabled = false;
        }

        function renderArray() {
            arrayContainer.innerHTML = '';
            array.forEach(value => {
                const bar = document.createElement('div');
                bar.style.height = `${value}px`;
                bar.className = 'bar';
                arrayContainer.appendChild(bar);
            });
        }

        async function bubbleSort() {
            let n = array.length;
            for (let i = 0; i < n - 1; i++) {
                for (let j = 0; j < n - i - 1; j++) {
                    if (array[j] > array[j + 1]) {
                        // Swap
                        [array[j], array[j + 1]] = [array[j + 1], array[j]];
                        renderArray();
                        await new Promise(resolve => setTimeout(resolve, 300)); // Delay for visualization
                    }
                }
            }
            startButton.disabled = true;
        }

        generateButton.addEventListener('click', generateRandomArray);
        startButton.addEventListener('click', bubbleSort);
    </script>
</body>
</html>