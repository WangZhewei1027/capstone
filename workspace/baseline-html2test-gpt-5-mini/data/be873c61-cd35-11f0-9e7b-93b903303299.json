{
  "id": "be873c61-cd35-11f0-9e7b-93b903303299",
  "timestamp": "2025-11-29T15:13:30.305Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Stack",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Stack (LIFO) — Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --card:#0b1220;\n      --accent:#4f46e5;\n      --muted:#94a3b8;\n      --glass: rgba(255,255,255,0.03);\n      --success:#10b981;\n      --danger:#ef4444;\n      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, \"Roboto Mono\", \"Courier New\", monospace;\n    }\n    *{box-sizing:border-box}\n    html,body{height:100%}\n    body{\n      margin:0;\n      font-family: Inter, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n      background: linear-gradient(180deg, #071022 0%, #07132a 100%);\n      color:#e6eef8;\n      -webkit-font-smoothing:antialiased;\n      -moz-osx-font-smoothing:grayscale;\n      padding:28px;\n      display:flex;\n      align-items:flex-start;\n      justify-content:center;\n      gap:20px;\n    }\n\n    .container{\n      width:980px;\n      max-width:calc(100% - 40px);\n      display:grid;\n      grid-template-columns: 360px 1fr;\n      gap:20px;\n      align-items:start;\n    }\n\n    .card{\n      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.007));\n      border:1px solid rgba(255,255,255,0.04);\n      border-radius:12px;\n      padding:18px;\n      box-shadow: 0 6px 30px rgba(2,6,23,0.6);\n    }\n\n    h1{font-size:18px;margin:0 0 8px}\n    p.lead{margin:6px 0 14px;color:var(--muted);font-size:13px}\n\n    /* Controls */\n    .controls{display:flex;gap:8px;flex-wrap:wrap}\n    .controls input[type=\"text\"]{\n      padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;\n      outline: none; min-width:120px;\n      font-family:var(--mono); font-size:13px;\n    }\n    .controls button{\n      padding:10px 12px;border-radius:8px;border:0;background:var(--accent);color:white;font-weight:600;\n      cursor:pointer;font-size:13px;\n      box-shadow: 0 4px 14px rgba(79,70,229,0.18);\n    }\n    .controls button.secondary{\n      background:transparent;border:1px solid rgba(255,255,255,0.06);box-shadow:none;color:var(--muted);font-weight:600;\n    }\n    .controls button.ghost{background:transparent;border:1px dashed rgba(255,255,255,0.03); color:var(--muted)}\n    .controls button.danger{background:var(--danger);box-shadow:none}\n\n    /* Stack visualization */\n    .visual{\n      display:flex;gap:16px;align-items:flex-start;\n    }\n    .stack-pane{\n      width:260px;min-height:300px;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));\n      border:1px solid rgba(255,255,255,0.03);\n      display:flex;flex-direction:column;align-items:center;\n    }\n    .stack-area{\n      margin-top:8px;width:100%;min-height:260px;border-radius:8px;padding:12px;background:var(--glass);\n      display:flex;flex-direction:column-reverse;align-items:center;justify-content:flex-start;\n      gap:8px;position:relative;overflow:auto;\n    }\n    .slot{\n      width:100%;max-width:220px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.03);\n      border:1px solid rgba(255,255,255,0.04);display:flex;justify-content:space-between;align-items:center;\n      font-family:var(--mono);color:#e6eef8;font-size:14px;transition:transform 300ms ease, opacity 250ms ease;\n    }\n    .slot.top{background:linear-gradient(90deg, rgba(79,70,229,0.12), rgba(79,70,229,0.06));border-color:rgba(79,70,229,0.22)}\n    .idx{opacity:0.54;font-size:12px}\n    .empty{\n      color:var(--muted);font-size:13px;padding:18px;text-align:center;\n    }\n\n    /* Details / Code view */\n    .details{\n      padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));\n      border:1px solid rgba(255,255,255,0.03);font-family:var(--mono);font-size:13px;color:var(--muted);\n    }\n    pre{background:transparent;border-radius:6px;padding:8px;margin:8px 0;overflow:auto;color:#cbd5e1}\n    .meta{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}\n    .chip{padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);font-size:12px;color:var(--muted)}\n\n    /* log area */\n    .log{\n      margin-top:12px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);max-height:160px;overflow:auto;font-family:var(--mono);font-size:13px;color:var(--muted);\n    }\n    .log .entry{padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.02)}\n    .log .entry:last-child{border-bottom:0}\n\n    /* Demo actions */\n    .demo-controls{display:flex;gap:8px;align-items:center;margin-top:12px}\n    .speed{display:flex;gap:6px;align-items:center}\n    input[type=\"range\"]{accent-color:var(--accent);}\n\n    /* responsive */\n    @media (max-width:900px){\n      .container{grid-template-columns:1fr; width:100%}\n      .visual{flex-direction:row;gap:12px}\n      .stack-pane{width:48%}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"card\">\n      <h1>Stack (LIFO) — Interactive demo</h1>\n      <p class=\"lead\">A stack is a Last-In-First-Out (LIFO) data structure. This demo shows push, pop, peek, clear, and a visual animation and code view of the underlying array.</p>\n\n      <div class=\"controls\" style=\"margin-bottom:12px\">\n        <input id=\"valueInput\" type=\"text\" placeholder=\"Value to push (string or number)\" />\n        <button id=\"pushBtn\">Push</button>\n        <button id=\"popBtn\" class=\"secondary\">Pop</button>\n        <button id=\"peekBtn\" class=\"secondary\">Peek</button>\n        <button id=\"clearBtn\" class=\"ghost\">Clear</button>\n        <button id=\"randomBtn\" class=\"ghost\">Push Random</button>\n      </div>\n\n      <div class=\"demo-controls\">\n        <div class=\"speed\">\n          <label for=\"speedRange\" style=\"color:var(--muted);font-size:13px\">Demo speed</label>\n          <input id=\"speedRange\" type=\"range\" min=\"150\" max=\"1200\" value=\"400\" />\n        </div>\n        <div style=\"margin-left:auto;display:flex;gap:8px\">\n          <button id=\"demoPush\" class=\"secondary\">Demo Sequence</button>\n          <button id=\"autoPop\" class=\"danger\">Auto Pop All</button>\n        </div>\n      </div>\n\n      <div class=\"visual\" style=\"margin-top:14px\">\n        <div class=\"stack-pane\">\n          <div style=\"display:flex;width:100%;justify-content:space-between;align-items:center\">\n            <strong style=\"font-size:13px\">Stack</strong>\n            <span class=\"chip\" id=\"sizeChip\">size: 0</span>\n          </div>\n\n          <div class=\"stack-area\" id=\"stackArea\">\n            <div class=\"empty\" id=\"emptyHint\">Stack is empty</div>\n          </div>\n\n          <div style=\"width:100%;margin-top:8px\">\n            <div class=\"details\" id=\"peekBox\">peek: <span style=\"color:#cbd5e1;font-family:var(--mono)\">—</span></div>\n            <div class=\"log\" id=\"logArea\" aria-live=\"polite\"></div>\n          </div>\n        </div>\n\n        <div style=\"flex:1;display:flex;flex-direction:column;gap:12px\">\n          <div class=\"card details\">\n            <strong>Underlying implementation (array-based)</strong>\n            <pre id=\"codeView\">// stack uses an internal array\nclass Stack {\n  constructor(){ this._items = []; }\n  push(v){ this._items.push(v); }\n  pop(){ return this._items.pop(); }\n  peek(){ return this._items[this._items.length-1]; }\n  size(){ return this._items.length; }\n}</pre>\n            <div class=\"meta\">\n              <div class=\"chip\">Push: O(1) amortized</div>\n              <div class=\"chip\">Pop: O(1)</div>\n              <div class=\"chip\">Peek: O(1)</div>\n              <div class=\"chip\">Uses contiguous memory (array)</div>\n            </div>\n          </div>\n\n          <div class=\"card details\">\n            <strong>Array visualization</strong>\n            <p style=\"margin:6px 0;color:var(--muted)\">Shows the internal array from index 0 (bottom) to index size-1 (top). The top of the stack is highlighted.</p>\n            <pre id=\"arrayView\">[]</pre>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card\">\n      <h1>How it works</h1>\n      <p class=\"lead\">Use the controls to push and pop values. The visual area animates stack changes and shows the internal array and logs operations.</p>\n\n      <h2 style=\"font-size:15px;margin-top:8px\">Tips</h2>\n      <ul style=\"color:var(--muted);line-height:1.6\">\n        <li>Push adds an item to the top; Pop removes and returns the top item.</li>\n        <li>Peek returns the top without removing it.</li>\n        <li>Stacks are used for expression evaluation, call/return management, undo systems, and DFS traversal.</li>\n      </ul>\n\n      <h2 style=\"font-size:15px;margin-top:12px\">Examples</h2>\n      <div style=\"color:var(--muted);line-height:1.6\">\n        <ol>\n          <li>Browser back button: last visited page is popped from history stack.</li>\n          <li>Function call stack: active functions are pushed on call and popped on return.</li>\n          <li>Undo feature: recent actions are pushed and undone by popping.</li>\n        </ol>\n      </div>\n\n      <div style=\"margin-top:12px\">\n        <button id=\"exPushSeq\" class=\"secondary\">Example: Push 1..5</button>\n        <button id=\"exPopSeq\" class=\"secondary\">Example: Pop 3</button>\n      </div>\n\n    </div>\n  </div>\n\n  <script>\n    // Simple Stack class (array-backed)\n    class Stack {\n      constructor(){\n        this._items = [];\n      }\n      push(v){\n        this._items.push(v);\n      }\n      pop(){\n        return this._items.pop();\n      }\n      peek(){\n        return this._items[this._items.length - 1];\n      }\n      size(){\n        return this._items.length;\n      }\n      clear(){\n        this._items.length = 0;\n      }\n      toArray(){\n        // Return a shallow copy for display\n        return this._items.slice();\n      }\n    }\n\n    // UI elements\n    const valueInput = document.getElementById('valueInput');\n    const pushBtn = document.getElementById('pushBtn');\n    const popBtn = document.getElementById('popBtn');\n    const peekBtn = document.getElementById('peekBtn');\n    const clearBtn = document.getElementById('clearBtn');\n    const randomBtn = document.getElementById('randomBtn');\n    const stackArea = document.getElementById('stackArea');\n    const emptyHint = document.getElementById('emptyHint');\n    const sizeChip = document.getElementById('sizeChip');\n    const logArea = document.getElementById('logArea');\n    const arrayView = document.getElementById('arrayView');\n    const peekBox = document.getElementById('peekBox');\n    const speedRange = document.getElementById('speedRange');\n    const demoPush = document.getElementById('demoPush');\n    const autoPop = document.getElementById('autoPop');\n    const exPushSeq = document.getElementById('exPushSeq');\n    const exPopSeq = document.getElementById('exPopSeq');\n\n    const stack = new Stack();\n\n    // Utility: log message\n    function log(msg){\n      const entry = document.createElement('div');\n      entry.className = 'entry';\n      entry.textContent = `[${(new Date()).toLocaleTimeString()}] ${msg}`;\n      logArea.prepend(entry);\n    }\n\n    // Render the stack visualization and array view\n    function renderStack(animated=true){\n      const arr = stack.toArray();\n      sizeChip.textContent = 'size: ' + stack.size();\n      arrayView.textContent = JSON.stringify(arr);\n      // Update peek\n      const p = stack.peek();\n      peekBox.innerHTML = 'peek: <span style=\"color:#cbd5e1;font-family:var(--mono)\">' + (p === undefined ? '—' : String(p)) + '</span>';\n\n      // Clear current DOM items except empty hint\n      // We'll rebuild them for clarity\n      // Keep scroll position at top when new items added\n      while(stackArea.firstChild){\n        stackArea.removeChild(stackArea.firstChild);\n      }\n\n      if(arr.length === 0){\n        stackArea.appendChild(emptyHint);\n        return;\n      }\n\n      // We want bottom at index 0, top at last index displayed at top.\n      // Because CSS flex-direction: column-reverse, we append nodes in order 0..n-1\n      arr.forEach((val, idx) => {\n        const slot = document.createElement('div');\n        slot.className = 'slot';\n        if(idx === arr.length - 1) slot.classList.add('top');\n        // index on the left, value on the right\n        const idxSpan = document.createElement('span');\n        idxSpan.className = 'idx';\n        idxSpan.textContent = idx;\n        const valSpan = document.createElement('span');\n        valSpan.textContent = String(val);\n        slot.appendChild(idxSpan);\n        slot.appendChild(valSpan);\n\n        // Animate new pushes: fade/translate in\n        slot.style.opacity = '0';\n        slot.style.transform = 'translateY(8px)';\n\n        stackArea.appendChild(slot);\n        // Defer animation frame to allow transition\n        requestAnimationFrame(() => {\n          slot.style.opacity = '1';\n          slot.style.transform = 'translateY(0)';\n        });\n      });\n    }\n\n    // Helpers for actions\n    function doPush(value){\n      // convert empty string to explicit token so users can push empty\n      const v = value === '' ? '(empty string)' : value;\n      stack.push(v);\n      renderStack();\n      log('push(\"' + v + '\")');\n    }\n\n    function doPop(){\n      if(stack.size() === 0){\n        log('pop() on empty stack -> undefined');\n        return undefined;\n      }\n      const v = stack.pop();\n      renderStack();\n      log('pop() -> \"' + String(v) + '\"');\n      return v;\n    }\n\n    function doPeek(){\n      const v = stack.peek();\n      log('peek() -> ' + (v === undefined ? 'undefined' : '\"' + String(v) + '\"'));\n      // visual peek pulse highlight on top element\n      const topEl = stackArea.querySelector('.slot.top');\n      if(topEl){\n        topEl.style.transition = 'transform 160ms ease';\n        topEl.style.transform = 'scale(1.02)';\n        setTimeout(()=>{ topEl.style.transform = 'scale(1)'; }, 160);\n      }\n      return v;\n    }\n\n    function doClear(){\n      stack.clear();\n      renderStack();\n      log('clear()');\n    }\n\n    // Attach events\n    pushBtn.addEventListener('click', ()=>{\n      const val = valueInput.value;\n      if(val === ''){\n        // push empty string intentionally allowed, but confirm visually\n        if(!confirm('Push an empty string? Click Cancel to abort.')) return;\n      }\n      doPush(val);\n      valueInput.value = '';\n      valueInput.focus();\n    });\n\n    valueInput.addEventListener('keydown', (e)=>{\n      if(e.key === 'Enter'){\n        e.preventDefault();\n        pushBtn.click();\n      }\n    });\n\n    popBtn.addEventListener('click', ()=>{\n      const v = doPop();\n      if(v === undefined){\n        alert('Stack is empty.');\n      } else {\n        alert('Popped: ' + String(v));\n      }\n    });\n\n    peekBtn.addEventListener('click', ()=>{\n      const v = doPeek();\n      alert('Peek: ' + (v === undefined ? 'undefined' : String(v)));\n    });\n\n    clearBtn.addEventListener('click', ()=>{\n      if(confirm('Clear the stack?')) doClear();\n    });\n\n    randomBtn.addEventListener('click', ()=>{\n      const sample = Math.random().toString(36).slice(2,8);\n      doPush(sample);\n    });\n\n    // Demo: push 1..5 then pop with delay\n    async function demoSequence(){\n      disableControls(true);\n      const delay = (ms)=> new Promise(r=>setTimeout(r,ms));\n      const speed = parseInt(speedRange.value,10);\n      // Push five items\n      for(let i=1;i<=5;i++){\n        doPush(i);\n        await delay(speed);\n      }\n      // Then pop 3 items\n      for(let i=0;i<3;i++){\n        await delay(speed);\n        const v = doPop();\n        // show a short highlight by logging\n        if(v !== undefined){\n          log('Demo popped ' + v);\n        }\n      }\n      disableControls(false);\n    }\n\n    demoPush.addEventListener('click', ()=>demoSequence());\n\n    // Auto pop all with animation\n    async function autoPopAll(){\n      if(stack.size() === 0){\n        alert('Stack is empty.');\n        return;\n      }\n      disableControls(true);\n      const delay = (ms)=> new Promise(r=>setTimeout(r,ms));\n      const speed = parseInt(speedRange.value,10);\n      while(stack.size() > 0){\n        await delay(speed);\n        doPop();\n      }\n      disableControls(false);\n    }\n    autoPop.addEventListener('click', ()=>autoPopAll());\n\n    // Example quick buttons\n    exPushSeq.addEventListener('click', ()=>{\n      for(let i=1;i<=5;i++) doPush(i);\n    });\n    exPopSeq.addEventListener('click', ()=>{\n      for(let i=0;i<3;i++) doPop();\n    });\n\n    // Disable UI during demos\n    function disableControls(disabled){\n      [pushBtn, popBtn, peekBtn, clearBtn, randomBtn, demoPush, autoPop, exPushSeq, exPopSeq].forEach(b=>{\n        b.disabled = disabled;\n        b.style.opacity = disabled ? '0.5' : '1';\n        b.style.cursor = disabled ? 'not-allowed' : 'pointer';\n      });\n    }\n\n    // Initialize render\n    renderStack();\n\n    // Accessibility / quick start log\n    log('Stack initialized (empty). Try pushing values.');\n\n    // Expose for console experimentation (for developers)\n    window.__demoStack = stack;\n    window.__doPush = doPush;\n    window.__doPop = doPop;\n    window.__doPeek = doPeek;\n\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Stack"
    }
  ],
  "topic": "Stack",
  "hasFSM": false,
  "hasTest": true
}