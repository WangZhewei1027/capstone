{
  "id": "2bdda740-cd36-11f0-b98e-a1744d282049",
  "timestamp": "2025-11-29T15:17:20.143Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Array",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <title>Array Explorer — Interactive JavaScript Array Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n  <style>\n    :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,\"Helvetica Neue\",Arial; color:#111}\n    body {margin:0;background:#f6f8fb}\n    header {background:linear-gradient(90deg,#3b82f6,#06b6d4);color:white;padding:18px 22px}\n    header h1 {margin:0;font-size:20px}\n    main {display:flex;gap:18px;padding:18px;max-width:1200px;margin:0 auto}\n    .panel {background:white;border-radius:10px;padding:14px;box-shadow:0 4px 18px rgba(11,22,39,0.06);flex:1;min-width:280px}\n    .wide {flex:1.6}\n    label {display:block;font-size:13px;margin:10px 0 6px;color:#334155}\n    textarea,input[type=\"text\"],select {width:100%;box-sizing:border-box;padding:8px;border:1px solid #e6eef6;border-radius:8px;font-size:14px}\n    button {margin:6px 6px 6px 0;padding:8px 12px;border-radius:8px;border:1px solid #cbd5e1;background:white;cursor:pointer}\n    .btn-primary {background:#0ea5a4;color:white;border:none;box-shadow:0 6px 18px rgba(14,165,164,0.12)}\n    .grid {display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px;margin-top:8px}\n    pre {background:#0f1724;color:#e6eef6;padding:12px;border-radius:8px;overflow:auto;font-size:13px}\n    ul.array-visual {list-style:none;padding:0;margin:8px 0 0;display:flex;flex-wrap:wrap;gap:8px}\n    ul.array-visual li {padding:8px 10px;border-radius:8px;background:#f1f5f9;border:1px solid #e2e8f0}\n    .meta {font-size:13px;color:#64748b;margin-top:8px}\n    .controls-row {display:flex;gap:8px;flex-wrap:wrap}\n    .small {font-size:13px;padding:6px 8px}\n    .log {height:160px;overflow:auto;background:#0b1220;color:#e6eef6;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}\n    footer {text-align:center;padding:12px;color:#64748b;font-size:13px}\n    .hint {font-size:13px;color:#475569}\n    .danger {border-color:#fecaca;background:#fff1f2}\n    .ok {border-color:#bbf7d0;background:#f0fdf4}\n    .flex {display:flex;gap:8px;align-items:center}\n    .nowrap {white-space:nowrap}\n    .small-input {width:120px}\n  </style>\n</head>\n<body>\n  <header>\n    <h1>Array Explorer — Interactive JavaScript Array Demo</h1>\n  </header>\n\n  <main>\n    <section class=\"panel\">\n      <h2>1) Current Array (editable)</h2>\n      <label for=\"arrayInput\">Edit array as JSON (e.g. [1,2,3] or [\"a\",\"b\"] or [[1,2],[3]])</label>\n      <textarea id=\"arrayInput\" rows=\"4\">[1, 2, 3, 4, 5]</textarea>\n      <div style=\"margin-top:10px\" class=\"controls-row\">\n        <button id=\"loadBtn\" class=\"btn-primary\">Load</button>\n        <button id=\"resetBtn\">Reset Example</button>\n        <button id=\"randomBtn\">Randomize Numbers</button>\n        <button id=\"sampleBtn\">Sample Mixed Array</button>\n      </div>\n\n      <div class=\"meta\">\n        <div>Type: <span id=\"typeDisplay\"></span> · Length: <strong id=\"lenDisplay\"></strong></div>\n        <div style=\"margin-top:8px\" class=\"hint\">Arrays are ordered collections. This pane shows the array you manipulate with the actions on the right.</div>\n      </div>\n\n      <h3 style=\"margin-top:14px\">Visual representation</h3>\n      <ul id=\"visual\" class=\"array-visual\" aria-live=\"polite\"></ul>\n\n      <h3 style=\"margin-top:14px\">Quick operations</h3>\n      <div class=\"grid\">\n        <button id=\"pushBtn\">push()</button>\n        <button id=\"popBtn\">pop()</button>\n        <button id=\"shiftBtn\">shift()</button>\n        <button id=\"unshiftBtn\">unshift()</button>\n        <button id=\"spliceBtn\">splice()</button>\n        <button id=\"sliceBtn\">slice()</button>\n        <button id=\"concatBtn\">concat()</button>\n        <button id=\"clearBtn\" class=\"danger\">clear (empty)</button>\n      </div>\n\n      <div style=\"margin-top:12px\">\n        <label for=\"valueInput\">Value(s) (JSON) for push/unshift/splice etc.</label>\n        <input id=\"valueInput\" type=\"text\" placeholder='e.g. \"x\" or 10 or [7,8]'>\n      </div>\n    </section>\n\n    <section class=\"panel wide\">\n      <h2>2) Method Playground & Examples</h2>\n\n      <div style=\"display:flex;gap:12px;align-items:center;flex-wrap:wrap\">\n        <label class=\"nowrap\">Choose operation:</label>\n        <select id=\"operation\" style=\"flex:1;min-width:220px\">\n          <optgroup label=\"Transformations\">\n            <option value=\"map\">map(fn)</option>\n            <option value=\"filter\">filter(fn)</option>\n            <option value=\"reduce\">reduce(fn, initial)</option>\n            <option value=\"flat\">flat(depth)</option>\n            <option value=\"flatMap\">flatMap(fn)</option>\n            <option value=\"sort\">sort()</option>\n            <option value=\"reverse\">reverse()</option>\n            <option value=\"slice\">slice(start,end)</option>\n            <option value=\"splice\">splice(index,count,items)</option>\n            <option value=\"concat\">concat(array)</option>\n          </optgroup>\n          <optgroup label=\"Queries & Others\">\n            <option value=\"find\">find(fn)</option>\n            <option value=\"findIndex\">findIndex(fn)</option>\n            <option value=\"includes\">includes(value)</option>\n            <option value=\"indexOf\">indexOf(value)</option>\n            <option value=\"join\">join(sep)</option>\n            <option value=\"forEach\">forEach(fn)</option>\n            <option value=\"from\">Array.from(iterable)</option>\n            <option value=\"of\">Array.of(...)</option>\n            <option value=\"isArray\">Array.isArray()</option>\n          </optgroup>\n        </select>\n\n        <label class=\"nowrap\">Preset function:</label>\n        <select id=\"presetFn\" class=\"small-input\">\n          <option value=\"x=>x*2\">x =&gt; x * 2</option>\n          <option value=\"x=>x+1\">x =&gt; x + 1</option>\n          <option value=\"x=>x%2===0\">even (x % 2 === 0)</option>\n          <option value=\"s=>String(s).toUpperCase()\">toUpperCase</option>\n          <option value=\"(v,i)=>v+i\">(v,i) =&gt; v + i</option>\n          <option value=\"x=>[x,x]\">x =&gt; [x, x] (for flatMap)</option>\n        </select>\n\n        <label class=\"nowrap\">Extra arg:</label>\n        <input id=\"extraArg\" class=\"small-input\" type=\"text\" placeholder='e.g. 0 or \",\" or true'>\n\n        <button id=\"runBtn\" class=\"btn-primary\">Run</button>\n        <button id=\"applyBtn\">Apply to current</button>\n        <button id=\"previewBtn\">Preview (no apply)</button>\n      </div>\n\n      <div style=\"margin-top:12px\" class=\"meta\">Preview shows result without changing the current array. Apply modifies the array (and updates the left pane).</div>\n\n      <h3 style=\"margin-top:12px\">Result / Explanation</h3>\n      <pre id=\"codePreview\">// Result appears here</pre>\n\n      <h3 style=\"margin-top:12px\">Console log (operation trace)</h3>\n      <div id=\"log\" class=\"log\" aria-live=\"polite\"></div>\n\n      <h3 style=\"margin-top:12px\">Examples & Tips</h3>\n      <ul>\n        <li>Use JSON input for values (e.g. [10,20] or \"x\").</li>\n        <li>Preset functions are evaluated with new Function — be careful with input. This demo is local-only.</li>\n        <li>Array is copied for preview; apply will replace the current array with the operation result when appropriate.</li>\n      </ul>\n    </section>\n  </main>\n\n  <footer>\n    Built-in demos: push/pop/shift/unshift/splice/slice/map/filter/reduce/flat/flatMap/sort/reverse/concat/find/includes/forEach/Array.from/of/isArray\n  </footer>\n\n  <script>\n    // Simple Array Explorer\n    (() => {\n      // Elements\n      const arrayInput = document.getElementById('arrayInput');\n      const loadBtn = document.getElementById('loadBtn');\n      const resetBtn = document.getElementById('resetBtn');\n      const randomBtn = document.getElementById('randomBtn');\n      const sampleBtn = document.getElementById('sampleBtn');\n      const visual = document.getElementById('visual');\n      const typeDisplay = document.getElementById('typeDisplay');\n      const lenDisplay = document.getElementById('lenDisplay');\n      const valueInput = document.getElementById('valueInput');\n      const pushBtn = document.getElementById('pushBtn');\n      const popBtn = document.getElementById('popBtn');\n      const shiftBtn = document.getElementById('shiftBtn');\n      const unshiftBtn = document.getElementById('unshiftBtn');\n      const spliceBtn = document.getElementById('spliceBtn');\n      const sliceBtn = document.getElementById('sliceBtn');\n      const concatBtn = document.getElementById('concatBtn');\n      const clearBtn = document.getElementById('clearBtn');\n\n      const operation = document.getElementById('operation');\n      const presetFn = document.getElementById('presetFn');\n      const extraArg = document.getElementById('extraArg');\n      const runBtn = document.getElementById('runBtn');\n      const applyBtn = document.getElementById('applyBtn');\n      const previewBtn = document.getElementById('previewBtn');\n      const codePreview = document.getElementById('codePreview');\n      const logEl = document.getElementById('log');\n\n      // Current array state (kept as JS array)\n      let current = [1,2,3,4,5];\n\n      // Helper: parse JSON-like input; fallback to single primitive parse\n      function parseInput(text) {\n        text = String(text).trim();\n        if (text === \"\") return undefined;\n        try {\n          // Try as JSON\n          return JSON.parse(text);\n        } catch (e) {\n          // Try eval as primitive (number, boolean) safely using Function\n          try {\n            // Be cautious: this evaluates simple literals only\n            // Wrap in parentheses to allow object literals, but we already failed JSON\n            return new Function(\"return (\" + text + \")\")();\n          } catch (e2) {\n            return text; // fallback to raw string\n          }\n        }\n      }\n\n      function safeClone(arr) {\n        try {\n          return JSON.parse(JSON.stringify(arr));\n        } catch {\n          return arr.slice();\n        }\n      }\n\n      // Render the visual list and meta info\n      function render() {\n        visual.innerHTML = \"\";\n        const isArr = Array.isArray(current);\n        typeDisplay.textContent = isArr ? 'Array' : typeof current;\n        lenDisplay.textContent = isArr ? current.length : '—';\n        if (isArr) {\n          current.forEach((v, i) => {\n            const li = document.createElement('li');\n            li.title = 'index ' + i;\n            li.textContent = formatValue(v);\n            visual.appendChild(li);\n          });\n        } else {\n          const li = document.createElement('li');\n          li.textContent = formatValue(current);\n          visual.appendChild(li);\n        }\n        arrayInput.value = JSON.stringify(current, null, 2);\n      }\n\n      function formatValue(v) {\n        if (v === null) return 'null';\n        if (v === undefined) return 'undefined';\n        if (Array.isArray(v)) return '[' + v.map(formatValue).join(', ') + ']';\n        if (typeof v === 'object') return JSON.stringify(v);\n        return String(v);\n      }\n\n      // Logging utility\n      function log(...args) {\n        const text = args.map(a => (typeof a === 'string' ? a : JSON.stringify(a))).join(' ');\n        const node = document.createElement('div');\n        node.textContent = text;\n        logEl.appendChild(node);\n        logEl.scrollTop = logEl.scrollHeight;\n      }\n\n      // Load array from textarea\n      loadBtn.addEventListener('click', () => {\n        try {\n          const parsed = parseInput(arrayInput.value);\n          if (!Array.isArray(parsed)) {\n            if (parsed === undefined) {\n              alert('Parsed value is undefined. Enter a valid array like [1,2,3].');\n              return;\n            }\n            // Allow assigning non-array too\n          }\n          current = parsed;\n          render();\n          log('Loaded array:', current);\n        } catch (e) {\n          alert('Error parsing array input: ' + e.message);\n        }\n      });\n\n      // Preset actions\n      resetBtn.addEventListener('click', () => {\n        current = [1,2,3,4,5];\n        render(); log('Reset to [1,2,3,4,5]');\n      });\n      randomBtn.addEventListener('click', () => {\n        current = Array.from({length:6}, ()=> Math.floor(Math.random()*100));\n        render(); log('Randomized numbers:', current);\n      });\n      sampleBtn.addEventListener('click', () => {\n        current = [1, \"two\", {k:3}, [4,5], null];\n        render(); log('Loaded mixed sample:', current);\n      });\n\n      // Quick operation handlers\n      pushBtn.addEventListener('click', () => {\n        const val = parseInput(valueInput.value);\n        if (val === undefined) { alert('Enter value(s) in the Value(s) box'); return; }\n        if (Array.isArray(val)) {\n          current.push(...val);\n          log('push(...' + JSON.stringify(val) + ')');\n        } else {\n          current.push(val);\n          log('push(' + JSON.stringify(val) + ')');\n        }\n        render();\n      });\n      popBtn.addEventListener('click', () => {\n        const r = current.pop();\n        log('pop() ->', r);\n        render();\n      });\n      shiftBtn.addEventListener('click', () => {\n        const r = current.shift();\n        log('shift() ->', r);\n        render();\n      });\n      unshiftBtn.addEventListener('click', () => {\n        const val = parseInput(valueInput.value);\n        if (val === undefined) { alert('Enter value(s)'); return; }\n        if (Array.isArray(val)) current.unshift(...val);\n        else current.unshift(val);\n        log('unshift(' + JSON.stringify(val) + ')');\n        render();\n      });\n      spliceBtn.addEventListener('click', () => {\n        const text = valueInput.value.trim();\n        // Expect \"index,count,items\" where items is JSON array or a single JSON value\n        if (!text) { alert('Enter splice parameters in Value(s), e.g. \"1,2, [7,8]\" or \"1,0, \\\"x\\\"\"'); return; }\n        try {\n          // Split by first two commas\n          const parts = text.split(',').map(s=>s.trim());\n          const index = parseInt(parts[0],10);\n          const count = parseInt(parts[1],10);\n          const rest = parts.slice(2).join(',');\n          let items = [];\n          if (rest) {\n            const parsed = parseInput(rest);\n            if (Array.isArray(parsed)) items = parsed;\n            else items = [parsed];\n          }\n          const removed = current.splice(index, count, ...items);\n          log(`splice(${index}, ${count}, ${JSON.stringify(items)}) -> removed ${JSON.stringify(removed)}`);\n          render();\n        } catch (e) { alert('Error parsing splice params: ' + e.message); }\n      });\n      sliceBtn.addEventListener('click', () => {\n        const text = valueInput.value.trim();\n        let start=0,end=undefined;\n        if (text) {\n          const parts = text.split(',').map(s=>s.trim());\n          start = parseInt(parts[0],10);\n          if (parts[1] !== undefined) end = parseInt(parts[1],10);\n        }\n        const res = current.slice(start, end);\n        log(`slice(${start}, ${end}) ->`, res);\n        codePreview.textContent = `// result (not applied)\\n${JSON.stringify(res, null, 2)}`;\n      });\n      concatBtn.addEventListener('click', () => {\n        const val = parseInput(valueInput.value);\n        const other = Array.isArray(val) ? val : [val];\n        const res = current.concat(other);\n        log('concat', other, '->', res);\n        codePreview.textContent = `// result (not applied)\\n${JSON.stringify(res, null, 2)}`;\n      });\n      clearBtn.addEventListener('click', () => {\n        current.length = 0;\n        render(); log('Cleared array (length=0)');\n      });\n\n      // Operation runner\n      function evaluateFunctionString(fnStr) {\n        // Build a function from a string like \"x=>x*2\" or \"function(x){return x*2}\"\n        if (!fnStr) return undefined;\n        try {\n          // If contains '=>' assume arrow function\n          if (fnStr.includes('=>')) {\n            // eslint-disable-next-line no-new-func\n            return eval('(' + fnStr + ')');\n          } else {\n            // Try to create a Function\n            // e.g. \"(v,i) => v + i\" or \"function(v){return v*2}\"\n            return eval('(' + fnStr + ')');\n          }\n        } catch (e) {\n          // last resort: try new Function with common args 'v,i,a'\n          try {\n            return new Function('v','i','a', 'return (' + fnStr + ')');\n          } catch (e2) {\n            throw new Error('Invalid function: ' + e.message);\n          }\n        }\n      }\n\n      function runOperation(apply=false) {\n        const op = operation.value;\n        const fnStr = presetFn.value;\n        const extra = extraArg.value;\n        let result;\n        const arrCopy = safeClone(current);\n        const logPrefix = apply ? '[APPLY]' : '[PREVIEW]';\n\n        try {\n          switch (op) {\n            case 'map': {\n              const fn = evaluateFunctionString(fnStr);\n              result = arrCopy.map(fn);\n              codePreview.textContent = `// map\\n${JSON.stringify(result, null, 2)}\\n// code: arr.map(${fnStr})`;\n              log(`${logPrefix} map ->`, result);\n              break;\n            }\n            case 'filter': {\n              const fn = evaluateFunctionString(fnStr);\n              result = arrCopy.filter(fn);\n              codePreview.textContent = `// filter\\n${JSON.stringify(result, null, 2)}\\n// code: arr.filter(${fnStr})`;\n              log(`${logPrefix} filter ->`, result);\n              break;\n            }\n            case 'reduce': {\n              const fn = evaluateFunctionString(fnStr);\n              let initial = parseInput(extra);\n              if (initial === undefined) {\n                // If undefined and array not empty, start from first element\n                result = arrCopy.reduce(fn);\n              } else {\n                result = arrCopy.reduce(fn, initial);\n              }\n              codePreview.textContent = `// reduce result\\n${JSON.stringify(result, null, 2)}\\n// code: arr.reduce(${fnStr}, ${JSON.stringify(initial)})`;\n              log(`${logPrefix} reduce ->`, result);\n              break;\n            }\n            case 'flat': {\n              const depth = parseInt(extra || '1', 10) || 1;\n              result = arrCopy.flat(depth);\n              codePreview.textContent = `// flat(depth=${depth})\\n${JSON.stringify(result, null, 2)}`;\n              log(`${logPrefix} flat(${depth}) ->`, result);\n              break;\n            }\n            case 'flatMap': {\n              const fn = evaluateFunctionString(fnStr);\n              result = arrCopy.flatMap(fn);\n              codePreview.textContent = `// flatMap\\n${JSON.stringify(result, null, 2)}\\n// code: arr.flatMap(${fnStr})`;\n              log(`${logPrefix} flatMap ->`, result);\n              break;\n            }\n            case 'sort': {\n              // If fnStr empty, do default sort\n              let sorted = arrCopy.slice();\n              if (!fnStr) sorted.sort();\n              else {\n                const fn = evaluateFunctionString(fnStr);\n                sorted.sort(fn);\n              }\n              result = sorted;\n              codePreview.textContent = `// sort\\n${JSON.stringify(result, null, 2)}\\n// code: arr.sort(${fnStr || 'undefined'})`;\n              log(`${logPrefix} sort ->`, result);\n              break;\n            }\n            case 'reverse': {\n              result = arrCopy.slice().reverse();\n              codePreview.textContent = `// reverse\\n${JSON.stringify(result, null, 2)}`;\n              log(`${logPrefix} reverse ->`, result);\n              break;\n            }\n            case 'slice': {\n              const parts = (extra || '').split(',').map(s=>s.trim()).filter(s=>s!=='');\n              const start = parts[0] === undefined ? undefined : parseInt(parts[0],10);\n              const end = parts[1] === undefined ? undefined : parseInt(parts[1],10);\n              result = arrCopy.slice(start, end);\n              codePreview.textContent = `// slice\\n${JSON.stringify(result, null, 2)}\\n// code: arr.slice(${start}, ${end})`;\n              log(`${logPrefix} slice(${start}, ${end}) ->`, result);\n              break;\n            }\n            case 'splice': {\n              // Expect extra as \"index,count,items\"\n              const parts = (extra || '').split(',').map(s=>s.trim());\n              const index = parseInt(parts[0],10) || 0;\n              const count = parseInt(parts[1],10) || 0;\n              const rest = parts.slice(2).join(',');\n              let items = [];\n              if (rest) {\n                const parsed = parseInput(rest);\n                if (Array.isArray(parsed)) items = parsed;\n                else items = [parsed];\n              }\n              const arr2 = arrCopy.slice();\n              const removed = arr2.splice(index, count, ...items);\n              result = arr2;\n              codePreview.textContent = `// splice -> new array\\n${JSON.stringify(result, null, 2)}\\n// removed: ${JSON.stringify(removed)}\\n// code: arr.splice(${index}, ${count}, ${JSON.stringify(items)})`;\n              log(`${logPrefix} splice -> removed ${JSON.stringify(removed)} result ${JSON.stringify(result)}`);\n              break;\n            }\n            case 'concat': {\n              const other = parseInput(extra);\n              const right = other === undefined ? [] : (Array.isArray(other) ? other : [other]);\n              result = arrCopy.concat(right);\n              codePreview.textContent = `// concat\\n${JSON.stringify(result, null, 2)}`;\n              log(`${logPrefix} concat ${JSON.stringify(right)} ->`, result);\n              break;\n            }\n            case 'find': {\n              const fn = evaluateFunctionString(fnStr);\n              result = arrCopy.find(fn);\n              codePreview.textContent = `// find -> ${JSON.stringify(result)}`;\n              log(`${logPrefix} find ->`, result);\n              break;\n            }\n            case 'findIndex': {\n              const fn = evaluateFunctionString(fnStr);\n              result = arrCopy.findIndex(fn);\n              codePreview.textContent = `// findIndex -> ${JSON.stringify(result)}`;\n              log(`${logPrefix} findIndex ->`, result);\n              break;\n            }\n            case 'includes': {\n              const val = parseInput(extra);\n              result = arrCopy.includes(val);\n              codePreview.textContent = `// includes(${JSON.stringify(val)}) -> ${result}`;\n              log(`${logPrefix} includes(${JSON.stringify(val)}) ->`, result);\n              break;\n            }\n            case 'indexOf': {\n              const val = parseInput(extra);\n              result = arrCopy.indexOf(val);\n              codePreview.textContent = `// indexOf(${JSON.stringify(val)}) -> ${result}`;\n              log(`${logPrefix} indexOf(${JSON.stringify(val)}) ->`, result);\n              break;\n            }\n            case 'join': {\n              const sep = extra === undefined ? ',' : extra;\n              result = arrCopy.join(sep);\n              codePreview.textContent = `// join('${sep}') ->\\n${JSON.stringify(result)}`;\n              log(`${logPrefix} join ->`, result);\n              break;\n            }\n            case 'forEach': {\n              const fn = evaluateFunctionString(fnStr);\n              const outputs = [];\n              arrCopy.forEach((v,i,a)=> {\n                try {\n                  const r = fn(v,i,a);\n                  outputs.push([i,r]);\n                } catch(e) {\n                  outputs.push([i,'error']);\n                }\n              });\n              codePreview.textContent = `// forEach traced results (function return values shown)\\n${JSON.stringify(outputs, null, 2)}`;\n              log(`${logPrefix} forEach ->`, outputs);\n              // forEach doesn't produce a replacement array\n              result = undefined;\n              break;\n            }\n            case 'from': {\n              // create new array from string or iterable provided in extra\n              const src = parseInput(extra);\n              result = Array.from(src);\n              codePreview.textContent = `// Array.from(${JSON.stringify(src)}) ->\\n${JSON.stringify(result, null, 2)}`;\n              log(`${logPrefix} Array.from ->`, result);\n              break;\n            }\n            case 'of': {\n              const items = parseInput(extra);\n              if (items === undefined) result = Array.of();\n              else if (Array.isArray(items)) result = Array.of(...items);\n              else result = Array.of(items);\n              codePreview.textContent = `// Array.of ->\\n${JSON.stringify(result, null, 2)}`;\n              log(`${logPrefix} Array.of ->`, result);\n              break;\n            }\n            case 'isArray': {\n              result = Array.isArray(arrCopy);\n              codePreview.textContent = `// Array.isArray -> ${result}`;\n              log(`${logPrefix} Array.isArray ->`, result);\n              break;\n            }\n            default:\n              codePreview.textContent = '// Unknown operation';\n              break;\n          }\n\n          if (apply) {\n            // For operations that produce an array result, replace current.\n            if (Array.isArray(result)) {\n              current = result;\n              render();\n            } else if (result !== undefined) {\n              // result is not an array (e.g., reduce returns a value). We show it but don't replace the array.\n              log(`${logPrefix} Operation returned a non-array result; current array unchanged.`);\n            } else {\n              // for operations like forEach or isArray, replacement not applicable\n              log(`${logPrefix} Applied operation (no replacement or non-array result)`);\n            }\n          }\n        } catch (e) {\n          codePreview.textContent = '// Error: ' + e.message;\n          log('Error running operation:', e.message);\n        }\n      }\n\n      runBtn.addEventListener('click', () => runOperation(false));\n      previewBtn.addEventListener('click', () => runOperation(false));\n      applyBtn.addEventListener('click', () => runOperation(true));\n\n      // init\n      render();\n      log('Ready — edit the left pane or use operations to explore Arrays.');\n\n      // Small helper: show example of destructuring, spread, typed arrays\n      // Not interactive but printed once on load\n      log('Examples: destructuring -> const [a,b,...rest] = arr; spread -> [...arr,6]; typed array -> new Int16Array(arr)');\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Array"
    }
  ],
  "topic": "Array",
  "hasFSM": false,
  "hasTest": true
}