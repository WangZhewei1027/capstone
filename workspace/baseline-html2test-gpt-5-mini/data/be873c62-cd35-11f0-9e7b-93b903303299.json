{
  "id": "be873c62-cd35-11f0-9e7b-93b903303299",
  "timestamp": "2025-11-29T15:13:16.747Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Queue",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\"/>\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/>\n<title>Queue Demonstration</title>\n<style>\n  :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; color:#111}\n  body{margin:0;padding:20px;background:#f6f8fa;box-sizing:border-box}\n  h1{margin:0 0 8px;font-size:20px}\n  .container{max-width:980px;margin:0 auto;background:#fff;padding:18px;border-radius:10px;box-shadow:0 6px 24px rgba(20,24,40,0.08)}\n  .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-bottom:12px}\n  label{font-size:13px;color:#333}\n  input[type=\"text\"]{padding:8px 10px;border-radius:8px;border:1px solid #d7dbe0;min-width:140px}\n  button{padding:8px 12px;border-radius:8px;border:1px solid #d7dbe0;background:#fff;cursor:pointer}\n  button.primary{background:#0366d6;color:#fff;border-color:#0366d6}\n  button.danger{background:#ff4d4f;color:#fff;border-color:#ff4d4f}\n  select{padding:8px;border-radius:8px;border:1px solid #d7dbe0}\n  .controls> *{margin-right:8px}\n  .viz{display:flex;align-items:center;gap:12px;margin-top:18px;flex-wrap:wrap}\n  .queue-box{display:flex;gap:6px;align-items:flex-end;min-height:86px;padding:12px;border-radius:10px;border:1px dashed #d7dbe0;background:#fbfdff;flex-wrap:wrap}\n  .cell{min-width:56px;height:44px;border-radius:8px;border:1px solid #cfd6dd;background:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;position:relative}\n  .cell.empty{color:#9aa6b2;font-weight:500;opacity:0.6}\n  .label{position:absolute;top:-14px;font-size:11px;background:#0366d6;color:#fff;padding:2px 6px;border-radius:8px}\n  .label.tail{background:#0aab6a}\n  .info{font-size:13px;color:#333}\n  .log{margin-top:12px;padding:10px;border-radius:8px;background:#0f1720;color:#fff;font-family:monospace;font-size:13px;max-height:160px;overflow:auto}\n  .small{font-size:12px;color:#666}\n  .legend{margin-top:10px;font-size:13px;color:#444}\n  .compact{font-size:12px;color:#666;background:#f3f4f6;padding:8px;border-radius:8px;border:1px solid #e6e9ee}\n  .array-grid{display:flex;gap:6px;margin-top:12px;flex-wrap:wrap}\n  .index{font-size:11px;color:#666;text-align:center}\n  .cell.highlight{box-shadow:0 6px 18px rgba(3,102,214,0.18);transform:translateY(-6px);transition:transform .18s,box-shadow .18s}\n  .fade{opacity:0.25;transition:opacity .3s}\n  footer{margin-top:18px;font-size:12px;color:#666}\n  .about{margin-top:12px;padding:10px;border-radius:8px;background:#fff7e6;border:1px solid #f1d7b0;color:#6b4a00}\n  @media (max-width:640px){ .cell{min-width:48px;height:40px;font-size:14px} }\n</style>\n</head>\n<body>\n<div class=\"container\">\n  <h1>Queue â€” FIFO (First In, First Out) Demonstration</h1>\n  <div class=\"row\">\n    <div class=\"controls\">\n      <label for=\"impl\">Implementation:</label>\n      <select id=\"impl\" title=\"Choose queue implementation\">\n        <option value=\"array\">Array (push/shift)</option>\n        <option value=\"circular\">Circular Buffer (fixed capacity)</option>\n      </select>\n      <label for=\"capacity\">Capacity (circular):</label>\n      <input id=\"capacity\" type=\"text\" value=\"8\" style=\"width:70px\" />\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <input id=\"value\" type=\"text\" placeholder=\"Value to enqueue\" />\n    <button id=\"enqueue\" class=\"primary\">Enqueue</button>\n    <button id=\"dequeue\">Dequeue</button>\n    <button id=\"peek\">Peek (front)</button>\n    <button id=\"clear\" class=\"danger\">Clear</button>\n    <button id=\"random\">Random</button>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"info\">Size: <span id=\"size\">0</span> &nbsp;â€¢&nbsp; Empty: <span id=\"empty\">true</span></div>\n    <div class=\"info\">Front index: <span id=\"frontIndex\">-</span> &nbsp;â€¢&nbsp; Rear index: <span id=\"rearIndex\">-</span></div>\n  </div>\n\n  <div class=\"viz\">\n    <div style=\"flex:1;min-width:300px\">\n      <div class=\"queue-box\" id=\"queueBox\" aria-live=\"polite\"></div>\n\n      <div class=\"array-grid\" id=\"arrayGrid\" style=\"display:none\"></div>\n      <div class=\"legend small\">Head/Front is removed first. Tail/Rear is where new elements are added.</div>\n    </div>\n\n    <div style=\"width:320px\">\n      <div class=\"compact\">\n        <div style=\"font-weight:700\">Operations & complexity</div>\n        <ul style=\"margin:6px 0 0 18px;padding:0\">\n          <li>enqueue: O(1) amortized (array), O(1) (circular)</li>\n          <li>dequeue: O(n) (array shift) or O(1) (circular)</li>\n          <li>peek: O(1)</li>\n        </ul>\n      </div>\n\n      <div class=\"about\">\n        Try switching to Circular Buffer to see how head/rear indexes move without shifting elements. Capacity will limit enqueues.\n      </div>\n    </div>\n  </div>\n\n  <div class=\"log\" id=\"log\" aria-live=\"polite\"></div>\n  <footer>Keyboard: Enter to enqueue, Backspace to dequeue, P to peek</footer>\n</div>\n\n<script>\n// Simple Queue implementations and UI glue\n\n// Array-based queue (uses push/shift)\nclass QueueArray {\n  constructor(){ this.arr = []; }\n  enqueue(x){ this.arr.push(x); return true; }\n  dequeue(){ return this.arr.length? this.arr.shift(): undefined; }\n  peek(){ return this.arr.length? this.arr[0]: undefined; }\n  clear(){ this.arr = []; }\n  size(){ return this.arr.length; }\n  isEmpty(){ return this.arr.length===0; }\n  // for visualization\n  toArray(){ return this.arr.slice(); }\n}\n\n// Circular buffer queue\nclass QueueCircular {\n  constructor(capacity){\n    this.capacity = Math.max(1, Math.floor(capacity) || 8);\n    this.buf = new Array(this.capacity);\n    this.head = 0;\n    this.tail = 0; // points to next insertion index\n    this.count = 0;\n  }\n  enqueue(x){\n    if(this.count === this.capacity) return false; // full\n    this.buf[this.tail] = x;\n    this.tail = (this.tail + 1) % this.capacity;\n    this.count++;\n    return true;\n  }\n  dequeue(){\n    if(this.count === 0) return undefined;\n    const v = this.buf[this.head];\n    this.buf[this.head] = undefined;\n    this.head = (this.head + 1) % this.capacity;\n    this.count--;\n    return v;\n  }\n  peek(){ return this.count? this.buf[this.head] : undefined; }\n  clear(){ this.buf = new Array(this.capacity); this.head = 0; this.tail = 0; this.count = 0; }\n  size(){ return this.count; }\n  isEmpty(){ return this.count === 0; }\n  toArray(){\n    const res = [];\n    for(let i=0;i<this.count;i++){\n      res.push(this.buf[(this.head + i) % this.capacity]);\n    }\n    return res;\n  }\n  // to visualize underlying array with indices\n  getBuffer(){ return this.buf.slice(); }\n}\n\n// UI & interaction\nconst implSelect = document.getElementById('impl');\nconst capacityInput = document.getElementById('capacity');\nconst enqueueBtn = document.getElementById('enqueue');\nconst dequeueBtn = document.getElementById('dequeue');\nconst peekBtn = document.getElementById('peek');\nconst clearBtn = document.getElementById('clear');\nconst randomBtn = document.getElementById('random');\nconst valueInput = document.getElementById('value');\nconst sizeSpan = document.getElementById('size');\nconst emptySpan = document.getElementById('empty');\nconst frontIndexSpan = document.getElementById('frontIndex');\nconst rearIndexSpan = document.getElementById('rearIndex');\nconst queueBox = document.getElementById('queueBox');\nconst logBox = document.getElementById('log');\nconst arrayGrid = document.getElementById('arrayGrid');\n\nlet queue = new QueueArray();\nlet impl = 'array';\nlet animTimeout = null;\n\nfunction log(msg){\n  const t = new Date().toLocaleTimeString();\n  const div = document.createElement('div');\n  div.textContent = `[${t}] ${msg}`;\n  logBox.prepend(div);\n}\n\nfunction render(){\n  // update info\n  sizeSpan.textContent = queue.size();\n  emptySpan.textContent = queue.isEmpty();\n  // render queue boxes (logical order)\n  const arr = queue.toArray();\n  queueBox.innerHTML = '';\n  if(arr.length===0){\n    const c = document.createElement('div');\n    c.className = 'cell empty';\n    c.textContent = 'Empty';\n    queueBox.appendChild(c);\n    frontIndexSpan.textContent = '-';\n    rearIndexSpan.textContent = '-';\n  } else {\n    arr.forEach((v, i) => {\n      const c = document.createElement('div');\n      c.className = 'cell';\n      c.textContent = String(v);\n      if(i===0){\n        const lab = document.createElement('div');\n        lab.className = 'label';\n        lab.textContent = 'Front';\n        c.appendChild(lab);\n      }\n      if(i===arr.length-1){\n        const lab2 = document.createElement('div');\n        lab2.className = 'label tail';\n        lab2.textContent = 'Rear';\n        c.appendChild(lab2);\n      }\n      queueBox.appendChild(c);\n    });\n  }\n\n  // show underlying buffer for circular implementation\n  if(impl === 'circular'){\n    arrayGrid.style.display = 'flex';\n    arrayGrid.innerHTML = '';\n    const buf = queue.getBuffer();\n    for(let i=0;i<buf.length;i++){\n      const wrapper = document.createElement('div');\n      wrapper.style.display = 'flex';\n      wrapper.style.flexDirection = 'column';\n      wrapper.style.alignItems = 'center';\n      wrapper.style.gap = '4px';\n      const idx = document.createElement('div');\n      idx.className = 'index';\n      idx.textContent = i;\n      const cell = document.createElement('div');\n      cell.className = 'cell';\n      cell.style.minWidth = '48px';\n      cell.style.height = '40px';\n      cell.textContent = buf[i]===undefined? '' : String(buf[i]);\n      if(i === queue.head){\n        const lab = document.createElement('div');\n        lab.className = 'label';\n        lab.style.fontSize='10px';\n        lab.textContent = 'H';\n        cell.appendChild(lab);\n      }\n      if(i === queue.tail){\n        const lab2 = document.createElement('div');\n        lab2.className = 'label tail';\n        lab2.style.fontSize='10px';\n        lab2.textContent = 'T';\n        cell.appendChild(lab2);\n      }\n      wrapper.appendChild(idx);\n      wrapper.appendChild(cell);\n      arrayGrid.appendChild(wrapper);\n    }\n    frontIndexSpan.textContent = queue.head;\n    rearIndexSpan.textContent = queue.tail;\n  } else {\n    arrayGrid.style.display = 'none';\n    frontIndexSpan.textContent = '-';\n    rearIndexSpan.textContent = '-';\n  }\n}\n\n// Helpers for actions\nfunction enqueueAction(val){\n  if(val === '') { alert('Enter a value to enqueue'); return; }\n  if(impl === 'array'){\n    queue.enqueue(val);\n    log(`Enqueued \"${val}\" (array)`);\n    animateEnqueue(val);\n  } else {\n    const ok = queue.enqueue(val);\n    if(!ok){\n      log(`Failed to enqueue \"${val}\" â€” buffer full`);\n      shake(queueBox);\n      return;\n    }\n    log(`Enqueued \"${val}\" (circular)`);\n    animateEnqueue(val);\n  }\n  valueInput.value = '';\n}\n\nfunction animateEnqueue(val){\n  render();\n  // highlight rear cell\n  const cells = queueBox.querySelectorAll('.cell');\n  if(cells.length){\n    const last = cells[cells.length-1];\n    last.classList.add('highlight');\n    setTimeout(()=> last.classList.remove('highlight'), 420);\n  }\n}\n\nfunction dequeueAction(){\n  const v = queue.dequeue();\n  if(v === undefined){\n    log('Dequeue attempted on empty queue');\n    shake(queueBox);\n    return;\n  }\n  log(`Dequeued \"${v}\"`);\n  animateDequeue();\n  return v;\n}\n\nfunction animateDequeue(){\n  const cells = queueBox.querySelectorAll('.cell');\n  if(cells.length){\n    const first = cells[0];\n    first.classList.add('highlight');\n    first.style.opacity = '0.6';\n    setTimeout(()=> render(), 300);\n  } else {\n    render();\n  }\n}\n\n// small visual shake for errors\nfunction shake(el){\n  el.animate([{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}],{duration:260});\n}\n\n// Random element generator\nfunction randomElement(){\n  const types = ['number','word','emoji'];\n  const t = types[Math.floor(Math.random()*types.length)];\n  if(t==='number') return String(Math.floor(Math.random()*100));\n  if(t==='word'){\n    const words = ['apple','task','node','job','user','event','req','item','data'];\n    return words[Math.floor(Math.random()*words.length)];\n  }\n  const emojis = ['ðŸŽ','ðŸš€','ðŸ””','ðŸ“¦','âœ¨','ðŸŽ¯','ðŸ§©'];\n  return emojis[Math.floor(Math.random()*emojis.length)];\n}\n\n// Event bindings\nenqueueBtn.addEventListener('click', ()=> enqueueAction(valueInput.value.trim()));\ndequeueBtn.addEventListener('click', ()=> dequeueAction());\npeekBtn.addEventListener('click', ()=>{\n  const v = queue.peek();\n  if(v === undefined){ log('Peek: queue is empty'); alert('Queue is empty'); }\n  else { log(`Peek: \"${v}\"`); alert('Front: ' + v); }\n  render();\n});\nclearBtn.addEventListener('click', ()=>{\n  queue.clear();\n  log('Queue cleared');\n  render();\n});\nrandomBtn.addEventListener('click', ()=>{\n  const v = randomElement();\n  enqueueAction(v);\n});\n\nimplSelect.addEventListener('change', ()=>{\n  impl = implSelect.value;\n  const cap = Math.max(1, Math.floor(Number(capacityInput.value) || 8));\n  if(impl === 'array'){\n    queue = new QueueArray();\n    log('Switched to Array implementation');\n  } else {\n    queue = new QueueCircular(cap);\n    log(`Switched to Circular Buffer (capacity=${cap})`);\n  }\n  render();\n});\n\ncapacityInput.addEventListener('change', ()=>{\n  const cap = Math.max(1, Math.floor(Number(capacityInput.value) || 8));\n  capacityInput.value = cap;\n  if(impl === 'circular'){\n    queue = new QueueCircular(cap);\n    log(`Capacity changed. New circular buffer capacity=${cap} (queue cleared)`);\n    render();\n  }\n});\n\nvalueInput.addEventListener('keydown', (e)=>{\n  if(e.key === 'Enter'){ enqueueAction(valueInput.value.trim()); }\n  if(e.key === 'Backspace' && valueInput.value === ''){ dequeueAction(); }\n  if(e.key.toLowerCase() === 'p'){ const v = queue.peek(); alert('Front: ' + (v===undefined? 'empty': v)); }\n});\n\n// initialize\nrender();\nlog('Ready â€” using Array implementation');\n\n// expose small cheats for console\nwindow._queueDemo = {\n  queueObj: ()=>queue,\n  enqueue: v=>enqueueAction(String(v)),\n  dequeue: ()=>dequeueAction(),\n  render\n};\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Queue"
    }
  ],
  "topic": "Queue",
  "hasFSM": false,
  "hasTest": true
}