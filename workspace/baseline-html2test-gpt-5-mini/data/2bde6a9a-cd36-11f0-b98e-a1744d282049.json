{
  "id": "2bde6a9a-cd36-11f0-b98e-a1744d282049",
  "timestamp": "2025-11-29T15:17:21.291Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Two Pointers",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\" />\n<title>Two Pointers — Interactive Visualizer</title>\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n<style>\n  :root{\n    --bg:#0f1724;\n    --panel:#0b1220;\n    --muted:#9aa6b2;\n    --accent:#2bb0ff;\n    --good:#20d39f;\n    --danger:#ff6b6b;\n    --card:#0f1728;\n    --glass: rgba(255,255,255,0.03);\n  }\n  *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial;}\n  body{margin:0;background:linear-gradient(180deg,#061022 0%, #07142a 100%); color:#e6eef6; min-height:100vh; padding:24px;}\n  .wrap{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:380px 1fr;gap:20px;}\n  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:16px;border:1px solid rgba(255,255,255,0.03);}\n  h1{font-size:20px;margin:0 0 8px 0;}\n  .muted{color:var(--muted);font-size:13px;}\n  label{display:block;font-size:13px;margin:8px 0 6px;color:var(--muted);}\n  input[type=\"text\"], select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:var(--panel);color:inherit;}\n  .row{display:flex;gap:8px;margin-top:8px;align-items:center;}\n  button{padding:8px 12px;border-radius:8px;border: none;background:var(--accent);color:#042033;cursor:pointer;font-weight:600;}\n  button.secondary{background:transparent;color:var(--accent);border:1px solid rgba(255,255,255,0.03);}\n  .controls{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap;}\n  .array-view{padding:12px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);margin-top:12px;display:flex;flex-direction:column;gap:12px;}\n  .boxes{display:flex;gap:8px;flex-wrap:wrap;align-items:flex-end;justify-content:flex-start;}\n  .box{min-width:40px;height:40px;border-radius:8px;background:rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;font-weight:700;border:1px solid rgba(255,255,255,0.02);position:relative;}\n  .pointer{position:absolute;top:-20px;font-size:12px;padding:2px 6px;border-radius:6px;background:var(--accent);color:#021826;transform:translateY(-100%);white-space:nowrap;}\n  .pointer.r{background:var(--danger);}\n  .box.highlight{background:linear-gradient(90deg,var(--accent), #62e0ff 60%);color:#03232f;}\n  .box.sel{outline:3px solid rgba(255,255,255,0.04);}\n  .box.removed{opacity:0.35;text-decoration:line-through}\n  .log{font-size:13px;color:var(--muted);margin-top:8px;min-height:44px;}\n  .bars{display:flex;align-items:flex-end;gap:8px;height:140px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);}\n  .bar{width:28px;background:linear-gradient(180deg,#4ed6ff,#11749e);border-radius:6px;display:flex;align-items:end;justify-content:center;color:#021826;font-weight:700;position:relative;}\n  .bar .val{font-size:12px;padding:2px 4px;background:rgba(255,255,255,0.85);border-radius:4px;margin-bottom:6px;color:#07202a;}\n  .info{margin-top:10px;display:flex;gap:10px;align-items:center;flex-wrap:wrap;}\n  .chip{background:var(--glass);padding:8px 12px;border-radius:999px;color:var(--muted);font-weight:600;border:1px solid rgba(255,255,255,0.02);}\n  pre.code{background:#071424;border-radius:8px;padding:12px;color:#d8eef9;max-height:280px;overflow:auto;font-size:13px;margin:0;}\n  .code-line{display:block;padding:2px 6px;border-radius:6px;}\n  .code-line.current{background:linear-gradient(90deg,rgba(43,176,255,0.12), rgba(43,176,255,0.05));color:var(--accent);font-weight:700;}\n  footer{margin-top:16px;color:var(--muted);font-size:13px;}\n  .small{font-size:13px;color:var(--muted);}\n  .result{margin-top:8px;font-weight:700;color:var(--good);}\n  .bad{color:var(--danger);}\n  input[type=range]{width:160px;}\n  .controls .speed{display:flex;align-items:center;gap:8px;}\n  .top-controls{display:flex;gap:8px;align-items:center;}\n  .muted-btn{background:transparent;border:1px dashed rgba(255,255,255,0.02);color:var(--muted);padding:8px;border-radius:8px;}\n  .link-like{background:transparent;border:none;color:var(--accent);cursor:pointer;font-weight:700;}\n  .footer-note{font-size:12px;color:var(--muted);margin-top:8px;}\n  @media (max-width:900px){\n    .wrap{grid-template-columns:1fr; padding:12px;}\n  }\n</style>\n</head>\n<body>\n<div class=\"wrap\">\n  <div class=\"panel\">\n    <h1>Two Pointers — Interactive Visualizer</h1>\n    <div class=\"muted\">Explore common two-pointers patterns: scan from both ends, sliding pointers, in-place writes. Choose a demo, give an array, and step through the algorithm.</div>\n\n    <label>Demo</label>\n    <select id=\"demoSelect\">\n      <option value=\"twoSum\">Two-sum in a sorted array (find pair equals target)</option>\n      <option value=\"maxArea\">Container With Most Water (maximize area)</option>\n      <option value=\"removeDup\">Remove Duplicates (in-place, sorted)</option>\n    </select>\n\n    <label>Array (comma separated numbers)</label>\n    <input type=\"text\" id=\"arrayInput\" placeholder=\"e.g. 1,2,3,4,5\" />\n\n    <div class=\"row\">\n      <button id=\"randomBtn\" class=\"secondary\">Random</button>\n      <button id=\"sortBtn\" class=\"secondary\">Sort Ascending</button>\n      <button id=\"reverseBtn\" class=\"secondary\">Reverse</button>\n      <div style=\"flex:1\"></div>\n    </div>\n\n    <label style=\"margin-top:10px\">Additional</label>\n    <div style=\"display:flex;gap:8px;align-items:center;\">\n      <input type=\"number\" id=\"targetInput\" placeholder=\"target (for two-sum)\" style=\"width:140px;padding:8px;border-radius:8px;background:var(--panel);border:1px solid rgba(255,255,255,0.03);color:inherit;\">\n      <div class=\"muted small\" style=\"margin-left:6px\">Target applies to Two-sum demo</div>\n    </div>\n\n    <div class=\"controls\">\n      <button id=\"startBtn\">Start</button>\n      <button id=\"pauseBtn\" class=\"secondary\">Pause</button>\n      <button id=\"stepBtn\" class=\"secondary\">Step</button>\n      <button id=\"resetBtn\" class=\"secondary\">Reset</button>\n\n      <div class=\"speed\" title=\"Animation speed\">\n        <label class=\"small muted\" style=\"margin-right:6px;\">Speed</label>\n        <input type=\"range\" id=\"speed\" min=\"100\" max=\"1600\" step=\"100\" value=\"700\">\n        <div class=\"small muted\" id=\"speedVal\">700ms</div>\n      </div>\n    </div>\n\n    <div class=\"array-view\" id=\"arrayView\">\n      <div class=\"small muted\">Visualization</div>\n      <div id=\"visArea\">\n        <!-- dynamic -->\n      </div>\n      <div class=\"log\" id=\"log\"></div>\n      <div class=\"info\">\n        <div class=\"chip\" id=\"stateChip\">State: idle</div>\n        <div class=\"chip\">i/j pointers: <span id=\"ptrChip\">-</span></div>\n        <div class=\"chip\">Operations: <span id=\"opsChip\">0</span></div>\n        <div class=\"chip\">Result: <span id=\"resChip\">-</span></div>\n      </div>\n    </div>\n\n    <div style=\"margin-top:12px;\">\n      <div class=\"small muted\">Code (highlights current step)</div>\n      <pre class=\"code\" id=\"codeBlock\"></pre>\n    </div>\n\n    <footer class=\"footer-note\">Tip: For Two-sum and Remove Duplicates, the array should be sorted. Use \"Sort Ascending\" or provide a sorted input.</footer>\n  </div>\n\n  <div class=\"panel\">\n    <h1 id=\"demoTitle\">Demo Details</h1>\n    <div class=\"muted\" id=\"demoDesc\">Select a demo to see an explanation.</div>\n\n    <hr style=\"border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0;\">\n\n    <div id=\"demoExtra\">\n      <!-- Extra content per demo -->\n    </div>\n\n  </div>\n</div>\n\n<script>\n/*\n  Two Pointers Visualizer\n  - Three demos: twoSum (sorted), maxArea, removeDuplicates (sorted)\n  - Uses generator functions to yield steps\n  - UI hooks to step/run/pause/reset\n*/\n\nconst demoSelect = document.getElementById('demoSelect');\nconst arrayInput = document.getElementById('arrayInput');\nconst randomBtn = document.getElementById('randomBtn');\nconst sortBtn = document.getElementById('sortBtn');\nconst reverseBtn = document.getElementById('reverseBtn');\nconst startBtn = document.getElementById('startBtn');\nconst pauseBtn = document.getElementById('pauseBtn');\nconst stepBtn = document.getElementById('stepBtn');\nconst resetBtn = document.getElementById('resetBtn');\nconst targetInput = document.getElementById('targetInput');\nconst visArea = document.getElementById('visArea');\nconst logEl = document.getElementById('log');\nconst stateChip = document.getElementById('stateChip');\nconst ptrChip = document.getElementById('ptrChip');\nconst opsChip = document.getElementById('opsChip');\nconst resChip = document.getElementById('resChip');\nconst codeBlock = document.getElementById('codeBlock');\nconst speedEl = document.getElementById('speed');\nconst speedVal = document.getElementById('speedVal');\nconst demoTitle = document.getElementById('demoTitle');\nconst demoDesc = document.getElementById('demoDesc');\nconst demoExtra = document.getElementById('demoExtra');\n\nlet gen = null;\nlet running = false;\nlet intervalId = null;\nlet currentState = null;\nlet ops = 0;\nlet lastArray = [];\nlet demoInfo = {\n  twoSum: {\n    title: 'Two-sum in a sorted array',\n    desc: 'Use two pointers, one at left and one at right, moving inward. If sum < target move left pointer right; if sum > target move right pointer left; if equal — found.',\n    code: [\n      'function twoSum(arr, target) {',\n      '  let l = 0, r = arr.length - 1;',\n      '  while (l < r) {',\n      '    let s = arr[l] + arr[r];',\n      '    if (s === target) return [l, r];',\n      '    if (s < target) l++;',\n      '    else r--;',\n      '  }',\n      '  return null;',\n      '}'\n    ]\n  },\n  maxArea: {\n    title: 'Container With Most Water (maximize area)',\n    desc: 'Interpret array as heights. Two pointers start at both ends. Area = min(h[l], h[r]) * (r - l). Move the pointer at the smaller height inward (hoping for taller wall). Keep track of max area.',\n    code: [\n      'function maxArea(height) {',\n      '  let l = 0, r = height.length - 1;',\n      '  let maxA = 0;',\n      '  while (l < r) {',\n      '    let area = Math.min(height[l], height[r]) * (r - l);',\n      '    maxA = Math.max(maxA, area);',\n      '    if (height[l] < height[r]) l++;',\n      '    else r--;',\n      '  }',\n      '  return maxA;',\n      '}'\n    ]\n  },\n  removeDup: {\n    title: 'Remove Duplicates In-place (sorted array)',\n    desc: 'Use one pointer (i) to mark position of unique elements and another (j) to scan. When arr[j] != arr[i], advance i and write arr[j] to arr[i]. Finally, new length is i + 1.',\n    code: [\n      'function removeDuplicates(arr) {',\n      '  if (arr.length === 0) return 0;',\n      '  let i = 0;',\n      '  for (let j = 1; j < arr.length; j++) {',\n      '    if (arr[j] !== arr[i]) {',\n      '      i++;',\n      '      arr[i] = arr[j];',\n      '    }',\n      '  }',\n      '  return i + 1;',\n      '}'\n    ]\n  }\n};\n\nfunction setDemoText() {\n  const key = demoSelect.value;\n  demoTitle.textContent = demoInfo[key].title;\n  demoDesc.textContent = demoInfo[key].desc;\n  demoExtra.innerHTML = '';\n  if (key === 'twoSum') {\n    demoExtra.innerHTML = '<div class=\"small muted\">Example: arr = [1,2,3,4,6], target = 7 → pair (1,4) or values 1-based: (2,5)</div>';\n  } else if (key === 'maxArea') {\n    demoExtra.innerHTML = '<div class=\"small muted\">Example: heights = [1,8,6,2,5,4,8,3,7] → max area 49 (indices 1 and 8 in 0-based example)</div>';\n  } else if (key === 'removeDup') {\n    demoExtra.innerHTML = '<div class=\"small muted\">Example: arr = [0,0,1,1,1,2,2,3,3,4] → after operation arr[0..newLen-1] holds unique values [0,1,2,3,4]</div>';\n  }\n  renderCode([], -1);\n}\nsetDemoText();\ndemoSelect.addEventListener('change', ()=>{\n  setDemoText();\n});\n\nfunction parseArrayInput() {\n  const raw = arrayInput.value.trim();\n  if (!raw) return [];\n  const parts = raw.split(',').map(s => s.trim()).filter(s=>s.length);\n  const nums = parts.map(s => {\n    const n = Number(s);\n    return isNaN(n) ? 0 : n;\n  });\n  return nums;\n}\n\nfunction setArrayField(arr) {\n  arrayInput.value = arr.join(',');\n}\n\nrandomBtn.addEventListener('click', ()=>{\n  const key = demoSelect.value;\n  let arr = [];\n  if (key === 'maxArea') {\n    const n = 8 + Math.floor(Math.random()*3);\n    for (let i=0;i<n;i++) arr.push(1 + Math.floor(Math.random()*9));\n  } else {\n    const n = 6 + Math.floor(Math.random()*5);\n    for (let i=0;i<n;i++) arr.push(Math.floor(Math.random()*10));\n  }\n  setArrayField(arr);\n});\n\nsortBtn.addEventListener('click', ()=>{\n  const arr = parseArrayInput();\n  arr.sort((a,b)=>a-b);\n  setArrayField(arr);\n});\n\nreverseBtn.addEventListener('click', ()=>{\n  const arr = parseArrayInput();\n  arr.reverse();\n  setArrayField(arr);\n});\n\nspeedEl.addEventListener('input', ()=>{\n  speedVal.textContent = speedEl.value + 'ms';\n  if (running) {\n    clearInterval(intervalId);\n    intervalId = setInterval(stepOnce, Number(speedEl.value));\n  }\n});\n\nstartBtn.addEventListener('click', startRun);\npauseBtn.addEventListener('click', pauseRun);\nstepBtn.addEventListener('click', stepOnce);\nresetBtn.addEventListener('click', resetRun);\n\nfunction resetRun(){\n  running = false;\n  clearInterval(intervalId);\n  gen = null;\n  currentState = null;\n  ops = 0;\n  opsChip.textContent = '0';\n  resChip.textContent = '-';\n  logEl.textContent = '';\n  stateChip.textContent = 'idle';\n  ptrChip.textContent = '-';\n  setDemoText();\n  renderInitialVisualization();\n}\n\nfunction startRun(){\n  if (!gen) {\n    initializeGenerator();\n  }\n  if (!gen) return;\n  if (!running) {\n    running = true;\n    stateChip.textContent = 'running';\n    intervalId = setInterval(stepOnce, Number(speedEl.value));\n  }\n}\n\nfunction pauseRun(){\n  running = false;\n  clearInterval(intervalId);\n  stateChip.textContent = 'paused';\n}\n\nfunction stepOnce(){\n  if (!gen) {\n    initializeGenerator();\n    if (!gen) return;\n  }\n  const next = gen.next();\n  if (next.done) {\n    running = false;\n    clearInterval(intervalId);\n    stateChip.textContent = 'finished';\n    if (next.value && next.value.finalMessage) {\n      logEl.textContent = next.value.finalMessage;\n      resChip.textContent = next.value.result !== undefined ? next.value.result : '-';\n    }\n    renderFromState(next.value && next.value.state ? next.value.state : currentState);\n    gen = null;\n    return;\n  }\n  currentState = next.value;\n  ops++;\n  opsChip.textContent = ops;\n  renderFromState(currentState);\n}\n\nfunction renderCode(lines, idx){\n  codeBlock.innerHTML = lines.map((l,i)=>{\n    const safe = l.replace(/</g,'&lt;').replace(/>/g,'&gt;');\n    if (i === idx) return `<span class=\"code-line current\">${safe}</span>`;\n    return `<span class=\"code-line\">${safe}</span>`;\n  }).join('');\n}\n\nfunction renderInitialVisualization(){\n  const arr = parseArrayInput();\n  lastArray = arr.slice();\n  if (demoSelect.value === 'maxArea') {\n    renderBars(arr, -1, -1, null);\n  } else {\n    renderBoxes(arr, -1, -1, null);\n  }\n}\n\nfunction renderFromState(state){\n  const arr = state.arr.slice();\n  lastArray = arr;\n  if (demoSelect.value === 'maxArea') {\n    renderBars(arr, state.l, state.r, state);\n  } else {\n    renderBoxes(arr, state.l, state.r, state);\n  }\n  logEl.textContent = state.message || '';\n  ptrChip.textContent = (state.l!==undefined?('l='+state.l):'') + (state.r!==undefined?(' r='+state.r):'') + (state.i!==undefined?(' i='+state.i):'') + (state.j!==undefined?(' j='+state.j):'');\n  resChip.textContent = state.result !== undefined ? state.result : resChip.textContent;\n  renderCode(state.codeLines || [], state.codeIndex !== undefined ? state.codeIndex : -1);\n}\n\nfunction renderBoxes(arr, l, r, state){\n  visArea.innerHTML = '';\n  const boxes = document.createElement('div');\n  boxes.className = 'boxes';\n  arr.forEach((v, idx) => {\n    const b = document.createElement('div');\n    b.className = 'box';\n    b.textContent = v;\n    if (state && state.writtenIndex === idx) {\n      b.classList.add('highlight');\n    }\n    if (state && state.removedIndices && state.removedIndices.includes(idx)) {\n      b.classList.add('removed');\n    }\n    if (idx === l) {\n      const p = document.createElement('div'); p.className='pointer'; p.textContent='L';\n      b.appendChild(p);\n      b.style.boxShadow = '0 0 0 2px rgba(43,176,255,0.06)';\n    }\n    if (idx === r) {\n      const p = document.createElement('div'); p.className='pointer r'; p.textContent='R';\n      b.appendChild(p);\n      b.style.boxShadow = '0 0 0 2px rgba(255,107,107,0.06)';\n    }\n    boxes.appendChild(b);\n  });\n  visArea.appendChild(boxes);\n}\n\nfunction renderBars(arr, l, r, state){\n  visArea.innerHTML = '';\n  const barsWrap = document.createElement('div');\n  barsWrap.className = 'bars';\n  const maxH = Math.max(1, ...arr);\n  arr.forEach((v, idx) => {\n    const bar = document.createElement('div');\n    bar.className = 'bar';\n    bar.style.height = (v / maxH * 120 + 20) + 'px';\n    const val = document.createElement('div');\n    val.className='val';\n    val.textContent = v;\n    bar.appendChild(val);\n    if (idx === l) {\n      const p = document.createElement('div'); p.className='pointer'; p.textContent='L';\n      bar.appendChild(p);\n    }\n    if (idx === r) {\n      const p = document.createElement('div'); p.className='pointer r'; p.textContent='R';\n      bar.appendChild(p);\n    }\n    if (state && state.bestPair && state.bestPair[0] === idx || (state && state.bestPair && state.bestPair[1] === idx)) {\n      bar.style.outline = '3px solid rgba(32,211,159,0.12)';\n      bar.style.background = 'linear-gradient(180deg,#88ffcf,#0bbd86)';\n    }\n    barsWrap.appendChild(bar);\n  });\n  // show area info\n  const infoLine = document.createElement('div');\n  infoLine.style.marginTop='8px';\n  infoLine.innerHTML = `<div class=\"small muted\">Current area: <strong>${state && state.currentArea !== undefined ? state.currentArea : '-'}</strong> &nbsp;&nbsp; Best area: <strong style=\"color:var(--good)\">${state && state.bestArea!==undefined ? state.bestArea : '-'}</strong></div>`;\n  visArea.appendChild(barsWrap);\n  visArea.appendChild(infoLine);\n}\n\nfunction initializeGenerator(){\n  const arr = parseArrayInput();\n  if (!arr.length) {\n    alert('Please provide an array (comma separated numbers).');\n    return;\n  }\n  ops = 0;\n  opsChip.textContent = '0';\n  resChip.textContent = '-';\n  logEl.textContent = '';\n  const key = demoSelect.value;\n  if (key === 'twoSum') {\n    const t = Number(targetInput.value);\n    if (isNaN(t)) {\n      alert('Enter a numeric target for two-sum.');\n      return;\n    }\n    gen = twoSumGenerator(arr.slice(), t);\n  } else if (key === 'maxArea') {\n    gen = maxAreaGenerator(arr.slice());\n  } else if (key === 'removeDup') {\n    gen = removeDuplicatesGenerator(arr.slice());\n  }\n  stateChip.textContent = 'initialized';\n}\n\n// ---------------------- Generators ----------------------------\n\nfunction* twoSumGenerator(arr, target) {\n  const codeLines = demoInfo.twoSum.code;\n  let l = 0, r = arr.length - 1;\n  let step = 0;\n  while (l < r) {\n    const s = arr[l] + arr[r];\n    yield {\n      arr: arr.slice(),\n      l, r,\n      message: `Compare arr[${l}]=${arr[l]} + arr[${r}]=${arr[r]} → sum=${s}`,\n      codeLines, codeIndex:2,\n      currentStep: step++\n    };\n    if (s === target) {\n      yield {\n        arr: arr.slice(),\n        l, r,\n        message: `Found pair at indices (${l}, ${r}) with values (${arr[l]}, ${arr[r]})`,\n        result: `[${l}, ${r}]`,\n        codeLines, codeIndex:3,\n        finalMessage: `Found pair: indices (${l}, ${r}) values (${arr[l]}, ${arr[r]})`,\n        state: {arr:arr.slice(), l, r}\n      };\n      return {finalMessage:`Found pair: indices (${l}, ${r}) values (${arr[l]}, ${arr[r]})`, result:[l,r], state:{arr:arr.slice(), l, r}};\n    }\n    if (s < target) {\n      yield {\n        arr: arr.slice(),\n        l, r,\n        message: `Sum ${s} < target ${target} → move L right`,\n        codeLines, codeIndex:4,\n      };\n      l++;\n    } else {\n      yield {\n        arr: arr.slice(),\n        l, r,\n        message: `Sum ${s} > target ${target} → move R left`,\n        codeLines, codeIndex:5,\n      };\n      r--;\n    }\n  }\n  yield {\n    arr: arr.slice(),\n    l, r,\n    message: 'No pair found.',\n    codeLines, codeIndex:7,\n    finalMessage: 'No pair found.',\n    result: null,\n    state: {arr:arr.slice(), l, r}\n  };\n  return {finalMessage:'No pair found.', result:null, state:{arr:arr.slice(), l, r}};\n}\n\nfunction* maxAreaGenerator(arr) {\n  const codeLines = demoInfo.maxArea.code;\n  let l = 0, r = arr.length - 1;\n  let maxA = 0;\n  let bestPair = null;\n  let step = 0;\n  while (l < r) {\n    const area = Math.min(arr[l], arr[r]) * (r - l);\n    if (area > maxA) {\n      maxA = area;\n      bestPair = [l, r];\n      yield {\n        arr: arr.slice(),\n        l, r,\n        currentArea: area,\n        bestArea: maxA,\n        bestPair,\n        message: `New best area ${area} (l=${l}, r=${r})`,\n        codeLines, codeIndex:4\n      };\n    } else {\n      yield {\n        arr: arr.slice(),\n        l, r,\n        currentArea: area,\n        bestArea: maxA,\n        bestPair,\n        message: `Area ${area} (l=${l}, r=${r}), best so far ${maxA}`,\n        codeLines, codeIndex:4\n      };\n    }\n    if (arr[l] < arr[r]) {\n      yield {\n        arr: arr.slice(),\n        l, r,\n        message: `height[l]=${arr[l]} < height[r]=${arr[r]} → move L right`,\n        codeLines, codeIndex:5\n      };\n      l++;\n    } else {\n      yield {\n        arr: arr.slice(),\n        l, r,\n        message: `height[l]=${arr[l]} >= height[r]=${arr[r]} → move R left`,\n        codeLines, codeIndex:6\n      };\n      r--;\n    }\n    step++;\n  }\n  yield {\n    arr: arr.slice(),\n    l, r,\n    message: `Finished. Max area = ${maxA} at indices ${bestPair?bestPair.join(', '):'-'}`,\n    bestArea: maxA,\n    bestPair,\n    currentArea: 0,\n    codeLines, codeIndex:8,\n    finalMessage: `Max area = ${maxA}`,\n    result: maxA,\n    state: {arr:arr.slice(), l, r, bestArea: maxA, bestPair}\n  };\n  return {finalMessage: `Max area = ${maxA}`, result: maxA, state: {arr:arr.slice(), l, r, bestArea: maxA, bestPair}};\n}\n\nfunction* removeDuplicatesGenerator(arr) {\n  const codeLines = demoInfo.removeDup.code;\n  if (arr.length === 0) {\n    yield {arr:arr.slice(), message:'Empty array', codeLines, codeIndex:0, finalMessage:'Length 0', result:0, state:{arr:arr.slice()}};\n    return {finalMessage:'Length 0', result:0, state:{arr:arr.slice()}};\n  }\n  let i = 0;\n  // mark all as not removed initially\n  let removedIndices = [];\n  yield {arr:arr.slice(), i, j: null, message:`Start. i=${i}`, codeLines, codeIndex:1};\n  for (let j = 1; j < arr.length; j++) {\n    yield {arr:arr.slice(), i, j, message:`Compare arr[${j}]=${arr[j]} with arr[${i}]=${arr[i]}`, codeLines, codeIndex:3};\n    if (arr[j] !== arr[i]) {\n      i++;\n      arr[i] = arr[j]; // write\n      yield {\n        arr:arr.slice(),\n        i, j,\n        writtenIndex: i,\n        message:`arr[${j}] != arr[${i-1}] → write arr[${j}] to arr[${i}]`,\n        codeLines,\n        codeIndex:5\n      };\n    } else {\n      // arr[j] is duplicate — considered removed (for visualization)\n      removedIndices.push(j);\n      yield {\n        arr:arr.slice(),\n        i, j,\n        removedIndices: removedIndices.slice(),\n        message:`arr[${j}] == arr[${i}] → duplicate at ${j} (will be ignored)`,\n        codeLines,\n        codeIndex:4\n      };\n    }\n  }\n  const newLen = i + 1;\n  yield {\n    arr:arr.slice(),\n    i, j: arr.length,\n    message:`Finished. New length = ${newLen}. Unique portion: arr[0..${i}]`,\n    removedIndices: removedIndices.slice(),\n    codeLines, codeIndex:8,\n    finalMessage:`Finished. New length = ${newLen}`,\n    result: newLen,\n    state: {arr:arr.slice(), i, removedIndices}\n  };\n  return {finalMessage:`Finished. New length = ${newLen}`, result:newLen, state:{arr:arr.slice(), i, removedIndices}};\n}\n\n// Initialize with a small default\nif (!arrayInput.value) {\n  arrayInput.value = '1,2,3,4,5,6';\n}\nrenderInitialVisualization();\n\n// on load, populate code block\nrenderCode([], -1);\n\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Two Pointers"
    }
  ],
  "topic": "Two Pointers",
  "hasFSM": false,
  "hasTest": true
}