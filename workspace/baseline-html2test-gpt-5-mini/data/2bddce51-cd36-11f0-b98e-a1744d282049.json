{
  "id": "2bddce51-cd36-11f0-b98e-a1744d282049",
  "timestamp": "2025-11-29T15:16:58.921Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Stack",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Stack Data Structure â€” Interactive Demo</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --card:#0b1220;\n      --accent:#06b6d4;\n      --muted:#94a3b8;\n      --light:#e6eef6;\n      --danger:#ef4444;\n      --success:#10b981;\n      font-family: Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n    }\n    *{box-sizing:border-box}\n    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071025 0%,var(--bg) 100%);color:var(--light)}\n    .app{\n      max-width:1100px;margin:28px auto;padding:22px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));\n      box-shadow: 0 6px 30px rgba(2,6,23,0.65), inset 0 1px 0 rgba(255,255,255,0.02);\n      display:grid;grid-template-columns:360px 1fr;gap:20px;\n    }\n    header{grid-column:1/-1;display:flex;align-items:center;gap:16px;margin-bottom:6px}\n    header h1{font-size:18px;margin:0}\n    header p{margin:0;color:var(--muted);font-size:13px}\n    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}\n    .controls{display:flex;flex-direction:column;gap:12px}\n    label.small{font-size:12px;color:var(--muted)}\n    .row{display:flex;gap:8px;align-items:center}\n    input[type=\"text\"], input[type=\"number\"], select{\n      padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--light);outline:none;\n      box-shadow:inset 0 -4px 10px rgba(0,0,0,0.25);\n    }\n    button{\n      background:linear-gradient(180deg,var(--accent),#0198a9);border:none;color:#022; padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600;\n      box-shadow:0 4px 10px rgba(3,105,129,0.18);\n    }\n    button.ghost{\n      background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--light);box-shadow:none;font-weight:600;\n    }\n    .muted{color:var(--muted);font-size:13px}\n    .vis{\n      display:flex;gap:20px;align-items:flex-start;min-height:360px;\n    }\n    /* Stack canvas */\n    .canvas{\n      flex:1;display:flex;flex-direction:column;gap:14px;\n    }\n    .stack-area{\n      flex:1;border-radius:10px;border:1px dashed rgba(255,255,255,0.03);padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);\n      display:flex;align-items:center;justify-content:center;position:relative;overflow:auto;\n    }\n    .stack-visual{\n      display:flex;flex-direction:column-reverse;align-items:center;gap:8px;min-width:160px;\n      transition:all .25s ease;\n    }\n    .stack-item{\n      min-width:180px;max-width:240px;padding:12px 14px;border-radius:8px;background:linear-gradient(180deg,#092032, #07242f);\n      border:1px solid rgba(255,255,255,0.03);color:var(--light);display:flex;justify-content:space-between;align-items:center;\n      box-shadow: 0 6px 18px rgba(2,6,23,0.5);\n      transform-origin:center; transition:transform .22s cubic-bezier(.2,.8,.2,1),opacity .22s;\n    }\n    .stack-item.top{\n      border:1px solid rgba(6,182,212,0.22);\n      box-shadow:0 10px 30px rgba(6,182,212,0.07), 0 2px 6px rgba(0,0,0,0.4);\n      transform:translateY(-6px) scale(1.02);\n    }\n    .stack-item .val{font-weight:700}\n    .meta{\n      display:flex;flex-direction:column;gap:8px;min-width:220px;\n    }\n    .stats{display:flex;gap:12px;justify-content:space-between;margin-top:8px}\n    .chip{padding:8px 10px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.02);min-width:90px;text-align:center}\n    .log{height:120px;overflow:auto;padding:10px;border-radius:8px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);font-size:13px;color:var(--muted)}\n    .tiny{font-size:12px;color:var(--muted)}\n    .controls .actions{display:flex;gap:8px;flex-wrap:wrap}\n    .btn-danger{background:linear-gradient(180deg,var(--danger),#c02626);color:white}\n    .btn-success{background:linear-gradient(180deg,var(--success),#0a8a66);color:white}\n    .code{\n      background:rgba(0,0,0,0.15);padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:12px;color:#dff3fb;\n      max-height:220px;overflow:auto;\n    }\n    footer{grid-column:1/-1;margin-top:6px;color:var(--muted);font-size:12px;display:flex;justify-content:space-between;align-items:center}\n    .impl-select{display:flex;gap:10px;align-items:center}\n    /* linked list style */\n    .linked-list{\n      display:flex;flex-direction:column-reverse;gap:12px;align-items:flex-start;\n    }\n    .node{\n      display:flex;align-items:center;gap:8px;padding:8px;border-radius:8px;background:linear-gradient(180deg,#08171f,#072027);\n      border:1px solid rgba(255,255,255,0.03);\n      min-width:240px;box-shadow:0 6px 18px rgba(0,0,0,0.45);\n    }\n    .node .box{padding:8px 10px;border-radius:6px;background:rgba(255,255,255,0.02);min-width:50px;text-align:center}\n    .arrow{width:36px;height:10px;display:flex;align-items:center;justify-content:center}\n    .arrow:after{content:\"â†’\";color:var(--muted)}\n    .small-muted{font-size:12px;color:var(--muted)}\n    .kbd{background:rgba(255,255,255,0.03);padding:6px;border-radius:6px;border:1px solid rgba(255,255,255,0.02);font-weight:700}\n    @media (max-width:880px){\n      .app{grid-template-columns:1fr;max-width:920px;padding:14px}\n      .meta{min-width:unset}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"app\" role=\"application\" aria-label=\"Stack Data Structure Demo\">\n    <header>\n      <div>\n        <h1>Stack â€” Interactive Visualizer</h1>\n        <p>Push, pop and peek values. Toggle implementations and watch a live visual representation and operation log.</p>\n      </div>\n    </header>\n\n    <section class=\"panel controls\" aria-label=\"Controls\">\n      <div class=\"row impl-select\">\n        <label class=\"small\" for=\"impl\">Implementation:</label>\n        <select id=\"impl\" title=\"Choose stack implementation\">\n          <option value=\"array\">Array-backed Stack (simple)</option>\n          <option value=\"linked\">Linked-list Stack (nodes & pointers)</option>\n        </select>\n      </div>\n\n      <div>\n        <label class=\"small\">Value to push</label>\n        <div class=\"row\" style=\"margin-top:6px\">\n          <input id=\"value\" type=\"text\" placeholder=\"e.g. 42 or hello\" />\n          <button id=\"pushBtn\">Push</button>\n          <button id=\"pushRandom\" class=\"ghost\">Push Random</button>\n        </div>\n        <div class=\"tiny\" style=\"margin-top:6px\">Press Enter in the input to push. Empty strings are allowed as values.</div>\n      </div>\n\n      <div>\n        <label class=\"small\">Batch / Quantity</label>\n        <div class=\"row\" style=\"margin-top:6px\">\n          <input id=\"count\" type=\"number\" min=\"1\" max=\"50\" value=\"1\" style=\"width:86px\" />\n          <button id=\"bulkPush\" class=\"ghost\">Bulk Push</button>\n          <button id=\"clearBtn\" class=\"ghost\">Clear</button>\n        </div>\n      </div>\n\n      <div class=\"actions\">\n        <button id=\"popBtn\" class=\"ghost\">Pop</button>\n        <button id=\"peekBtn\" class=\"ghost\">Peek</button>\n        <button id=\"sampleBtn\" class=\"ghost\">Run Sample Ops</button>\n        <button id=\"reverseBtn\" class=\"ghost\">Reverse Stack</button>\n      </div>\n\n      <div style=\"margin-top:8px\" class=\"tiny\">\n        <strong>Complexities:</strong> Push: O(1) | Pop: O(1) | Peek: O(1) (amortized for array-backed)\n      </div>\n\n      <div style=\"margin-top:10px\">\n        <label class=\"small\">Code (implementation)</label>\n        <div id=\"codeArea\" class=\"code\" aria-hidden=\"false\"></div>\n      </div>\n\n      <div style=\"margin-top:10px\">\n        <label class=\"small\">Operation Log</label>\n        <div id=\"log\" class=\"log\" aria-live=\"polite\"></div>\n      </div>\n    </section>\n\n    <section class=\"panel canvas\" aria-label=\"Visualization\">\n      <div class=\"meta\">\n        <div class=\"stats\">\n          <div class=\"chip\">Size: <span id=\"size\">0</span></div>\n          <div class=\"chip\">Top: <span id=\"topVal\">â€”</span></div>\n          <div class=\"chip\">Empty: <span id=\"isEmpty\">true</span></div>\n        </div>\n        <div class=\"tiny\" style=\"margin-top:6px\">Implementation: <span id=\"implLabel\" class=\"small-muted\">Array-backed</span></div>\n\n        <div style=\"margin-top:12px\">\n          <label class=\"small\">Notes</label>\n          <div class=\"tiny\" style=\"margin-top:6px\">This demo supports two implementations. Choose \"linked\" to see nodes and pointers. Use Reverse to invert the stack order.</div>\n        </div>\n      </div>\n\n      <div class=\"stack-area\" id=\"stackArea\" aria-live=\"polite\">\n        <div id=\"stackVisual\" class=\"stack-visual\" aria-label=\"Stack contents\" title=\"Stack (top at top)\">\n          <!-- Items will be injected here -->\n        </div>\n        <div style=\"position:absolute; left:12px; top:12px; font-size:12px; color:var(--muted)\">Top â†‘</div>\n      </div>\n\n      <div style=\"margin-top:10px;display:flex;gap:10px;align-items:center\">\n        <div class=\"tiny\">Tip: Try pushing many items then pop to see transitions.</div>\n        <div style=\"flex:1\"></div>\n      </div>\n\n    </section>\n\n    <footer>\n      <div>Built-in implementations: Array-backed & Linked-list. Visual & interactive.</div>\n      <div><span class=\"kbd\">Enter</span> to push â€¢ <span class=\"kbd\">Ctrl+R</span> runs sample</div>\n    </footer>\n  </div>\n\n  <script>\n    // Stack demo JavaScript\n    (function(){\n      // Utilities\n      function el(id){return document.getElementById(id)}\n      function log(msg, kind='info'){\n        const logEl = el('log');\n        const time = new Date().toLocaleTimeString();\n        const row = document.createElement('div');\n        row.style.padding = '6px 4px';\n        row.style.borderBottom = '1px dashed rgba(255,255,255,0.02)';\n        row.innerHTML = '<strong style=\"color:var(--muted)\">'+time+'</strong> â€” ' + msg;\n        logEl.prepend(row);\n      }\n\n      // Array-backed stack\n      class ArrayStack {\n        constructor(){\n          this._arr = [];\n        }\n        push(v){ this._arr.push(v); return this.size(); }\n        pop(){ return this._arr.length? this._arr.pop() : null; }\n        peek(){ return this._arr.length? this._arr[this._arr.length-1] : null; }\n        size(){ return this._arr.length; }\n        isEmpty(){ return this._arr.length === 0; }\n        clear(){ this._arr.length = 0; }\n        toArray(){ return this._arr.slice(); } // bottom->top\n      }\n\n      // Linked-list stack (singly linked, top pointer)\n      class LinkedStack {\n        constructor(){\n          this.top = null;\n          this._size = 0;\n        }\n        push(v){\n          const node = { value: v, next: this.top };\n          this.top = node;\n          this._size++;\n          return this.size();\n        }\n        pop(){\n          if(!this.top) return null;\n          const v = this.top.value;\n          this.top = this.top.next;\n          this._size--;\n          return v;\n        }\n        peek(){ return this.top ? this.top.value : null; }\n        size(){ return this._size; }\n        isEmpty(){ return this._size === 0; }\n        clear(){ this.top = null; this._size = 0; }\n        toArray(){\n          const a=[];\n          let cur = this.top;\n          while(cur){ a.push(cur.value); cur = cur.next; }\n          return a.reverse(); // want bottom->top like array\n        }\n      }\n\n      // DOM refs\n      const implSelect = el('impl');\n      const valueInput = el('value');\n      const pushBtn = el('pushBtn');\n      const pushRandom = el('pushRandom');\n      const popBtn = el('popBtn');\n      const peekBtn = el('peekBtn');\n      const clearBtn = el('clearBtn');\n      const stackVisual = el('stackVisual');\n      const sizeEl = el('size');\n      const topValEl = el('topVal');\n      const isEmptyEl = el('isEmpty');\n      const codeArea = el('codeArea');\n      const bulkPush = el('bulkPush');\n      const countInput = el('count');\n      const sampleBtn = el('sampleBtn');\n      const reverseBtn = el('reverseBtn');\n      const implLabel = el('implLabel');\n\n      // Current implementation instance\n      let stack = new ArrayStack();\n      let impl = 'array'; // 'array' or 'linked'\n      updateCodeArea();\n\n      // Helpers for UI\n      function updateMeta(){\n        sizeEl.textContent = String(stack.size());\n        const pv = stack.peek();\n        topValEl.textContent = (pv === null || pv === undefined) ? 'â€”' : String(pv);\n        isEmptyEl.textContent = stack.isEmpty() ? 'true' : 'false';\n        implLabel.textContent = impl === 'array' ? 'Array-backed' : 'Linked-list';\n      }\n\n      function render(){\n        // Clear current\n        stackVisual.innerHTML = '';\n        // Obtain bottom->top array for consistent rendering (we render in column-reverse so last item is top)\n        const arr = stack.toArray(); // bottom->top\n        // If using linked implementation, render nodes + arrows\n        if(impl === 'linked'){\n          const container = document.createElement('div');\n          container.className = 'linked-list';\n          // We want to render nodes bottom->top; but linked-list top->bottom; we used reverse above to get bottom->top\n          for(let i=0;i<arr.length;i++){\n            const nodeWrap = document.createElement('div');\n            nodeWrap.style.display='flex'; nodeWrap.style.flexDirection='row-reverse';\n            const node = document.createElement('div');\n            node.className='node';\n            const box = document.createElement('div'); box.className='box'; box.textContent=arr[i];\n            const txt = document.createElement('div'); txt.style.color='var(--light)'; txt.style.fontWeight='700'; txt.textContent='val';\n            node.appendChild(box);\n            // Attach pointer label to indicate next (for visualization)\n            const idx = i;\n            const meta = document.createElement('div');\n            meta.style.fontSize='12px'; meta.style.color='var(--muted)'; meta.style.marginLeft='8px';\n            // Determine if this node is the top node\n            const isTop = (i === arr.length-1);\n            meta.innerHTML = isTop ? '<div style=\"color:var(--accent);font-weight:700\">TOP</div>' : '<div class=\"small-muted\">next â†’</div>';\n            node.appendChild(meta);\n\n            // Wrap with arrow except bottom-most (since we render bottom->top, arrows point up)\n            const wrapper = document.createElement('div');\n            wrapper.style.display='flex'; wrapper.style.flexDirection='column'; wrapper.style.alignItems='flex-start';\n            wrapper.appendChild(node);\n            if(i < arr.length - 1){\n              const arrow = document.createElement('div'); arrow.className='arrow'; arrow.style.marginLeft='8px';\n              wrapper.appendChild(arrow);\n            }\n            container.appendChild(wrapper);\n          }\n          stackVisual.appendChild(container);\n        } else {\n          // array-backed: render simple blocks with index to the right\n          // We render bottom->top, but our container has column-reverse, so simply render arr in order\n          arr.forEach((v, idx) => {\n            const item = document.createElement('div');\n            item.className='stack-item';\n            const valSpan = document.createElement('div'); valSpan.className='val'; valSpan.textContent = String(v);\n            const idxSpan = document.createElement('div'); idxSpan.style.color='var(--muted)'; idxSpan.textContent = idx;\n            item.appendChild(valSpan);\n            item.appendChild(idxSpan);\n            // highlight top\n            if(idx === arr.length - 1){\n              item.classList.add('top');\n            }\n            stackVisual.appendChild(item);\n          });\n        }\n\n        updateMeta();\n      }\n\n      function pushAction(value){\n        // Accept any JS value but store as string for rendering\n        const beforeSize = stack.size();\n        const newSize = stack.push(value);\n        log('PUSH: \"' + String(value) + '\" â†’ size ' + beforeSize + ' â†’ ' + newSize);\n        render();\n      }\n\n      function popAction(){\n        const beforeSize = stack.size();\n        const v = stack.pop();\n        if(v === null || v === undefined){\n          log('POP: stack empty', 'warn');\n          return null;\n        }\n        log('POP: \"' + String(v) + '\" â†’ size ' + beforeSize + ' â†’ ' + stack.size());\n        render();\n        return v;\n      }\n\n      function peekAction(){\n        const v = stack.peek();\n        if(v === null || v === undefined){\n          log('PEEK: stack empty', 'warn');\n        } else {\n          log('PEEK: \"' + String(v) + '\"');\n        }\n        updateMeta();\n        return v;\n      }\n\n      function clearAction(){\n        stack.clear();\n        log('CLEAR: stack emptied');\n        render();\n      }\n\n      function bulkPushAction(count){\n        const c = Math.max(1, Math.min(200, Number(count) || 1));\n        for(let i=0;i<c;i++){\n          const val = valueInput.value !== '' ? valueInput.value + (c>1? ' #'+(i+1):'') : ('val-'+Math.random().toString(36).slice(2,7));\n          stack.push(val);\n        }\n        log('BULK PUSH: ' + c + ' items');\n        render();\n      }\n\n      function pushRandomAction(){\n        const sample = ['ðŸŽ','42','hello','obj','true','null','âš¡','js','123','node','A','B','C','Ï€','âˆž'];\n        const val = sample[Math.floor(Math.random()*sample.length)] + '-' + Math.random().toString(36).slice(2,5);\n        pushAction(val);\n      }\n\n      function reverseStack(){\n        // Reverse the stack order in-place by rebuilding\n        const arr = stack.toArray(); // bottom->top\n        arr.reverse(); // now top->bottom\n        // Recreate based on implementation\n        if(impl === 'array'){\n          stack.clear();\n          arr.forEach(v => stack.push(v));\n        } else {\n          // for linked, arr currently top->bottom, but LinkedStack expects top as last pushed value\n          stack.clear();\n          // arr is top->bottom, but to produce same order we push bottom->top\n          arr.reverse(); // becomes bottom->top\n          arr.forEach(v => stack.push(v));\n        }\n        log('REVERSE: stack order reversed');\n        render();\n      }\n\n      // Implementation switch\n      function switchImpl(to){\n        // capture current data\n        const a = stack.toArray(); // bottom->top\n        impl = to;\n        stack = impl === 'array' ? new ArrayStack() : new LinkedStack();\n        // populate with same items\n        a.forEach(v => stack.push(v));\n        log('SWITCH: implementation -> ' + (impl === 'array' ? 'Array-backed' : 'Linked-list'));\n        updateCodeArea();\n        render();\n      }\n\n      // Update code snippet area with brief implementation code\n      function updateCodeArea(){\n        if(impl === 'array'){\n          codeArea.textContent = [\n            'class ArrayStack {',\n            '  constructor(){ this._arr = []; }',\n            '  push(v){ this._arr.push(v); }',\n            '  pop(){ return this._arr.length ? this._arr.pop() : null; }',\n            '  peek(){ return this._arr.length ? this._arr[this._arr.length-1] : null; }',\n            '  size(){ return this._arr.length; }',\n            '  clear(){ this._arr.length = 0 }',\n            '}'\n          ].join('\\n');\n        } else {\n          codeArea.textContent = [\n            'class LinkedStack {',\n            '  constructor(){ this.top = null; this._size = 0; }',\n            '  push(v){ const node = {value: v, next: this.top}; this.top = node; this._size++; }',\n            '  pop(){ if(!this.top) return null; const v = this.top.value; this.top = this.top.next; this._size--; return v; }',\n            '  peek(){ return this.top ? this.top.value : null }',\n            '  size(){ return this._size }',\n            '  clear(){ this.top = null; this._size = 0 }',\n            '}'\n          ].join('\\n');\n        }\n      }\n\n      // Wire UI events\n      pushBtn.addEventListener('click', () => {\n        const v = valueInput.value;\n        pushAction(v === '' ? '' : v);\n        valueInput.focus();\n        valueInput.select();\n      });\n\n      valueInput.addEventListener('keydown', (e) => {\n        if(e.key === 'Enter'){\n          e.preventDefault();\n          pushBtn.click();\n        }\n      });\n\n      pushRandom.addEventListener('click', pushRandomAction);\n\n      popBtn.addEventListener('click', popAction);\n      peekBtn.addEventListener('click', peekAction);\n      clearBtn.addEventListener('click', clearAction);\n\n      implSelect.addEventListener('change', (e) => {\n        switchImpl(e.target.value);\n      });\n\n      bulkPush.addEventListener('click', () => {\n        bulkPushAction(countInput.value);\n      });\n\n      sampleBtn.addEventListener('click', async () => {\n        // sample sequence: push 3, peek, pop, push 2, reverse\n        const seq = ['push:Alice','push:Bob','push:Charlie','peek','pop','push:Delta','push:Echo','reverse','peek'];\n        log('SAMPLE: running demo sequence (Ctrl+R also triggers)');\n        for(const step of seq){\n          await new Promise(r => setTimeout(r, 480));\n          if(step.startsWith('push:')) pushAction(step.split(':')[1]);\n          else if(step === 'pop') popAction();\n          else if(step === 'peek') peekAction();\n          else if(step === 'reverse') reverseStack();\n        }\n        log('SAMPLE: done');\n      });\n\n      reverseBtn.addEventListener('click', reverseStack);\n\n      // keyboard shortcut for sample: Ctrl+R\n      window.addEventListener('keydown', (e) => {\n        if(e.ctrlKey && (e.key === 'r' || e.key === 'R')){\n          e.preventDefault();\n          sampleBtn.click();\n        }\n      });\n\n      // Initialize with a few items\n      ['A','B','C'].forEach(v => stack.push(v));\n      render();\n      log('Initialized with A, B, C');\n\n      // Expose some debug on window for interactive consoles (optional)\n      window.__stack_demo = {\n        get stack(){ return stack; },\n        push: (v)=>{ pushAction(v); },\n        pop: ()=>popAction(),\n        peek: ()=>peekAction(),\n        switchImpl: (s) => switchImpl(s)\n      };\n\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Stack"
    }
  ],
  "topic": "Stack",
  "hasFSM": false,
  "hasTest": true
}