{
  "id": "be876370-cd35-11f0-9e7b-93b903303299",
  "timestamp": "2025-11-29T15:13:34.452Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Set",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Set — Interactive Demo (JavaScript Sets & Set Operations)</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    body { font-family: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial; margin: 18px; color:#111; background:#f7f9fc; }\n    h1 { margin:0 0 8px 0; font-size:20px; }\n    p.lead { margin:6px 0 18px 0; color:#444; }\n    .container { display:grid; grid-template-columns: 1fr 1fr; gap:16px; align-items:start; }\n    .box { background:white; border:1px solid #e2e8f0; border-radius:8px; padding:12px; box-shadow: 0 1px 0 rgba(0,0,0,0.02); }\n    label { display:block; font-weight:600; margin-bottom:6px; font-size:13px; }\n    textarea { width:100%; min-height:72px; font-family: monospace; padding:8px; border-radius:6px; border:1px solid #d0d7df; resize:vertical; }\n    .controls { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }\n    button { background:#0366d6; color:white; border:none; padding:8px 10px; border-radius:6px; cursor:pointer; font-weight:600; }\n    button.secondary { background:#e6eefc; color:#034c8c; font-weight:700; }\n    button.ghost { background:transparent; color:#0366d6; border:1px solid #d7e6ff; }\n    .small { font-size:13px; color:#555; margin-top:8px; }\n    .result { margin-top:12px; padding:10px; background:#fbfdff; border:1px dashed #dbe9ff; border-radius:6px; }\n    .list { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }\n    .chip { padding:6px 10px; border-radius:20px; background:#eef6ff; color:#03386a; font-weight:600; font-size:13px; border:1px solid #d3e9ff; }\n    .chip.type { font-weight:500; font-size:12px; padding:4px 8px; border-radius:12px; background:#f3f7fb; color:#344a5f; border:1px solid #e6edf6; }\n    pre { background:#0b1220; color:#dbeafe; padding:10px; border-radius:6px; overflow:auto; font-size:13px; }\n    .examples { display:flex; gap:6px; flex-wrap:wrap; margin-top:8px; }\n    .meta { font-size:13px; color:#3b4856; margin-top:10px; }\n    .flex { display:flex; gap:10px; align-items:center; }\n    .badge { background:#eef6ff; color:#084f8a; padding:5px 8px; border-radius:12px; font-weight:700; font-size:12px; }\n    footer { margin-top:18px; font-size:13px; color:#555; }\n    @media (max-width:900px){ .container{grid-template-columns:1fr} }\n  </style>\n</head>\n<body>\n  <h1>Set — Interactive Demo</h1>\n  <p class=\"lead\">Explore JavaScript Sets and common set operations (union, intersection, difference, symmetric difference), deduplication, and important behavior notes (NaN, objects by reference, insertion order).</p>\n\n  <div class=\"container\">\n    <div class=\"box\">\n      <label>Array A (comma-separated tokens)</label>\n      <textarea id=\"inputA\" placeholder='e.g. 1, 2, 2, \"apple\", {\"x\":1}, NaN, undefined'></textarea>\n\n      <label style=\"margin-top:10px;\">Array B (comma-separated tokens)</label>\n      <textarea id=\"inputB\" placeholder='e.g. 2, \"banana\", {\"x\":1}, NaN'></textarea>\n\n      <div class=\"controls\">\n        <button id=\"updateBtn\">Create Sets</button>\n        <button class=\"secondary\" id=\"dedupeBtn\">Dedupe A → Array</button>\n        <button class=\"ghost\" id=\"clearBtn\">Clear</button>\n      </div>\n\n      <div class=\"examples small\">\n        Examples:\n        <button class=\"ghost\" data-ex=\"nums\">Numbers</button>\n        <button class=\"ghost\" data-ex=\"strings\">Strings & duplicates</button>\n        <button class=\"ghost\" data-ex=\"nan\">NaN behavior</button>\n        <button class=\"ghost\" data-ex=\"objs\">Objects by reference</button>\n      </div>\n\n      <div id=\"setsOverview\" class=\"result\" style=\"display:none;\">\n        <div class=\"flex\">\n          <div>\n            <div class=\"meta\"><strong>Set A</strong> — size: <span id=\"sizeA\">0</span></div>\n            <div id=\"setAList\" class=\"list\"></div>\n          </div>\n          <div style=\"margin-left:18px;\">\n            <div class=\"meta\"><strong>Set B</strong> — size: <span id=\"sizeB\">0</span></div>\n            <div id=\"setBList\" class=\"list\"></div>\n          </div>\n        </div>\n\n        <div class=\"meta\" style=\"margin-top:12px;\">\n          In JavaScript, Sets use \"SameValueZero\" equality:\n          - NaN is considered equal to NaN (so duplicates of NaN are removed).\n          - Objects are compared by reference (two distinct objects with same content are different).\n          - Insertion order is preserved when iterating.\n        </div>\n      </div>\n    </div>\n\n    <div class=\"box\">\n      <label>Set Operations</label>\n      <div class=\"controls\" style=\"margin-bottom:6px;\">\n        <button id=\"unionBtn\">Union</button>\n        <button id=\"intersectionBtn\">Intersection</button>\n        <button id=\"diffBtn\">A \\ B (Difference)</button>\n        <button id=\"symDiffBtn\">Symmetric Diff</button>\n        <button id=\"subsetBtn\">A ⊆ B?</button>\n        <button id=\"equalsBtn\">A == B?</button>\n      </div>\n\n      <div id=\"opResult\" class=\"result\" style=\"display:none;\">\n        <div id=\"opTitle\" class=\"meta\"></div>\n        <div id=\"opList\" class=\"list\" style=\"margin-top:8px;\"></div>\n        <pre id=\"opCode\" style=\"margin-top:10px;\"></pre>\n      </div>\n\n      <div id=\"dedupeResult\" class=\"result\" style=\"display:none;\">\n        <div class=\"meta\"><strong>Dedupe result (Array)</strong></div>\n        <div id=\"dedupeList\" class=\"list\"></div>\n        <pre id=\"dedupeCode\"></pre>\n      </div>\n\n      <div style=\"margin-top:12px;\">\n        <label style=\"font-weight:700\">Quick demos & gotchas</label>\n        <div class=\"small\" style=\"margin-top:6px;\">\n          <button class=\"ghost\" id=\"demoNaN\">Show NaN behavior</button>\n          <button class=\"ghost\" id=\"demoObjects\">Show objects-by-reference</button>\n          <button class=\"ghost\" id=\"demoOrder\">Insertion order demo</button>\n        </div>\n\n        <div id=\"demoArea\" class=\"result\" style=\"display:none; margin-top:10px;\">\n          <div id=\"demoText\" class=\"meta\"></div>\n          <div id=\"demoList\" class=\"list\" style=\"margin-top:8px;\"></div>\n        </div>\n      </div>\n\n      <div class=\"meta\" style=\"margin-top:12px;\">\n        Code note: examples below show idiomatic JS for creating and computing set operations.\n      </div>\n    </div>\n  </div>\n\n  <footer>\n    Tip: You can enter tokens like 1, \"two\", true, null, undefined, NaN, {\"x\":1} (objects/arrays using JSON syntax), or bare words (treated as strings).\n  </footer>\n\n  <script>\n    // Utilities\n    function parseTokens(input) {\n      // Split on commas not inside braces or quotes: simple heuristic for this demo\n      const raw = [];\n      let cur = '', depth = 0, inSingle = false, inDouble = false;\n      for (let i=0;i<input.length;i++){\n        const ch = input[i];\n        if (ch === '\"' && !inSingle) inDouble = !inDouble;\n        if (ch === \"'\" && !inDouble) inSingle = !inSingle;\n        if (!inSingle && !inDouble) {\n          if (ch === '{' || ch === '[') depth++;\n          if (ch === '}' || ch === ']') depth = Math.max(0, depth-1);\n        }\n        if (ch === ',' && depth === 0 && !inSingle && !inDouble) {\n          raw.push(cur); cur=''; continue;\n        }\n        cur += ch;\n      }\n      if (cur.trim() !== '') raw.push(cur);\n      return raw.map(s => safeParseToken(s));\n    }\n\n    function safeParseToken(token) {\n      const t = token.trim();\n      if (t === '') return null; // skip empty\n      if (t === 'NaN') return NaN;\n      if (t === 'undefined') return undefined;\n      if (t === 'null') return null;\n      if (t === 'true' || t === 'false') return t === 'true';\n      // number pattern\n      if (/^-?\\d+(\\.\\d+)?$/.test(t)) return Number(t);\n      // JSON object/array or quoted string\n      if ((t.startsWith('{') && t.endsWith('}')) || (t.startsWith('[') && t.endsWith(']')) || (t.startsWith('\"') && t.endsWith('\"'))) {\n        try { return JSON.parse(t); } catch(e) { /* fall through */ }\n      }\n      // single-quoted string\n      if (t.startsWith(\"'\") && t.endsWith(\"'\")) return t.slice(1,-1);\n      // fallback to raw string\n      return t;\n    }\n\n    function displayVal(v) {\n      if (v === null) return 'null';\n      if (typeof v === 'string') return '\"' + v + '\"';\n      if (typeof v === 'undefined') return 'undefined';\n      if (typeof v === 'number' && Number.isNaN(v)) return 'NaN';\n      if (typeof v === 'object') {\n        try { return JSON.stringify(v); } catch(e) { return String(v); }\n      }\n      return String(v);\n    }\n\n    function typeOfVal(v) {\n      if (v === null) return 'null';\n      if (typeof v === 'number' && Number.isNaN(v)) return 'NaN';\n      return typeof v;\n    }\n\n    // DOM refs\n    const inputA = document.getElementById('inputA');\n    const inputB = document.getElementById('inputB');\n    const updateBtn = document.getElementById('updateBtn');\n    const clearBtn = document.getElementById('clearBtn');\n    const dedupeBtn = document.getElementById('dedupeBtn');\n    const setsOverview = document.getElementById('setsOverview');\n    const setAList = document.getElementById('setAList');\n    const setBList = document.getElementById('setBList');\n    const sizeA = document.getElementById('sizeA');\n    const sizeB = document.getElementById('sizeB');\n\n    const opResult = document.getElementById('opResult');\n    const opTitle = document.getElementById('opTitle');\n    const opList = document.getElementById('opList');\n    const opCode = document.getElementById('opCode');\n\n    const dedupeResult = document.getElementById('dedupeResult');\n    const dedupeList = document.getElementById('dedupeList');\n    const dedupeCode = document.getElementById('dedupeCode');\n\n    const demoArea = document.getElementById('demoArea');\n    const demoText = document.getElementById('demoText');\n    const demoList = document.getElementById('demoList');\n\n    // state\n    let arrA = [], arrB = [], setA = new Set(), setB = new Set();\n\n    function renderSetViews() {\n      setAList.innerHTML = '';\n      setBList.innerHTML = '';\n      sizeA.textContent = setA.size;\n      sizeB.textContent = setB.size;\n\n      for (const v of setA) {\n        const el = document.createElement('div');\n        el.className = 'chip';\n        el.textContent = displayVal(v);\n        const t = document.createElement('div');\n        t.className = 'chip type';\n        t.style.marginLeft = '6px';\n        t.textContent = typeOfVal(v);\n        const wrap = document.createElement('div');\n        wrap.style.display='flex';\n        wrap.style.alignItems='center';\n        wrap.appendChild(el);\n        wrap.appendChild(t);\n        setAList.appendChild(wrap);\n      }\n      for (const v of setB) {\n        const el = document.createElement('div');\n        el.className = 'chip';\n        el.textContent = displayVal(v);\n        const t = document.createElement('div');\n        t.className = 'chip type';\n        t.style.marginLeft = '6px';\n        t.textContent = typeOfVal(v);\n        const wrap = document.createElement('div');\n        wrap.style.display='flex';\n        wrap.style.alignItems='center';\n        wrap.appendChild(el);\n        wrap.appendChild(t);\n        setBList.appendChild(wrap);\n      }\n      setsOverview.style.display = 'block';\n    }\n\n    function loadInputs() {\n      arrA = parseTokens(inputA.value);\n      arrB = parseTokens(inputB.value);\n      // filter out the null placeholders we used for empties\n      arrA = arrA.filter(x => x !== null);\n      arrB = arrB.filter(x => x !== null);\n      setA = new Set(arrA);\n      setB = new Set(arrB);\n      renderSetViews();\n      opResult.style.display = 'none';\n      dedupeResult.style.display = 'none';\n      demoArea.style.display = 'none';\n    }\n\n    updateBtn.addEventListener('click', loadInputs);\n    clearBtn.addEventListener('click', () => {\n      inputA.value = '';\n      inputB.value = '';\n      arrA = []; arrB = []; setA = new Set(); setB = new Set();\n      setAList.innerHTML = ''; setBList.innerHTML = '';\n      sizeA.textContent = 0; sizeB.textContent = 0;\n      setsOverview.style.display = 'none';\n      opResult.style.display = 'none';\n      dedupeResult.style.display = 'none';\n      demoArea.style.display = 'none';\n    });\n\n    // Examples loader\n    document.querySelectorAll('[data-ex]').forEach(btn => {\n      btn.addEventListener('click', () => {\n        const ex = btn.getAttribute('data-ex');\n        if (ex === 'nums') {\n          inputA.value = '1, 2, 2, 3, 4';\n          inputB.value = '2, 4, 6';\n        } else if (ex === 'strings') {\n          inputA.value = 'apple, apple, \"banana\", banana, \"apple\"';\n          inputB.value = '\"banana\", \"cherry\"';\n        } else if (ex === 'nan') {\n          inputA.value = 'NaN, NaN, 0/0, \"NaN\"';\n          inputB.value = 'NaN';\n        } else if (ex === 'objs') {\n          inputA.value = '{\"x\":1}, {\"x\":1}, {\"y\":2}';\n          inputB.value = '{\"x\":1}';\n        }\n        loadInputs();\n      });\n    });\n\n    // Operation helpers\n    function union(a,b) { return new Set([...a, ...b]); }\n    function intersection(a,b) { return new Set([...a].filter(x => b.has(x))); }\n    function difference(a,b) { return new Set([...a].filter(x => !b.has(x))); }\n    function symmetricDiff(a,b) { return new Set([...difference(a,b), ...difference(b,a)]); }\n    function isSubset(a,b) { return [...a].every(x=>b.has(x)); }\n    function isEqualSet(a,b) { return a.size === b.size && isSubset(a,b); }\n\n    function showOperation(title, resultSet, code) {\n      opTitle.textContent = title + ' — size: ' + resultSet.size;\n      opList.innerHTML = '';\n      for (const v of resultSet) {\n        const el = document.createElement('div');\n        el.className = 'chip';\n        el.textContent = displayVal(v);\n        opList.appendChild(el);\n      }\n      opCode.textContent = code;\n      opResult.style.display = 'block';\n      // hide other panels\n      dedupeResult.style.display = 'none';\n      demoArea.style.display = 'none';\n    }\n\n    document.getElementById('unionBtn').addEventListener('click', () => {\n      const res = union(setA,setB);\n      showOperation('Union (A ∪ B)', res, `const union = new Set([...A, ...B]);`);\n    });\n\n    document.getElementById('intersectionBtn').addEventListener('click', () => {\n      const res = intersection(setA,setB);\n      showOperation('Intersection (A ∩ B)', res, `const intersection = new Set([...A].filter(x => B.has(x)));`);\n    });\n\n    document.getElementById('diffBtn').addEventListener('click', () => {\n      const res = difference(setA, setB);\n      showOperation('Difference (A \\\\ B)', res, `const difference = new Set([...A].filter(x => !B.has(x)));`);\n    });\n\n    document.getElementById('symDiffBtn').addEventListener('click', () => {\n      const res = symmetricDiff(setA,setB);\n      showOperation('Symmetric Difference (A Δ B)', res, `const symDiff = new Set([...difference(A,B), ...difference(B,A)]);`);\n    });\n\n    document.getElementById('subsetBtn').addEventListener('click', () => {\n      const res = isSubset(setA,setB);\n      opTitle.textContent = `A ⊆ B ? → ${res}`;\n      opList.innerHTML = '';\n      opCode.textContent = `const isSubset = [...A].every(x => B.has(x));`;\n      opResult.style.display = 'block';\n      dedupeResult.style.display = 'none';\n      demoArea.style.display = 'none';\n    });\n\n    document.getElementById('equalsBtn').addEventListener('click', () => {\n      const res = isEqualSet(setA,setB);\n      opTitle.textContent = `A == B (same elements)? → ${res}`;\n      opList.innerHTML = '';\n      opCode.textContent = `const isEqual = A.size === B.size && [...A].every(x => B.has(x));`;\n      opResult.style.display = 'block';\n      dedupeResult.style.display = 'none';\n      demoArea.style.display = 'none';\n    });\n\n    // Dedupe single array A\n    dedupeBtn.addEventListener('click', () => {\n      const deduped = [...new Set(arrA)];\n      dedupeList.innerHTML = '';\n      for (const v of deduped) {\n        const el = document.createElement('div');\n        el.className = 'chip';\n        el.textContent = displayVal(v);\n        dedupeList.appendChild(el);\n      }\n      dedupeCode.textContent = `const deduped = [...new Set(arrayA)]; // returns a deduplicated array in insertion order`;\n      dedupeResult.style.display = 'block';\n      opResult.style.display = 'none';\n      demoArea.style.display = 'none';\n    });\n\n    // Quick demos\n    document.getElementById('demoNaN').addEventListener('click', () => {\n      demoText.textContent = 'NaN is considered equal to NaN in JavaScript Sets (SameValueZero). Adding multiple NaN values results in a single entry.';\n      const s = new Set([NaN, 0/0, NaN]);\n      demoList.innerHTML = '';\n      for (const v of s) {\n        const el = document.createElement('div'); el.className='chip'; el.textContent = displayVal(v);\n        demoList.appendChild(el);\n      }\n      demoArea.style.display = 'block';\n      opResult.style.display = 'none';\n      dedupeResult.style.display = 'none';\n    });\n\n    document.getElementById('demoObjects').addEventListener('click', () => {\n      demoText.textContent = 'Objects are stored by reference. Two distinct object literals with same content are different entries:';\n      demoList.innerHTML = '';\n      const o1 = {\"x\":1};\n      const o2 = {\"x\":1};\n      const s = new Set([o1, o2, o1]);\n      [o1,o2].forEach(o=>{\n        const el = document.createElement('div'); el.className='chip'; el.textContent = displayVal(o);\n        demoList.appendChild(el);\n      });\n      const note = document.createElement('div'); note.style.marginTop='8px'; note.className='small'; note.textContent = 'Set contents (two distinct objects remain): size = ' + s.size;\n      demoList.appendChild(note);\n      demoArea.style.display = 'block';\n      opResult.style.display = 'none';\n      dedupeResult.style.display = 'none';\n    });\n\n    document.getElementById('demoOrder').addEventListener('click', () => {\n      demoText.textContent = 'Sets preserve insertion order. Iterating yields values in the order they were first added.';\n      demoList.innerHTML = '';\n      const s = new Set();\n      s.add(3); s.add(1); s.add(2); s.add(1);\n      for (const v of s) {\n        const el = document.createElement('div'); el.className='chip'; el.textContent = displayVal(v);\n        demoList.appendChild(el);\n      }\n      demoArea.style.display = 'block';\n      opResult.style.display = 'none';\n      dedupeResult.style.display = 'none';\n    });\n\n    // Initialize with a small example\n    inputA.value = '1, 2, 2, \"apple\", {\"x\":1}, NaN';\n    inputB.value = '2, \"banana\", {\"x\":1}, NaN';\n    loadInputs();\n\n    // Allow pressing Ctrl+Enter in textarea to update\n    [inputA, inputB].forEach(t => t.addEventListener('keydown', (e)=>{ if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) { loadInputs(); } }));\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Set"
    }
  ],
  "topic": "Set",
  "hasFSM": false,
  "hasTest": true
}