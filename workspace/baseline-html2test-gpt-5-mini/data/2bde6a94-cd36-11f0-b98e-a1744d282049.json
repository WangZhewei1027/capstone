{
  "id": "2bde6a94-cd36-11f0-b98e-a1744d282049",
  "timestamp": "2025-11-29T15:17:03.333Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Knapsack Problem",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <title>Knapsack Problem Demonstration</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n  <style>\n    body { font-family: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial; margin: 20px; color:#222;}\n    h1 { margin-bottom: 6px; }\n    .container { display: flex; gap: 20px; align-items: flex-start; }\n    .controls, .visual { background: #f7f8fb; padding: 14px; border-radius: 8px; box-shadow: 0 2px 6px rgba(20,20,40,0.05); }\n    .controls { width: 360px; }\n    label { display:block; margin-top:8px; font-weight:600; font-size:13px; }\n    input[type=\"number\"], select { width:100%; padding:6px 8px; margin-top:6px; box-sizing:border-box; border-radius:6px; border:1px solid #d6d9e6; }\n    button { margin-top:10px; padding:8px 12px; border-radius:8px; border: none; background:#2b6ef6; color:white; cursor:pointer; }\n    button.secondary { background: #6b7280; }\n    .items-table { width:100%; border-collapse:collapse; margin-top:8px; }\n    .items-table th, .items-table td { border: 1px solid #e3e6f0; padding:6px 8px; text-align:center; }\n    .small { font-size:13px; color:#444; margin-top:6px; }\n    .visual { flex:1; min-width: 420px; }\n    .grid-wrap { max-height:360px; overflow:auto; border:1px solid #e3e6f0; border-radius:6px; background:white; padding:8px; }\n    table.dp-table { border-collapse:collapse; font-size:12px; }\n    table.dp-table td, table.dp-table th { border:1px solid #eaeefb; padding:4px 6px; min-width:36px; text-align:center; }\n    table.dp-table th { background:#eef2ff; position:sticky; top:0; z-index:2; }\n    .dp-cell { transition: background-color 0.15s, transform 0.08s; }\n    .dp-current { background: #fff1c9; transform: scale(1.02); }\n    .dp-chosen { background: #d8f8e6; }\n    .item-list { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }\n    .item-card { padding:8px 10px; border-radius:8px; background:white; border:1px solid #e6eefc; display:flex; flex-direction:column; gap:6px; min-width:110px; text-align:center; }\n    .ratio { font-weight:700; color:#0b5394; }\n    .log { margin-top:10px; background:#0f1724; color:#e6f0ff; padding:10px; border-radius:6px; font-family:monospace; font-size:13px; max-height:160px; overflow:auto; }\n    .result { margin-top:10px; padding:10px; border-radius:6px; background:#fff; border:1px solid #e6f0ff; }\n    .footer-note { margin-top:14px; font-size:13px; color:#444; }\n    .flex-row { display:flex; gap:8px; align-items:center; }\n    input[type=\"checkbox\"] { transform:scale(1.1); margin-right:6px; }\n    .warning { color:#9b3b00; font-weight:700; }\n    .small-muted { font-size:12px; color:#666; }\n  </style>\n</head>\n<body>\n  <h1>Knapsack Problem Demonstration</h1>\n  <div class=\"container\">\n    <div class=\"controls\">\n      <label>Number of items</label>\n      <div class=\"flex-row\">\n        <input id=\"numItems\" type=\"number\" min=\"1\" max=\"20\" value=\"5\">\n        <button id=\"applyN\" class=\"secondary\" title=\"Create inputs for N items\">Apply</button>\n      </div>\n\n      <label>Items (weight, value)</label>\n      <table class=\"items-table\" id=\"itemsTable\">\n        <thead><tr><th>#</th><th>Weight</th><th>Value</th></tr></thead>\n        <tbody></tbody>\n      </table>\n\n      <div class=\"flex-row\">\n        <button id=\"randomize\">Randomize</button>\n        <button id=\"clear\" class=\"secondary\">Clear</button>\n      </div>\n\n      <label>Capacity (W)</label>\n      <input id=\"capacity\" type=\"number\" min=\"0\" value=\"15\">\n\n      <label>Algorithm</label>\n      <select id=\"algorithm\">\n        <option value=\"dp01\">0-1 Knapsack (Dynamic Programming)</option>\n        <option value=\"fractional\">Fractional Knapsack (Greedy)</option>\n        <option value=\"bruteforce\">Brute Force (Exact, n ≤ 20)</option>\n      </select>\n\n      <label class=\"small\">Animation & Controls</label>\n      <div class=\"flex-row\">\n        <input id=\"animate\" type=\"checkbox\" checked>\n        <span class=\"small-muted\">Animate steps (DP & Brute)</span>\n      </div>\n      <label class=\"small\">Speed (ms per step)</label>\n      <input id=\"speed\" type=\"number\" min=\"10\" value=\"80\">\n\n      <div class=\"flex-row\" style=\"margin-top:8px;\">\n        <button id=\"run\">Run</button>\n        <button id=\"explain\" class=\"secondary\">Explain</button>\n      </div>\n\n      <div class=\"footer-note small-muted\">\n        Tips: For DP animation, keep capacity ≤ 200 to avoid huge tables. Brute force is exponential — use small n.\n      </div>\n    </div>\n\n    <div class=\"visual\">\n      <div class=\"item-list\" id=\"itemList\"></div>\n\n      <div class=\"grid-wrap\" id=\"gridWrap\">\n        <!-- DP table or other visualizations will appear here -->\n      </div>\n\n      <div class=\"result\" id=\"resultArea\">\n        <strong>Result</strong>\n        <div id=\"resultText\" style=\"margin-top:8px;\">No run yet.</div>\n      </div>\n\n      <div class=\"log\" id=\"logArea\" style=\"display:none;\"></div>\n    </div>\n  </div>\n\n  <script>\n    // Knapsack demonstration script\n    (() => {\n      const numItemsInput = document.getElementById('numItems');\n      const applyNBtn = document.getElementById('applyN');\n      const itemsTableBody = document.querySelector('#itemsTable tbody');\n      const randomizeBtn = document.getElementById('randomize');\n      const clearBtn = document.getElementById('clear');\n      const capacityInput = document.getElementById('capacity');\n      const algorithmSelect = document.getElementById('algorithm');\n      const animateCheckbox = document.getElementById('animate');\n      const speedInput = document.getElementById('speed');\n      const runBtn = document.getElementById('run');\n      const explainBtn = document.getElementById('explain');\n      const gridWrap = document.getElementById('gridWrap');\n      const itemListDiv = document.getElementById('itemList');\n      const resultText = document.getElementById('resultText');\n      const logArea = document.getElementById('logArea');\n\n      // Initialize with default items\n      function initItems(n) {\n        itemsTableBody.innerHTML = '';\n        for (let i = 0; i < n; i++) {\n          const tr = document.createElement('tr');\n          tr.innerHTML = `<td>${i+1}</td>\n            <td><input class=\"w\" type=\"number\" min=\"0\" value=\"${Math.floor(Math.random()*10)+1}\" style=\"width:70px\"></td>\n            <td><input class=\"v\" type=\"number\" min=\"0\" value=\"${Math.floor(Math.random()*20)+5}\" style=\"width:70px\"></td>`;\n          itemsTableBody.appendChild(tr);\n        }\n        renderItemCards();\n      }\n\n      function getItems() {\n        const rows = Array.from(itemsTableBody.querySelectorAll('tr'));\n        const items = rows.map((tr, idx) => {\n          const w = Number(tr.querySelector('.w').value) || 0;\n          const v = Number(tr.querySelector('.v').value) || 0;\n          return { index: idx+1, weight: Math.max(0, Math.floor(w)), value: Math.max(0, Math.floor(v)) };\n        });\n        return items;\n      }\n\n      function renderItemCards() {\n        const items = getItems();\n        itemListDiv.innerHTML = '';\n        items.forEach(it => {\n          const el = document.createElement('div');\n          el.className = 'item-card';\n          el.innerHTML = `<div style=\"font-size:12px;color:#666\">Item ${it.index}</div>\n            <div style=\"font-size:14px\"><strong>W:</strong> ${it.weight}</div>\n            <div style=\"font-size:14px\"><strong>V:</strong> ${it.value}</div>\n            <div class=\"ratio\">V/W: ${it.weight===0 ? '∞' : (it.value/it.weight).toFixed(2)}</div>`;\n          itemListDiv.appendChild(el);\n        });\n      }\n\n      // Randomize current table items\n      function randomizeItems() {\n        const rows = Array.from(itemsTableBody.querySelectorAll('tr'));\n        rows.forEach(tr => {\n          const w = tr.querySelector('.w');\n          const v = tr.querySelector('.v');\n          w.value = Math.floor(Math.random()*12) + 1;\n          v.value = Math.floor(Math.random()*30) + 1;\n        });\n        renderItemCards();\n      }\n\n      // Clear values\n      function clearItems() {\n        const rows = Array.from(itemsTableBody.querySelectorAll('tr'));\n        rows.forEach(tr => {\n          tr.querySelector('.w').value = 0;\n          tr.querySelector('.v').value = 0;\n        });\n        renderItemCards();\n      }\n\n      // Utilities\n      function sleep(ms) { return new Promise(res => setTimeout(res, ms)); }\n\n      // DP 0-1 Knapsack\n      async function runDP(items, W, animate, speed) {\n        log(`Running 0-1 DP (n=${items.length}, W=${W})`);\n        const n = items.length;\n        // If W too big for animation, we limit visual size\n        const visualLimit = 220;\n        const visualW = Math.min(W, visualLimit);\n        // create dp table (n+1) x (W+1)\n        const dp = Array.from({length: n+1}, () => new Array(W+1).fill(0));\n        renderDPTable(dp, items, W);\n\n        const cellEls = buildCellMap(n, W);\n\n        let operations = 0;\n        const start = performance.now();\n        for (let i = 1; i <= n; i++) {\n          const wi = items[i-1].weight;\n          const vi = items[i-1].value;\n          for (let w = 0; w <= W; w++) {\n            // Update visual highlight if animating and within visualW\n            if (animate && w <= visualW) {\n              highlightCell(cellEls, i, w, 'dp-current');\n            }\n            // Compute dp\n            if (wi <= w) {\n              dp[i][w] = Math.max(dp[i-1][w], dp[i-1][w-wi] + vi);\n            } else {\n              dp[i][w] = dp[i-1][w];\n            }\n            operations++;\n            if (animate && w <= visualW) {\n              // update displayed value\n              updateCellValue(cellEls, i, w, dp[i][w]);\n              await sleep(Math.max(5, speed));\n              unhighlightCell(cellEls, i, w, 'dp-current');\n            }\n          }\n        }\n        const end = performance.now();\n        log(`DP complete in ${(end-start).toFixed(2)} ms, operations: ${operations}`);\n\n        // Final render (ensures full table values shown, but large W may be truncated visually)\n        renderDPTable(dp, items, W);\n\n        // Backtrack to find chosen items\n        let w = W;\n        const chosen = [];\n        for (let i = n; i >= 1; i--) {\n          if (dp[i][w] !== dp[i-1][w]) {\n            chosen.push(i-1);\n            w -= items[i-1].weight;\n          }\n        }\n        chosen.reverse();\n\n        // Highlight chosen cells (rows) in table if within visualW\n        const cellEls2 = buildCellMap(n, W);\n        chosen.forEach(idx => {\n          const ri = idx+1;\n          for (let cap = 0; cap <= Math.min(W, visualW); cap++) {\n            markCell(cellEls2, ri, cap, 'dp-chosen');\n          }\n        });\n\n        const totalValue = dp[n][W];\n        const totalWeight = chosen.reduce((s,i)=>s+items[i].weight, 0);\n        showResult({\n          algorithm: '0-1 DP',\n          chosen: chosen.map(i=>({...items[i], index: items[i].index})),\n          value: totalValue,\n          weight: totalWeight,\n          timeMs: (end-start).toFixed(2),\n          operations\n        });\n      }\n\n      // Fractional knapsack (greedy)\n      function runFractional(items, W) {\n        const start = performance.now();\n        log(`Running Fractional Greedy (n=${items.length}, W=${W})`);\n        // Sort by ratio descending\n        const itemsWithRatio = items.map(it => ({...it, ratio: it.weight === 0 ? Infinity : it.value / it.weight}));\n        itemsWithRatio.sort((a,b) => b.ratio - a.ratio);\n\n        let remaining = W;\n        let totalValue = 0;\n        const chosen = [];\n        for (const it of itemsWithRatio) {\n          if (remaining <= 0) break;\n          if (it.weight === 0) {\n            // if infinite ratio due to weight 0 and positive value, take whole (special)\n            if (it.value > 0) {\n              chosen.push({item: it, taken: Infinity});\n              totalValue += it.value;\n            }\n            continue;\n          }\n          if (it.weight <= remaining) {\n            chosen.push({item: it, taken: 1});\n            totalValue += it.value;\n            remaining -= it.weight;\n          } else {\n            const frac = remaining / it.weight;\n            chosen.push({item: it, taken: frac});\n            totalValue += it.value * frac;\n            remaining = 0;\n            break;\n          }\n        }\n        const end = performance.now();\n        renderFractional(itemsWithRatio, chosen, W);\n        showResult({\n          algorithm: 'Fractional Greedy',\n          chosen: chosen.map(c => ({ index: c.item.index, weight: c.item.weight, value: c.item.value, fraction: c.taken })),\n          value: totalValue,\n          weight: W - remaining,\n          timeMs: (end-start).toFixed(2),\n          operations: chosen.length\n        });\n        log(`Fractional done in ${(end-start).toFixed(2)} ms`);\n      }\n\n      // Brute force (exact) - checks all subsets (up to practical limit)\n      async function runBruteForce(items, W, animate, speed) {\n        const n = items.length;\n        if (n > 20) {\n          alert('Brute force will be slow for n > 20. Reduce number of items or choose another algorithm.');\n          return;\n        }\n        log(`Running Brute Force (n=${n}, W=${W})`);\n        const start = performance.now();\n        let bestValue = -Infinity;\n        let bestMask = 0;\n        const totalMasks = 1 << n;\n        let operations = 0;\n\n        // For animation: show subset progression\n        const visual = document.createElement('div');\n        visual.style.padding = '8px';\n        visual.style.fontFamily = 'monospace';\n        gridWrap.innerHTML = '';\n        gridWrap.appendChild(visual);\n\n        for (let mask = 0; mask < totalMasks; mask++) {\n          let sumW = 0, sumV = 0;\n          for (let i = 0; i < n; i++) {\n            if (mask & (1<<i)) {\n              sumW += items[i].weight;\n              sumV += items[i].value;\n            }\n          }\n          operations++;\n          if (sumW <= W && sumV > bestValue) {\n            bestValue = sumV;\n            bestMask = mask;\n          }\n          if (animate) {\n            // display current best quickly\n            visual.textContent = `Checking ${mask+1}/${totalMasks}  current sumW=${sumW}, sumV=${sumV}  bestV=${bestValue}`;\n            await sleep(Math.max(5, speed));\n          }\n        }\n        const end = performance.now();\n        log(`Brute force complete in ${(end-start).toFixed(2)} ms, operations: ${operations}`);\n\n        // extract best items\n        const chosen = [];\n        let totalWeight = 0;\n        for (let i = 0; i < n; i++) {\n          if (bestMask & (1<<i)) {\n            chosen.push(items[i]);\n            totalWeight += items[i].weight;\n          }\n        }\n        renderBruteResult(items, chosen, W);\n        showResult({\n          algorithm: 'Brute Force',\n          chosen: chosen.map(i=>({...i})),\n          value: bestValue,\n          weight: totalWeight,\n          timeMs: (end-start).toFixed(2),\n          operations\n        });\n      }\n\n      // Rendering helpers\n      function renderDPTable(dp, items, W) {\n        const n = dp.length - 1;\n        const capLimit = Math.min(W, 220); // visually limit columns\n        const table = document.createElement('table');\n        table.className = 'dp-table';\n        const thead = document.createElement('thead');\n        const headRow = document.createElement('tr');\n        headRow.appendChild(document.createElement('th')); // row labels\n        for (let w = 0; w <= capLimit; w++) {\n          const th = document.createElement('th');\n          th.textContent = w;\n          headRow.appendChild(th);\n        }\n        if (W > capLimit) {\n          const th = document.createElement('th');\n          th.textContent = `.../${W}`;\n          headRow.appendChild(th);\n        }\n        thead.appendChild(headRow);\n        table.appendChild(thead);\n\n        const tbody = document.createElement('tbody');\n        for (let i = 0; i <= n; i++) {\n          const tr = document.createElement('tr');\n          const rowLabel = document.createElement('th');\n          rowLabel.textContent = i;\n          tr.appendChild(rowLabel);\n          for (let w = 0; w <= capLimit; w++) {\n            const td = document.createElement('td');\n            td.className = 'dp-cell';\n            td.dataset.r = i;\n            td.dataset.c = w;\n            td.textContent = dp[i] ? dp[i][w] : 0;\n            tr.appendChild(td);\n          }\n          if (W > capLimit) {\n            const td = document.createElement('td');\n            td.textContent = '...';\n            tr.appendChild(td);\n          }\n          tbody.appendChild(tr);\n        }\n        table.appendChild(tbody);\n        gridWrap.innerHTML = '';\n        gridWrap.appendChild(table);\n      }\n\n      // Build map of cell elements for full indexes (only visual columns created)\n      function buildCellMap(n, W) {\n        const table = gridWrap.querySelector('table.dp-table');\n        const capLimit = table ? Math.min(W, 220) : Math.min(W, 220);\n        const map = {};\n        if (!table) return map;\n        const rows = table.querySelectorAll('tbody tr');\n        rows.forEach((tr, ri) => {\n          // row index label is in first th\n          const cells = tr.querySelectorAll('td.dp-cell');\n          cells.forEach((td, ci) => {\n            const r = ri; // row 0..n\n            const c = ci; // cap 0..capLimit\n            map[`${r},${c}`] = td;\n          });\n        });\n        return map;\n      }\n\n      function highlightCell(map, r, c, cls) {\n        const key = `${r},${c}`;\n        const cell = map[key];\n        if (cell) cell.classList.add(cls);\n      }\n      function unhighlightCell(map, r, c, cls) {\n        const key = `${r},${c}`;\n        const cell = map[key];\n        if (cell) cell.classList.remove(cls);\n      }\n      function updateCellValue(map, r, c, val) {\n        const key = `${r},${c}`;\n        const cell = map[key];\n        if (cell) cell.textContent = val;\n      }\n      function markCell(map, r, c, cls) {\n        const key = `${r},${c}`;\n        const cell = map[key];\n        if (cell) cell.classList.add(cls);\n      }\n\n      // Render fractional result visualization\n      function renderFractional(sortedItems, chosen, W) {\n        const wrap = document.createElement('div');\n        wrap.style.display = 'flex';\n        wrap.style.flexDirection = 'column';\n        const header = document.createElement('div');\n        header.textContent = `Items sorted by V/W (desc). Capacity W=${W}`;\n        header.style.marginBottom = '8px';\n        wrap.appendChild(header);\n\n        const list = document.createElement('div');\n        list.style.display = 'flex';\n        list.style.gap = '8px';\n        list.style.flexWrap = 'wrap';\n        sortedItems.forEach(it => {\n          const el = document.createElement('div');\n          el.className = 'item-card';\n          el.style.minWidth = '120px';\n          el.innerHTML = `<div style=\"font-size:12px;color:#666\">Item ${it.index}</div>\n            <div><strong>W:</strong> ${it.weight}</div>\n            <div><strong>V:</strong> ${it.value}</div>\n            <div class=\"ratio\">${(it.ratio===Infinity)?'∞':it.ratio.toFixed(2)}</div>`;\n          list.appendChild(el);\n        });\n        wrap.appendChild(list);\n\n        const chosenDiv = document.createElement('div');\n        chosenDiv.style.marginTop = '10px';\n        chosenDiv.innerHTML = '<strong>Chosen (with fractions)</strong>';\n        chosen.forEach(c => {\n          const i = c.item;\n          const frac = c.taken === Infinity ? 'whole (weight 0)' : (c.taken === 1 ? '1 (whole)' : c.taken.toFixed(3));\n          const p = document.createElement('div');\n          p.textContent = `Item ${i.index}: take ${frac} of (W=${i.weight}, V=${i.value})`;\n          chosenDiv.appendChild(p);\n        });\n\n        wrap.appendChild(chosenDiv);\n        gridWrap.innerHTML = '';\n        gridWrap.appendChild(wrap);\n      }\n\n      // Brute force final render\n      function renderBruteResult(items, chosen, W) {\n        const wrap = document.createElement('div');\n        const summary = document.createElement('div');\n        summary.textContent = `Capacity W=${W}. Chosen items (${chosen.length}):`;\n        wrap.appendChild(summary);\n        const list = document.createElement('div');\n        list.style.display = 'flex';\n        list.style.gap = '8px';\n        list.style.flexWrap = 'wrap';\n        chosen.forEach(it => {\n          const el = document.createElement('div');\n          el.className = 'item-card';\n          el.innerHTML = `<div style=\"font-size:12px;color:#666\">Item ${it.index}</div>\n            <div><strong>W:</strong> ${it.weight}</div>\n            <div><strong>V:</strong> ${it.value}</div>`;\n          list.appendChild(el);\n        });\n        wrap.appendChild(list);\n        gridWrap.innerHTML = '';\n        gridWrap.appendChild(wrap);\n      }\n\n      // Show result summary\n      function showResult(info) {\n        const parts = [];\n        parts.push(`Algorithm: ${info.algorithm}`);\n        parts.push(`Total value: ${info.value}`);\n        parts.push(`Total weight: ${info.weight}`);\n        parts.push(`Time: ${info.timeMs} ms`);\n        parts.push(`Operations: ${info.operations}`);\n        const chosen = info.chosen;\n        resultText.innerHTML = parts.join('<br>');\n        // Also display chosen items more verbosely\n        const chooseList = document.createElement('div');\n        chooseList.style.marginTop = '8px';\n        if (chosen.length === 0) {\n          chooseList.textContent = 'No items chosen.';\n        } else {\n          const ul = document.createElement('div');\n          chosen.forEach(ci => {\n            const line = document.createElement('div');\n            if (ci.fraction !== undefined) {\n              line.textContent = `Item ${ci.index}: W=${ci.weight}, V=${ci.value}, fraction=${ci.fraction}`;\n            } else {\n              line.textContent = `Item ${ci.index}: W=${ci.weight}, V=${ci.value}`;\n            }\n            ul.appendChild(line);\n          });\n          chooseList.appendChild(ul);\n        }\n        // append to result area (replace)\n        resultText.appendChild(chooseList);\n        // show log area\n        logArea.style.display = 'block';\n      }\n\n      function log(msg) {\n        const now = new Date().toLocaleTimeString();\n        logArea.style.display = 'block';\n        logArea.textContent = `[${now}] ${msg}\\n` + logArea.textContent;\n      }\n\n      // Explain button shows short explanation\n      explainBtn.addEventListener('click', () => {\n        alert(`Knapsack Problem:\n- 0-1 knapsack: each item either taken or not. Use dynamic programming to compute optimal total value for capacity W in O(nW) time.\n- Fractional knapsack: you can take fraction of items. Greedy by value/weight ratio gives optimal solution in O(n log n).\n- Brute force: check all subsets, O(2^n) time, exact but impractical for large n.`);\n      });\n\n      // Event handlers\n      applyNBtn.addEventListener('click', () => {\n        const n = Math.max(1, Math.min(20, Math.floor(Number(numItemsInput.value) || 1)));\n        numItemsInput.value = n;\n        initItems(n);\n      });\n\n      randomizeBtn.addEventListener('click', () => { randomizeItems(); });\n\n      clearBtn.addEventListener('click', () => { clearItems(); });\n\n      itemsTableBody.addEventListener('input', () => { renderItemCards(); });\n\n      runBtn.addEventListener('click', async () => {\n        const items = getItems();\n        const W = Math.max(0, Math.floor(Number(capacityInput.value) || 0));\n        if (items.length === 0) { alert('No items defined'); return; }\n        const algo = algorithmSelect.value;\n        const animate = animateCheckbox.checked;\n        const speed = Math.max(5, Number(speedInput.value) || 80);\n        resultText.innerHTML = 'Running...';\n        logArea.style.display = 'none';\n        try {\n          if (algo === 'dp01') {\n            // DP\n            // Validation for big W\n            const capLimit = 2000;\n            if (W > capLimit && animate) {\n              if (!confirm(`Capacity W is large (${W}). Animation or table may be slow. Continue without animation?`)) {\n                return;\n              } else {\n                // disable animation for safety\n                animateCheckbox.checked = false;\n              }\n            }\n            await runDP(items, W, animate, speed);\n          } else if (algo === 'fractional') {\n            runFractional(items, W);\n          } else if (algo === 'bruteforce') {\n            await runBruteForce(items, W, animate, speed);\n          }\n        } catch (err) {\n          console.error(err);\n          alert('Error during execution: ' + err.message);\n        }\n      });\n\n      // Init default\n      initItems(Number(numItemsInput.value) || 5);\n      renderItemCards();\n\n      // Helpful: double-click table row to fill some demo values\n      itemsTableBody.addEventListener('dblclick', (e) => {\n        const tr = e.target.closest('tr');\n        if (!tr) return;\n        tr.querySelector('.w').value = Math.floor(Math.random()*10)+1;\n        tr.querySelector('.v').value = Math.floor(Math.random()*30)+1;\n        renderItemCards();\n      });\n\n      // Small UX: make enter on numItems apply\n      numItemsInput.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter') applyNBtn.click();\n      });\n\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Knapsack Problem"
    }
  ],
  "topic": "Knapsack Problem",
  "hasFSM": false,
  "hasTest": true
}