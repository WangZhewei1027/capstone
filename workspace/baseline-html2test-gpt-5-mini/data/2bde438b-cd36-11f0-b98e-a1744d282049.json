{
  "id": "2bde438b-cd36-11f0-b98e-a1744d282049",
  "timestamp": "2025-11-29T15:16:59.502Z",
  "type": "html-to-test",
  "htmlModel": "gpt-5-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "Linear Search",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Linear Search Visualizer</title>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <style>\n    :root{\n      --bg:#0f1724;\n      --panel:#0b1220;\n      --muted:#9aa7c0;\n      --accent:#3b82f6;\n      --success:#10b981;\n      --danger:#ef4444;\n      --card:#0f1724;\n      --glass: rgba(255,255,255,0.03);\n      --glass-2: rgba(255,255,255,0.02);\n      font-family: Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial;\n    }\n    html,body{\n      height:100%;\n      margin:0;\n      background: linear-gradient(180deg,#071127 0%, #071323 60%, #05131f 100%);\n      color:#dbe7fb;\n      -webkit-font-smoothing:antialiased;\n      -moz-osx-font-smoothing:grayscale;\n    }\n    .wrap{\n      max-width:1100px;\n      margin:28px auto;\n      padding:20px;\n      display:grid;\n      grid-template-columns: 360px 1fr;\n      gap:20px;\n    }\n    .panel{\n      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));\n      border-radius:12px;\n      padding:16px;\n      box-shadow: 0 6px 20px rgba(2,6,23,0.6);\n      border: 1px solid rgba(255,255,255,0.03);\n    }\n    h1{\n      margin:6px 0 12px;\n      font-size:20px;\n      letter-spacing:0.2px;\n      color:#e6f0ff;\n    }\n    .controls label{display:block; font-size:13px; color:var(--muted); margin-bottom:8px;}\n    .control-row{display:flex; gap:8px; align-items:center; margin-bottom:12px;}\n    input[type=\"range\"]{width:100%;}\n    input[type=\"text\"], input[type=\"number\"], select{\n      background:transparent;\n      border:1px solid rgba(255,255,255,0.06);\n      padding:8px 10px;\n      color:inherit;\n      border-radius:8px;\n      outline:none;\n    }\n    .buttons{display:flex; gap:8px; flex-wrap:wrap;}\n    button{\n      background:var(--glass);\n      border:1px solid rgba(255,255,255,0.04);\n      color:inherit;\n      padding:8px 10px;\n      border-radius:8px;\n      cursor:pointer;\n    }\n    button.primary{\n      background:linear-gradient(90deg,var(--accent),#60a5fa);\n      color: #04203b;\n      font-weight:600;\n      border: none;\n    }\n    .array-area{\n      display:flex;\n      align-items:center;\n      justify-content:center;\n      min-height:220px;\n      padding:18px;\n      gap:12px;\n      overflow:auto;\n      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));\n      border-radius:10px;\n      border:1px solid rgba(255,255,255,0.02);\n    }\n    .cell{\n      min-width:56px;\n      height:56px;\n      display:flex;\n      align-items:center;\n      justify-content:center;\n      background:var(--glass-2);\n      border-radius:8px;\n      font-weight:700;\n      font-size:16px;\n      position:relative;\n      border: 1px solid rgba(255,255,255,0.03);\n      transition:transform 180ms ease, box-shadow 180ms ease, background 180ms ease;\n      color:#dff4ff;\n    }\n    .cell.index::after{\n      content: attr(data-index);\n      position:absolute;\n      bottom:-18px;\n      left:50%;\n      transform:translateX(-50%);\n      font-size:12px;\n      color:var(--muted);\n    }\n    .cell.checking{\n      background: linear-gradient(180deg, rgba(59,130,246,0.12), rgba(59,130,246,0.06));\n      box-shadow: 0 6px 18px rgba(59,130,246,0.08);\n      transform:translateY(-6px) scale(1.03);\n      color: #cfe9ff;\n    }\n    .cell.found{\n      background: linear-gradient(180deg, rgba(16,185,129,0.12), rgba(16,185,129,0.06));\n      box-shadow: 0 8px 26px rgba(16,185,129,0.08);\n      transform:translateY(-6px) scale(1.04);\n      color:#e9fff2;\n    }\n    .cell.miss{\n      background: linear-gradient(180deg, rgba(239,68,68,0.06), rgba(239,68,68,0.02));\n      color:#ffdfe0;\n    }\n    .status{\n      margin-top:12px;\n      font-size:14px;\n      color:var(--muted);\n    }\n    .stats{display:flex; gap:12px; margin-top:10px; flex-wrap:wrap;}\n    .stat{\n      background:rgba(255,255,255,0.02);\n      padding:8px 10px;\n      border-radius:8px;\n      font-size:13px;\n      color:var(--muted);\n      border:1px solid rgba(255,255,255,0.01);\n    }\n    .pseudocode{\n      margin-top:12px;\n      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));\n      padding:12px;\n      border-radius:8px;\n      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, \"Roboto Mono\", \"Courier New\", monospace;\n      font-size:13px;\n      color:#cfe8ff;\n      border:1px solid rgba(255,255,255,0.02);\n    }\n    .line{padding:6px; border-radius:6px;}\n    .line.active{ background: rgba(255,255,255,0.02); box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);}\n    .explain{font-size:13px; color:var(--muted); margin-top:8px;}\n    footer{grid-column:1/-1; text-align:center; margin-top:18px; color:var(--muted); font-size:13px;}\n    @media (max-width:980px){\n      .wrap{grid-template-columns: 1fr; padding:12px;}\n    }\n  </style>\n</head>\n<body>\n  <div class=\"wrap\" role=\"application\" aria-label=\"Linear search visualizer\">\n    <div class=\"panel controls\" aria-labelledby=\"title\">\n      <h1 id=\"title\">Linear Search Visualizer</h1>\n      <p class=\"explain\">Linear search checks each element in order until it finds the target or reaches the end. Use the controls below to create an array and step through the algorithm.</p>\n\n      <div style=\"margin-top:10px;\">\n        <label for=\"size\">Array size: <span id=\"sizeVal\">8</span></label>\n        <input id=\"size\" type=\"range\" min=\"3\" max=\"20\" value=\"8\" />\n      </div>\n\n      <div style=\"margin-top:10px;\">\n        <label for=\"range\">Random values range</label>\n        <div class=\"control-row\">\n          <input id=\"minVal\" type=\"number\" value=\"0\" style=\"width:76px\" aria-label=\"minimum value\" />\n          <input id=\"maxVal\" type=\"number\" value=\"20\" style=\"width:76px\" aria-label=\"maximum value\" />\n          <button id=\"genRandom\">Generate Random</button>\n          <button id=\"shuffle\">Shuffle</button>\n        </div>\n      </div>\n\n      <div style=\"margin-top:10px;\">\n        <label for=\"custom\">Or enter custom array (comma separated)</label>\n        <div class=\"control-row\">\n          <input id=\"custom\" type=\"text\" placeholder=\"e.g. 5,3,8,1\" aria-label=\"custom array input\" />\n          <button id=\"applyCustom\">Apply</button>\n        </div>\n      </div>\n\n      <div style=\"margin-top:10px;\">\n        <label for=\"target\">Target value</label>\n        <div class=\"control-row\">\n          <input id=\"target\" type=\"text\" value=\"10\" aria-label=\"target value\" />\n          <button id=\"start\" class=\"primary\" aria-pressed=\"false\">Start Search</button>\n        </div>\n      </div>\n\n      <div style=\"margin-top:10px;\">\n        <label>Playback</label>\n        <div class=\"control-row\">\n          <div class=\"buttons\" role=\"group\" aria-label=\"playback controls\">\n            <button id=\"prev\" title=\"Previous step\">◀ Prev</button>\n            <button id=\"play\" title=\"Play/Pause\">▶ Play</button>\n            <button id=\"next\" title=\"Next step\">Next ▶</button>\n            <button id=\"reset\">Reset</button>\n          </div>\n        </div>\n        <label for=\"speed\">Speed (ms per step): <span id=\"speedVal\">600</span></label>\n        <input id=\"speed\" type=\"range\" min=\"100\" max=\"1500\" step=\"50\" value=\"600\" />\n      </div>\n\n      <div class=\"stats\" aria-hidden=\"false\" style=\"margin-top:12px;\">\n        <div class=\"stat\">Comparisons: <span id=\"comparisons\">0</span></div>\n        <div class=\"stat\">Current index: <span id=\"currentIdx\">-</span></div>\n        <div class=\"stat\">Result: <span id=\"result\">Not started</span></div>\n      </div>\n\n      <div class=\"pseudocode\" aria-hidden=\"false\">\n        <div class=\"line\" data-line=\"0\">function linearSearch(arr, target):</div>\n        <div class=\"line\" data-line=\"1\">  for i from 0 to arr.length - 1:</div>\n        <div class=\"line\" data-line=\"2\">    if arr[i] == target:</div>\n        <div class=\"line\" data-line=\"3\">      return i  // found</div>\n        <div class=\"line\" data-line=\"4\">  return -1  // not found</div>\n      </div>\n\n      <div class=\"status\" aria-live=\"polite\" id=\"status\">Ready. Generate an array and press \"Start Search\".</div>\n    </div>\n\n    <div class=\"panel\" aria-hidden=\"false\">\n      <h1 style=\"font-size:16px; margin-bottom:10px;\">Array</h1>\n      <div class=\"array-area\" id=\"arrayArea\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n\n      <div class=\"status\" id=\"explain\" style=\"margin-top:8px;\">\n        This visual shows which element is checked each step. Green means found, blue means currently checking, red shows a checked element that didn't match.\n      </div>\n    </div>\n\n    <footer>\n      Tip: Linear search is simple and works on unsorted data but is O(n) time complexity. Try searching for a value that is not present to see worst-case behavior.\n    </footer>\n  </div>\n\n  <script>\n    (function(){\n      // Elements\n      const sizeSlider = document.getElementById('size');\n      const sizeVal = document.getElementById('sizeVal');\n      const genRandom = document.getElementById('genRandom');\n      const shuffleBtn = document.getElementById('shuffle');\n      const minValInput = document.getElementById('minVal');\n      const maxValInput = document.getElementById('maxVal');\n      const customInput = document.getElementById('custom');\n      const applyCustom = document.getElementById('applyCustom');\n      const targetInput = document.getElementById('target');\n      const startBtn = document.getElementById('start');\n      const arrayArea = document.getElementById('arrayArea');\n      const comparisonsEl = document.getElementById('comparisons');\n      const currentIdxEl = document.getElementById('currentIdx');\n      const resultEl = document.getElementById('result');\n      const statusEl = document.getElementById('status');\n      const prevBtn = document.getElementById('prev');\n      const nextBtn = document.getElementById('next');\n      const playBtn = document.getElementById('play');\n      const resetBtn = document.getElementById('reset');\n      const speed = document.getElementById('speed');\n      const speedVal = document.getElementById('speedVal');\n      const pseudocodeLines = document.querySelectorAll('.pseudocode .line');\n\n      // State\n      let arr = [];\n      let snapshots = []; // history of states for stepping backward\n      let stepPointer = -1; // index into snapshots\n      let playing = false;\n      let timer = null;\n\n      // Helpers\n      function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }\n      function randInt(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }\n      function parseCustom(str){\n        if(!str.trim()) return null;\n        const items = str.split(',').map(s=>s.trim());\n        const parsed = [];\n        for(const it of items){\n          if(it === '') continue;\n          const n = Number(it);\n          parsed.push(isNaN(n) ? it : n);\n        }\n        return parsed.length ? parsed : null;\n      }\n\n      function renderArray(stateIndex = null){\n        // if stateIndex provided, render snapshot\n        arrayArea.innerHTML = '';\n        let toRender;\n        if(stateIndex === null || stepPointer < 0) {\n          toRender = {arr: arr.slice(), current: null, checked: [], foundIndex: null, comparisons:0};\n        } else {\n          toRender = snapshots[stateIndex];\n        }\n\n        toRender.arr.forEach((v,i)=>{\n          const div = document.createElement('div');\n          div.className = 'cell index';\n          div.setAttribute('data-index', i);\n          div.textContent = v;\n          // apply classes\n          if(toRender.foundIndex === i){\n            div.classList.add('found');\n          } else if(toRender.current === i){\n            div.classList.add('checking');\n          } else if(toRender.checked && toRender.checked.includes(i)){\n            div.classList.add('miss');\n          }\n          arrayArea.appendChild(div);\n        });\n\n        comparisonsEl.textContent = toRender.comparisons;\n        currentIdxEl.textContent = (toRender.current === null ? '-' : toRender.current);\n        if(toRender.foundIndex !== null){\n          resultEl.textContent = `Found at index ${toRender.foundIndex}`;\n        } else if (stepPointer >= 0 && toRender.current === null && toRender.checked && toRender.checked.length === toRender.arr.length){\n          resultEl.textContent = 'Not found';\n        } else {\n          resultEl.textContent = (stepPointer === -1 ? 'Not started' : 'Searching...');\n        }\n      }\n\n      function setStatus(text){\n        statusEl.textContent = text;\n      }\n\n      function highlightPseudocode(lineIndex){\n        pseudocodeLines.forEach(el=>el.classList.remove('active'));\n        if(lineIndex !== null && pseudocodeLines[lineIndex]){\n          pseudocodeLines[lineIndex].classList.add('active');\n        }\n      }\n\n      function resetSnapshots(){\n        snapshots = [];\n        stepPointer = -1;\n        playing = false;\n        clearInterval(timer);\n        timer = null;\n        playBtn.textContent = '▶ Play';\n        playBtn.setAttribute('aria-pressed','false');\n      }\n\n      function recordSnapshot(snapshot){\n        // push snapshot and move pointer to end\n        snapshots.push(JSON.parse(JSON.stringify(snapshot)));\n        stepPointer = snapshots.length - 1;\n      }\n\n      // Core linear search stepping generator\n      function startSearch(){\n        resetSnapshots();\n        const targetRaw = targetInput.value.trim();\n        if(targetRaw === ''){\n          setStatus('Enter a target value first.');\n          return;\n        }\n        const targetNum = Number(targetRaw);\n        const target = isNaN(targetNum) ? targetRaw : targetNum;\n\n        // initial snapshot\n        const base = {arr: arr.slice(), current: null, checked: [], foundIndex: null, comparisons: 0, target: target};\n        recordSnapshot(base);\n        renderArray(stepPointer);\n        setStatus('Starting linear search for \"'+target+'\".');\n        highlightPseudocode(0);\n      }\n\n      function stepNext(){\n        if(stepPointer === -1) {\n          // not started\n          setStatus('Press \"Start Search\" first.');\n          return;\n        }\n        const current = snapshots[stepPointer];\n        // if already found or finished, nothing to do\n        if(current.foundIndex !== null){\n          setStatus('Search already found the target.');\n          return;\n        }\n        if(current.checked.length === current.arr.length){\n          // finished not found\n          const done = {arr: current.arr.slice(), current: null, checked: current.checked.slice(), foundIndex: null, comparisons: current.comparisons, target: current.target};\n          recordSnapshot(done);\n          renderArray(stepPointer);\n          highlightPseudocode(4);\n          setStatus('Target not found after checking all elements.');\n          return;\n        }\n\n        // next index to check\n        let nextIdx = 0;\n        while(current.checked.includes(nextIdx)) nextIdx++;\n        // create snapshot for \"checking this index\"\n        const checking = {\n          arr: current.arr.slice(),\n          current: nextIdx,\n          checked: current.checked.slice(),\n          foundIndex: null,\n          comparisons: current.comparisons,\n          target: current.target\n        };\n        recordSnapshot(checking);\n        renderArray(stepPointer);\n        highlightPseudocode(1);\n        setStatus(`Checking index ${nextIdx}...`);\n\n        // perform comparison after a tiny delay to allow UI to show \"checking\" state\n        // Instead of setTimeout, we'll create the next snapshot immediately on the next call or via automatic play flow.\n        // For the stepNext function, create the result snapshot immediately:\n        const value = checking.arr[nextIdx];\n        const match = (value === checking.target) || (String(value) === String(checking.target));\n        const after = {\n          arr: checking.arr.slice(),\n          current: null,\n          checked: checking.checked.slice().concat([nextIdx]),\n          foundIndex: match ? nextIdx : null,\n          comparisons: checking.comparisons + 1,\n          target: checking.target\n        };\n        recordSnapshot(after);\n        renderArray(stepPointer);\n        if(match){\n          highlightPseudocode(2);\n          setStatus(`Found target at index ${nextIdx} after ${after.comparisons} comparisons.`);\n        } else {\n          highlightPseudocode(2);\n          setStatus(`No match at index ${nextIdx}. Comparisons: ${after.comparisons}.`);\n        }\n      }\n\n      function stepPrev(){\n        if(stepPointer <= 0){\n          setStatus('At the beginning; cannot step back further.');\n          return;\n        }\n        stepPointer--;\n        renderArray(stepPointer);\n        // update pseudocode highlight based on snapshot\n        const snap = snapshots[stepPointer];\n        if(snap.current !== null){\n          highlightPseudocode(1);\n          setStatus(`Checking index ${snap.current}...`);\n        } else if (snap.foundIndex !== null){\n          highlightPseudocode(3);\n          setStatus(`Found at index ${snap.foundIndex}.`);\n        } else if (snap.checked && snap.checked.length === snap.arr.length){\n          highlightPseudocode(4);\n          setStatus('Search finished (not found).');\n        } else {\n          highlightPseudocode(0);\n          setStatus('Starting state.');\n        }\n      }\n\n      function autoPlayToggle(){\n        if(playing){\n          // stop\n          playing = false;\n          clearInterval(timer);\n          timer = null;\n          playBtn.textContent = '▶ Play';\n          playBtn.setAttribute('aria-pressed','false');\n        } else {\n          // start playing\n          if(stepPointer === -1){\n            setStatus('Press Start Search first.');\n            return;\n          }\n          playing = true;\n          playBtn.textContent = '⏸ Pause';\n          playBtn.setAttribute('aria-pressed','true');\n          timer = setInterval(()=>{\n            // if at last snapshot and finished, stop\n            const snap = snapshots[stepPointer];\n            if(snap.foundIndex !== null || (snap.checked && snap.checked.length === snap.arr.length && snap.current === null && snap.foundIndex === null)){\n              // finished\n              playing = false;\n              clearInterval(timer);\n              timer = null;\n              playBtn.textContent = '▶ Play';\n              playBtn.setAttribute('aria-pressed','false');\n              return;\n            }\n            // if the snapshot has current (a checking state) and the next snapshot is the after state, advance twice\n            // Our stepping logic already records both checking and after states as sequential snapshots.\n            if(stepPointer < snapshots.length - 1){\n              // there is a prepared snapshot (should only happen if stepping manually created many)\n              stepPointer++;\n              renderArray(stepPointer);\n            } else {\n              // advance by performing next step\n              stepNext();\n            }\n          }, Number(speed.value));\n        }\n      }\n\n      // UI wiring\n      sizeSlider.addEventListener('input',()=>{\n        sizeVal.textContent = sizeSlider.value;\n      });\n\n      genRandom.addEventListener('click', ()=>{\n        const n = Number(sizeSlider.value);\n        const min = Number(minValInput.value);\n        const max = Number(maxValInput.value);\n        if(min > max){\n          setStatus('Minimum cannot be greater than maximum.');\n          return;\n        }\n        arr = [];\n        for(let i=0;i<n;i++){\n          arr.push(randInt(min,max));\n        }\n        resetSnapshots();\n        renderArray(null);\n        setStatus('Generated random array.');\n        highlightPseudocode(0);\n      });\n\n      shuffleBtn.addEventListener('click', ()=>{\n        for(let i=arr.length-1;i>0;i--){\n          const j = randInt(0,i);\n          [arr[i],arr[j]] = [arr[j],arr[i]];\n        }\n        resetSnapshots();\n        renderArray(null);\n        setStatus('Shuffled array.');\n      });\n\n      applyCustom.addEventListener('click', ()=>{\n        const parsed = parseCustom(customInput.value);\n        if(!parsed){\n          setStatus('Invalid custom array. Use comma-separated values.');\n          return;\n        }\n        arr = parsed;\n        sizeSlider.value = arr.length;\n        sizeVal.textContent = arr.length;\n        resetSnapshots();\n        renderArray(null);\n        setStatus('Applied custom array.');\n      });\n\n      startBtn.addEventListener('click', ()=>{\n        // ensure array exists\n        if(!arr || arr.length === 0){\n          // auto-generate if needed\n          genRandom.click();\n        }\n        startSearch();\n      });\n\n      nextBtn.addEventListener('click', ()=>{\n        // if not started, start first\n        if(stepPointer === -1){\n          startBtn.click();\n          // if still -1 (no array), exit\n          if(stepPointer === -1) return;\n        }\n        stepNext();\n      });\n\n      prevBtn.addEventListener('click', ()=>{\n        stepPrev();\n      });\n\n      playBtn.addEventListener('click', ()=>{\n        autoPlayToggle();\n      });\n\n      resetBtn.addEventListener('click', ()=>{\n        resetSnapshots();\n        renderArray(null);\n        setStatus('Reset to initial array.');\n        highlightPseudocode(0);\n        comparisonsEl.textContent = '0';\n        currentIdxEl.textContent = '-';\n        resultEl.textContent = 'Not started';\n      });\n\n      speed.addEventListener('input', ()=>{\n        speedVal.textContent = speed.value;\n        if(playing){\n          autoPlayToggle();\n          autoPlayToggle();\n        }\n      });\n\n      // initial array\n      (function init(){\n        sizeVal.textContent = sizeSlider.value;\n        const n = Number(sizeSlider.value);\n        for(let i=0;i<n;i++) arr.push(randInt(0,20));\n        renderArray(null);\n        highlightPseudocode(0);\n      })();\n\n      // keyboard accessibility for playback\n      document.addEventListener('keydown', (e)=>{\n        if(e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;\n        if(e.key === ' '){\n          e.preventDefault();\n          autoPlayToggle();\n        } else if(e.key === 'ArrowRight'){\n          nextBtn.click();\n        } else if(e.key === 'ArrowLeft'){\n          prevBtn.click();\n        } else if(e.key === 'r'){\n          resetBtn.click();\n        }\n      });\n\n      // ensure UI updates when rendering snapshots: highlight pseudocode according to state\n      const originalRenderArray = renderArray;\n      renderArray = function(stateIndex = null){\n        originalRenderArray(stateIndex);\n        // extra pseudocode mapping\n        if(stepPointer === -1){\n          highlightPseudocode(0);\n        } else {\n          const s = snapshots[stepPointer];\n          if(s.current !== null){\n            // when checking, show \"for\" and \"if\"\n            highlightPseudocode(1);\n          } else if(s.foundIndex !== null){\n            highlightPseudocode(3);\n          } else if(s.checked && s.checked.length === s.arr.length){\n            highlightPseudocode(4);\n          } else {\n            highlightPseudocode(0);\n          }\n        }\n      };\n\n    })();\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Linear Search"
    }
  ],
  "topic": "Linear Search",
  "hasFSM": false,
  "hasTest": true
}