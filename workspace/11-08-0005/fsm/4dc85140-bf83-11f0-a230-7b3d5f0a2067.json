{
  "topic": "BFS Explorer Interactive Application",
  "description": "FSM for an interactive graph builder and BFS visualization tool that allows users to create graphs and step through the breadth-first search algorithm",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "CANVAS_CLICK": "addingNode",
        "NODE_CLICK": "nodeSelected",
        "NODE_RIGHT_CLICK": "deletingNode",
        "START_BFS_CLICK": "bfsReady"
      }
    },
    {
      "name": "addingNode",
      "onEnter": "createNode",
      "onExit": "noop",
      "on": {
        "NODE_CREATED": "idle"
      }
    },
    {
      "name": "nodeSelected",
      "onEnter": "highlightNode",
      "onExit": "unhighlightNode",
      "on": {
        "CANVAS_CLICK": "idle",
        "NODE_DRAG_START": "draggingEdge",
        "NODE_RIGHT_CLICK": "deletingNode",
        "START_BFS_CLICK": "bfsReady"
      }
    },
    {
      "name": "draggingEdge",
      "onEnter": "showEdgePreview",
      "onExit": "hideEdgePreview",
      "on": {
        "NODE_DRAG_END_ON_NODE": "creatingEdge",
        "NODE_DRAG_END_ON_CANVAS": "idle",
        "DRAG_CANCEL": "nodeSelected"
      }
    },
    {
      "name": "creatingEdge",
      "onEnter": "createEdge",
      "onExit": "noop",
      "on": {
        "EDGE_CREATED": "idle"
      }
    },
    {
      "name": "deletingNode",
      "onEnter": "deleteNode",
      "onExit": "noop",
      "on": {
        "NODE_DELETED": "idle"
      }
    },
    {
      "name": "bfsReady",
      "onEnter": "disableGraphEditing",
      "onExit": "enableGraphEditing",
      "on": {
        "NODE_CLICK": "bfsInitialized",
        "RESET_CLICK": "idle",
        "CLEAR_GRAPH_CLICK": "clearingGraph"
      }
    },
    {
      "name": "bfsInitialized",
      "onEnter": "initializeBFS",
      "onExit": "noop",
      "on": {
        "STEP_CLICK": "bfsProcessing",
        "AUTO_RUN_CLICK": "bfsAutoRunning",
        "RESET_CLICK": "bfsReady",
        "CLEAR_GRAPH_CLICK": "clearingGraph"
      }
    },
    {
      "name": "bfsProcessing",
      "onEnter": "processNextNode",
      "onExit": "noop",
      "on": {
        "PROCESSING_COMPLETE": "bfsWaiting",
        "BFS_COMPLETE": "bfsDone"
      }
    },
    {
      "name": "bfsWaiting",
      "onEnter": "updateVisualization",
      "onExit": "noop",
      "on": {
        "STEP_CLICK": "bfsProcessing",
        "AUTO_RUN_CLICK": "bfsAutoRunning",
        "RESET_CLICK": "bfsReady",
        "CLEAR_GRAPH_CLICK": "clearingGraph"
      }
    },
    {
      "name": "bfsAutoRunning",
      "onEnter": "startAutoRun",
      "onExit": "stopAutoRun",
      "on": {
        "AUTO_STEP": "bfsAutoProcessing",
        "AUTO_RUN_CLICK": "bfsWaiting",
        "RESET_CLICK": "bfsReady",
        "CLEAR_GRAPH_CLICK": "clearingGraph"
      }
    },
    {
      "name": "bfsAutoProcessing",
      "onEnter": "processNextNode",
      "onExit": "noop",
      "on": {
        "PROCESSING_COMPLETE": "bfsAutoRunning",
        "BFS_COMPLETE": "bfsDone"
      }
    },
    {
      "name": "bfsDone",
      "onEnter": "showCompletionAnimation",
      "onExit": "noop",
      "on": {
        "RESET_CLICK": "bfsReady",
        "CLEAR_GRAPH_CLICK": "clearingGraph"
      }
    },
    {
      "name": "clearingGraph",
      "onEnter": "clearAllNodesAndEdges",
      "onExit": "noop",
      "on": {
        "GRAPH_CLEARED": "idle"
      }
    }
  ],
  "events": [
    "CANVAS_CLICK",
    "NODE_CLICK",
    "NODE_RIGHT_CLICK",
    "NODE_DRAG_START",
    "NODE_DRAG_END_ON_NODE",
    "NODE_DRAG_END_ON_CANVAS",
    "DRAG_CANCEL",
    "START_BFS_CLICK",
    "STEP_CLICK",
    "AUTO_RUN_CLICK",
    "RESET_CLICK",
    "CLEAR_GRAPH_CLICK",
    "NODE_CREATED",
    "EDGE_CREATED",
    "NODE_DELETED",
    "PROCESSING_COMPLETE",
    "BFS_COMPLETE",
    "AUTO_STEP",
    "GRAPH_CLEARED"
  ],
  "notes": "The FSM manages graph building mode and BFS execution mode. Graph editing is disabled during BFS execution. The auto-run feature uses a timer to trigger AUTO_STEP events based on the speed slider. Visual states (node colors, queue animations) are handled by onEnter actions."
}