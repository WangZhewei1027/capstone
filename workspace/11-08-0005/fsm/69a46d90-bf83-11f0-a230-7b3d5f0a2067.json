{
  "topic": "Stack Data Structure Interactive Visualization",
  "description": "FSM for an interactive stack (LIFO) data structure visualization with push, pop, peek, and clear operations",
  "states": [
    {
      "name": "empty",
      "onEnter": "displayEmptyMessage",
      "onExit": "noop",
      "on": {
        "PUSH": "hasItems"
      }
    },
    {
      "name": "hasItems",
      "onEnter": "updateDisplay",
      "onExit": "noop",
      "on": {
        "PUSH": "hasItems",
        "POP": "popping",
        "PEEK": "peeking",
        "CLEAR": "clearing"
      }
    },
    {
      "name": "popping",
      "onEnter": "animateRemoval",
      "onExit": "removeTopItem",
      "on": {
        "ANIMATION_COMPLETE": "checkIfEmpty"
      }
    },
    {
      "name": "peeking",
      "onEnter": "highlightTopItem",
      "onExit": "removeHighlight",
      "on": {
        "PEEK_COMPLETE": "hasItems"
      }
    },
    {
      "name": "clearing",
      "onEnter": "animateClearAll",
      "onExit": "clearAllItems",
      "on": {
        "CLEAR_COMPLETE": "empty"
      }
    },
    {
      "name": "checkIfEmpty",
      "onEnter": "evaluateStackSize",
      "onExit": "noop",
      "on": {
        "STACK_EMPTY": "empty",
        "STACK_NOT_EMPTY": "hasItems"
      }
    },
    {
      "name": "full",
      "onEnter": "disablePushButton",
      "onExit": "enablePushButton",
      "on": {
        "POP": "popping",
        "PEEK": "peeking",
        "CLEAR": "clearing"
      }
    }
  ],
  "events": [
    "PUSH",
    "POP",
    "PEEK",
    "CLEAR",
    "ANIMATION_COMPLETE",
    "PEEK_COMPLETE",
    "CLEAR_COMPLETE",
    "STACK_EMPTY",
    "STACK_NOT_EMPTY"
  ],
  "notes": "The FSM manages stack visualization states including animations for push/pop operations, peek highlighting, and batch clearing. States transition based on user actions and animation completions. The full state is reached when stack size equals MAX_SIZE (10)."
}