{
  "topic": "Interactive Stack Data Structure",
  "description": "FSM for a visual stack implementation with push, pop, peek, and clear operations",
  "states": [
    {
      "name": "empty",
      "onEnter": "updateUI",
      "onExit": "noop",
      "on": {
        "PUSH": "hasElements"
      }
    },
    {
      "name": "hasElements",
      "onEnter": "updateUI",
      "onExit": "noop",
      "on": {
        "PUSH": "hasElements",
        "POP": "popping",
        "PEEK": "peeking",
        "CLEAR": "clearing"
      }
    },
    {
      "name": "full",
      "onEnter": "updateUI",
      "onExit": "noop",
      "on": {
        "POP": "popping",
        "PEEK": "peeking",
        "CLEAR": "clearing"
      }
    },
    {
      "name": "popping",
      "onEnter": "animatePopElement",
      "onExit": "removeElement",
      "on": {
        "ANIMATION_COMPLETE": "checkStackState"
      }
    },
    {
      "name": "peeking",
      "onEnter": "highlightTopElement",
      "onExit": "removeHighlight",
      "on": {
        "ANIMATION_COMPLETE": "checkStackState"
      }
    },
    {
      "name": "clearing",
      "onEnter": "animateClearAll",
      "onExit": "removeAllElements",
      "on": {
        "ANIMATION_COMPLETE": "empty"
      }
    },
    {
      "name": "checkStackState",
      "onEnter": "evaluateStack",
      "onExit": "noop",
      "on": {
        "STACK_EMPTY": "empty",
        "STACK_HAS_ELEMENTS": "hasElements",
        "STACK_FULL": "full"
      }
    }
  ],
  "events": [
    "PUSH",
    "POP",
    "PEEK",
    "CLEAR",
    "ANIMATION_COMPLETE",
    "STACK_EMPTY",
    "STACK_HAS_ELEMENTS",
    "STACK_FULL"
  ],
  "notes": "The FSM manages stack operations with animation states. The checkStackState is a transient state that evaluates the stack size after operations to determine if the stack is empty, has elements, or is full (at MAX_CAPACITY). All operations include visual feedback through animations and status messages."
}