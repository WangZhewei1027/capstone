{
  "topic": "Counting Sort Visualization",
  "description": "Interactive visualization of the counting sort algorithm with step-by-step animation control",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "GENERATE_RANDOM": "initializing",
        "USE_CUSTOM": "initializing"
      }
    },
    {
      "name": "initializing",
      "onEnter": "initializeSort",
      "onExit": "noop",
      "on": {
        "INIT_COMPLETE": "ready"
      }
    },
    {
      "name": "ready",
      "onEnter": "enableStepButton",
      "onExit": "noop",
      "on": {
        "NEXT_STEP": "counting",
        "AUTO_PLAY": "autoPlaying",
        "GENERATE_RANDOM": "initializing",
        "USE_CUSTOM": "initializing"
      }
    },
    {
      "name": "counting",
      "onEnter": "highlightCountingElement",
      "onExit": "clearHighlights",
      "on": {
        "NEXT_STEP": "counting",
        "PREV_STEP": "counting",
        "COUNTING_COMPLETE": "countComplete",
        "AUTO_PLAY": "autoPlaying",
        "GENERATE_RANDOM": "initializing",
        "USE_CUSTOM": "initializing"
      }
    },
    {
      "name": "countComplete",
      "onEnter": "showCountComplete",
      "onExit": "noop",
      "on": {
        "NEXT_STEP": "accumulating",
        "PREV_STEP": "counting",
        "AUTO_PLAY": "autoPlaying",
        "GENERATE_RANDOM": "initializing",
        "USE_CUSTOM": "initializing"
      }
    },
    {
      "name": "accumulating",
      "onEnter": "highlightAccumulation",
      "onExit": "clearHighlights",
      "on": {
        "NEXT_STEP": "accumulating",
        "PREV_STEP": "accumulating",
        "ACCUMULATION_COMPLETE": "placing",
        "AUTO_PLAY": "autoPlaying",
        "GENERATE_RANDOM": "initializing",
        "USE_CUSTOM": "initializing"
      }
    },
    {
      "name": "placing",
      "onEnter": "highlightPlacement",
      "onExit": "clearHighlights",
      "on": {
        "NEXT_STEP": "placing",
        "PREV_STEP": "placing",
        "PLACEMENT_COMPLETE": "complete",
        "AUTO_PLAY": "autoPlaying",
        "GENERATE_RANDOM": "initializing",
        "USE_CUSTOM": "initializing"
      }
    },
    {
      "name": "complete",
      "onEnter": "highlightSortedArray",
      "onExit": "noop",
      "on": {
        "PREV_STEP": "placing",
        "GENERATE_RANDOM": "initializing",
        "USE_CUSTOM": "initializing"
      }
    },
    {
      "name": "autoPlaying",
      "onEnter": "startAutoPlay",
      "onExit": "stopAutoPlay",
      "on": {
        "STOP_AUTO": "determineCurrentState",
        "AUTO_STEP": "autoPlaying",
        "AUTO_COMPLETE": "complete",
        "GENERATE_RANDOM": "initializing",
        "USE_CUSTOM": "initializing"
      }
    }
  ],
  "events": [
    "GENERATE_RANDOM",
    "USE_CUSTOM",
    "INIT_COMPLETE",
    "NEXT_STEP",
    "PREV_STEP",
    "AUTO_PLAY",
    "STOP_AUTO",
    "AUTO_STEP",
    "AUTO_COMPLETE",
    "COUNTING_COMPLETE",
    "ACCUMULATION_COMPLETE",
    "PLACEMENT_COMPLETE"
  ],
  "notes": "The FSM tracks the visualization through initialization, counting phase, accumulation phase, placement phase, and completion. Auto-play mode runs as a separate state that automatically advances through steps. State transitions depend on the current step in the algorithm."
}