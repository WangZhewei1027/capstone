{
  "topic": "Union-Find Interactive Visualization",
  "description": "FSM for an interactive Union-Find data structure visualization that allows users to connect nodes, toggle optimizations, and observe component formation",
  "states": [
    {
      "name": "idle",
      "onEnter": "updateStatus",
      "onExit": "noop",
      "on": {
        "NODE_CLICK": "nodeSelected",
        "NODE_HOVER": "nodeHighlighted",
        "TOGGLE_PATH_COMPRESSION": "idle",
        "TOGGLE_UNION_BY_RANK": "idle",
        "RESET": "resetting",
        "RANDOM_UNION": "performingUnion"
      }
    },
    {
      "name": "nodeSelected",
      "onEnter": "highlightSelectedNode",
      "onExit": "unhighlightSelectedNode",
      "on": {
        "NODE_CLICK_SAME": "idle",
        "NODE_CLICK_DIFFERENT": "performingUnion",
        "NODE_HOVER": "nodeSelectedAndHighlighted",
        "TOGGLE_PATH_COMPRESSION": "nodeSelected",
        "TOGGLE_UNION_BY_RANK": "nodeSelected",
        "RESET": "resetting",
        "RANDOM_UNION": "performingUnion"
      }
    },
    {
      "name": "nodeHighlighted",
      "onEnter": "highlightComponent",
      "onExit": "unhighlightComponent",
      "on": {
        "NODE_LEAVE": "idle",
        "NODE_CLICK": "nodeSelected",
        "TOGGLE_PATH_COMPRESSION": "nodeHighlighted",
        "TOGGLE_UNION_BY_RANK": "nodeHighlighted",
        "RESET": "resetting",
        "RANDOM_UNION": "performingUnion"
      }
    },
    {
      "name": "nodeSelectedAndHighlighted",
      "onEnter": "highlightComponent",
      "onExit": "unhighlightComponent",
      "on": {
        "NODE_LEAVE": "nodeSelected",
        "NODE_CLICK_SAME": "idle",
        "NODE_CLICK_DIFFERENT": "performingUnion",
        "TOGGLE_PATH_COMPRESSION": "nodeSelectedAndHighlighted",
        "TOGGLE_UNION_BY_RANK": "nodeSelectedAndHighlighted",
        "RESET": "resetting",
        "RANDOM_UNION": "performingUnion"
      }
    },
    {
      "name": "performingUnion",
      "onEnter": "executeUnion",
      "onExit": "updateMetrics",
      "on": {
        "UNION_COMPLETE": "animating",
        "UNION_FAILED": "idle"
      }
    },
    {
      "name": "animating",
      "onEnter": "animateNodes",
      "onExit": "updateTreeDisplay",
      "on": {
        "ANIMATION_COMPLETE": "idle"
      }
    },
    {
      "name": "resetting",
      "onEnter": "clearVisualization",
      "onExit": "initializeNodes",
      "on": {
        "RESET_COMPLETE": "idle"
      }
    }
  ],
  "events": [
    "NODE_CLICK",
    "NODE_CLICK_SAME",
    "NODE_CLICK_DIFFERENT",
    "NODE_HOVER",
    "NODE_LEAVE",
    "TOGGLE_PATH_COMPRESSION",
    "TOGGLE_UNION_BY_RANK",
    "RESET",
    "RANDOM_UNION",
    "UNION_COMPLETE",
    "UNION_FAILED",
    "ANIMATION_COMPLETE",
    "RESET_COMPLETE"
  ],
  "notes": "The FSM manages node selection, component highlighting, union operations with animations, and optimization toggles. Path compression and union by rank toggles maintain current state while updating the underlying algorithm behavior."
}