{
  "topic": "Weighted Graph Explorer",
  "description": "FSM for an interactive weighted graph visualization tool with Dijkstra's algorithm animation",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "NODE_CLICK": "nodeSelected",
        "EDGE_CLICK": "editingWeight",
        "CANVAS_DOUBLE_CLICK": "addingNode",
        "NODE_DRAG_START": "draggingNode",
        "ADD_EDGE_MODE": "addEdgeMode",
        "FIND_PATH": "checkSelection"
      }
    },
    {
      "name": "nodeSelected",
      "onEnter": "highlightSourceNode",
      "onExit": "noop",
      "on": {
        "NODE_CLICK": "nodesSelected",
        "CLEAR_SELECTION": "idle",
        "EDGE_CLICK": "editingWeight",
        "NODE_DRAG_START": "draggingNode",
        "ADD_EDGE_MODE": "addEdgeMode"
      }
    },
    {
      "name": "nodesSelected",
      "onEnter": "highlightDestinationNode",
      "onExit": "noop",
      "on": {
        "FIND_PATH": "pathFinding",
        "CLEAR_SELECTION": "idle",
        "NODE_CLICK": "nodeSelected",
        "EDGE_CLICK": "editingWeight",
        "NODE_DRAG_START": "draggingNode",
        "ADD_EDGE_MODE": "addEdgeMode"
      }
    },
    {
      "name": "editingWeight",
      "onEnter": "showWeightInput",
      "onExit": "updateEdgeWeight",
      "on": {
        "WEIGHT_SUBMIT": "idle",
        "WEIGHT_CANCEL": "idle"
      }
    },
    {
      "name": "addingNode",
      "onEnter": "createNewNode",
      "onExit": "noop",
      "on": {
        "NODE_ADDED": "idle"
      }
    },
    {
      "name": "draggingNode",
      "onEnter": "startNodeDrag",
      "onExit": "endNodeDrag",
      "on": {
        "NODE_DRAG_END": "idle",
        "NODE_DRAG_MOVE": "draggingNode"
      }
    },
    {
      "name": "addEdgeMode",
      "onEnter": "enableAddEdgeMode",
      "onExit": "disableAddEdgeMode",
      "on": {
        "NODE_CLICK": "addEdgeFirstNode",
        "NORMAL_MODE": "idle",
        "CANCEL_ADD_EDGE": "idle"
      }
    },
    {
      "name": "addEdgeFirstNode",
      "onEnter": "selectFirstNode",
      "onExit": "noop",
      "on": {
        "NODE_CLICK": "addEdgeSecondNode",
        "CANCEL_ADD_EDGE": "addEdgeMode"
      }
    },
    {
      "name": "addEdgeSecondNode",
      "onEnter": "createEdge",
      "onExit": "noop",
      "on": {
        "EDGE_CREATED": "addEdgeMode"
      }
    },
    {
      "name": "checkSelection",
      "onEnter": "validateSelection",
      "onExit": "noop",
      "on": {
        "SELECTION_VALID": "pathFinding",
        "SELECTION_INVALID": "idle"
      }
    },
    {
      "name": "pathFinding",
      "onEnter": "startDijkstra",
      "onExit": "noop",
      "on": {
        "VISIT_NODE": "visitingNode",
        "NO_PATH_FOUND": "pathNotFound",
        "PATH_COMPLETE": "pathFound"
      }
    },
    {
      "name": "visitingNode",
      "onEnter": "animateNodeVisit",
      "onExit": "updateDistances",
      "on": {
        "EXAMINE_EDGE": "examiningEdge",
        "VISIT_COMPLETE": "pathFinding"
      }
    },
    {
      "name": "examiningEdge",
      "onEnter": "highlightEdge",
      "onExit": "unhighlightEdge",
      "on": {
        "EDGE_EXAMINED": "visitingNode"
      }
    },
    {
      "name": "pathFound",
      "onEnter": "animateShortestPath",
      "onExit": "noop",
      "on": {
        "RESET": "idle",
        "CLEAR_SELECTION": "idle",
        "NODE_CLICK": "nodeSelected",
        "EDGE_CLICK": "editingWeight",
        "NODE_DRAG_START": "draggingNode"
      }
    },
    {
      "name": "pathNotFound",
      "onEnter": "showNoPathMessage",
      "onExit": "noop",
      "on": {
        "RESET": "idle",
        "CLEAR_SELECTION": "idle",
        "NODE_CLICK": "nodeSelected"
      }
    }
  ],
  "events": [
    "NODE_CLICK",
    "EDGE_CLICK",
    "CANVAS_DOUBLE_CLICK",
    "NODE_DRAG_START",
    "NODE_DRAG_MOVE",
    "NODE_DRAG_END",
    "ADD_EDGE_MODE",
    "NORMAL_MODE",
    "CANCEL_ADD_EDGE",
    "FIND_PATH",
    "CLEAR_SELECTION",
    "RESET",
    "WEIGHT_SUBMIT",
    "WEIGHT_CANCEL",
    "NODE_ADDED",
    "EDGE_CREATED",
    "SELECTION_VALID",
    "SELECTION_INVALID",
    "VISIT_NODE",
    "EXAMINE_EDGE",
    "VISIT_COMPLETE",
    "EDGE_EXAMINED",
    "PATH_COMPLETE",
    "NO_PATH_FOUND"
  ],
  "notes": "The FSM manages graph interaction modes, node/edge manipulation, and Dijkstra's algorithm animation. States handle visual feedback including node colors (blue/yellow/light blue/green), edge highlighting, and real-time distance updates. The pathfinding states orchestrate the step-by-step algorithm visualization with proper timing and transitions."
}