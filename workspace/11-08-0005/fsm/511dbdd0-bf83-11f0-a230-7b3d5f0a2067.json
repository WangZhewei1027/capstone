{
  "topic": "BFS Interactive Learning Module",
  "description": "FSM for an interactive breadth-first search visualization tool with graph building and algorithm stepping capabilities",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "CLICK_CANVAS": "addingNode",
        "CLICK_NODE": "nodeSelected",
        "RIGHT_CLICK_NODE": "deletingNode",
        "RIGHT_CLICK_EDGE": "deletingEdge",
        "DOUBLE_CLICK_NODE": "settingStartNode",
        "CLICK_STEP_FORWARD": "checkingStartNode",
        "TOGGLE_AUTO_RUN": "checkingStartNode",
        "CLICK_RESET": "resetting",
        "CLICK_CLEAR_GRAPH": "clearingGraph"
      }
    },
    {
      "name": "addingNode",
      "onEnter": "createNode",
      "onExit": "noop",
      "on": {
        "NODE_CREATED": "idle"
      }
    },
    {
      "name": "nodeSelected",
      "onEnter": "highlightNode",
      "onExit": "unhighlightNode",
      "on": {
        "DRAG_START": "creatingEdge",
        "CLICK_CANVAS": "idle",
        "CLICK_ANOTHER_NODE": "idle"
      }
    },
    {
      "name": "creatingEdge",
      "onEnter": "showEdgePreview",
      "onExit": "hideEdgePreview",
      "on": {
        "DROP_ON_NODE": "connectingNodes",
        "DROP_ON_CANVAS": "idle",
        "CANCEL_DRAG": "idle"
      }
    },
    {
      "name": "connectingNodes",
      "onEnter": "createEdge",
      "onExit": "noop",
      "on": {
        "EDGE_CREATED": "idle"
      }
    },
    {
      "name": "deletingNode",
      "onEnter": "removeNode",
      "onExit": "noop",
      "on": {
        "NODE_DELETED": "idle"
      }
    },
    {
      "name": "deletingEdge",
      "onEnter": "removeEdge",
      "onExit": "noop",
      "on": {
        "EDGE_DELETED": "idle"
      }
    },
    {
      "name": "settingStartNode",
      "onEnter": "setStartNode",
      "onExit": "noop",
      "on": {
        "START_NODE_SET": "idle"
      }
    },
    {
      "name": "checkingStartNode",
      "onEnter": "validateStartNode",
      "onExit": "noop",
      "on": {
        "START_NODE_EXISTS": "initializingBFS",
        "NO_START_NODE": "idle"
      }
    },
    {
      "name": "initializingBFS",
      "onEnter": "setupBFS",
      "onExit": "noop",
      "on": {
        "BFS_INITIALIZED": "readyToStep",
        "AUTO_RUN_ENABLED": "autoRunning"
      }
    },
    {
      "name": "readyToStep",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "CLICK_STEP_FORWARD": "processingNode",
        "TOGGLE_AUTO_RUN": "autoRunning",
        "CLICK_RESET": "resetting",
        "CLICK_VISITED_NODE": "showingPath"
      }
    },
    {
      "name": "processingNode",
      "onEnter": "dequeueNode",
      "onExit": "noop",
      "on": {
        "NODE_PROCESSED": "exploringNeighbors"
      }
    },
    {
      "name": "exploringNeighbors",
      "onEnter": "highlightCurrentNode",
      "onExit": "markNodeVisited",
      "on": {
        "NEIGHBOR_FOUND": "enqueuingNeighbor",
        "NO_MORE_NEIGHBORS": "checkingQueue"
      }
    },
    {
      "name": "enqueuingNeighbor",
      "onEnter": "enqueueNode",
      "onExit": "animateEdgeTraversal",
      "on": {
        "NEIGHBOR_ENQUEUED": "exploringNeighbors"
      }
    },
    {
      "name": "checkingQueue",
      "onEnter": "updateStatistics",
      "onExit": "noop",
      "on": {
        "QUEUE_NOT_EMPTY": "readyToStep",
        "QUEUE_EMPTY": "completed"
      }
    },
    {
      "name": "autoRunning",
      "onEnter": "startAutoRun",
      "onExit": "stopAutoRun",
      "on": {
        "AUTO_STEP": "processingNode",
        "TOGGLE_AUTO_RUN": "readyToStep",
        "QUEUE_EMPTY": "completed",
        "CLICK_RESET": "resetting"
      }
    },
    {
      "name": "showingPath",
      "onEnter": "highlightShortestPath",
      "onExit": "unhighlightPath",
      "on": {
        "CLICK_CANVAS": "readyToStep",
        "CLICK_ANOTHER_NODE": "showingPath"
      }
    },
    {
      "name": "completed",
      "onEnter": "showCompletionAnimation",
      "onExit": "noop",
      "on": {
        "CLICK_RESET": "resetting",
        "CLICK_CLEAR_GRAPH": "clearingGraph",
        "CLICK_VISITED_NODE": "showingPath"
      }
    },
    {
      "name": "resetting",
      "onEnter": "resetTraversal",
      "onExit": "noop",
      "on": {
        "RESET_COMPLETE": "idle"
      }
    },
    {
      "name": "clearingGraph",
      "onEnter": "clearAllNodesAndEdges",
      "onExit": "noop",
      "on": {
        "GRAPH_CLEARED": "idle"
      }
    }
  ],
  "events": [
    "CLICK_CANVAS",
    "CLICK_NODE",
    "CLICK_ANOTHER_NODE",
    "RIGHT_CLICK_NODE",
    "RIGHT_CLICK_EDGE",
    "DOUBLE_CLICK_NODE",
    "DRAG_START",
    "DROP_ON_NODE",
    "DROP_ON_CANVAS",
    "CANCEL_DRAG",
    "NODE_CREATED",
    "EDGE_CREATED",
    "NODE_DELETED",
    "EDGE_DELETED",
    "START_NODE_SET",
    "CLICK_STEP_FORWARD",
    "TOGGLE_AUTO_RUN",
    "CLICK_RESET",
    "CLICK_CLEAR_GRAPH",
    "START_NODE_EXISTS",
    "NO_START_NODE",
    "BFS_INITIALIZED",
    "AUTO_RUN_ENABLED",
    "NODE_PROCESSED",
    "NEIGHBOR_FOUND",
    "NO_MORE_NEIGHBORS",
    "NEIGHBOR_ENQUEUED",
    "QUEUE_NOT_EMPTY",
    "QUEUE_EMPTY",
    "AUTO_STEP",
    "CLICK_VISITED_NODE",
    "RESET_COMPLETE",
    "GRAPH_CLEARED"
  ],
  "notes": "The FSM manages both graph building interactions and BFS algorithm visualization. Key features include drag-and-drop edge creation, automatic stepping with adjustable speed, queue visualization with animations, and shortest path highlighting. The application maintains separate states for graph manipulation and algorithm execution, ensuring clear separation of concerns."
}