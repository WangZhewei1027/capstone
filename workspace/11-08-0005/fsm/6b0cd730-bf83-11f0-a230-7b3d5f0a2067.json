{
  "topic": "Interactive Graph Explorer",
  "description": "FSM for an interactive graph visualization tool that supports creating nodes/edges, dragging, and switching between directed/undirected modes",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "CANVAS_CLICK": "creatingNode",
        "NODE_MOUSEDOWN": "nodeInteraction",
        "MODE_TOGGLE": "toggleMode",
        "RIGHT_CLICK": "contextMenu",
        "NODE_HOVER": "highlighting"
      }
    },
    {
      "name": "creatingNode",
      "onEnter": "createNode",
      "onExit": "updateStats",
      "on": {
        "NODE_CREATED": "idle"
      }
    },
    {
      "name": "nodeInteraction",
      "onEnter": "checkInteractionType",
      "onExit": "noop",
      "on": {
        "START_DRAGGING": "draggingNode",
        "START_EDGE_CREATION": "creatingEdge"
      }
    },
    {
      "name": "draggingNode",
      "onEnter": "setDragNode",
      "onExit": "clearDragNode",
      "on": {
        "MOUSE_MOVE": "draggingNode",
        "MOUSE_UP": "idle"
      }
    },
    {
      "name": "creatingEdge",
      "onEnter": "createPreviewEdge",
      "onExit": "removePreviewEdge",
      "on": {
        "MOUSE_MOVE": "creatingEdge",
        "NODE_MOUSEUP": "completingEdge",
        "MOUSE_UP": "idle"
      }
    },
    {
      "name": "completingEdge",
      "onEnter": "createEdge",
      "onExit": "updateStats",
      "on": {
        "EDGE_CREATED": "idle",
        "EDGE_EXISTS": "idle"
      }
    },
    {
      "name": "toggleMode",
      "onEnter": "switchGraphMode",
      "onExit": "updateExampleUse",
      "on": {
        "MODE_TOGGLED": "idle"
      }
    },
    {
      "name": "contextMenu",
      "onEnter": "showContextMenu",
      "onExit": "hideContextMenu",
      "on": {
        "DELETE_CLICK": "deleting",
        "CLICK_OUTSIDE": "idle"
      }
    },
    {
      "name": "deleting",
      "onEnter": "deleteElement",
      "onExit": "updateStats",
      "on": {
        "ELEMENT_DELETED": "idle"
      }
    },
    {
      "name": "highlighting",
      "onEnter": "highlightConnectedEdges",
      "onExit": "removeHighlights",
      "on": {
        "NODE_OUT": "idle",
        "NODE_MOUSEDOWN": "nodeInteraction"
      }
    }
  ],
  "events": [
    "CANVAS_CLICK",
    "NODE_MOUSEDOWN",
    "NODE_MOUSEUP",
    "MOUSE_MOVE",
    "MOUSE_UP",
    "MODE_TOGGLE",
    "RIGHT_CLICK",
    "DELETE_CLICK",
    "CLICK_OUTSIDE",
    "NODE_HOVER",
    "NODE_OUT",
    "NODE_CREATED",
    "START_DRAGGING",
    "START_EDGE_CREATION",
    "EDGE_CREATED",
    "EDGE_EXISTS",
    "MODE_TOGGLED",
    "ELEMENT_DELETED"
  ],
  "notes": "The FSM handles graph creation with nodes and edges, supports both directed and undirected modes, includes drag-and-drop functionality, edge preview during creation, context menu for deletion, and visual feedback through highlighting. The shift key modifier determines whether to drag a node or create an edge."
}