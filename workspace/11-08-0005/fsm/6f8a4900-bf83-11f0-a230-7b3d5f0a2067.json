{
  "topic": "K-Nearest Neighbors Interactive Demo",
  "description": "FSM for an interactive KNN classification visualization that allows users to add points, adjust parameters, and see animated classification results",
  "states": [
    {
      "name": "idle",
      "onEnter": "noop",
      "onExit": "noop",
      "on": {
        "CLICK_CANVAS": "classifying",
        "ADJUST_K": "reclassifying",
        "CHANGE_DISTANCE_METRIC": "reclassifying",
        "CLEAR_POINTS": "clearing",
        "TOGGLE_ANIMATION": "idle",
        "MOUSE_MOVE": "hovering",
        "MOUSE_LEAVE": "idle"
      }
    },
    {
      "name": "hovering",
      "onEnter": "showDistancePreview",
      "onExit": "hideDistancePreview",
      "on": {
        "CLICK_CANVAS": "classifying",
        "MOUSE_MOVE": "hovering",
        "MOUSE_LEAVE": "idle",
        "ADJUST_K": "reclassifying",
        "CHANGE_DISTANCE_METRIC": "reclassifying",
        "CLEAR_POINTS": "clearing",
        "TOGGLE_ANIMATION": "hovering"
      }
    },
    {
      "name": "classifying",
      "onEnter": "addNewPoint",
      "onExit": "noop",
      "on": {
        "ANIMATION_ENABLED": "animating",
        "ANIMATION_DISABLED": "idle"
      }
    },
    {
      "name": "animating",
      "onEnter": "startClassificationAnimation",
      "onExit": "noop",
      "on": {
        "ANIMATION_COMPLETE": "idle",
        "CLICK_CANVAS": "queuedClassifying",
        "ADJUST_K": "reclassifying",
        "CHANGE_DISTANCE_METRIC": "reclassifying",
        "CLEAR_POINTS": "clearing"
      }
    },
    {
      "name": "queuedClassifying",
      "onEnter": "queueNewPoint",
      "onExit": "noop",
      "on": {
        "ANIMATION_COMPLETE": "classifying"
      }
    },
    {
      "name": "reclassifying",
      "onEnter": "reclassifyAllPoints",
      "onExit": "noop",
      "on": {
        "RECLASSIFICATION_COMPLETE": "idle"
      }
    },
    {
      "name": "clearing",
      "onEnter": "clearAllUserPoints",
      "onExit": "noop",
      "on": {
        "CLEAR_COMPLETE": "idle"
      }
    }
  ],
  "events": [
    "CLICK_CANVAS",
    "ADJUST_K",
    "CHANGE_DISTANCE_METRIC",
    "CLEAR_POINTS",
    "TOGGLE_ANIMATION",
    "MOUSE_MOVE",
    "MOUSE_LEAVE",
    "ANIMATION_ENABLED",
    "ANIMATION_DISABLED",
    "ANIMATION_COMPLETE",
    "RECLASSIFICATION_COMPLETE",
    "CLEAR_COMPLETE"
  ],
  "notes": "The FSM manages user interactions for adding points, adjusting KNN parameters (k value and distance metric), animations for classification visualization, and hover states for distance preview. Animation states include expanding circles and highlighting nearest neighbors."
}