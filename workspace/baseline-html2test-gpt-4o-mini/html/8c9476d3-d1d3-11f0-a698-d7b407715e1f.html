<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huffman Coding Visualizer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
        }
        #output {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Huffman Coding Visualizer</h1>
    <p>Enter a string to see its Huffman coding:</p>
    <input type="text" id="inputString" placeholder="Enter text here" />
    <button id="encode">Encode</button>

    <div id="output"></div>

    <script>
        class Node {
            constructor(char, freq) {
                this.char = char;
                this.freq = freq;
                this.left = null;
                this.right = null;
            }
        }

        function buildHuffmanTree(text) {
            const frequency = {};
            for (let char of text) {
                frequency[char] = (frequency[char] || 0) + 1;
            }

            const nodes = Object.entries(frequency).map(([char, freq]) => new Node(char, freq));
            nodes.sort((a, b) => a.freq - b.freq);

            while (nodes.length > 1) {
                const left = nodes.shift();
                const right = nodes.shift();
                const newNode = new Node(null, left.freq + right.freq);
                newNode.left = left;
                newNode.right = right;
                nodes.push(newNode);
                nodes.sort((a, b) => a.freq - b.freq);
            }

            return nodes[0]; // Root of the tree
        }

        function generateCodes(node, prefix = "", codes = {}) {
            if (node) {
                if (node.char) {
                    codes[node.char] = prefix;
                }
                generateCodes(node.left, prefix + "0", codes);
                generateCodes(node.right, prefix + "1", codes);
            }
            return codes;
        }

        function encodeString(text, codes) {
            let encoded = "";
            for (let char of text) {
                encoded += codes[char];
            }
            return encoded;
        }

        document.getElementById("encode").addEventListener("click", () => {
            const input = document.getElementById("inputString").value;
            if (!input) {
                document.getElementById("output").innerHTML = "Please enter a string.";
                return;
            }

            const huffmanTree = buildHuffmanTree(input);
            const codes = generateCodes(huffmanTree);
            const encoded = encodeString(input, codes);

            let outputHtml = `<h3>Original String:</h3><p>${input}</p>`;
            outputHtml += `<h3>Character Codes:</h3><pre>${JSON.stringify(codes, null, 2)}</pre>`;
            outputHtml += `<h3>Encoded String:</h3><p>${encoded}</p>`;
            document.getElementById("output").innerHTML = outputHtml;
        });
    </script>
</body>
</html>