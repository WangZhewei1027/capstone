<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weighted Graph Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #graph-container {
            width: 600px;
            height: 400px;
            border: 1px solid #ccc;
            position: relative;
            overflow: hidden;
        }
        .node {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: #4CAF50;
            border-radius: 50%;
            color: white;
            text-align: center;
            line-height: 30px;
            font-size: 14px;
        }
        .edge {
            position: absolute;
            background-color: #999;
            height: 2px;
            transform-origin: 0 0;
        }
        .label {
            position: absolute;
            font-size: 12px;
            color: #333;
        }
    </style>
</head>
<body>

<h1>Weighted Graph Visualization</h1>
<p>Click on a node to show its adjacent nodes with weights.</p>
<div id="graph-container"></div>

<script>
    class Graph {
        constructor() {
            this.nodes = {};
        }

        addNode(name, x, y) {
            this.nodes[name] = { x, y, edges: {} };
        }

        addEdge(from, to, weight) {
            this.nodes[from].edges[to] = weight;
            this.nodes[to].edges[from] = weight; // For undirected graph
        }

        drawGraph(container) {
            const graphContainer = document.getElementById(container);
            graphContainer.innerHTML = ''; // Clear previous graph

            const nodes = this.nodes;
            Object.keys(nodes).forEach(node => {
                const { x, y, edges } = nodes[node];

                // Create node
                const nodeDiv = document.createElement('div');
                nodeDiv.className = 'node';
                nodeDiv.style.left = `${x}px`;
                nodeDiv.style.top = `${y}px`;
                nodeDiv.innerHTML = node;
                nodeDiv.onclick = () => this.showEdges(node);
                graphContainer.appendChild(nodeDiv);

                // Draw edges
                Object.keys(edges).forEach(target => {
                    const targetNode = nodes[target];
                    const edgeDiv = document.createElement('div');
                    edgeDiv.className = 'edge';
                    const weight = edges[target];

                    // Calculate positions
                    const centerX = x + 15; // Center of the node
                    const centerY = y + 15; 
                    const targetX = targetNode.x + 15;
                    const targetY = targetNode.y + 15;

                    const length = Math.sqrt(Math.pow(targetX - centerX, 2) + Math.pow(targetY - centerY, 2));
                    const angle = Math.atan2(targetY - centerY, targetX - centerX) * (180 / Math.PI);

                    edgeDiv.style.width = `${length}px`;
                    edgeDiv.style.transform = `rotate(${angle}deg)`;
                    edgeDiv.style.left = `${centerX}px`;
                    edgeDiv.style.top = `${centerY}px`;
                    graphContainer.appendChild(edgeDiv);

                    // Create label for weight
                    const label = document.createElement('div');
                    label.className = 'label';
                    const labelX = (centerX + targetX) / 2;
                    const labelY = (centerY + targetY) / 2;
                    label.style.left = `${labelX}px`;
                    label.style.top = `${labelY}px`;
                    label.innerHTML = weight;
                    graphContainer.appendChild(label);
                });
            });
        }

        showEdges(node) {
            alert(`Node: ${node}\nEdges: ${JSON.stringify(this.nodes[node].edges)}`);
        }
    }

    // Example usage
    const weightedGraph = new Graph();
    weightedGraph.addNode('A', 100, 100);
    weightedGraph.addNode('B', 300, 100);
    weightedGraph.addNode('C', 200, 250);
    weightedGraph.addNode('D', 400, 200);
    weightedGraph.addEdge('A', 'B', 5);
    weightedGraph.addEdge('A', 'C', 10);
    weightedGraph.addEdge('B', 'D', 2);
    weightedGraph.addEdge('C', 'D', 4);
    
    weightedGraph.drawGraph('graph-container');
</script>

</body>
</html>