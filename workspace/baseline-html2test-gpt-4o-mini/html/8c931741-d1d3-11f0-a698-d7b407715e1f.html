<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph Visualization</title>
    <style>
        body { font-family: Arial, sans-serif; }
        #graph-container { width: 600px; height: 400px; border: 1px solid #ccc; margin: 20px; position: relative; }
        .node { width: 30px; height: 30px; background-color: #4CAF50; border-radius: 50%; position: absolute; text-align: center; line-height: 30px; color: white; }
        .edge { position: absolute; background: black; height: 2px; }
    </style>
</head>
<body>

<h2>Graph Visualization</h2>
<div>
    <label for="graph-type">Select Graph Type:</label>
    <select id="graph-type">
        <option value="undirected">Undirected</option>
        <option value="directed">Directed</option>
    </select>
</div>
<button id="draw-graph">Draw Graph</button>
<div id="graph-container"></div>

<script>
    const graphContainer = document.getElementById('graph-container');
    const graphTypeSelect = document.getElementById('graph-type');

    function createRandomGraph(numNodes) {
        const nodes = [];
        const edges = [];
        for (let i = 0; i < numNodes; i++) {
            const x = Math.random() * (graphContainer.clientWidth - 30);
            const y = Math.random() * (graphContainer.clientHeight - 30);
            nodes.push({ id: i, x, y });
        }
        
        // Create random edges between nodes
        for (let i = 0; i < numNodes; i++) {
            for (let j = 0; j < numNodes; j++) {
                if (i !== j && Math.random() < 0.3) { // 30% chance of creating an edge
                    edges.push({ from: i, to: j });
                }
            }
        }
        return { nodes, edges };
    }

    function drawGraph(numNodes) {
        graphContainer.innerHTML = ''; // Clear previous graph
        const { nodes, edges } = createRandomGraph(numNodes);

        nodes.forEach(node => {
            const nodeDiv = document.createElement('div');
            nodeDiv.classList.add('node');
            nodeDiv.style.left = `${node.x}px`;
            nodeDiv.style.top = `${node.y}px`;
            nodeDiv.innerText = node.id;
            graphContainer.appendChild(nodeDiv);
        });

        edges.forEach(edge => {
            const fromNode = nodes[edge.from];
            const toNode = nodes[edge.to];

            const edgeDiv = document.createElement('div');
            edgeDiv.classList.add('edge');
            edgeDiv.style.width = Math.sqrt(Math.pow(fromNode.x - toNode.x, 2) + Math.pow(fromNode.y - toNode.y, 2)) + 'px';
            edgeDiv.style.transform = `rotate(${Math.atan2(toNode.y - fromNode.y, toNode.x - fromNode.x)}rad)`;
            edgeDiv.style.left = `${fromNode.x + 15}px`; // Center edge
            edgeDiv.style.top = `${fromNode.y + 15}px`;  // Center edge
            graphContainer.appendChild(edgeDiv);

            if (graphTypeSelect.value === 'directed') {
                const arrowDiv = document.createElement('div');
                arrowDiv.style.position = 'absolute';
                arrowDiv.style.width = '10px';
                arrowDiv.style.height = '10px';
                arrowDiv.style.backgroundColor = 'black';
                arrowDiv.style.transform = `rotate(${Math.atan2(toNode.y - fromNode.y, toNode.x - fromNode.x)}rad)`;
                arrowDiv.style.left = `${toNode.x - 5}px`; // Adjust position for the arrowhead
                arrowDiv.style.top = `${toNode.y - 5}px`;  // Adjust position for the arrowhead
                arrowDiv.style.clipPath = 'polygon(50% 0%, 0% 100%, 100% 100%)'; // Triangle shape
                graphContainer.appendChild(arrowDiv);
            }
        });
    }

    document.getElementById('draw-graph').addEventListener('click', () => {
        drawGraph(6); // Draw graph with 6 nodes
    });
</script>

</body>
</html>