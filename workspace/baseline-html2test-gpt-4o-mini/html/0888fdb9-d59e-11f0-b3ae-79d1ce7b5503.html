<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radix Sort Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        #array {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .bar {
            width: 40px;
            margin: 0 5px;
            background-color: teal;
            transition: height 0.5s;
        }
    </style>
</head>
<body>
    <h1>Radix Sort Visualization</h1>
    <button onclick="startSorting()">Sort Random Array</button>
    <div id="array"></div>

    <script>
        let array = [];

        function generateRandomArray(size = 10) {
            array = [];
            for (let i = 0; i < size; i++) {
                array.push(Math.floor(Math.random() * 100));
            }
            renderArray();
        }

        function renderArray() {
            const arrayContainer = document.getElementById('array');
            arrayContainer.innerHTML = '';
            array.forEach(num => {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = `${num * 2}px`; // Scaling for visual clarity
                arrayContainer.appendChild(bar);
            });
        }

        function getMax(arr) {
            return Math.max(...arr);
        }

        function countingSort(arr, exp) {
            const n = arr.length;
            const output = new Array(n);
            const count = new Array(10).fill(0);

            for (let i = 0; i < n; i++) {
                count[Math.floor(arr[i] / exp) % 10]++;
            }

            for (let i = 1; i < 10; i++) {
                count[i] += count[i - 1];
            }

            for (let i = n - 1; i >= 0; i--) {
                output[count[Math.floor(arr[i] / exp) % 10] - 1] = arr[i];
                count[Math.floor(arr[i] / exp) % 10]--;
            }

            for (let i = 0; i < n; i++) {
                arr[i] = output[i];
            }
        }

        function radixSort(arr) {
            let max = getMax(arr);
            for (let exp = 1; Math.floor(max / exp) > 0; exp *= 10) {
                countingSort(arr, exp);
                renderArray(); // Update the visualization after each sort pass
            }
        }

        async function startSorting() {
            generateRandomArray();
            await new Promise(resolve => setTimeout(resolve, 1000)); // Wait a moment to view the unsorted array
            radixSort(array);
        }

        // Initialize with a random array
        generateRandomArray();

    </script>
</body>
</html>