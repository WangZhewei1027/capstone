{
  "id": "088924ca-d59e-11f0-b3ae-79d1ce7b5503",
  "timestamp": "2025-12-10T08:00:11.467Z",
  "type": "html-to-test",
  "htmlModel": "gpt-4o-mini",
  "playwrightModel": "gpt-5-mini",
  "status": "success",
  "question": "K-Nearest Neighbors (KNN)",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Nearest Neighbors (KNN) Demonstration</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 20px;\n        }\n        #canvas {\n            border: 1px solid black;\n            margin-top: 20px;\n        }\n    </style>\n</head>\n<body>\n    <h1>K-Nearest Neighbors (KNN) Demonstration</h1>\n    <p>Select a point to classify and see how KNN works!</p>\n    <canvas id=\"canvas\" width=\"600\" height=\"400\"></canvas>\n    <br>\n    <label for=\"kValue\">Select K (number of neighbors): </label>\n    <input type=\"number\" id=\"kValue\" value=\"3\" min=\"1\" max=\"10\">\n    <button id=\"classifyBtn\">Classify Point</button>\n\n    <script>\n        const canvas = document.getElementById('canvas');\n        const ctx = canvas.getContext('2d');\n        const dataPoints = [\n            { x: 50, y: 150, label: 'A' },\n            { x: 100, y: 200, label: 'A' },\n            { x: 150, y: 100, label: 'A' },\n            { x: 300, y: 300, label: 'B' },\n            { x: 350, y: 350, label: 'B' },\n            { x: 400, y: 200, label: 'B' }\n        ];\n        \n        let userPoint = null;\n\n        function drawDataPoints() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            dataPoints.forEach(point => {\n                ctx.fillStyle = point.label === 'A' ? 'blue' : 'red';\n                ctx.beginPath();\n                ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n                ctx.fill();\n                ctx.fillText(point.label, point.x + 7, point.y);\n            });\n        }\n\n        function calculateDistances() {\n            if (!userPoint) return [];\n            return dataPoints.map(point => ({\n                ...point,\n                distance: Math.sqrt(Math.pow(point.x - userPoint.x, 2) + Math.pow(point.y - userPoint.y, 2))\n            }));\n        }\n\n        function classifyPoint(k) {\n            const distances = calculateDistances();\n            const sortedDistances = distances.sort((a, b) => a.distance - b.distance);\n            const neighbors = sortedDistances.slice(0, k);\n            \n            const counts = {};\n            neighbors.forEach(neighbor => {\n                counts[neighbor.label] = (counts[neighbor.label] || 0) + 1;\n            });\n            \n            return Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);\n        }\n\n        canvas.addEventListener('click', (event) => {\n            const rect = canvas.getBoundingClientRect();\n            userPoint = {\n                x: event.clientX - rect.left,\n                y: event.clientY - rect.top,\n            };\n            drawDataPoints();\n            ctx.fillStyle = 'green';\n            ctx.beginPath();\n            ctx.arc(userPoint.x, userPoint.y, 5, 0, Math.PI * 2);\n            ctx.fill();\n        });\n\n        document.getElementById('classifyBtn').addEventListener('click', () => {\n            const k = parseInt(document.getElementById('kValue').value);\n            const classification = classifyPoint(k);\n            alert(`The classified label for the point is: ${classification}`);\n        });\n\n        drawDataPoints();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Nearest Neighbors (KNN)"
    }
  ],
  "topic": "K-Nearest Neighbors (KNN)",
  "hasFSM": false,
  "hasTest": true
}