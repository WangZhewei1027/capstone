{
  "id": "8c951310-d1d3-11f0-a698-d7b407715e1f",
  "timestamp": "2025-12-05T12:12:06.665Z",
  "type": "html-to-test",
  "htmlModel": "gpt-4o-mini",
  "playwrightModel": "gpt-4o-mini",
  "status": "success",
  "question": "K-Means Clustering",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Means Clustering Demo</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            text-align: center;\n            margin: 20px;\n        }\n        canvas {\n            border: 1px solid black;\n        }\n        #controls {\n            margin: 20px 0;\n        }\n    </style>\n</head>\n<body>\n    <h1>K-Means Clustering Demonstration</h1>\n    <canvas id=\"canvas\" width=\"600\" height=\"400\"></canvas>\n    <div id=\"controls\">\n        <button id=\"start\">Start Clustering</button>\n        <button id=\"reset\">Reset</button>\n    </div>\n    <script>\n        const canvas = document.getElementById('canvas');\n        const ctx = canvas.getContext('2d');\n        const points = [];\n        const clusters = [];\n        const k = 3; // Number of clusters\n\n        const getRandomPoint = () => ({\n            x: Math.random() * canvas.width,\n            y: Math.random() * canvas.height\n        });\n\n        const initializeClusters = () => {\n            clusters.length = 0;\n            for (let i = 0; i < k; i++) {\n                clusters.push({ center: getRandomPoint(), points: [] });\n            }\n        };\n\n        const draw = () => {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            points.forEach(point => {\n                ctx.fillStyle = 'black';\n                ctx.fillRect(point.x, point.y, 5, 5);\n            });\n            clusters.forEach(cluster => {\n                ctx.fillStyle = 'red';\n                ctx.beginPath();\n                ctx.arc(cluster.center.x, cluster.center.y, 10, 0, Math.PI * 2);\n                ctx.fill();\n                cluster.points.forEach(point => {\n                    ctx.fillStyle = 'blue';\n                    ctx.fillRect(point.x, point.y, 5, 5);\n                });\n            });\n        };\n\n        const assignPointsToClusters = () => {\n            clusters.forEach(cluster => cluster.points = []);\n            points.forEach(point => {\n                let closestCluster = clusters[0];\n                let shortestDistance = getDistance(point, closestCluster.center);\n                clusters.forEach(cluster => {\n                    const distance = getDistance(point, cluster.center);\n                    if (distance < shortestDistance) {\n                        closestCluster = cluster;\n                        shortestDistance = distance;\n                    }\n                });\n                closestCluster.points.push(point);\n            });\n        };\n\n        const updateClusterCenters = () => {\n            clusters.forEach(cluster => {\n                if (cluster.points.length > 0) {\n                    const xSum = cluster.points.reduce((sum, p) => sum + p.x, 0);\n                    const ySum = cluster.points.reduce((sum, p) => sum + p.y, 0);\n                    cluster.center.x = xSum / cluster.points.length;\n                    cluster.center.y = ySum / cluster.points.length;\n                }\n            });\n        };\n\n        const getDistance = (p1, p2) => {\n            return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n        };\n\n        const startClustering = () => {\n            initializeClusters();\n            for (let i = 0; i < 10; i++) {\n                assignPointsToClusters();\n                updateClusterCenters();\n            }\n            draw();\n        };\n\n        const reset = () => {\n            points.length = 0;\n            for (let i = 0; i < 30; i++) {\n                points.push(getRandomPoint());\n            }\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            draw();\n        };\n\n        document.getElementById('start').addEventListener('click', startClustering);\n        document.getElementById('reset').addEventListener('click', reset);\n\n        // Initial population of points\n        reset();\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Means Clustering"
    }
  ],
  "topic": "K-Means Clustering",
  "hasFSM": false,
  "hasTest": true
}