{
  "id": "f76908c0-d5b8-11f0-9ee1-ef07bdc6053d",
  "timestamp": "2025-12-10T11:13:11.909Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "K-Means Clustering",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>K-Means Clustering Demo</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            text-align: center;\n        }\n        canvas {\n            border: 1px solid black;\n            margin: 20px auto;\n        }\n    </style>\n</head>\n<body>\n    <h1>K-Means Clustering Demo</h1>\n    <canvas id=\"canvas\" width=\"600\" height=\"400\"></canvas>\n    <br>\n    <button id=\"startButton\">Start K-Means Clustering</button>\n    <script>\n        const canvas = document.getElementById('canvas');\n        const ctx = canvas.getContext('2d');\n        const numClusters = 3;\n        const dataPoints = [];\n        const centroids = [];\n        const clusterAssignments = [];\n        const colors = ['#FF6347', '#4682B4', '#32CD32', '#FFD700', '#FF69B4'];\n\n        function randomInt(min, max) {\n            return Math.floor(Math.random() * (max - min + 1)) + min;\n        }\n\n        // Generate random data points\n        function generateDataPoints(numPoints) {\n            for (let i = 0; i < numPoints; i++) {\n                dataPoints.push({\n                    x: randomInt(50, 550),\n                    y: randomInt(50, 350)\n                });\n            }\n        }\n\n        // Initialize centroids\n        function initializeCentroids() {\n            for (let i = 0; i < numClusters; i++) {\n                const point = dataPoints[randomInt(0, dataPoints.length - 1)];\n                centroids.push({ x: point.x, y: point.y });\n            }\n        }\n\n        // Assign points to the nearest centroid\n        function assignClusters() {\n            for (let i = 0; i < dataPoints.length; i++) {\n                let minDistance = Infinity;\n                let closestCentroid = -1;\n                for (let j = 0; j < centroids.length; j++) {\n                    const distance = Math.hypot(dataPoints[i].x - centroids[j].x, dataPoints[i].y - centroids[j].y);\n                    if (distance < minDistance) {\n                        minDistance = distance;\n                        closestCentroid = j;\n                    }\n                }\n                clusterAssignments[i] = closestCentroid;\n            }\n        }\n\n        // Update centroids based on cluster assignments\n        function updateCentroids() {\n            const newCentroids = Array.from({length: numClusters}, () => ({x: 0, y: 0, count: 0}));\n            for (let i = 0; i < clusterAssignments.length; i++) {\n                const clusterIndex = clusterAssignments[i];\n                newCentroids[clusterIndex].x += dataPoints[i].x;\n                newCentroids[clusterIndex].y += dataPoints[i].y;\n                newCentroids[clusterIndex].count++;\n            }\n            for (let j = 0; j < newCentroids.length; j++) {\n                if (newCentroids[j].count > 0) {\n                    centroids[j].x = newCentroids[j].x / newCentroids[j].count;\n                    centroids[j].y = newCentroids[j].y / newCentroids[j].count;\n                }\n            }\n        }\n\n        // Draw the data points and centroids\n        function draw() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            for (let i = 0; i < dataPoints.length; i++) {\n                ctx.fillStyle = colors[clusterAssignments[i]];\n                ctx.beginPath();\n                ctx.arc(dataPoints[i].x, dataPoints[i].y, 5, 0, Math.PI * 2);\n                ctx.fill();\n            }\n            for (let j = 0; j < centroids.length; j++) {\n                ctx.fillStyle = 'black';\n                ctx.beginPath();\n                ctx.arc(centroids[j].x, centroids[j].y, 8, 0, Math.PI * 2);\n                ctx.fill();\n            }\n        }\n\n        function kMeans() {\n            assignClusters();\n            updateCentroids();\n            draw();\n        }\n\n        document.getElementById('startButton').addEventListener('click', () => {\n            dataPoints.length = 0;\n            centroids.length = 0;\n            clusterAssignments.length = 0;\n            generateDataPoints(20);\n            initializeCentroids();\n            for (let i = 0; i < 10; i++) {\n                kMeans();\n            }\n        });\n\n        // Initial draw\n        generateDataPoints(20);\n        initializeCentroids();\n        draw();\n\n    </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "K-Means Clustering"
    }
  ],
  "topic": "K-Means Clustering",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}