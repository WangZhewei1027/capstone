{
  "id": "0ccc0722-d5b5-11f0-899c-75bf12e026a9",
  "timestamp": "2025-12-10T10:45:09.603Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Quick Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Quick Sort Visualization</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 30px;\n    background: #f5f7fa;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n  }\n  #inputArea {\n    margin-bottom: 20px;\n    text-align: center;\n  }\n  input[type=\"text\"] {\n    width: 300px;\n    padding: 8px;\n    font-size: 16px;\n  }\n  button {\n    padding: 8px 16px;\n    font-size: 16px;\n    margin-left: 10px;\n    cursor: pointer;\n  }\n  #arrayContainer {\n    margin-top: 25px;\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    gap: 8px;\n    min-height: 60px;\n  }\n  .bar {\n    background-color: #4a90e2;\n    color: #fff;\n    font-weight: bold;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 40px;\n    width: 40px;\n    border-radius: 4px;\n    user-select: none;\n    transition: background-color 0.3s ease;\n  }\n  .bar.pivot {\n    background-color: #e94e77;\n  }\n  .bar.comparing {\n    background-color: #f5a623;\n  }\n  .bar.swapping {\n    background-color: #7ed6df;\n  }\n  #steps {\n    margin-top: 30px;\n    max-width: 600px;\n    margin-left: auto;\n    margin-right: auto;\n    font-family: monospace;\n    white-space: pre-wrap;\n    background: #222;\n    color: #ddd;\n    padding: 15px;\n    border-radius: 8px;\n    min-height: 150px;\n    overflow-y: auto;\n  }\n</style>\n</head>\n<body>\n<h1>Quick Sort Visualization</h1>\n<div id=\"inputArea\">\n  <input type=\"text\" id=\"inputArray\" placeholder=\"Enter numbers separated by commas\" value=\"8,3,7,4,9,2,6,5\" />\n  <button id=\"sortButton\">Sort</button>\n</div>\n<div id=\"arrayContainer\"></div>\n<div id=\"steps\"></div>\n\n<script>\n  const inputArray = document.getElementById('inputArray');\n  const sortButton = document.getElementById('sortButton');\n  const arrayContainer = document.getElementById('arrayContainer');\n  const steps = document.getElementById('steps');\n\n  // Utility: pause function for animation delays\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Render array bars\n  function renderArray(arr, highlight = {}) {\n    // highlight = {pivot: index, comparing: [i,j], swapping: [i,j]}\n    arrayContainer.innerHTML = '';\n    arr.forEach((value, idx) => {\n      const bar = document.createElement('div');\n      bar.classList.add('bar');\n      bar.textContent = value;\n\n      if (highlight.pivot === idx) {\n        bar.classList.add('pivot');\n      }\n      if (highlight.comparing && highlight.comparing.includes(idx)) {\n        bar.classList.add('comparing');\n      }\n      if (highlight.swapping && highlight.swapping.includes(idx)) {\n        bar.classList.add('swapping');\n      }\n\n      arrayContainer.appendChild(bar);\n    });\n  }\n\n  // Append step text\n  function logStep(text) {\n    steps.textContent += text + '\\n';\n    steps.scrollTop = steps.scrollHeight;\n  }\n\n  // Quick Sort with visualization\n  async function quickSort(arr, left = 0, right = arr.length -1) {\n    if (left >= right) return;\n\n    logStep(`QuickSort called on arr[${left}...${right}]: [${arr.slice(left, right+1).join(', ')}]`);\n    let pivotIndex = right;\n    let pivotValue = arr[pivotIndex];\n\n    logStep(`Choosing pivot arr[${pivotIndex}] = ${pivotValue}`);\n    renderArray(arr, {pivot: pivotIndex});\n    await sleep(800);\n\n    let storeIndex = left;\n    for (let i = left; i < right; i++) {\n      logStep(`Comparing arr[${i}] = ${arr[i]} with pivot ${pivotValue}`);\n      renderArray(arr, {pivot: pivotIndex, comparing: [i]});\n      await sleep(600);\n\n      if (arr[i] < pivotValue) {\n        logStep(`Since ${arr[i]} < ${pivotValue}, swapping arr[${i}] and arr[${storeIndex}]`);\n        renderArray(arr, {pivot: pivotIndex, swapping: [i, storeIndex]});\n        await sleep(800);\n\n        [arr[i], arr[storeIndex]] = [arr[storeIndex], arr[i]];\n\n        renderArray(arr, {pivot: pivotIndex});\n        await sleep(500);\n\n        storeIndex++;\n      } else {\n        logStep(`${arr[i]} >= ${pivotValue}, no swap`);\n      }\n    }\n\n    // Place pivot in its final place\n    logStep(`Swapping pivot arr[${pivotIndex}] and arr[${storeIndex}] to put pivot in place`);\n    renderArray(arr, {pivot: pivotIndex, swapping: [pivotIndex, storeIndex]});\n    await sleep(800);\n\n    [arr[storeIndex], arr[pivotIndex]] = [arr[pivotIndex], arr[storeIndex]];\n    renderArray(arr);\n    await sleep(600);\n\n    logStep(`Pivot is now at index ${storeIndex}\\n`);\n\n    // Recurse on left and right partitions\n    await quickSort(arr, left, storeIndex - 1);\n    await quickSort(arr, storeIndex + 1, right);\n  }\n\n  sortButton.addEventListener('click', async () => {\n    let rawInput = inputArray.value.trim();\n    if (!rawInput) {\n      alert('Please enter some numbers separated by commas.');\n      return;\n    }\n\n    // Parse input into array of numbers\n    let arr = rawInput.split(',').map(x => x.trim()).filter(x => x !== '').map(Number);\n    if (arr.some(isNaN)) {\n      alert('Invalid input detected. Please enter only numbers separated by commas.');\n      return;\n    }\n\n    steps.textContent = '';\n    renderArray(arr);\n    logStep('Starting Quick Sort...\\n');\n    sortButton.disabled = true;\n    inputArray.disabled = true;\n\n    await quickSort(arr);\n\n    logStep('Array sorted: [' + arr.join(', ') + ']');\n    sortButton.disabled = false;\n    inputArray.disabled = false;\n  });\n\n  // Initial render\n  renderArray([8,3,7,4,9,2,6,5]);\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Quick Sort"
    }
  ],
  "topic": "Quick Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}