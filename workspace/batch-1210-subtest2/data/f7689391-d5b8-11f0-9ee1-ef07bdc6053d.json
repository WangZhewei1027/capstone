{
  "id": "f7689391-d5b8-11f0-9ee1-ef07bdc6053d",
  "timestamp": "2025-12-10T11:12:47.855Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "Huffman Coding",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Huffman Coding Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            background-color: #f4f4f4;\n            padding: 20px;\n        }\n        #inputText {\n            width: 100%;\n            height: 100px;\n            margin-bottom: 10px;\n        }\n        #output {\n            margin-top: 20px;\n            white-space: pre-wrap;\n        }\n        .tree-node {\n            display: inline-block;\n            margin: 5px;\n            padding: 10px;\n            border: 1px solid #007BFF;\n            border-radius: 5px;\n            background-color: #e9f7ff;\n        }\n    </style>\n</head>\n<body>\n\n<h1>Huffman Coding</h1>\n<textarea id=\"inputText\" placeholder=\"Enter text to encode using Huffman coding...\"></textarea>\n<button onclick=\"huffmanCode()\">Generate Huffman Code</button>\n\n<div id=\"output\"></div>\n\n<script>\n    class Node {\n        constructor(data, frequency) {\n            this.data = data;\n            this.frequency = frequency;\n            this.left = null;\n            this.right = null;\n        }\n    }\n\n    class MinHeap {\n        constructor() {\n            this.heap = [];\n        }\n\n        insert(node) {\n            this.heap.push(node);\n            this.bubbleUp();\n        }\n\n        bubbleUp() {\n            let index = this.heap.length - 1;\n            while (index > 0) {\n                const element = this.heap[index];\n                const parentIndex = Math.floor((index - 1) / 2);\n                const parent = this.heap[parentIndex];\n\n                if (element.frequency >= parent.frequency) break;\n\n                this.heap[index] = parent;\n                this.heap[parentIndex] = element;\n                index = parentIndex;\n            }\n        }\n\n        extractMin() {\n            const min = this.heap[0];\n            const end = this.heap.pop();\n            if (this.heap.length > 0) {\n                this.heap[0] = end;\n                this.sinkDown();\n            }\n            return min;\n        }\n\n        sinkDown() {\n            let index = 0;\n            const length = this.heap.length;\n            const element = this.heap[0];\n\n            while (true) {\n                let leftChildIndex = 2 * index + 1;\n                let rightChildIndex = 2 * index + 2;\n                let leftChild, rightChild;\n                let swap = null;\n\n                if (leftChildIndex < length) {\n                    leftChild = this.heap[leftChildIndex];\n                    if (leftChild.frequency < element.frequency) {\n                        swap = leftChildIndex;\n                    }\n                }\n\n                if (rightChildIndex < length) {\n                    rightChild = this.heap[rightChildIndex];\n                    if (\n                        (swap === null && rightChild.frequency < element.frequency) ||\n                        (swap !== null && rightChild.frequency < leftChild.frequency)\n                    ) {\n                        swap = rightChildIndex;\n                    }\n                }\n\n                if (swap === null) break;\n\n                this.heap[index] = this.heap[swap];\n                this.heap[swap] = element;\n                index = swap;\n            }\n        }\n\n        isEmpty() {\n            return this.heap.length === 0;\n        }\n    }\n\n    function huffmanCode() {\n        const input = document.getElementById(\"inputText\").value;\n        const frequencyMap = {};\n        \n        for (const char of input) {\n            frequencyMap[char] = (frequencyMap[char] || 0) + 1;\n        }\n\n        const minHeap = new MinHeap();\n\n        for (const char in frequencyMap) {\n            minHeap.insert(new Node(char, frequencyMap[char]));\n        }\n\n        while (minHeap.heap.length > 1) {\n            const left = minHeap.extractMin();\n            const right = minHeap.extractMin();\n\n            const sum = left.frequency + right.frequency;\n            const newNode = new Node(null, sum);\n            newNode.left = left;\n            newNode.right = right;\n            minHeap.insert(newNode);\n        }\n\n        const huffmanTree = minHeap.extractMin();\n        const huffmanCodes = {};\n        generateCodes(huffmanTree, \"\", huffmanCodes);\n\n        displayOutput(huffmanCodes);\n    }\n\n    function generateCodes(node, code, huffmanCodes) {\n        if (!node) return;\n        if (node.data !== null) {\n            huffmanCodes[node.data] = code;\n        }\n        generateCodes(node.left, code + \"0\", huffmanCodes);\n        generateCodes(node.right, code + \"1\", huffmanCodes);\n    }\n\n    function displayOutput(codes) {\n        const outputDiv = document.getElementById(\"output\");\n        outputDiv.innerHTML = \"<h2>Huffman Codes:</h2>\";\n        for (const char in codes) {\n            outputDiv.innerHTML += `<div class=\"tree-node\">${char}: ${codes[char]}</div>`;\n        }\n    }\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Huffman Coding"
    }
  ],
  "topic": "Huffman Coding",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}