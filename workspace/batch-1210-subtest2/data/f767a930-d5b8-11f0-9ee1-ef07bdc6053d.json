{
  "id": "f767a930-d5b8-11f0-9ee1-ef07bdc6053d",
  "timestamp": "2025-12-10T11:13:32.665Z",
  "model": "gpt-4o-mini",
  "status": "success",
  "question": "Heap Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Heap Sort Visualization</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            text-align: center;\n            background-color: #f4f4f4;\n            margin: 0;\n            padding: 20px;\n        }\n        #arrayContainer {\n            display: flex;\n            justify-content: center;\n            margin: 20px 0;\n        }\n        .bar {\n            width: 30px;\n            margin: 0 2px;\n            background: orange;\n            display: inline-block;\n        }\n        #inputArray {\n            margin-bottom: 20px;\n        }\n    </style>\n</head>\n<body>\n\n<h1>Heap Sort Visualization</h1>\n<input type=\"text\" id=\"inputArray\" placeholder=\"Enter numbers separated by commas\">\n<button onclick=\"heapSortDemo()\">Sort with Heap Sort</button>\n\n<div id=\"arrayContainer\"></div>\n\n<script>\n    function heapSortDemo() {\n        const input = document.getElementById('inputArray').value;\n        if (!input) {\n            alert('Please enter numbers separated by commas.');\n            return;\n        }\n\n        // Convert the input to an array of numbers\n        let arr = input.split(',').map(num => parseInt(num.trim())).filter(num => !isNaN(num));\n        if (arr.length === 0) {\n            alert('Invalid input. Please enter valid numbers.');\n            return;\n        }\n        \n        // Visualize the array\n        drawArray(arr);\n        \n        // Perform heap sort and visualize each step\n        heapSort(arr);\n    }\n\n    function drawArray(arr) {\n        const container = document.getElementById('arrayContainer');\n        container.innerHTML = '';\n        arr.forEach(num => {\n            const bar = document.createElement('div');\n            bar.style.height = num * 5 + 'px';\n            bar.classList.add('bar');\n            container.appendChild(bar);\n        });\n    }\n\n    function heapSort(arr) {\n        let n = arr.length;\n\n        // Build heap\n        for (let i = Math.floor(n / 2) - 1; i >= 0; i--) {\n            heapify(arr, n, i);\n        }\n\n        // One by one extract elements from heap\n        for (let i = n - 1; i > 0; i--) {\n            // Move current root to end\n            [arr[0], arr[i]] = [arr[i], arr[0]];\n            // Heapify the root element\n            heapify(arr, i, 0);\n            drawArray(arr); // visualize each step\n        }\n\n        drawArray(arr); // Final sorted array\n    }\n\n    function heapify(arr, n, i) {\n        let largest = i; // Initialize largest as root\n        let left = 2 * i + 1; // left = 2*i + 1\n        let right = 2 * i + 2; // right = 2*i + 2\n\n        // If left child is larger than root\n        if (left < n && arr[left] > arr[largest]) {\n            largest = left;\n        }\n\n        // If right child is larger than largest so far\n        if (right < n && arr[right] > arr[largest]) {\n            largest = right;\n        }\n\n        // If largest is not root\n        if (largest !== i) {\n            [arr[i], arr[largest]] = [arr[largest], arr[i]]; // swap\n\n            // Recursively heapify the affected subtree\n            heapify(arr, n, largest);\n        }\n    }\n</script>\n\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Heap Sort"
    }
  ],
  "topic": "Heap Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}