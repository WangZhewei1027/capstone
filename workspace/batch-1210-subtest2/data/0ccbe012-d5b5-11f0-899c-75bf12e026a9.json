{
  "id": "0ccbe012-d5b5-11f0-899c-75bf12e026a9",
  "timestamp": "2025-12-10T10:46:00.219Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Selection Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n  <title>Selection Sort Demo</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 2rem;\n      background: #f0f4f8;\n      color: #333;\n    }\n    h1 {\n      text-align: center;\n      margin-bottom: 1rem;\n    }\n    #arrayInput {\n      width: 100%;\n      font-size: 1rem;\n      padding: 0.5rem;\n      margin-bottom: 1rem;\n      box-sizing: border-box;\n    }\n    button {\n      font-size: 1rem;\n      padding: 0.6rem 1.2rem;\n      border: none;\n      border-radius: 4px;\n      background-color: #007bff;\n      color: white;\n      cursor: pointer;\n    }\n    button:disabled {\n      background-color: #a0c8ff;\n      cursor: not-allowed;\n    }\n    #visualization {\n      margin-top: 2rem;\n      display: flex;\n      justify-content: center;\n      align-items: flex-end;\n      gap: 5px;\n      height: 300px;\n      border: 1px solid #ccc;\n      background: white;\n      padding: 1rem;\n      border-radius: 8px;\n    }\n    .bar {\n      width: 30px;\n      background-color: #6c757d;\n      color: white;\n      display: flex;\n      justify-content: center;\n      align-items: flex-end;\n      font-size: 0.8rem;\n      border-radius: 4px 4px 0 0;\n      user-select: none;\n      position: relative;\n    }\n    .bar.current {\n      background-color: #007bff;\n    }\n    .bar.min {\n      background-color: #dc3545;\n    }\n    .bar.sorted {\n      background-color: #28a745;\n    }\n    .legend {\n      margin-top: 1rem;\n      display: flex;\n      justify-content: center;\n      gap: 1.5rem;\n      font-size: 0.9rem;\n    }\n    .legend span {\n      display: flex;\n      align-items: center;\n      gap: 0.4rem;\n    }\n    .legend .box {\n      width: 20px;\n      height: 20px;\n      border-radius: 3px;\n    }\n    .box.current { background-color: #007bff; }\n    .box.min { background-color: #dc3545; }\n    .box.sorted { background-color: #28a745; }\n  </style>\n</head>\n<body>\n  <h1>Selection Sort Visualization</h1>\n  <p>Enter numbers separated by commas, spaces, or both (e.g., 5,3,8,6,2):</p>\n  <input id=\"arrayInput\" type=\"text\" value=\"64,25,12,22,11\" />\n  <button id=\"startBtn\">Start Selection Sort</button>\n\n  <div id=\"visualization\" aria-label=\"Selection sort visualization\"></div>\n\n  <div class=\"legend\" aria-label=\"Color legend\">\n    <span><div class=\"box current\"></div> Current element being checked</span>\n    <span><div class=\"box min\"></div> Current minimum element</span>\n    <span><div class=\"box sorted\"></div> Sorted portion</span>\n  </div>\n\n  <script>\n    const arrayInput = document.getElementById('arrayInput');\n    const startBtn = document.getElementById('startBtn');\n    const visualization = document.getElementById('visualization');\n\n    let array = [];\n\n    function parseInput(input) {\n      // Split by comma and/or spaces, filter empty, map to numbers\n      const values = input.split(/[\\s,]+/).filter(v => v !== '');\n      const nums = values.map(v => Number(v));\n      if(nums.some(isNaN)) return null;\n      return nums;\n    }\n\n    function createBars(arr) {\n      visualization.innerHTML = '';\n      for (let i = 0; i < arr.length; i++) {\n        const bar = document.createElement('div');\n        bar.classList.add('bar');\n        bar.style.height = `${arr[i] * 3}px`;\n        bar.textContent = arr[i];\n        bar.setAttribute('data-index', i);\n        visualization.appendChild(bar);\n      }\n    }\n\n    function updateBars(arr, currentIndex = -1, minIndex = -1, sortedIndex = -1) {\n      const bars = visualization.children;\n      for (let i = 0; i < bars.length; i++) {\n        bars[i].textContent = arr[i];\n        bars[i].style.height = `${arr[i] * 3}px`;\n        bars[i].classList.remove('current', 'min', 'sorted');\n        if (i < sortedIndex) {\n          bars[i].classList.add('sorted');\n        }\n        if (i === minIndex) {\n          bars[i].classList.add('min');\n        }\n        if (i === currentIndex) {\n          bars[i].classList.add('current');\n        }\n      }\n    }\n\n    function sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    async function selectionSortVisual(arr) {\n      const n = arr.length;\n      for (let i = 0; i < n - 1; i++) {\n        let minIdx = i;\n        updateBars(arr, i, minIdx, i);\n        await sleep(800);\n\n        for (let j = i + 1; j < n; j++) {\n          updateBars(arr, j, minIdx, i);\n          await sleep(600);\n          if (arr[j] < arr[minIdx]) {\n            minIdx = j;\n            updateBars(arr, j, minIdx, i);\n            await sleep(600);\n          }\n        }\n        if (minIdx !== i) {\n          // Swap elements\n          [arr[i], arr[minIdx]] = [arr[minIdx], arr[i]];\n          updateBars(arr, i, minIdx, i + 1);\n          await sleep(800);\n        }\n        // Mark i as sorted (by passing sortedIndex = i+1)\n        updateBars(arr, -1, -1, i + 1);\n        await sleep(500);\n      }\n      // Mark all sorted\n      updateBars(arr, -1, -1, n);\n    }\n\n    startBtn.addEventListener('click', async () => {\n      const inputStr = arrayInput.value;\n      const parsed = parseInput(inputStr);\n      if (!parsed) {\n        alert('Please enter a valid list of numbers separated by commas or spaces.');\n        return;\n      }\n      if (parsed.length === 0) {\n        alert('Please enter at least one number.');\n        return;\n      }\n      array = parsed;\n      createBars(array);\n      startBtn.disabled = true;\n      arrayInput.disabled = true;\n      await selectionSortVisual(array);\n      startBtn.disabled = false;\n      arrayInput.disabled = false;\n    });\n\n    // Initialize visualization with default input\n    window.onload = () => {\n      const parsed = parseInput(arrayInput.value);\n      if(parsed) createBars(parsed);\n    };\n  </script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Selection Sort"
    }
  ],
  "topic": "Selection Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}