{
  "id": "0ccbe011-d5b5-11f0-899c-75bf12e026a9",
  "timestamp": "2025-12-10T10:44:54.986Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Bubble Sort",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Bubble Sort Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n    background: #f0f0f0;\n  }\n  h1 {\n    text-align: center;\n  }\n  #inputArea {\n    margin-bottom: 10px;\n    text-align: center;\n  }\n  input[type=\"text\"] {\n    width: 300px;\n    font-size: 1.1em;\n    padding: 5px;\n  }\n  button {\n    padding: 6px 15px;\n    font-size: 1em;\n    margin-left: 10px;\n    cursor: pointer;\n  }\n  #output {\n    background: white;\n    border-radius: 5px;\n    padding: 15px;\n    min-height: 150px;\n    max-width: 600px;\n    margin: 0 auto;\n    box-shadow: 0 0 10px #ccc;\n    font-family: monospace;\n    white-space: pre-wrap;\n  }\n  .array-row {\n    margin: 5px 0;\n  }\n  .highlight {\n    font-weight: bold;\n    color: #d33;\n  }\n  .sorted {\n    color: #277a0f;\n    font-weight: bold;\n  }\n  #speedControl {\n    margin-top: 15px;\n    text-align: center;\n  }\n  label {\n    font-weight: bold;\n  }\n</style>\n</head>\n<body>\n<h1>Bubble Sort Visualization</h1>\n<div id=\"inputArea\">\n  <input type=\"text\" id=\"arrayInput\" placeholder=\"Enter numbers separated by commas\" value=\"5,3,8,4,2\" />\n  <button id=\"startBtn\">Start Sorting</button>\n</div>\n<div id=\"speedControl\">\n  <label for=\"speedRange\">Animation Speed (ms per step): </label>\n  <input type=\"range\" id=\"speedRange\" min=\"100\" max=\"2000\" value=\"500\" step=\"100\" />\n  <span id=\"speedValue\">500</span> ms\n</div>\n<div id=\"output\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n\n<script>\n(() => {\n  const input = document.getElementById('arrayInput');\n  const startBtn = document.getElementById('startBtn');\n  const output = document.getElementById('output');\n  const speedRange = document.getElementById('speedRange');\n  const speedValue = document.getElementById('speedValue');\n\n  let animationSpeed = parseInt(speedRange.value, 10);\n  speedValue.textContent = animationSpeed;\n\n  speedRange.addEventListener('input', () => {\n    animationSpeed = parseInt(speedRange.value, 10);\n    speedValue.textContent = animationSpeed;\n  });\n  \n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  // Helper to format array display, highlight indices i and j if given\n  function formatArray(arr, i = -1, j = -1, sortedBoundary = arr.length) {\n    return arr\n      .map((v, idx) => {\n        let cls = '';\n        if (idx >= sortedBoundary) cls = 'sorted';\n        if (idx === i || idx === j) cls = 'highlight';\n        return `<span class=\"${cls}\">${v}</span>`;\n      })\n      .join(', ');\n  }\n\n  async function bubbleSortVisualizer(arr) {\n    output.innerHTML = \"Starting Bubble Sort on:<br>\" + formatArray(arr) + \"\\n\\n\";\n    const n = arr.length;\n    for (let i = 0; i < n - 1; i++) {\n      output.innerHTML += `Pass ${i + 1}:\\n`;\n      let swapped = false;\n      for (let j = 0; j < n - 1 - i; j++) {\n        output.innerHTML += `Comparing indices ${j} and ${j + 1}: `;\n        // Show array with highlight on j and j+1 and sorted part distinguished\n        output.innerHTML += formatArray(arr, j, j + 1, n - i) + \"\\n\";\n        await sleep(animationSpeed);\n\n        if (arr[j] > arr[j + 1]) {\n          output.innerHTML += `Swap ${arr[j]} and ${arr[j + 1]}.\\n`;\n          // Swap\n          [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\n          swapped = true;\n          output.innerHTML += formatArray(arr, j, j + 1, n - i) + \"\\n\";\n          await sleep(animationSpeed);\n        } else {\n          output.innerHTML += `No swap needed.\\n`;\n          await sleep(animationSpeed/2);\n        }\n      }\n      output.innerHTML += `End of pass ${i + 1}, element at index ${n - 1 - i} is sorted.\\n\\n`;\n      // Show array with sorted portion marked\n      output.innerHTML += `Current array state:<br>` + formatArray(arr, -1, -1, n - i - 1) + \"\\n\\n\";\n      if (!swapped) {\n        output.innerHTML += \"No swaps done in this pass, array is sorted early.\\n\";\n        break;\n      }\n    }\n    // All sorted indication\n    output.innerHTML += \"Sorting complete!\\nFinal sorted array:<br>\" + formatArray(arr, -1, -1, 0) + \"\\n\";\n  }\n\n  function parseInput(text) {\n    let parts = text.split(',');\n    let numArr = parts.map(v => v.trim()).filter(v => v.length > 0).map(Number);\n    if (numArr.some(isNaN)) return null;\n    return numArr;\n  }\n\n  startBtn.addEventListener('click', async () => {\n    startBtn.disabled = true;\n    input.disabled = true;\n    speedRange.disabled = true;\n    output.innerHTML = \"\";\n    let arr = parseInput(input.value);\n    if (!arr || arr.length === 0) {\n      output.textContent = \"Invalid input. Please enter a comma separated list of numbers.\";\n      startBtn.disabled = false;\n      input.disabled = false;\n      speedRange.disabled = false;\n      return;\n    }\n    await bubbleSortVisualizer(arr);\n    startBtn.disabled = false;\n    input.disabled = false;\n    speedRange.disabled = false;\n  });\n})();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Bubble Sort"
    }
  ],
  "topic": "Bubble Sort",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}