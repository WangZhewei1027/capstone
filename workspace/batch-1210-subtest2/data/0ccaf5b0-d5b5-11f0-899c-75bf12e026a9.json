{
  "id": "0ccaf5b0-d5b5-11f0-899c-75bf12e026a9",
  "timestamp": "2025-12-10T10:46:41.247Z",
  "model": "gpt-3.5-turbo",
  "status": "success",
  "question": "Hash Table",
  "answer": {
    "role": "assistant",
    "content": "<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<title>Hash Table Demonstration</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 30px;\n    background: #f4f7f8;\n    color: #333;\n  }\n  h1 {\n    text-align: center;\n    color: #005a9c;\n  }\n  #container {\n    max-width: 600px;\n    margin: 0 auto;\n    background: white;\n    box-shadow: 0 0 12px rgba(0,0,0,0.1);\n    border-radius: 8px;\n    padding: 20px;\n  }\n  label {\n    font-weight: bold;\n    display: block;\n    margin: 15px 0 6px 0;\n  }\n  input[type=text] {\n    width: 100%;\n    padding: 8px 10px;\n    box-sizing: border-box;\n    font-size: 1rem;\n    border: 1.5px solid #ccc;\n    border-radius: 5px;\n  }\n  button {\n    margin-top: 15px;\n    background-color: #005a9c;\n    border: none;\n    padding: 10px 15px;\n    color: white;\n    font-weight: bold;\n    font-size: 1rem;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n  button:hover {\n    background-color: #004080;\n  }\n  #output {\n    margin-top: 20px;\n    background: #eef6fb;\n    border-radius: 5px;\n    padding: 15px;\n    font-family: monospace;\n    max-height: 300px;\n    overflow-y: auto;\n  }\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 12px;\n  }\n  th, td {\n    padding: 6px 8px;\n    border: 1px solid #ddd;\n    text-align: center;\n    font-family: monospace;\n  }\n  th {\n    background: #005a9c;\n    color: white;\n  }\n  .hash-index {\n    font-weight: bold;\n    color: #004080;\n  }\n  .chain-item {\n    margin: 0 4px;\n    padding: 3px 6px;\n    background: #cce6ff;\n    border-radius: 3px;\n    display: inline-block;\n  }\n</style>\n</head>\n<body>\n  <h1>Hash Table Demonstration</h1>\n  <div id=\"container\">\n    <label for=\"keyInput\">Key (string):</label>\n    <input type=\"text\" id=\"keyInput\" placeholder=\"Enter the key\" autocomplete=\"off\" />\n    \n    <label for=\"valueInput\">Value (string):</label>\n    <input type=\"text\" id=\"valueInput\" placeholder=\"Enter the value\" autocomplete=\"off\" />\n    \n    <button id=\"insertBtn\">Insert / Update</button>\n    <button id=\"removeBtn\" style=\"background-color:#cc3e3e; margin-left:10px;\">Remove</button>\n    <button id=\"searchBtn\" style=\"background-color:#3e6ecc; margin-left:10px;\">Search</button>\n    <button id=\"clearBtn\" style=\"background-color:#888; margin-left:10px;\">Clear Table</button>\n    \n    <div id=\"output\"></div>\n  </div>\n\n<script>\n// Simple Hash Table Implementation with Separate Chaining\n\nclass HashTable {\n  constructor(size=20) {\n    this.size = size;\n    this.buckets = new Array(size);\n    for(let i=0; i<size; i++) {\n      this.buckets[i] = [];\n    }\n  }\n\n  // djb2 string hash function\n  _hash(key) {\n    let hash = 5381;\n    for(let i=0; i < key.length; i++) {\n      hash = ((hash << 5) + hash) + key.charCodeAt(i); // hash * 33 + c\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    return Math.abs(hash) % this.size;\n  }\n\n  insert(key, value) {\n    const index = this._hash(key);\n    let bucket = this.buckets[index];\n\n    for(let i=0; i<bucket.length; i++) {\n      if(bucket[i][0] === key) {\n        bucket[i][1] = value;  // Update existing key\n        return false; // updated\n      }\n    }\n    bucket.push([key, value]);\n    return true; // inserted new\n  }\n\n  remove(key) {\n    const index = this._hash(key);\n    let bucket = this.buckets[index];\n\n    for(let i=0; i<bucket.length; i++) {\n      if(bucket[i][0] === key) {\n        bucket.splice(i,1);\n        return true; // removed\n      }\n    }\n    return false; // not found\n  }\n\n  search(key) {\n    const index = this._hash(key);\n    let bucket = this.buckets[index];\n\n    for(let i=0; i<bucket.length; i++) {\n      if(bucket[i][0] === key) {\n        return bucket[i][1];\n      }\n    }\n    return undefined; // not found\n  }\n\n  clear() {\n    this.buckets = new Array(this.size);\n    for(let i=0; i<this.size; i++) {\n      this.buckets[i] = [];\n    }\n  }\n\n  entries() {\n    let all = [];\n    for(let i=0; i<this.size; i++) {\n      if(this.buckets[i].length > 0) {\n        for(let kv of this.buckets[i]) {\n          all.push({index: i, key: kv[0], value: kv[1]});\n        }\n      }\n    }\n    return all;\n  }\n}\n\nconst hashTable = new HashTable(20);\n\nconst keyInput = document.getElementById(\"keyInput\");\nconst valueInput = document.getElementById(\"valueInput\");\nconst output = document.getElementById(\"output\");\nconst insertBtn = document.getElementById(\"insertBtn\");\nconst removeBtn = document.getElementById(\"removeBtn\");\nconst searchBtn = document.getElementById(\"searchBtn\");\nconst clearBtn = document.getElementById(\"clearBtn\");\n\nfunction renderTable() {\n  let html = \"<table><thead><tr><th>Bucket (Index)</th><th>Chain (Key → Value pairs)</th></tr></thead><tbody>\";\n  for(let i=0; i < hashTable.size; i++) {\n    const chain = hashTable.buckets[i];\n    if(chain.length === 0) {\n      html += `<tr><td class=\"hash-index\">${i}</td><td><i>empty</i></td></tr>`;\n    } else {\n      let chainHtml = chain.map(kv => {\n        return `<span class=\"chain-item\"><b>${kv[0]}</b> → ${kv[1]}</span>`;\n      }).join(\" → \");\n      html += `<tr><td class=\"hash-index\">${i}</td><td>${chainHtml}</td></tr>`;\n    }\n  }\n  html += \"</tbody></table>\";\n  output.innerHTML = html;\n}\n\nfunction showMessage(msg, color=\"#005a9c\") {\n  output.innerHTML = `<p style=\"color:${color}; font-weight:bold;\">${msg}</p>`;\n}\n\ninsertBtn.onclick = () => {\n  const key = keyInput.value.trim();\n  const value = valueInput.value.trim();\n  if(key === \"\") {\n    showMessage(\"Please enter a valid key to insert/update.\", \"#cc3e3e\");\n    return;\n  }\n  if(value === \"\") {\n    showMessage(\"Please enter a value.\", \"#cc3e3e\");\n    return;\n  }\n  const insertedNew = hashTable.insert(key, value);\n  if(insertedNew) {\n    showMessage(`Inserted key \"${key}\" with value \"${value}\".`);\n  } else {\n    showMessage(`Updated key \"${key}\" with new value \"${value}\".`);\n  }\n  renderTable();\n}\n\nremoveBtn.onclick = () => {\n  const key = keyInput.value.trim();\n  if(key === \"\") {\n    showMessage(\"Please enter a key to remove.\", \"#cc3e3e\");\n    return;\n  }\n  const removed = hashTable.remove(key);\n  if(removed) {\n    showMessage(`Removed key \"${key}\" from the table.`, \"#007a3d\");\n  } else {\n    showMessage(`Key \"${key}\" not found. Nothing removed.`, \"#cc3e3e\");\n  }\n  renderTable();\n}\n\nsearchBtn.onclick = () => {\n  const key = keyInput.value.trim();\n  if(key === \"\") {\n    showMessage(\"Please enter a key to search.\", \"#cc3e3e\");\n    return;\n  }\n  const value = hashTable.search(key);\n  if(value === undefined) {\n    showMessage(`Key \"${key}\" not found in the table.`, \"#cc3e3e\");\n  } else {\n    showMessage(`Found key \"${key}\" with value: \"${value}\".`, \"#007a3d\");\n  }\n}\n\nclearBtn.onclick = () => {\n  hashTable.clear();\n  showMessage(\"Hash Table cleared.\", \"#007a3d\");\n  renderTable();\n}\n\n// Initialize display\nrenderTable();\n</script>\n</body>\n</html>"
  },
  "messages": [
    {
      "role": "system",
      "content": "Generate a single HTML file with JavaScript demonstrating the user-given concept. Only respond in a single HTML file."
    },
    {
      "role": "user",
      "content": "Hash Table"
    }
  ],
  "topic": "Hash Table",
  "hasFSM": true,
  "hasTest": true,
  "evaluation": {
    "score": null,
    "notes": ""
  }
}