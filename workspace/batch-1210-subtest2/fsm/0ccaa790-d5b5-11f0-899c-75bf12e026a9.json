{
  "meta": {
    "concept": "Stack Data Structure Demo",
    "topic": "Stack",
    "educational_goal": "Demonstrate stack operations including push, pop, peek, and clear.",
    "expected_interactions": [
      "Push an item onto the stack",
      "Pop an item from the stack",
      "Peek at the top item",
      "Clear the stack"
    ]
  },
  "states": [
    {
      "id": "S0_Empty",
      "label": "Stack is Empty",
      "type": "initial",
      "entry_actions": [
        "updateStackDisplay()"
      ],
      "exit_actions": [],
      "evidence": [
        "stack.isEmpty()"
      ],
      "confidence": 1
    },
    {
      "id": "S1_NonEmpty",
      "label": "Stack is Non-Empty",
      "type": "normal",
      "entry_actions": [
        "updateStackDisplay()"
      ],
      "exit_actions": [],
      "evidence": [
        "!stack.isEmpty()"
      ],
      "confidence": 1
    }
  ],
  "events": [
    {
      "id": "PushEvent",
      "event_type": "click",
      "description": "Push a value onto the stack",
      "trigger_selectors": [
        "#pushBtn"
      ],
      "evidence": [
        "pushBtn.addEventListener('click', () => {",
        "stack.push(val);"
      ],
      "confidence": 1
    },
    {
      "id": "PopEvent",
      "event_type": "click",
      "description": "Pop a value from the stack",
      "trigger_selectors": [
        "#popBtn"
      ],
      "evidence": [
        "popBtn.addEventListener('click', () => {",
        "stack.pop();"
      ],
      "confidence": 1
    },
    {
      "id": "PeekEvent",
      "event_type": "click",
      "description": "Peek at the top value of the stack",
      "trigger_selectors": [
        "#peekBtn"
      ],
      "evidence": [
        "peekBtn.addEventListener('click', () => {",
        "stack.peek();"
      ],
      "confidence": 1
    },
    {
      "id": "ClearEvent",
      "event_type": "click",
      "description": "Clear the stack",
      "trigger_selectors": [
        "#clearBtn"
      ],
      "evidence": [
        "clearBtn.addEventListener('click', () => {",
        "stack.clear();"
      ],
      "confidence": 1
    },
    {
      "id": "EnterKeyEvent",
      "event_type": "keydown",
      "description": "Press Enter to push a value onto the stack",
      "trigger_selectors": [
        "#stackInput"
      ],
      "evidence": [
        "input.addEventListener('keydown', (e) => {",
        "if (e.key === 'Enter') {"
      ],
      "confidence": 1
    }
  ],
  "transitions": [
    {
      "from": "S0_Empty",
      "to": "S1_NonEmpty",
      "event": "PushEvent",
      "actions": [
        "stack.push(val)",
        "showMessage(`Pushed \"${val}\" onto the stack.`)"
      ],
      "expected_observables": [
        "Stack is Non-Empty",
        "Update stack display"
      ],
      "evidence": [
        "stack.push(val);",
        "showMessage(`Pushed \"${val}\" onto the stack.`);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NonEmpty",
      "to": "S1_NonEmpty",
      "event": "PopEvent",
      "actions": [
        "stack.pop()",
        "showMessage(`Popped \"${popped}\" from the stack.`)"
      ],
      "expected_observables": [
        "Update stack display"
      ],
      "evidence": [
        "const popped = stack.pop();",
        "showMessage(`Popped \"${popped}\" from the stack.`);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NonEmpty",
      "to": "S1_NonEmpty",
      "event": "PeekEvent",
      "actions": [
        "stack.peek()",
        "showMessage(`Top of the stack is \"${top}\".`)"
      ],
      "expected_observables": [],
      "evidence": [
        "const top = stack.peek();",
        "showMessage(`Top of the stack is \"${top}\".`);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NonEmpty",
      "to": "S0_Empty",
      "event": "ClearEvent",
      "actions": [
        "stack.clear()",
        "showMessage('Stack cleared.')"
      ],
      "expected_observables": [
        "Stack is Empty",
        "Update stack display"
      ],
      "evidence": [
        "stack.clear();",
        "showMessage('Stack cleared.');"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Empty",
      "to": "S0_Empty",
      "event": "PopEvent",
      "actions": [
        "showMessage('Stack is empty. Cannot pop.', true)"
      ],
      "expected_observables": [],
      "evidence": [
        "showMessage('Stack is empty. Cannot pop.', true);"
      ],
      "confidence": 1
    },
    {
      "from": "S0_Empty",
      "to": "S0_Empty",
      "event": "PeekEvent",
      "actions": [
        "showMessage('Stack is empty. Nothing to peek.', true)"
      ],
      "expected_observables": [],
      "evidence": [
        "showMessage('Stack is empty. Nothing to peek.', true);"
      ],
      "confidence": 1
    },
    {
      "from": "S1_NonEmpty",
      "to": "S1_NonEmpty",
      "event": "EnterKeyEvent",
      "actions": [
        "pushBtn.click()"
      ],
      "expected_observables": [],
      "evidence": [
        "if (e.key === 'Enter') { pushBtn.click(); }"
      ],
      "confidence": 1
    }
  ],
  "components": [
    {
      "type": "input",
      "selector": "#stackInput",
      "text": "",
      "attributes": {
        "aria-describedby": "inputHelp"
      },
      "evidence": [
        "<input type=\"text\" id=\"stackInput\" aria-describedby=\"inputHelp\" />"
      ]
    },
    {
      "type": "button",
      "selector": "#pushBtn",
      "text": "Push",
      "attributes": {},
      "evidence": [
        "<button id=\"pushBtn\">Push</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#popBtn",
      "text": "Pop",
      "attributes": {
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"popBtn\" disabled>Pop</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#peekBtn",
      "text": "Peek",
      "attributes": {
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"peekBtn\" disabled>Peek</button>"
      ]
    },
    {
      "type": "button",
      "selector": "#clearBtn",
      "text": "Clear",
      "attributes": {
        "disabled": "true"
      },
      "evidence": [
        "<button id=\"clearBtn\" disabled>Clear</button>"
      ]
    },
    {
      "type": "div",
      "selector": "#stackDisplay",
      "text": "",
      "attributes": {
        "aria-live": "polite",
        "aria-label": "Stack contents"
      },
      "evidence": [
        "<div class=\"stack-container\" id=\"stackDisplay\" aria-live=\"polite\" aria-label=\"Stack contents\">"
      ]
    },
    {
      "type": "div",
      "selector": "#message",
      "text": "",
      "attributes": {
        "aria-live": "assertive",
        "role": "alert"
      },
      "evidence": [
        "<div class=\"info\" id=\"message\" aria-live=\"assertive\" role=\"alert\"></div>"
      ]
    }
  ],
  "extraction_summary": {
    "timestamp": "2023-10-01T00:00:00Z",
    "detected_components_count": 6,
    "detected_components": [
      {
        "type": "input",
        "selector": "#stackInput"
      },
      {
        "type": "button",
        "selector": "#pushBtn"
      },
      {
        "type": "button",
        "selector": "#popBtn"
      },
      {
        "type": "button",
        "selector": "#peekBtn"
      },
      {
        "type": "button",
        "selector": "#clearBtn"
      },
      {
        "type": "div",
        "selector": "#stackDisplay"
      },
      {
        "type": "div",
        "selector": "#message"
      }
    ],
    "detected_event_handlers_count": 5,
    "detected_event_handlers": [
      "pushBtn.addEventListener('click', () => {",
      "popBtn.addEventListener('click', () => {",
      "peekBtn.addEventListener('click', () => {",
      "clearBtn.addEventListener('click', () => {",
      "input.addEventListener('keydown', (e) => {"
    ],
    "extracted_states_count": 2,
    "extracted_transitions_count": 7,
    "extraction_confidence": 1,
    "notes": []
  }
}