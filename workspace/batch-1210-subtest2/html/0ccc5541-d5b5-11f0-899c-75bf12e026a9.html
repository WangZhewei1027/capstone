<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linear Search Demonstration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
    background: #f0f4f8;
    color: #333;
  }
  h1 {
    text-align: center;
    color: #007acc;
  }
  .container {
    max-width: 600px;
    margin: 1rem auto;
    background: white;
    border-radius: 8px;
    box-shadow: 0 0 8px #ccc;
    padding: 1.5rem;
  }
  label {
    display: block;
    margin: 0.5rem 0 0.25rem;
  }
  input[type="text"], input[type="number"] {
    width: 100%;
    padding: 0.5rem;
    font-size: 1rem;
    border-radius: 4px;
    border: 1px solid #bbb;
    box-sizing: border-box;
  }
  button {
    margin-top: 1rem;
    padding: 0.75rem;
    font-size: 1rem;
    background: #007acc;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  button:hover {
    background: #005fa3;
  }
  .array-display {
    margin: 1rem 0;
    font-family: monospace;
    white-space: pre-wrap;
    word-break: break-all;
  }
  .result {
    margin-top: 1rem;
    font-weight: bold;
  }
  .highlight {
    color: #d9534f;
    font-weight: bold;
  }
  .step-output {
    margin-top: 1rem;
    background: #eef6fc;
    border-left: 4px solid #007acc;
    padding: 0.75rem 1rem;
    font-family: monospace;
    white-space: pre-wrap;
    max-height: 150px;
    overflow-y: auto;
    border-radius: 4px;
  }
</style>
</head>
<body>
  <h1>Linear Search Demonstration</h1>
  <div class="container">
    <label for="arrayInput">Enter array elements (comma separated):</label>
    <input type="text" id="arrayInput" placeholder="e.g. 4, 2, 7, 1, 3" value="4, 2, 7, 1, 3" />

    <label for="targetInput">Enter target element to search:</label>
    <input type="number" id="targetInput" placeholder="e.g. 7" />

    <button id="searchBtn">Search</button>

    <div class="array-display" id="arrayDisplay"></div>

    <div class="step-output" id="stepOutput" aria-live="polite"></div>

    <div class="result" id="result"></div>
  </div>

<script>
(function(){
  const arrayInput = document.getElementById('arrayInput');
  const targetInput = document.getElementById('targetInput');
  const searchBtn = document.getElementById('searchBtn');
  const arrayDisplay = document.getElementById('arrayDisplay');
  const stepOutput = document.getElementById('stepOutput');
  const resultDisplay = document.getElementById('result');

  function parseArray(input) {
    return input.split(',')
      .map(x => x.trim())
      .filter(x => x !== '')
      .map(x => Number(x))
      .filter(x => !isNaN(x));
  }

  function displayArray(arr, highlightIndex = -1) {
    let displayed = arr.map((val, i) => {
      if(i === highlightIndex) {
        return `[<span class="highlight">${val}</span>]`;
      }
      return val;
    }).join(' ');
    arrayDisplay.innerHTML = `<strong>Array:</strong> ${displayed}`;
  }

  function linearSearch(arr, target) {
    const steps = [];
    for(let i=0; i<arr.length; i++) {
      steps.push(`Check index ${i}: value = ${arr[i]}`);
      if(arr[i] === target) {
        steps.push(`Found target ${target} at index ${i}`);
        return {index: i, steps};
      }
    }
    steps.push(`Target ${target} not found in array.`);
    return {index: -1, steps};
  }

  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  async function runSearch(arr, target) {
    resultDisplay.textContent = '';
    stepOutput.textContent = '';
    arrayDisplay.textContent = '';

    displayArray(arr, -1);

    for(let i=0; i<arr.length; i++) {
      displayArray(arr, i);
      stepOutput.textContent += `Checking index ${i}: value = ${arr[i]}\n`;
      await sleep(800);
      if(arr[i] === target) {
        stepOutput.textContent += `Found target ${target} at index ${i}\n`;
        resultDisplay.innerHTML = `<span class="highlight">Result:</span> Element <strong>${target}</strong> found at index <strong>${i}</strong>.`;
        return;
      }
    }
    resultDisplay.innerHTML = `<span class="highlight">Result:</span> Element <strong>${target}</strong> not found in the array.`;
  }

  searchBtn.addEventListener('click', () => {
    let arr = parseArray(arrayInput.value);
    if(arr.length === 0) {
      alert("Please enter a valid array of numbers separated by commas.");
      return;
    }
    let targetVal = Number(targetInput.value);
    if(isNaN(targetVal)) {
      alert("Please enter a valid target number.");
      return;
    }
    // Disable button while searching
    searchBtn.disabled = true;
    runSearch(arr, targetVal)
      .finally(() => {
        searchBtn.disabled = false;
      });
  });

  // Initial display
  displayArray(parseArray(arrayInput.value), -1);
})();
</script>
</body>
</html>