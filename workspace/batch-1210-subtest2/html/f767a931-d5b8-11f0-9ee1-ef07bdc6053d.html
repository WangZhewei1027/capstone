<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counting Sort Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .bar {
            display: inline-block;
            width: 20px;
            margin-right: 2px;
            background-color: teal;
        }
    </style>
</head>
<body>
    <h1>Counting Sort Visualization</h1>
    <p>Enter space-separated integers:</p>
    <input type="text" id="inputArray" placeholder="e.g. 4 2 3 1 0 4 3 2">
    <button onclick="performCountingSort()">Sort</button>
    
    <h2>Sorted Array Visualization:</h2>
    <div id="result"></div>

    <script>
        function countingSort(arr) {
            const max = Math.max(...arr);
            const count = new Array(max + 1).fill(0);
            const output = new Array(arr.length);

            // Count each element
            for (let num of arr) {
                count[num]++;
            }

            // Change count[i] to contain actual position of this number in output array
            for (let i = 1; i <= max; i++) {
                count[i] += count[i - 1];
            }

            // Build the output array
            for (let i = arr.length - 1; i >= 0; i--) {
                output[count[arr[i]] - 1] = arr[i];
                count[arr[i]]--;
            }

            return output;
        }

        function performCountingSort() {
            const input = document.getElementById("inputArray").value;
            const arr = input.split(' ').map(Number);
            const sortedArray = countingSort(arr);
            displayResult(sortedArray);
        }

        function displayResult(sortedArray) {
            const resultDiv = document.getElementById("result");
            resultDiv.innerHTML = ''; // Clear previous result

            sortedArray.forEach(num => {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = (num * 20) + 'px'; // Scale the height for visualization
                bar.title = num; // Add a tooltip to show the number
                resultDiv.appendChild(bar);
            });
        }
    </script>
</body>
</html>