<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Union-Find (Disjoint Set) Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #output {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Union-Find (Disjoint Set) Visualization</h1>
    <label for="unionInput">Enter two elements to union (comma-separated):</label>
    <input type="text" id="unionInput" placeholder="e.g. 1,2">
    <button onclick="performUnion()">Union</button>
    
    <br><br>
    
    <label for="findInput">Enter an element to find its root:</label>
    <input type="text" id="findInput" placeholder="e.g. 1">
    <button onclick="performFind()">Find</button>
    
    <div id="output"></div>

    <script>
        class DisjointSet {
            constructor(size) {
                this.parent = Array.from({length: size}, (_, i) => i);
                this.rank = Array(size).fill(0);
            }

            find(x) {
                if (this.parent[x] !== x) {
                    this.parent[x] = this.find(this.parent[x]); // Path compression
                }
                return this.parent[x];
            }

            union(x, y) {
                const rootX = this.find(x);
                const rootY = this.find(y);

                if (rootX !== rootY) {
                    // Union by rank
                    if (this.rank[rootX] > this.rank[rootY]) {
                        this.parent[rootY] = rootX;
                    } else if (this.rank[rootX] < this.rank[rootY]) {
                        this.parent[rootX] = rootY;
                    } else {
                        this.parent[rootY] = rootX;
                        this.rank[rootX]++;
                    }
                }
            }
        }

        const ds = new DisjointSet(10); // Create a disjoint set for elements 0 to 9

        function performUnion() {
            const input = document.getElementById('unionInput').value;
            const elements = input.split(',').map(Number);
            if (elements.length === 2 && elements.every(el => !isNaN(el))) {
                ds.union(elements[0], elements[1]);
                document.getElementById('output').innerHTML = `Union performed on elements ${elements[0]} and ${elements[1]}.`;
            } else {
                document.getElementById('output').innerHTML = 'Please enter valid two numbers.';
            }
        }

        function performFind() {
            const input = document.getElementById('findInput').value;
            const element = Number(input);
            if (!isNaN(element)) {
                const root = ds.find(element);
                document.getElementById('output').innerHTML = `The root of ${element} is ${root}.`;
            } else {
                document.getElementById('output').innerHTML = 'Please enter a valid number.';
            }
        }
    </script>
</body>
</html>