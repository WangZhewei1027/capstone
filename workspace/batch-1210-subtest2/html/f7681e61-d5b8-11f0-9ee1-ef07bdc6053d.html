<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floyd-Warshall Algorithm Visualization</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        table {
            border-collapse: collapse;
            margin: 20px 0;
        }
        td, th {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
            width: 40px;
        }
        th {
            background-color: #ececec;
        }
        .input-container {
            margin-bottom: 20px;
        }
        input {
            width: 40px;
            text-align: center;
        }
        button {
            padding: 10px 15px;
            margin-left: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>Floyd-Warshall Algorithm Visualization</h1>
<div class="input-container">
    <label for="vertices">Number of vertices (max 5): </label>
    <input type="number" id="vertices" min="2" max="5" value="3">
    <button onclick="createMatrix()">Create Matrix</button>
</div>

<div id="matrix"></div>

<button id="run-button" style="display:none;" onclick="floydWarshall()">Run Floyd-Warshall</button>

<h2>Result Matrix</h2>
<div id="result"></div>

<script>
    let numVertices = 0;
    let adjacencyMatrix = [];

    function createMatrix() {
        const matrixDiv = document.getElementById("matrix");
        matrixDiv.innerHTML = '';
        numVertices = parseInt(document.getElementById("vertices").value);
        
        adjacencyMatrix = Array.from({ length: numVertices }, () => Array(numVertices).fill(Infinity));
        
        for (let i = 0; i < numVertices; i++) {
            adjacencyMatrix[i][i] = 0;
        }

        let table = '<table><thead><tr>';
        for (let i = 0; i < numVertices; i++) {
            table += `<th>${i}</th>`;
        }
        table += '</tr></thead><tbody>';
        
        for (let i = 0; i < numVertices; i++) {
            table += '<tr>';
            for (let j = 0; j < numVertices; j++) {
                table += `<td><input type='number' value='${adjacencyMatrix[i][j] === Infinity ? '' : adjacencyMatrix[i][j]}' onchange='updateMatrix(${i}, ${j}, this.value)'></td>`;
            }
            table += '</tr>';
        }
        table += '</tbody></table>';
        
        matrixDiv.innerHTML = table;
        document.getElementById("run-button").style.display = 'inline';
    }

    function updateMatrix(i, j, value) {
        adjacencyMatrix[i][j] = value ? parseInt(value) : Infinity;
    }

    function floydWarshall() {
        let dist = adjacencyMatrix.map(row => row.slice());
        for (let k = 0; k < numVertices; k++) {
            for (let i = 0; i < numVertices; i++) {
                for (let j = 0; j < numVertices; j++) {
                    if (dist[i][k] !== Infinity && dist[k][j] !== Infinity) {
                        dist[i][j] = Math.min(dist[i][j], dist[i][k] + dist[k][j]);
                    }
                }
            }
        }
        displayResult(dist);
    }

    function displayResult(result) {
        const resultDiv = document.getElementById("result");
        let table = '<table><tbody>';
        
        for (let i = 0; i < numVertices; i++) {
            table += '<tr>';
            for (let j = 0; j < numVertices; j++) {
                table += `<td>${result[i][j] === Infinity ? 'âˆž' : result[i][j]}</td>`;
            }
            table += '</tr>';
        }
        table += '</tbody></table>';
        
        resultDiv.innerHTML = table;
    }
</script>

</body>
</html>