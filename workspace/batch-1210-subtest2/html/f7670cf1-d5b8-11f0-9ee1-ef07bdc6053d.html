<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weighted Graph Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #graph {
            width: 600px;
            height: 400px;
            border: 1px solid #ccc;
            margin: 20px auto;
            position: relative;
        }
        .node {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #4CAF50;
            position: absolute;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
        }
        .edge {
            position: absolute;
            background-color: black;
        }
    </style>
</head>
<body>

<h1>Weighted Graph Example</h1>
<div id="graph"></div>

<script>
    class Graph {
        constructor() {
            this.nodes = {};
        }

        addNode(value, x, y) {
            this.nodes[value] = { x, y, edges: [] };
        }

        addEdge(from, to, weight) {
            if (this.nodes[from] && this.nodes[to]) {
                this.nodes[from].edges.push({ to, weight });
                this.drawEdge(from, to, weight);
            }
        }

        drawNode(value) {
            const node = this.nodes[value];
            const div = document.createElement("div");
            div.className = "node";
            div.style.left = `${node.x}px`;
            div.style.top = `${node.y}px`;
            div.innerText = value;
            document.getElementById("graph").appendChild(div);
        }

        drawEdge(from, to, weight) {
            const fromNode = this.nodes[from];
            const toNode = this.nodes[to];
            const edgeDiv = document.createElement("div");
            edgeDiv.className = "edge";
            const x1 = fromNode.x + 15; // Offset for center
            const y1 = fromNode.y + 15; // Offset for center
            const x2 = toNode.x + 15; // Offset for center
            const y2 = toNode.y + 15; // Offset for center
            const length = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
            const angle = Math.atan2(y2 - y1, x2 - x1) * (180 / Math.PI);
            edgeDiv.style.width = `${length}px`;
            edgeDiv.style.transform = `rotate(${angle}deg)`;
            edgeDiv.style.left = `${x1}px`;
            edgeDiv.style.top = `${y1}px`;
            edgeDiv.style.height = "2px";
            edgeDiv.style.transformOrigin = "0 0";
            edgeDiv.innerText = weight;
            edgeDiv.style.color = "red";
            edgeDiv.style.fontWeight = "bold";
            edgeDiv.style.position = "absolute";
            edgeDiv.style.whiteSpace = "nowrap";
            document.getElementById("graph").appendChild(edgeDiv);
        }

        render() {
            for (const key in this.nodes) {
                this.drawNode(key);
            }
        }
    }

    const graph = new Graph();
    // Add nodes
    graph.addNode('A', 100, 100);
    graph.addNode('B', 300, 100);
    graph.addNode('C', 200, 300);
    
    // Add edges with weights
    graph.addEdge('A', 'B', 5);
    graph.addEdge('B', 'C', 10);
    graph.addEdge('C', 'A', 15);

    // Render the graph
    graph.render();
</script>

</body>
</html>