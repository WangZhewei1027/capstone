<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kruskal's Algorithm Visualization</title>
    <style>
        #graph {
            margin: 20px;
        }
        .edge {
            stroke: black;
            stroke-width: 2;
        }
        .edge.selected {
            stroke: red;
            stroke-width: 4;
        }
        .node {
            fill: lightblue;
            stroke: black;
            stroke-width: 1.5;
        }
    </style>
</head>
<body>
    <h1>Kruskal's Algorithm Visualization</h1>
    <svg id="graph" width="600" height="400"></svg>
    <button onclick="runKruskal()">Run Kruskal's Algorithm</button>
    <script>
        const edges = [
            { source: 0, target: 1, weight: 4 },
            { source: 0, target: 2, weight: 3 },
            { source: 1, target: 2, weight: 1 },
            { source: 1, target: 3, weight: 2 },
            { source: 2, target: 3, weight: 4 },
            { source: 3, target: 4, weight: 2 },
            { source: 4, target: 0, weight: 5 }
        ];

        const nodesCount = 5;
        const parent = Array.from({ length: nodesCount }, (_, i) => i);
        const rank = Array.from({ length: nodesCount }, () => 0);

        function find(v) {
            if (parent[v] !== v) {
                parent[v] = find(parent[v]);
            }
            return parent[v];
        }

        function union(v1, v2) {
            const root1 = find(v1);
            const root2 = find(v2);
            if (root1 !== root2) {
                if (rank[root1] > rank[root2]) {
                    parent[root2] = root1;
                } else {
                    parent[root1] = root2;
                    if (rank[root1] === rank[root2]) {
                        rank[root2]++;
                    }
                }
            }
        }

        edges.sort((a, b) => a.weight - b.weight);

        function drawGraph(selectedEdges) {
            const svg = document.getElementById('graph');
            svg.innerHTML = '';
            const nodes = Array.from({ length: nodesCount }, (_, i) => ({
                x: 100 + i * 100,
                y: 100,
                id: i
            }));

            nodes.forEach(node => {
                svg.innerHTML += `<circle class="node" cx="${node.x}" cy="${node.y}" r="20" />`;
            });

            selectedEdges.forEach(edge => {
                const sourceNode = nodes[edge.source];
                const targetNode = nodes[edge.target];
                svg.innerHTML += `<line class="edge selected" x1="${sourceNode.x}" y1="${sourceNode.y}" x2="${targetNode.x}" y2="${targetNode.y}" />`;
            });
        }

        function runKruskal() {
            const selectedEdges = [];
            for (const edge of edges) {
                if (find(edge.source) !== find(edge.target)) {
                    selectedEdges.push(edge);
                    union(edge.source, edge.target);
                }
            }
            drawGraph(selectedEdges);
        }
    </script>
</body>
</html>